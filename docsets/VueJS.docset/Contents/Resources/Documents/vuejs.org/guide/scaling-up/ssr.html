<html><!-- Mirrored from vuejs.org/guide/scaling-up/ssr.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Feb 2022 09:15:51 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Server-Side Rendering (SSR)</title>
    <meta name="description" content="Vue.js - The Progressive JavaScript Framework">
    <link rel="stylesheet" href="../../assets/style.ba4d5674.css">
    <link rel="modulepreload" href="../../assets/app.20d0649e.js">
    <link rel="modulepreload" href="../../assets/guide_scaling-up_ssr.md.8ede046c.lean.js">
    <link rel="prefetch" href="../../assets/chunks/VPAlgoliaSearchBox.4ed39b9a.js">
    <link rel="icon" href="../../logo.svg">
  <link rel="preload" href="../../assets/inter-latin.7b37fe23.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script>(()=>{const e=localStorage.getItem("vue-theme-appearance");(!e||e==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  <meta name="twitter:site" content="@vuejs">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://vuejs.org/images/logo.png">
  <link rel="preconnect" href="https://sponsors.vuejs.org/">
  <script>(()=>{const e=(o,r,c=!1)=>{const s=localStorage.getItem(o);(s?s!=="false":c)&&document.documentElement.classList.add(r)};e("vue-docs-prefer-composition","prefer-composition"),e("vue-docs-prefer-sfc","prefer-sfc",!0),window.__VUE_BANNER_ID__="wip",e(`vue-docs-banner-${__VUE_BANNER_ID__}`,"banner-dismissed")})();</script>
  <script src="../../../cdn.usefathom.com/script.js" data-site="XNOLWPLB" defer=""></script>
  <meta name="twitter:title" content="Server-Side Rendering (SSR) | Vue.js">
  <meta property="og:title" content="Server-Side Rendering (SSR) | Vue.js">
  <link href="//dash_ref_app/Section/Server-Side%20Rendering%20(SSR)/1"><link href="//dash_ref_overview/Section/Overview/0"><link href="//dash_ref_what%2Dis%2Dssr/Section/What%20is%20SSR?/0"><link href="//dash_ref_why%2Dssr/Section/Why%20SSR?/0"><link href="//dash_ref_ssr%2Dvs%2Dssg/Section/SSR%20vs.%20SSG/0"><link href="//dash_ref_basic%2Dtutorial/Section/Basic%20Tutorial/0"><link href="//dash_ref_rendering%2Dan%2Dapp/Section/Rendering%20an%20App/0"><link href="//dash_ref_client%2Dhydration/Section/Client%20Hydration/0"><link href="//dash_ref_code%2Dstructure/Section/Code%20Structure/0"><link href="//dash_ref_higher%2Dlevel%2Dsolutions/Section/Higher%20Level%20Solutions/0"><link href="//dash_ref_nuxt/Section/Nuxt/0"><link href="//dash_ref_quasar/Section/Quasar/0"><link href="//dash_ref_vite%2Dssr/Section/Vite%20SSR/0"><link href="//dash_ref_writing%2Dssr%2Dfriendly%2Dcode/Section/Writing%20SSR-friendly%20Code/0"><link href="//dash_ref_reactivity%2Don%2Dthe%2Dserver/Section/Reactivity%20on%20the%20Server/0"><link href="//dash_ref_component%2Dlifecycle%2Dhooks/Section/Component%20Lifecycle%20Hooks/0"><link href="//dash_ref_access%2Dto%2Dplatform%2Dspecific%2Dapis/Section/Access%20to%20Platform-Specific%20APIs/0"><link href="//dash_ref_cross%2Drequest%2Dstate%2Dpollution/Section/Cross-Request%20State%20Pollution/0"><link href="//dash_ref_hydration%2Dmismatch/Section/Hydration%20Mismatch/0"><link href="//dash_ref_custom%2Ddirectives/Section/Custom%20Directives/0"></head>
  <body>
    <a class="dashAnchor" name="//dash_ref_app/Section/Server-Side%20Rendering%20(SSR)/1"></a><div id="app" data-server-rendered="true"><div class="VPApp" data-v-204468d7=""><!--[--><span tabindex="-1" data-v-4f742274=""></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-4f742274=""> Skip to content </a><!--]--><!----><!--[--><div class="banner" data-v-7b6b3f89=""> Vue 3 is now the new default version! <a href="https://blog.vuejs.org/posts/vue-3-as-the-new-default.html" target="_blank" data-v-7b6b3f89="">Learn more</a></div><!--]--><header class="VPNav nav-bar" data-v-204468d7="" data-v-01dbeacc=""><div class="VPNavBar" data-v-01dbeacc="" data-v-6a126dd3=""><div class="container" data-v-6a126dd3=""><a class="VPNavBarTitle" href="../../index.html" data-v-6a126dd3="" data-v-5f26462c=""><svg class="logo" viewBox="0 0 128 128" width="24" height="24" data-v-5f26462c=""><path fill="#42b883" d="M78.8,10L64,35.4L49.2,10H0l64,110l64-110C128,10,78.8,10,78.8,10z" data-v-5f26462c=""></path><path fill="#35495e" d="M78.8,10L64,35.4L49.2,10H25.6L64,76l38.4-66H78.8z" data-v-5f26462c=""></path></svg><span class="text" data-v-5f26462c="">Vue.js</span></a><div class="content" data-v-6a126dd3=""><div class="VPNavBarSearch search" data-v-6a126dd3=""><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><span class="DocSearch-Button-Key">Meta</span><span class="DocSearch-Button-Key">K</span></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6a126dd3="" data-v-68faa570=""><span id="main-nav-aria-label" class="visually-hidden" data-v-68faa570="">Main Navigation</span><!--[--><!--[--><div class="vt-flyout VPNavBarMenuGroup active" ref_key="elRef" data-v-68faa570="" data-v-b598edbc=""><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><span class="vt-flyout-button-text">Docs <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="../introduction.html"><!--[-->Guide<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="../../tutorial/index.html"><!--[-->Tutorial<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="../../examples/index.html"><!--[-->Examples<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="../quick-start.html"><!--[-->Quick Start<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="../../style-guide/index.html"><!--[-->Style Guide<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://v3-migration.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Migration from Vue 2<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="vt-link link VPNavBarMenuLink" href="../../api/index.html" data-v-68faa570="" data-v-c1ab2038=""><!--[-->API<!--]--><!----></a><!--]--><!--[--><a class="vt-link link VPNavBarMenuLink" href="https://sfc.vuejs.org/" target="_blank" rel="noopener noreferrer" data-v-68faa570="" data-v-c1ab2038=""><!--[-->Playground<!--]--><!----></a><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" ref_key="elRef" data-v-68faa570="" data-v-b598edbc=""><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><span class="vt-flyout-button-text">Ecosystem <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><div class="vt-menu-group"><p class="vt-menu-group-title">Resources</p><!--[--><!--[--><a class="vt-link link vt-menu-link" href="../../ecosystem/partners.html"><!--[-->Partners<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="../../ecosystem/themes.html"><!--[-->Themes<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://vuejobs.com/?ref=vuejs" target="_blank" rel="noopener noreferrer"><!--[-->Jobs<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://vue.threadless.com/" target="_blank" rel="noopener noreferrer"><!--[-->T-Shirt Shop<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--]--><!--[--><div class="vt-menu-group"><p class="vt-menu-group-title">Video Courses</p><!--[--><!--[--><a class="vt-link link vt-menu-link" href="https://www.vuemastery.com/courses/" target="_blank" rel="noopener noreferrer"><!--[-->Vue Mastery<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://vueschool.io/?friend=vuejs&amp;utm_source=Vuejs.org&amp;utm_medium=Link&amp;utm_content=Navbar%20Dropdown" target="_blank" rel="noopener noreferrer"><!--[-->Vue School<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--]--><!--[--><div class="vt-menu-group"><p class="vt-menu-group-title">Help</p><!--[--><!--[--><a class="vt-link link vt-menu-link" href="https://discord.com/invite/HBherRA" target="_blank" rel="noopener noreferrer"><!--[-->Discord Chat<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://forum.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Forum<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://dev.to/t/vue" target="_blank" rel="noopener noreferrer"><!--[-->DEV Community<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--]--><!--[--><div class="vt-menu-group"><p class="vt-menu-group-title">News</p><!--[--><!--[--><a class="vt-link link vt-menu-link" href="https://blog.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Blog<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://twitter.com/vuejs" target="_blank" rel="noopener noreferrer"><!--[-->Twitter<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://news.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Newsletter<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://events.vuejs.org/" target="_blank" rel="noopener noreferrer"><!--[-->Events<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" ref_key="elRef" data-v-68faa570="" data-v-b598edbc=""><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><span class="vt-flyout-button-text">About <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="../../about/faq.html"><!--[-->FAQ<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="../../about/team.html"><!--[-->Team<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="../../about/releases.html"><!--[-->Releases<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="../../about/community-guide.html"><!--[-->Community Guide<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="../../about/coc.html"><!--[-->Code of Conduct<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="https://www.youtube.com/watch?v=OrxmtDw4pVI" target="_blank" rel="noopener noreferrer"><!--[-->The Documentary<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewBox="0 0 24 24" width="24px" class="vt-link-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="vt-link link VPNavBarMenuLink" href="../../sponsor/index.html" data-v-68faa570="" data-v-c1ab2038=""><!--[-->Sponsor<!--]--><!----></a><!--]--><!--]--></nav><div class="VPNavBarAppearance appearance" data-v-6a126dd3="" data-v-10e6f5bd=""><button class="vt-switch vt-switch-appearance" type="button" role="switch" aria-label="toggle dark mode" data-v-10e6f5bd=""><span class="vt-switch-check"><span class="vt-switch-icon"><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="vt-social-links VPNavBarSocialLinks social-links" data-v-6a126dd3="" data-v-3d7800db=""><!--[--><a class="vt-social-link is-small" href="../../translations/index.html" title="languages" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-social-link-icon"><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg><span class="visually-hidden">languages</span></a><a class="vt-social-link is-small" href="https://github.com/vuejs/" title="github" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-social-link-icon"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden">github</span></a><a class="vt-social-link is-small" href="https://twitter.com/vuejs" title="twitter" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-social-link-icon"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg><span class="visually-hidden">twitter</span></a><a class="vt-social-link is-small" href="https://discord.com/invite/HBherRA" title="discord" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-social-link-icon"><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg><span class="visually-hidden">discord</span></a><!--]--></div><div class="vt-flyout VPNavBarExtra extra" ref_key="elRef" data-v-6a126dd3="" data-v-47ed6b06=""><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-flyout-button-icon"><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="vt-flyout-menu"><div class="vt-menu"><!----><!--[--><!--[--><div class="vt-menu-group" data-v-47ed6b06=""><div class="vt-menu-item item" data-v-47ed6b06=""><p class="vt-menu-label" data-v-47ed6b06="">Appearance</p><div class="vt-menu-action action" data-v-47ed6b06=""><button class="vt-switch vt-switch-appearance" type="button" role="switch" aria-label="toggle dark mode" data-v-47ed6b06=""><span class="vt-switch-check"><span class="vt-switch-icon"><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="vt-menu-group" data-v-47ed6b06=""><div class="vt-menu-item item" data-v-47ed6b06=""><div class="vt-social-links social-links" data-v-47ed6b06=""><!--[--><a class="vt-social-link is-small" href="../../translations/index.html" title="languages" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-social-link-icon"><path d="M0 0h24v24H0z" fill="none"></path><path d=" M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z " class="css-c4d79v"></path></svg><span class="visually-hidden">languages</span></a><a class="vt-social-link is-small" href="https://github.com/vuejs/" title="github" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-social-link-icon"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg><span class="visually-hidden">github</span></a><a class="vt-social-link is-small" href="https://twitter.com/vuejs" title="twitter" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-social-link-icon"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg><span class="visually-hidden">twitter</span></a><a class="vt-social-link is-small" href="https://discord.com/invite/HBherRA" title="discord" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-social-link-icon"><path d="M20.222 0c1.406 0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402 0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222 0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475 0h-.2c-.47 0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02 0 0 1 1.74 3.743 1.806 0 0 .4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03 0 .044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21 0 .6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737 0 0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726 0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703 0 1.27.6 1.27 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334.002-.74.573-1.338 1.27-1.338zm-4.543 0c.7 0 1.266.6 1.266 1.335 0 .74-.57 1.34-1.27 1.34-.7 0-1.27-.6-1.27-1.334 0-.74.57-1.338 1.27-1.338z"></path></svg><span class="visually-hidden">discord</span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="vt-hamburger VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6a126dd3="" data-v-160e7f70=""><span class="vt-hamburger-container"><span class="vt-hamburger-top"></span><span class="vt-hamburger-middle"></span><span class="vt-hamburger-bottom"></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-204468d7="" data-v-27012588=""><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-27012588=""><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="menu-icon" data-v-27012588=""><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-27012588="">Menu</span></button><a class="top-link" href="#" data-v-27012588="">Return to top</a></div><aside ref_key="navEl" class="VPSidebar" data-v-204468d7="" data-v-305c183a=""><nav id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-305c183a=""><!--[--><!--[--><div class="preference-switch" data-v-fd5994ec=""><button class="toggle" aria-label="preference switches toggle" aria-controls="preference-switches" aria-expanded="false" data-v-fd5994ec=""><span data-v-fd5994ec="">API Preference</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-link-icon" data-v-fd5994ec=""><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></button><div id="preference-switches" hidden="" aria-hidden="true" data-v-fd5994ec=""><div class="switch-container" data-v-fd5994ec=""><label class="options-label" data-v-fd5994ec="">Options</label><button class="vt-switch api-switch" type="button" role="switch" aria-label="prefer composition api" aria-checked="false" data-v-fd5994ec=""><span class="vt-switch-check"><!----></span></button><label class="composition-label" data-v-fd5994ec="">Composition</label><a class="switch-link" title="About API preference" href="../introduction.html#api-styles" data-v-fd5994ec="">?</a></div><!----></div></div><!--]--><!--]--><span id="sidebar-aria-label" class="visually-hidden" data-v-305c183a="">Sidebar Navigation</span><!--[--><div class="group" data-v-305c183a=""><section class="VPSidebarGroup" data-v-305c183a="" data-v-39795b07=""><div class="title" data-v-39795b07=""><h2 class="title-text" data-v-39795b07="">Getting Started</h2></div><!--[--><a class="link" href="../introduction.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Introduction</p></a><a class="link" href="../quick-start.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Quick Start</p></a><!--]--></section></div><div class="group" data-v-305c183a=""><section class="VPSidebarGroup" data-v-305c183a="" data-v-39795b07=""><div class="title" data-v-39795b07=""><h2 class="title-text" data-v-39795b07="">Essentials</h2></div><!--[--><a class="link" href="../essentials/application.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Creating an Application</p></a><a class="link" href="../essentials/template-syntax.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Template Syntax</p></a><a class="link" href="../essentials/reactivity-fundamentals.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Reactivity Fundamentals</p></a><a class="link" href="../essentials/computed.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Computed Properties</p></a><a class="link" href="../essentials/class-and-style.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Class and Style Bindings</p></a><a class="link" href="../essentials/conditional.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Conditional Rendering</p></a><a class="link" href="../essentials/list.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">List Rendering</p></a><a class="link" href="../essentials/event-handling.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Event Handling</p></a><a class="link" href="../essentials/forms.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Form Input Bindings</p></a><a class="link" href="../essentials/lifecycle.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Lifecycle Hooks</p></a><a class="link" href="../essentials/watchers.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Watchers</p></a><a class="link" href="../essentials/template-refs.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Template Refs</p></a><a class="link" href="../essentials/component-basics.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Components Basics</p></a><!--]--></section></div><div class="group" data-v-305c183a=""><section class="VPSidebarGroup" data-v-305c183a="" data-v-39795b07=""><div class="title" data-v-39795b07=""><h2 class="title-text" data-v-39795b07="">Components In-Depth</h2></div><!--[--><a class="link" href="../components/registration.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Registration</p></a><a class="link" href="../components/props.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Props</p></a><a class="link" href="../components/events.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Events</p></a><a class="link" href="../components/attrs.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Fallthrough Attributes</p></a><a class="link" href="../components/slots.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Slots</p></a><a class="link" href="../components/provide-inject.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Provide / inject</p></a><a class="link" href="../components/async.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Async Components</p></a><!--]--></section></div><div class="group" data-v-305c183a=""><section class="VPSidebarGroup" data-v-305c183a="" data-v-39795b07=""><div class="title" data-v-39795b07=""><h2 class="title-text" data-v-39795b07="">Reusability</h2></div><!--[--><a class="link" href="../reusability/composables.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Composables</p></a><a class="link" href="../reusability/custom-directives.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Custom Directives</p></a><a class="link" href="../reusability/plugins.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Plugins</p></a><!--]--></section></div><div class="group" data-v-305c183a=""><section class="VPSidebarGroup" data-v-305c183a="" data-v-39795b07=""><div class="title" data-v-39795b07=""><h2 class="title-text" data-v-39795b07="">Built-in Components</h2></div><!--[--><a class="link" href="../built-ins/transition.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Transition</p></a><a class="link" href="../built-ins/transition-group.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">TransitionGroup</p></a><a class="link" href="../built-ins/keep-alive.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">KeepAlive</p></a><a class="link" href="../built-ins/teleport.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Teleport</p></a><a class="link" href="../built-ins/suspense.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Suspense</p></a><!--]--></section></div><div class="group" data-v-305c183a=""><section class="VPSidebarGroup" data-v-305c183a="" data-v-39795b07=""><div class="title" data-v-39795b07=""><h2 class="active title-text" data-v-39795b07="">Scaling Up</h2></div><!--[--><a class="link" href="sfc.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Single-File Components</p></a><a class="link" href="tooling.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Tooling</p></a><a class="link" href="routing.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Routing</p></a><a class="link" href="state-management.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">State Management</p></a><a class="link" href="testing.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Testing</p></a><a class="link active" href="ssr.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Server-Side Rendering (SSR)</p></a><!--]--></section></div><div class="group" data-v-305c183a=""><section class="VPSidebarGroup" data-v-305c183a="" data-v-39795b07=""><div class="title" data-v-39795b07=""><h2 class="title-text" data-v-39795b07="">Best Practices</h2></div><!--[--><a class="link" href="../best-practices/production-deployment.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Production Deployment</p></a><a class="link" href="../best-practices/performance.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Performance</p></a><a class="link" href="../best-practices/accessibility.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Accessibility</p></a><a class="link" href="../best-practices/security.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Security</p></a><!--]--></section></div><div class="group" data-v-305c183a=""><section class="VPSidebarGroup" data-v-305c183a="" data-v-39795b07=""><div class="title" data-v-39795b07=""><h2 class="title-text" data-v-39795b07="">TypeScript</h2></div><!--[--><a class="link" href="../typescript/overview.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Overview</p></a><a class="link" href="../typescript/composition-api.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">TS with Composition API</p></a><a class="link" href="../typescript/options-api.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">TS with Options API</p></a><!--]--></section></div><div class="group" data-v-305c183a=""><section class="VPSidebarGroup" data-v-305c183a="" data-v-39795b07=""><div class="title" data-v-39795b07=""><h2 class="title-text" data-v-39795b07="">Extra Topics</h2></div><!--[--><a class="link" href="../extras/ways-of-using-vue.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Ways of Using Vue</p></a><a class="link" href="../extras/composition-api-faq.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Composition API FAQ</p></a><a class="link" href="../extras/reactivity-in-depth.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Reactivity in Depth</p></a><a class="link" href="../extras/rendering-mechanism.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Rendering Mechanism</p></a><a class="link" href="../extras/render-function.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Render Functions &amp; JSX</p></a><a class="link" href="../extras/web-components.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Vue and Web Components</p></a><a class="link" href="../extras/animation.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Animation Techniques</p></a><a class="link" href="../extras/reactivity-transform.html" data-v-39795b07="" data-v-9ad74656=""><p class="link-text" data-v-9ad74656="">Reactivity Transform</p></a><!--]--></section></div><!--]--><!--[--><!--]--></nav></aside><div id="VPContent" class="VPContent has-sidebar" data-v-204468d7="" data-v-f56f3cfe=""><div class="VPContentDoc has-aside has-sidebar" data-v-f56f3cfe="" data-v-7d3b0a72=""><div class="container" data-v-7d3b0a72=""><div class="aside" data-v-7d3b0a72=""><div class="aside-container" data-v-7d3b0a72=""><!--[--><!--]--><div class="VPContentDocOutline" ref_key="container" data-v-7d3b0a72="" data-v-a843c894=""><div class="outline-marker" data-v-a843c894=""></div><div class="outline-title" data-v-a843c894="">On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-a843c894=""><span id="doc-outline-aria-label" class="visually-hidden" data-v-a843c894="">Table of Contents for current page</span><ul class="root" data-v-a843c894=""><!--[--><li style="" data-v-a843c894=""><a class="outline-link" href="#overview" data-v-a843c894="">Overview</a><ul data-v-a843c894=""><!--[--><li style="" data-v-a843c894=""><a class="outline-link nested" href="#what-is-ssr" data-v-a843c894="">What is SSR?</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#why-ssr" data-v-a843c894="">Why SSR?</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#ssr-vs-ssg" data-v-a843c894="">SSR vs. SSG</a></li><!--]--></ul></li><li style="" data-v-a843c894=""><a class="outline-link" href="#basic-tutorial" data-v-a843c894="">Basic Tutorial</a><ul data-v-a843c894=""><!--[--><li style="" data-v-a843c894=""><a class="outline-link nested" href="#rendering-an-app" data-v-a843c894="">Rendering an App</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#client-hydration" data-v-a843c894="">Client Hydration</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#code-structure" data-v-a843c894="">Code Structure</a></li><!--]--></ul></li><li style="" data-v-a843c894=""><a class="outline-link" href="#higher-level-solutions" data-v-a843c894="">Higher Level Solutions</a><ul data-v-a843c894=""><!--[--><li style="" data-v-a843c894=""><a class="outline-link nested" href="#nuxt" data-v-a843c894="">Nuxt</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#quasar" data-v-a843c894="">Quasar</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#vite-ssr" data-v-a843c894="">Vite SSR</a></li><!--]--></ul></li><li style="" data-v-a843c894=""><a class="outline-link" href="#writing-ssr-friendly-code" data-v-a843c894="">Writing SSR-friendly Code</a><ul data-v-a843c894=""><!--[--><li style="" data-v-a843c894=""><a class="outline-link nested" href="#reactivity-on-the-server" data-v-a843c894="">Reactivity on the Server</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#component-lifecycle-hooks" data-v-a843c894="">Component Lifecycle Hooks</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#access-to-platform-specific-apis" data-v-a843c894="">Access to Platform-Specific APIs</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#cross-request-state-pollution" data-v-a843c894="">Cross-Request State Pollution</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#hydration-mismatch" data-v-a843c894="">Hydration Mismatch</a></li><li style="" data-v-a843c894=""><a class="outline-link nested" href="#custom-directives" data-v-a843c894="">Custom Directives</a></li><!--]--></ul></li><!--]--></ul></nav></div><!--[--><!--[--><!--[--><div><a class="sponsors-aside-text" href="../../sponsor/index.html">Sponsors</a><div ref_key="container" class="sponsor-container special aside" data-v-3793b348=""><!----><!----></div><div ref_key="container" class="sponsor-container platinum aside" data-v-3793b348=""><!----><a href="../../sponsor/index.html" class="sponsor-item action" data-v-3793b348="">Your logo</a></div></div><!--]--><!--]--><!--]--><div class="VPCarbonAds" ref_key="container" data-v-7d3b0a72=""></div><!--[--><!--[--><!--[--><div ref_key="vuejobs" data-v-148cefec=""><!----></div><!--]--><!--]--><!--]--></div></div><div class="content" data-v-7d3b0a72=""><!--[--><!--]--><main data-v-7d3b0a72=""><div style="position:relative;" class="vt-doc guide" data-v-7d3b0a72=""><div><h1 id="server-side-rendering-ssr" tabindex="-1">Server-Side Rendering (SSR) <a class="header-anchor" href="#server-side-rendering-ssr" aria-hidden="true">#</a></h1><a class="dashAnchor" name="//dash_ref_overview/Section/Overview/0"></a><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-hidden="true">#</a></h2><a class="dashAnchor" name="//dash_ref_what%2Dis%2Dssr/Section/What%20is%20SSR?/0"></a><h3 id="what-is-ssr" tabindex="-1">What is SSR? <a class="header-anchor" href="#what-is-ssr" aria-hidden="true">#</a></h3><p>Vue.js is a framework for building client-side applications. By default, Vue components produce and manipulate DOM in the browser as output. However, it is also possible to render the same components into HTML strings on the server, send them directly to the browser, and finally "hydrate" the static markup into a fully interactive app on the client.</p><p>A server-rendered Vue.js app can also be considered "isomorphic" or "universal", in the sense that the majority of your app's code runs on both the server <strong>and</strong> the client.</p><a class="dashAnchor" name="//dash_ref_why%2Dssr/Section/Why%20SSR?/0"></a><h3 id="why-ssr" tabindex="-1">Why SSR? <a class="header-anchor" href="#why-ssr" aria-hidden="true">#</a></h3><p>Compared to a client-side Single-Page Application (SPA), the advantage of SSR primarily lies in:</p><ul><li><p><strong>Faster time-to-content</strong>: this is more prominent on slow internet or slow devices. Server-rendered markup doesn't need to wait until all JavaScript has been downloaded and executed to be displayed, so your user will see a fully-rendered page sooner. In addition, data fetching is done on the server-side for the initial visit, which likely has a faster connection to your database than the client. This generally results in improved <a href="https://web.dev/vitals/" target="_blank" rel="noopener noreferrer">Core Web Vitals</a> metrics, better user experience, and can be critical for applications where time-to-content is directly associated with conversion rate.</p></li><li><p><strong>Unified mental model</strong>: you get to use the same language and the same declarative, component-oriented mental model for developing your entire app, instead of jumping back and forth between a backend templating system and a frontend framework.</p></li><li><p><strong>Better SEO</strong>: the search engine crawlers will directly see the fully rendered page.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>As of now, Google and Bing can index synchronous JavaScript applications just fine. Synchronous being the key word there. If your app starts with a loading spinner, then fetches content via Ajax, the crawler will not wait for you to finish. This means if you have content fetched asynchronously on pages where SEO is important, SSR might be necessary.</p></div></li></ul><p>There are also some trade-offs to consider when using SSR:</p><ul><li><p>Development constraints. Browser-specific code can only be used inside certain lifecycle hooks; some external libraries may need special treatment to be able to run in a server-rendered app.</p></li><li><p>More involved build setup and deployment requirements. Unlike a fully static SPA that can be deployed on any static file server, a server-rendered app requires an environment where a Node.js server can run.</p></li><li><p>More server-side load. Rendering a full app in Node.js is going to be more CPU-intensive than just serving static files, so if you expect high traffic, be prepared for corresponding server load and wisely employ caching strategies.</p></li></ul><p>Before using SSR for your app, the first question you should ask is whether you actually need it. It mostly depends on how important time-to-content is for your app. For example, if you are building an internal dashboard where an extra few hundred milliseconds on initial load doesn't matter that much, SSR would be an overkill. However, in cases where time-to-content is absolutely critical, SSR can help you achieve the best possible initial load performance.</p><a class="dashAnchor" name="//dash_ref_ssr%2Dvs%2Dssg/Section/SSR%20vs.%20SSG/0"></a><h3 id="ssr-vs-ssg" tabindex="-1">SSR vs. SSG <a class="header-anchor" href="#ssr-vs-ssg" aria-hidden="true">#</a></h3><p><strong>Static Site Generation (SSG)</strong>, also referred to as pre-rendering, is another popular technique for building fast websites. If the data needed to server-render a page is the same for every user, then instead of rendering the page every time a request comes in, we can render it only once, ahead of time, during the build process. Pre-rendered pages are generated and served as static HTML files.</p><p>SSG retains the same performance characteristics of SSR apps: it provides great time-to-content performance. At the same time, it is cheaper and easier to deploy than SSR apps because the output is static HTML and assets. The keyword here is <strong>static</strong>: SSG can only be applied to pages consuming static data, i.e. data that is known at build time and does not change between deploys. Every time the data changes, a new deployment is needed.</p><p>If you're only investigating SSR to improve the SEO of a handful of marketing pages (e.g. <code>/</code>, <code>/about</code>, <code>/contact</code>, etc.), then you probably want SSG instead of SSR. SSG is also great for content-based websites such as documentation sites or blogs. In fact, this website you are reading right now is statically generated using <a href="https://vitepress.vuejs.org/" target="_blank" rel="noopener noreferrer">VitePress</a>, a Vue-powered static site generator.</p><a class="dashAnchor" name="//dash_ref_basic%2Dtutorial/Section/Basic%20Tutorial/0"></a><h2 id="basic-tutorial" tabindex="-1">Basic Tutorial <a class="header-anchor" href="#basic-tutorial" aria-hidden="true">#</a></h2><a class="dashAnchor" name="//dash_ref_rendering%2Dan%2Dapp/Section/Rendering%20an%20App/0"></a><h3 id="rendering-an-app" tabindex="-1">Rendering an App <a class="header-anchor" href="#rendering-an-app" aria-hidden="true">#</a></h3><p>Let's take a look at the most bare-bones example of Vue SSR in action.</p><ol><li>Create a new directory and <code>cd</code> into it</li><li>Run <code>npm init -y</code></li><li>Add <code>"type": "module"</code> in <code>package.json</code> so that Node.js runs in <a href="https://nodejs.org/api/esm.html#modules-ecmascript-modules" target="_blank" rel="noopener noreferrer">ES modules mode</a>.</li><li>Run <code>npm install vue</code></li><li>Create an <code>example.js</code> file:</li></ol><div class="language-js"><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// this runs in Node.js on the server.</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createSSRApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">'</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Vue's server-rendering API is exposed under `vue/server-renderer`.</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">renderToString</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">vue/server-renderer</span><span style="color:#89DDFF;">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> app </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createSSRApp</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">count</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">&lt;button @click="count++"&gt;{{ count }}&lt;/button&gt;</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">renderToString</span><span style="color:#A6ACCD;">(app)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">html</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">html</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>Then run:</p><div class="language-sh"><pre><code><span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> node example.js</span></span>
<span class="line"></span></code></pre></div><p>It should print the following to the command line:</p><div class="language-"><pre><code>&lt;button&gt;1&lt;/button&gt;
</code></pre></div><p><a href="../../api/ssr.html#rendertostring"><code>renderToString()</code></a> takes a Vue app instance and returns a Promise that resolves to the rendered HTML of the app. It is also possible to stream rendering using the <a href="https://nodejs.org/api/stream.html" target="_blank" rel="noopener noreferrer">Node.js Stream API</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Streams_API" target="_blank" rel="noopener noreferrer">Web Streams API</a>. Check out the <a href="../../api/ssr.html">SSR API Reference</a> for full details.</p><p>We can then move the Vue SSR code into a server request handler, which wraps the application markup with the full page HTML. We will be using <a href="https://expressjs.com/" target="_blank" rel="noopener noreferrer"><code>express</code></a> for the next steps:</p><ul><li>Run <code>npm install express</code></li><li>Create the following <code>server.js</code> file:</li></ul><div class="language-js"><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> express </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">express</span><span style="color:#89DDFF;">'</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createSSRApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">'</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">renderToString</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">vue/server-renderer</span><span style="color:#89DDFF;">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> server </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">express</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">'</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">app</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createSSRApp</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> count</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    template</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">&lt;button @click="count++"&gt;{{ count }}&lt;/button&gt;</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">renderToString</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">app</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">html</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;html&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;head&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;title&gt;Vue SSR Example&lt;/title&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;/head&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;body&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;div id="app"&gt;</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">html</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&lt;/div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">      &lt;/body&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;/html&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    </span><span style="color:#89DDFF;">`</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">listen</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">3000</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">ready</span><span style="color:#89DDFF;">'</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>Finally, run <code>node server.js</code> and visit <code>http://localhost:3000</code>. You should see the page working with the button.</p><p><a href="../../../stackblitz.com/edit/vue-ssr-example-basic-sqgtym2643.html?file=index.js" target="_blank" rel="noopener noreferrer">Try it on StackBlitz</a></p><a class="dashAnchor" name="//dash_ref_client%2Dhydration/Section/Client%20Hydration/0"></a><h3 id="client-hydration" tabindex="-1">Client Hydration <a class="header-anchor" href="#client-hydration" aria-hidden="true">#</a></h3><p>If you click the button, you'll notice the number doesn't change. The HTML is completely static on the client since we are not loading Vue in the browser.</p><p>To make the client-side app interactive, Vue needs to perform the <strong>hydration</strong> step. During hydration, it creates the same Vue application that was run on the server, matches each component to the DOM nodes it should control, and attaches DOM event listeners.</p><p>To mount an app in hydration mode, we need to use <a href="../../api/application.html#createssrapp"><code>createSSRApp()</code></a> instead of <code>createApp()</code>:</p><div class="language-js"><div class="highlight-lines"><br><div class="highlighted">&nbsp;</div><br><br><br><br><br><br><br><br><br><br></div><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// this runs in the browser.</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createSSRApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> app </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createSSRApp</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ...same app as on server</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// mounting an SSR app on the client assumes</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// the HTML was pre-rendered and will perform</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// hydration instead of mounting new DOM nodes.</span></span>
<span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mount</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">#app</span><span style="color:#89DDFF;">'</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><a class="dashAnchor" name="//dash_ref_code%2Dstructure/Section/Code%20Structure/0"></a><h3 id="code-structure" tabindex="-1">Code Structure <a class="header-anchor" href="#code-structure" aria-hidden="true">#</a></h3><p>Notice how we need to reuse the same app implementation as on the server. This is where we need to start thinking about code structure in an SSR app - how do we share the same application code between the server and the client?</p><p>Here we will demonstrate the most bare-bones setup. First, let's split the app creation logic into a dedicated file, <code>app.js</code>:</p><div class="language-js"><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// app.js (shared between server and client)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createSSRApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createApp</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createSSRApp</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">data</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> count</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    template</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">&lt;div @click="count++"&gt;{{ count }}&lt;/div&gt;</span><span style="color:#89DDFF;">`</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>This file and its dependencies are shared between the server and the client - we call them <strong>universal code</strong>. There are a number of things you need to pay attention to when writing universal code, as we will <a href="#writing-ssr-friendly-code">discuss below</a>.</p><p>Our client entry imports the universal code, creates the app, and performs the mount:</p><div class="language-js"><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// client.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">./app.js</span><span style="color:#89DDFF;">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">createApp</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mount</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">#app</span><span style="color:#89DDFF;">'</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>And the server uses the same app creation logic in the request handler:</p><div class="language-js"><div class="highlight-lines"><br><div class="highlighted">&nbsp;</div><br><br><div class="highlighted">&nbsp;</div><br><br><br><br><br></div><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// server.js (irrelevant code omitted)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">./app.js</span><span style="color:#89DDFF;">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">server</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">'</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> res</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">app</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createApp</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">renderToString</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">app</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">html</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ...</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>In addition, in order to load the client files in the browser, we also need to:</p><ol><li>Serve client files by adding <code>server.use(express.static('.'))</code> in <code>server.js</code>.</li><li>Load the client entry by adding <code>&lt;script type="module" src="/client.js"&gt;&lt;/script&gt;</code> to the HTML shell.</li><li>Support usage like <code>import * from 'vue'</code> in the browser by adding an <a href="https://github.com/WICG/import-maps" target="_blank" rel="noopener noreferrer">Import Map</a> to the HTML shell.</li></ol><p><a href="../../../stackblitz.com/edit/vue-ssr-example-ai36bn2643.html?file=index.js" target="_blank" rel="noopener noreferrer">Try the completed example on StackBlitz</a>. The button is now interactive!</p><a class="dashAnchor" name="//dash_ref_higher%2Dlevel%2Dsolutions/Section/Higher%20Level%20Solutions/0"></a><h2 id="higher-level-solutions" tabindex="-1">Higher Level Solutions <a class="header-anchor" href="#higher-level-solutions" aria-hidden="true">#</a></h2><p>Moving from the example to a production-ready SSR app involves a lot more. We will need to:</p><ul><li><p>Support Vue SFCs and other build step requirements. In fact, we will need to coordinate two builds for the same app: one for the client, and one for the server.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Vue components are compiled differently when used for SSR - templates are compiled into string concatenations instead of Virtual DOM render functions for more efficient rendering performance.</p></div></li><li><p>In the server request handler, render the HTML with the correct client-side asset links and optimal resource hints. We may also need to switch between SSR and SSG mode, or even mix both in the same app.</p></li><li><p>Manage routing, data fetching, and state management stores in a universal manner.</p></li></ul><p>A complete implementation would be quite complex and depends on the build toolchain you have chosen to work with. Therefore, we highly recommend going with a higher-level, opinionated solution that abstracts away the complexity for you. Below we will introduce a few recommended SSR solutions in the Vue ecosystem.</p><a class="dashAnchor" name="//dash_ref_nuxt/Section/Nuxt/0"></a><h3 id="nuxt" tabindex="-1">Nuxt <a class="header-anchor" href="#nuxt" aria-hidden="true">#</a></h3><p><a href="https://v3.nuxtjs.org/" target="_blank" rel="noopener noreferrer">Nuxt</a> is a higher-level framework built on top of the Vue ecosystem which provides a streamlined development experience for writing universal Vue applications. Better yet, you can also use it as a static site generator! We highly recommend giving it a try.</p><a class="dashAnchor" name="//dash_ref_quasar/Section/Quasar/0"></a><h3 id="quasar" tabindex="-1">Quasar <a class="header-anchor" href="#quasar" aria-hidden="true">#</a></h3><p><a href="https://quasar.dev/" target="_blank" rel="noopener noreferrer">Quasar</a> is a complete Vue-based solution that allows you to target SPA, SSR, PWA, mobile app, desktop app, and browser extension all using one codebase. It not only handles the build setup, but also provides a full collection of Material Design compliant UI components.</p><a class="dashAnchor" name="//dash_ref_vite%2Dssr/Section/Vite%20SSR/0"></a><h3 id="vite-ssr" tabindex="-1">Vite SSR <a class="header-anchor" href="#vite-ssr" aria-hidden="true">#</a></h3><p>Vite provides built-in <a href="https://vitejs.dev/guide/ssr.html" target="_blank" rel="noopener noreferrer">support for Vue server-side rendering</a>, but it is intentionally low-level. If you wish to go directly with Vite, check out <a href="https://vite-plugin-ssr.com/" target="_blank" rel="noopener noreferrer">vite-plugin-ssr</a>, a community plugin that abstracts away many challenging details for you.</p><p>You can also find an example Vue + Vite SSR project using manual setup <a href="https://github.com/vitejs/vite/tree/main/packages/playground/ssr-vue" target="_blank" rel="noopener noreferrer">here</a>, which can serve as a base to build upon. Note this is only recommended if you are experienced with SSR / build tools and really want to have complete control over the higher-level architecture.</p><a class="dashAnchor" name="//dash_ref_writing%2Dssr%2Dfriendly%2Dcode/Section/Writing%20SSR-friendly%20Code/0"></a><h2 id="writing-ssr-friendly-code" tabindex="-1">Writing SSR-friendly Code <a class="header-anchor" href="#writing-ssr-friendly-code" aria-hidden="true">#</a></h2><p>Regardless of your build setup or higher-level framework choice, there are some principles that apply in all Vue SSR applications.</p><a class="dashAnchor" name="//dash_ref_reactivity%2Don%2Dthe%2Dserver/Section/Reactivity%20on%20the%20Server/0"></a><h3 id="reactivity-on-the-server" tabindex="-1">Reactivity on the Server <a class="header-anchor" href="#reactivity-on-the-server" aria-hidden="true">#</a></h3><p>During SSR, each request URL maps to a desired state of our application. There is no user interaction and no DOM updates, so reactivity is unnecessary on the server. By default, reactivity is disabled during SSR for better performance.</p><a class="dashAnchor" name="//dash_ref_component%2Dlifecycle%2Dhooks/Section/Component%20Lifecycle%20Hooks/0"></a><h3 id="component-lifecycle-hooks" tabindex="-1">Component Lifecycle Hooks <a class="header-anchor" href="#component-lifecycle-hooks" aria-hidden="true">#</a></h3><p>Since there are no dynamic updates, lifecycle hooks such as <span class="options-api"><code>mounted</code></span><span class="composition-api"><code>onMounted</code></span> or <span class="options-api"><code>updated</code></span><span class="composition-api"><code>onUpdated</code></span> will <strong>NOT</strong> be called during SSR and will only be executed on the client.<span class="options-api"> The only hooks that are called during SSR are <code>beforeCreate</code> and <code>created</code></span></p><p>You should avoid code that produces side effects that need cleanup in <span class="options-api"><code>beforeCreate</code> and <code>created</code></span><span class="composition-api"><code>setup()</code> or the root scope of <code>&lt;script setup&gt;</code></span>. An example of such side effects is setting up timers with <code>setInterval</code>. In client-side only code we may setup a timer and then tear it down in <span class="options-api"><code>beforeUnmount</code></span><span class="composition-api"><code>onBeforeUnmount</code></span> or <span class="options-api"><code>unmounted</code></span><span class="composition-api"><code>onUnmounted</code></span>. However, because the unmount hooks will never be called during SSR, the timers will stay around forever. To avoid this, move your side-effect code into <span class="options-api"><code>mounted</code></span><span class="composition-api"><code>onMounted</code></span> instead.</p><a class="dashAnchor" name="//dash_ref_access%2Dto%2Dplatform%2Dspecific%2Dapis/Section/Access%20to%20Platform-Specific%20APIs/0"></a><h3 id="access-to-platform-specific-apis" tabindex="-1">Access to Platform-Specific APIs <a class="header-anchor" href="#access-to-platform-specific-apis" aria-hidden="true">#</a></h3><p>Universal code cannot assume access to platform-specific APIs, so if your code directly uses browser-only globals like <code>window</code> or <code>document</code>, they will throw errors when executed in Node.js, and vice-versa.</p><p>For tasks that are shared between server and client but with different platform APIs, it's recommended to wrap the platform-specific implementations inside a universal API, or use libraries that do this for you. For example, you can use <a href="https://github.com/node-fetch/node-fetch" target="_blank" rel="noopener noreferrer"><code>node-fetch</code></a> to use the same fetch API on both server and client.</p><p>For browser-only APIs, the common approach is to lazily access them inside client-only lifecycle hooks such as <span class="options-api"><code>mounted</code></span><span class="composition-api"><code>onMounted</code></span>.</p><p>Note that if a third-party library is not written with universal usage in mind, it could be tricky to integrate it into a server-rendered app. You <em>might</em> be able to get it working by mocking some of the globals, but it would be hacky and may interfere with the environment detection code of other libraries.</p><a class="dashAnchor" name="//dash_ref_cross%2Drequest%2Dstate%2Dpollution/Section/Cross-Request%20State%20Pollution/0"></a><h3 id="cross-request-state-pollution" tabindex="-1">Cross-Request State Pollution <a class="header-anchor" href="#cross-request-state-pollution" aria-hidden="true">#</a></h3><p>In the State Management chapter, we introduced a <a href="state-management.html#simple-state-management-with-reactivity-api">simple state management pattern using Reactivity APIs</a>. In an SSR context, this pattern requires some additional adjustments.</p><p>The pattern declares shared state in a JavaScript module's root scope. This makes them <strong>singletons</strong> - i.e. there is only one instance of the reactive object throughout the entire lifecycle of our application. This works as expected in a pure client-side Vue application, since the modules in our application are initialized fresh for each browser page visit.</p><p>However, in an SSR context, the application modules are typically initialized only once on the server, when the server boots up. The same module instances will be reused across multiple server requests, and so will our singleton state objects. If we mutate the shared singleton state with data specific to one user, it can be accidentally leaked to a request from another user. We call this <strong>cross-request state pollution.</strong></p><p>We can technically re-initialize all the JavaScript modules on each request, just like we do in browsers. However, initializing JavaScript modules can be costly, so this would significantly affect server performance.</p><p>The recommended solution is to create a new instance of the entire application - including the router and global stores - on each request. Then, instead of directly importing it in our components, we provide the shared state using <a href="../components/provide-inject.html#app-level-provide">app-level provide</a> and inject it in components that need it:</p><div class="language-js"><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// app.js (shared between server and client)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createSSRApp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">'</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createStore</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">./store.js</span><span style="color:#89DDFF;">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">createApp</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">app</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createSSRApp</span><span style="color:#F07178;">(</span><span style="color:#676E95;font-style:italic;">/* ... */</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// create new instance of store per request</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">store</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createStore</span><span style="color:#F07178;">(</span><span style="color:#676E95;font-style:italic;">/* ... */</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// provide store at the app level</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">provide</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">'</span><span style="color:#C3E88D;">store</span><span style="color:#89DDFF;">'</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">store</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// also expose store for hydration purposes</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">store</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>State Management libraries like Pinia are designed with this in mind. Consult <a href="https://pinia.vuejs.org/ssr/" target="_blank" rel="noopener noreferrer">Pinia's SSR guide</a> for more details.</p><a class="dashAnchor" name="//dash_ref_hydration%2Dmismatch/Section/Hydration%20Mismatch/0"></a><h3 id="hydration-mismatch" tabindex="-1">Hydration Mismatch <a class="header-anchor" href="#hydration-mismatch" aria-hidden="true">#</a></h3><p>If the DOM structure of the pre-rendered HTML does not match the expected output of the client-side app, there will be a hydration mismatch error. In most cases, this is caused by the browser's native HTML parsing behavior trying to correct invalid structures in the HTML string. For example, a common gotcha is that <a href="https://stackoverflow.com/questions/8397852/why-cant-the-p-tag-contain-a-div-tag-inside-it" target="_blank" rel="noopener noreferrer"><code>&lt;div&gt;</code> cannot be placed inside <code>&lt;p&gt;</code></a>:</p><div class="language-html"><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">hi</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>If we produce this in our server-rendered HTML, the browser will terminate the first <code>&lt;p&gt;</code> when <code>&lt;div&gt;</code> is encountered and parse it into the following DOM structure:</p><div class="language-html"><pre><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">hi</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">p</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>When Vue encounters a hydration mismatch, it will attempt to automatically recover and adjust the pre-rendered DOM to match the client-side state. This will lead to some rendering performance loss due to incorrect nodes being discarded and new nodes being mounted, but in most cases, the app should continue to work as expected. That said, it is still best to eliminate hydration mismatches during development.</p><a class="dashAnchor" name="//dash_ref_custom%2Ddirectives/Section/Custom%20Directives/0"></a><h3 id="custom-directives" tabindex="-1">Custom Directives <a class="header-anchor" href="#custom-directives" aria-hidden="true">#</a></h3><p>Since most custom directives involve direct DOM manipulation, they are ignored during SSR. However, if you want to specify how a custom directive should be rendered (i.e. what attributes it should add to the rendered element), you can use the <code>getSSRProps</code> directive hook:</p><div class="language-js"><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> myDirective </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mounted</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">el</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> binding</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// client-side implementation:</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// directly update the DOM</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">el</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">binding</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">getSSRProps</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">binding</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// server-side implementation:</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// return the props to be rendered.</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// getSSRProps only receives the directive binding.</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">binding</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div></div></div><p class="edit-link" data-v-7d3b0a72=""><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="vt-icon" data-v-7d3b0a72=""><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><a class="vt-link link" href="https://github.com/vuejs/docs/edit/main/src/guide/scaling-up/ssr.md" target="_blank" rel="noopener noreferrer" data-v-7d3b0a72=""><!--[-->Edit this page on GitHub<!--]--><!----></a></p></main><!--[--><!--]--><footer class="VPContentDocFooter" data-v-7d3b0a72="" data-v-26eee970=""><a class="prev-link" href="testing.html" data-v-26eee970=""><span class="desc" data-v-26eee970=""><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-link-icon" data-v-26eee970=""><path d="M15,19c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4l6-6c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4L10.4,12l5.3,5.3c0.4,0.4,0.4,1,0,1.4C15.5,18.9,15.3,19,15,19z"></path></svg> Previous</span><span class="title" data-v-26eee970="">Testing</span></a><a class="next-link" href="../best-practices/production-deployment.html" data-v-26eee970=""><span class="desc" data-v-26eee970="">Next <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewBox="0 0 24 24" class="vt-link-icon" data-v-26eee970=""><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></span><span class="title" data-v-26eee970="">Production Deployment</span></a></footer></div></div></div></div><div class="visually-hidden" aria-live="polite" data-v-204468d7="">Server-Side Rendering (SSR) has loaded</div></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"about_coc.md\":\"294633c0\",\"about_community-guide.md\":\"38fb98dd\",\"about_faq.md\":\"c38af3bf\",\"about_releases.md\":\"bb4a6fc5\",\"about_team.md\":\"9c10fcde\",\"api_application.md\":\"16ca0288\",\"api_built-in-components.md\":\"c0d75090\",\"api_built-in-directives.md\":\"fb705394\",\"api_built-in-special-attributes.md\":\"d19deda9\",\"api_built-in-special-elements.md\":\"128f18c5\",\"api_component-instance.md\":\"cf5af820\",\"api_composition-api-dependency-injection.md\":\"1b32e739\",\"api_composition-api-lifecycle.md\":\"f21e0803\",\"api_composition-api-setup.md\":\"1afabea9\",\"api_custom-renderer.md\":\"f203390c\",\"api_general.md\":\"632def0f\",\"api_index.md\":\"c880dd97\",\"api_options-composition.md\":\"325d5acf\",\"api_options-lifecycle.md\":\"14fd4375\",\"api_options-misc.md\":\"e5654cd8\",\"api_options-rendering.md\":\"af0ff67e\",\"api_options-state.md\":\"4a1fff73\",\"api_reactivity-advanced.md\":\"a5795698\",\"api_reactivity-core.md\":\"028205bb\",\"api_reactivity-utilities.md\":\"ccab07dd\",\"api_render-function.md\":\"8cfb7a53\",\"api_sfc-css-features.md\":\"c1e7110f\",\"api_sfc-script-setup.md\":\"d2530806\",\"api_sfc-spec.md\":\"35e44fa3\",\"api_ssr.md\":\"e5468f62\",\"api_utility-types.md\":\"efc38dea\",\"ecosystem_partners.md\":\"5946c3ad\",\"ecosystem_themes.md\":\"c442ffb5\",\"ecosystem_video-courses.md\":\"10fc9662\",\"examples_index.md\":\"c84b2a81\",\"guide_best-practices_accessibility.md\":\"3969df6b\",\"guide_best-practices_performance.md\":\"49eeefc5\",\"guide_best-practices_production-deployment.md\":\"99cabf14\",\"guide_best-practices_security.md\":\"f2dd2a06\",\"guide_built-ins_keep-alive.md\":\"33108b56\",\"guide_built-ins_suspense.md\":\"7be428f2\",\"guide_built-ins_teleport.md\":\"21315737\",\"guide_built-ins_transition-group.md\":\"2c32cb54\",\"guide_built-ins_transition.md\":\"c66e47f8\",\"guide_components_async.md\":\"9ee00782\",\"guide_components_attrs.md\":\"afa66920\",\"guide_components_events.md\":\"09621739\",\"guide_components_props.md\":\"0093653b\",\"guide_components_provide-inject.md\":\"99ec10be\",\"guide_components_registration.md\":\"aa752cf6\",\"guide_components_slots.md\":\"b663b4cb\",\"guide_essentials_application.md\":\"7ab04480\",\"guide_essentials_class-and-style.md\":\"ed506fa8\",\"guide_essentials_component-basics.md\":\"f716c0b1\",\"guide_essentials_computed.md\":\"bbf438a3\",\"guide_essentials_conditional.md\":\"adc06925\",\"guide_essentials_event-handling.md\":\"2b3ee471\",\"guide_essentials_forms.md\":\"f7f30a1e\",\"guide_essentials_lifecycle.md\":\"68c79f1a\",\"guide_essentials_list.md\":\"07555570\",\"guide_essentials_reactivity-fundamentals.md\":\"e7f5b0c5\",\"guide_essentials_template-refs.md\":\"0439e11c\",\"guide_essentials_template-syntax.md\":\"89bafbbb\",\"guide_essentials_watchers.md\":\"be78659d\",\"guide_extras_animation.md\":\"74e0c5ba\",\"guide_extras_composition-api-faq.md\":\"822275b3\",\"guide_extras_custom-renderer.md\":\"fd7dc824\",\"guide_extras_reactivity-in-depth.md\":\"70f81fa3\",\"guide_extras_reactivity-transform.md\":\"3f606d72\",\"guide_extras_render-function.md\":\"27ee2141\",\"guide_extras_rendering-mechanism.md\":\"3ccab620\",\"guide_extras_ways-of-using-vue.md\":\"69956b05\",\"guide_extras_web-components.md\":\"9f7d33c3\",\"guide_introduction.md\":\"de0b9a6e\",\"guide_quick-start.md\":\"5e1b213f\",\"guide_reusability_composables.md\":\"5fa36ca9\",\"guide_reusability_custom-directives.md\":\"afaa8db9\",\"guide_reusability_plugins.md\":\"1b0c1b08\",\"guide_scaling-up_routing.md\":\"692a129e\",\"guide_scaling-up_sfc.md\":\"685e2fa5\",\"guide_scaling-up_ssr.md\":\"8ede046c\",\"guide_scaling-up_state-management.md\":\"37c1b19b\",\"guide_scaling-up_testing.md\":\"76dfe462\",\"guide_scaling-up_tooling.md\":\"2d6e187e\",\"guide_typescript_composition-api.md\":\"c6074024\",\"guide_typescript_options-api.md\":\"587c0b84\",\"guide_typescript_overview.md\":\"068b677c\",\"index.md\":\"66a20941\",\"sponsor_index.md\":\"c87ce578\",\"style-guide_index.md\":\"4da8efcd\",\"style-guide_rules-essential.md\":\"c916241f\",\"style-guide_rules-recommended.md\":\"13d8d3ab\",\"style-guide_rules-strongly-recommended.md\":\"804de526\",\"style-guide_rules-use-with-caution.md\":\"3af31e6f\",\"translations_index.md\":\"507cfac5\",\"tutorial_index.md\":\"0d25f9cd\"}")</script>
    <script type="module" async="" src="../../assets/app.20d0649e.js"></script>
    
  

<!-- Mirrored from vuejs.org/guide/scaling-up/ssr.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 16 Feb 2022 09:15:54 GMT -->
</body></html>