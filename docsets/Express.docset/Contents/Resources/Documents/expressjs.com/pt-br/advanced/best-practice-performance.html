<!DOCTYPE html>

<html lang="pt-br" prefix="og: http://ogp.me/ns#">

<!-- Mirrored from expressjs.com/pt-br/advanced/best-practice-performance.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 10 Jul 2019 00:23:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<title>Melhores Pr√°ticas de Desempenho Usando o Express em Produ√ß√£o</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="og:image" content="../../images/express-facebook-share.png">
<link rel="icon" type="image/png" href="../../images/favicon.png" />
<link rel="stylesheet" href="../../css/style.css">
<link rel="stylesheet" href="../../css/dropit.css">
<link rel="stylesheet" href="../../css/prism.css">
<link rel="stylesheet" href="../../css/font-awesome.min.css">
<link rel="stylesheet" href="../../../fonts.googleapis.com/css2a1d.css?family=Open+Sans:300,400,600,700&amp;amp;subset=latin,latin-ext">
<link rel="stylesheet" href="../../css/pt-br.css">
<link rel="stylesheet" href="../../css/nodeinteractive.css">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script data-cfasync="false" src="../../../ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script data-cfasync="false" src="../../js/ismobile.js"></script>
<script data-cfasync="false" src="../../js/app.js"></script>
<script data-cfasync="false" src="../../js/retina.js"></script>
<script data-cfasync="false" src="../../js/dropit.js"></script>
<script data-cfasync="false" src="../../js/prism.js"></script>
<link rel="stylesheet" href="../../../cdn.jsdelivr.net/npm/docsearch.js%402/dist/cdn/docsearch.min.css" />
</head>
<body class="non-en-doc">
<section class="page content">
<header>
<div id="mobile-menu">
<div id="nav-button" class="fa fa-bars fa-2x button"></div>
</div>
<section id="logo"><a href="../../index.html" class="express">Express</a>
</section>
<div id="navbar">
<input id="q" placeholder="üîé search">
<ul id="navmenu">
<li><a href="../index.html" id="home-menu">P√°gina Inicial</a></li>
<li>
<ul id="getting-started-menu" class="menu">
<li><a href="../starter/installing.html">Introdu√ß√£o</a>
<ul>
<li>
<a href="../starter/installing.html">
Instala√ß√£o
</a>
</li>
<li>
<a href="../starter/hello-world.html">
Hello world
</a>
</li>
<li>
<a href="../starter/generator.html">
Gerador do Express
</a>
</li>
<li>
<a href="../starter/basic-routing.html">
Roteamento B√°sico
</a>
</li>
<li>
<a href="../starter/static-files.html">
Arquivos Est√°ticos
</a>
</li>
<li>
<a href="../starter/faq.html">
Perguntas mais frequentes
</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul id="guide-menu" class="menu">
<li><a href="../guide/routing.html">Guia</a>
<ul>
<li><a href="../guide/routing.html">Roteamento</a>
</li>
<li><a href="../guide/writing-middleware.html">Escrevendo o middleware</a>
</li>
<li><a href="../guide/using-middleware.html">Usando o middleware</a>
</li>
<li><a href="../guide/using-template-engines.html">Usando o mecanismo de modelo</a>
</li>
<li><a href="../guide/error-handling.html">Manipula√ß√£o de erros</a>
</li>
<li><a href="../guide/debugging.html">Depura√ß√£o</a>
</li>
<li><a href="../guide/behind-proxies.html">Express atr√°s de proxies</a>
</li>
<li><a href="../guide/migrating-4.html">Migrando para o Express 4</a>
</li>
<li><a href="../guide/migrating-5.html">Migrando para o Express 5</a>
</li>
<li><a href="../guide/database-integration.html">Integra√ß√£o de Banco de dados</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul id="application-menu" class="menu">
<li><a href="../4x/api.html">Refer√™ncia da API</a>
<ul>
<li><a href="../4x/api.html">4.x</a>
</li>
<li><a href="../3x/api.html">3.x (descontinuada)</a>
</li>
<li><a href="../../2x/index.html">2.x (descontinuada)</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul id="advanced-topics-menu" class="menu">
<li><a href="developing-template-engines.html" class="active">T√≥picos Avan√ßados</a>
<ul>
<li><a href="developing-template-engines.html">Mecanismos de modelo</a>
</li>
<li><a href="pm.html">Usando gerenciadores de processos</a>
</li>
<li><a href="security-updates.html">Atualiza√ß√µes de seguran√ßa</a>
</li>
<li><a href="best-practice-security.html">Melhores pr√°ticas de seguran√ßa</a>
</li>
<li><a href="best-practice-performance.html">Melhores pr√°ticas de desempenho</a>
</li>
</ul>
</li>
</ul>
</li>
<li>
<ul id="resources-menu" class="menu">
<li><a href="../resources/glossary.html">Recursos</a>
<ul>
<li><a href="../resources/glossary.html">Gloss√°rio</a>
</li>
<li><a href="../resources/middleware.html">Middleware</a>
</li>
<li><a href="../resources/community.html">Comunidade</a>
</li>
<li><a href="../resources/books-blogs.html">Livros e blogs</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</header>
<div id="overlay"></div>
<div id="i18n-notice-box" class="doc-box doc-warn">
<p><p>Esta tradu√ß√£o fornecida pelo <a href="http://strongloop.com/">StrongLoop / IBM</a>.</p>
Este documento pode estar desatualizado em rela√ß√£o √† documenta√ß√£o em Ingl√™s. Para obter as atualiza√ß√µes mais recentes, consulte a <a href="../../index.html">documenta√ß√£o em Ingl√™s</a>.
</p>
<div id="close-i18n-notice-box" title="Close">‚úñ</div>
</div>
<div id="page-doc" markdown="1">
<h1 id="melhores-pr√°ticas-de-produ√ß√£o-desempenho-e-confiabilidade">Melhores Pr√°ticas de Produ√ß√£o: desempenho e confiabilidade</h1>
<h2 id="vis√£o-geral">Vis√£o Geral</h2>
<p>Este artigo discute as melhores pr√°ticas de desempenho e de confiabilidade
para aplicativos Express implementados para produ√ß√£o.</p>
<p>Este t√≥pico se enquadra claramente no mundo de ‚Äúdevops‚Äù, abordando o desenvolvimento tradicional e as opera√ß√µes. Assim, as informa√ß√µes s√£o divididas em duas partes:</p>
<ul>
<li><a href="#code">Itens a fazer no seu c√≥digo</a> (a parte do dev).</li>
<li><a href="#env">Itens a fazer no seu ambiente / configura√ß√£o</a> (a parte de ops).</li>
</ul>
<p><a name="code"></a></p>
<h2 id="itens-a-fazer-no-seu-c√≥digo">Itens a fazer no seu c√≥digo</h2>
<p>A seguir ser√£o apresentados alguns itens que podem ser feitos no seu c√≥digo
para melhorar o desempenho dos aplicativos:</p>
<ul>
<li>Use a compacta√ß√£o gzip</li>
<li>N√£o use fun√ß√µes s√≠ncronas</li>
<li>Use o middleware para entregar arquivos est√°ticos</li>
<li>Fa√ßa o registro de logs corretamente</li>
<li>Lide com exce√ß√µes adequadamente</li>
</ul>
<h3 id="use-a-compacta√ß√£o-gzip">Use a compacta√ß√£o gzip</h3>
<p>A compacta√ß√£o Gzip pode diminuir bastante o tamanho do corpo de resposta e assim aumentar a velocidade de um aplicativo da web. Use o middleware <a href="https://www.npmjs.com/package/compression">compression</a> para fazer a compacta√ß√£o gzip no seu aplicativo do Express. Por exemplo:</p>
<pre><code class="language-javascript" translate="no">
var compression = require('compression');
var express = require('express');
var app = express();
app.use(compression());
</code>
</pre>
<p>Para um website com tr√°fego intenso na produ√ß√£o, a melhor maneira de colocar a compacta√ß√£o em pr√°tica, √© implement√°-la em um
n√≠vel de proxy reverso (consulte <a href="#proxy">Use um proxy reverso</a>). Neste caso, n√£o √© necess√°rio usar o middleware de compacta√ß√£o. Para obter detalhes sobre a ativa√ß√£o da compacta√ß√£o gzip no Nginx, consulte o <a href="http://nginx.org/en/docs/http/ngx_http_gzip_module.html">M√≥dulo
ngx_http_gzip_module</a> na documenta√ß√£o do Nginx.</p>
<h3 id="n√£o-use-fun√ß√µes-s√≠ncronas">N√£o use fun√ß√µes s√≠ncronas</h3>
<p>Fun√ß√µes e m√©todos s√≠ncronos impedem o avan√ßo da execu√ß√£o do processo at√© que eles retornem. Uma
√∫nica chamada a uma fun√ß√£o s√≠ncrona pode retornar em poucos microssegundos ou milissegundos, entretanto, em websites com tr√°fego
intenso, essas chamadas se somam e reduzem o desempenho do
aplicativo. Evite o uso delas na produ√ß√£o.</p>
<p>Apesar de o Node e muitos m√≥dulos fornecerem vers√µes s√≠ncronas e ass√≠ncronas de suas fun√ß√µes, sempre use as vers√µes ass√≠ncronas na produ√ß√£o. O √∫nico momento em que o uso de uma fun√ß√£o s√≠ncrona pode ser justificado √© na primeira inicializa√ß√£o.</p>
<p>Se estiver usando o Node.js 4.0+ ou o io.js 2.1.0+, √© poss√≠vel usar a sinaliza√ß√£o <code>--trace-sync-io</code> da linha de comandos para imprimir um aviso e um rastreio de pilha sempre que o seu aplicativo usar uma API s√≠ncrona. Obviamente, n√£o seria desejado usar isto na produ√ß√£o, mas sim antes, para garantir que seu c√≥digo est√° pronto para produ√ß√£o. Consulte a <a href="https://nodejs.org/en/blog/weekly-updates/weekly-update.2015-05-22/#2-1-0">Atualiza√ß√£o
semanal para o io.js 2.1.0</a> para obter mais informa√ß√µes.</p>
<h3 id="use-o-middleware-para-entregar-arquivos-est√°ticos">Use o middleware para entregar arquivos est√°ticos</h3>
<p>No desenvolvimento, √© poss√≠vel usar a <a href="../4x/api.html#res.sendFile">res.sendFile()</a> para entregar arquivos est√°ticos. Mas
n√£o use isto na produ√ß√£o, pois esta fun√ß√£o precisa ser lida a partir
do sistema de arquivos para cada solicita√ß√£o de arquivo, e portanto
encontraria lat√™ncia e afetaria o desempenho geral do aplicativo. Observe que a <code>res.sendFile()</code> <em>n√£o</em> √© implementada com a chamada de sistema <a href="http://linux.die.net/man/2/sendfile">sendfile</a> o que a tornaria muito mais eficiente.</p>
<p>Ao inv√©s disso, use o middleware <a href="https://www.npmjs.com/package/serve-static">serve-static</a>
(ou algo equivalente), que √© otimizado para a entrega de arquivos para os aplicativos do Express.</p>
<p>Uma op√ß√£o ainda melhor √© usar um proxy reverso para entregar
arquivos est√°ticos; consulte <a href="#proxy">Use um proxy
reverso</a> para obter mais informa√ß√µes.</p>
<h3 id="fa√ßa-o-registro-de-logs-corretamente">Fa√ßa o registro de logs corretamente</h3>
<p>Em geral, existem duas raz√µes para registrar logs em seu aplicativo: Para depura√ß√£o e para registro de logs de atividade do aplicativo (essencialmente, todo o resto). Usar
o <code>console.log()</code> ou o <code>console.err()</code> para imprimir mensagens de log no
terminal √© uma pr√°tica comum em desenvolvimento. Mas <a href="https://nodejs.org/api/console.html#console_console_1">essas
fun√ß√µes s√£o s√≠ncronas</a> quando o destino √© um terminal ou um arquivo, portanto elas n√£o s√£o adequadas para produ√ß√£o, a n√£o ser que
a sa√≠da seja canalizada para outro programa.</p>
<h4 id="para-depura√ß√£o">Para depura√ß√£o</h4>
<p>Se estiver registrando logs com o prop√≥sito de depura√ß√£o, ent√£o ao inv√©s de usar o <code>console.log()</code>, use um m√≥dulo
especial para depura√ß√£o como o <a href="https://www.npmjs.com/package/debug">debug</a>. Este
m√≥dulo permite que seja usada a vari√°vel de ambiente DEBUG para controlar quais mensagens de depura√ß√£o s√£o enviadas para o
<code>console.err()</code>, se houver. Para manter o seu aplicativo puramente ass√≠ncrono, voc√™ dever√° canalizar o
<code>console.err()</code> para outro programa. Mas nesse ponto, voc√™ n√£o far√° a depura√ß√£o na produ√ß√£o, n√£o √©?</p>
<h4 id="para-atividade-do-aplicativo">Para atividade do aplicativo</h4>
<p>Se estiver registrando logs de atividade do aplicativo (por
exemplo, rastreamento de tr√°fico ou chamadas de API), ao inv√©s de
usar o <code>console.log()</code>, use uma biblioteca de
registro de logs como <a href="https://www.npmjs.com/package/winston">Winston</a> ou <a href="https://www.npmjs.com/package/bunyan">Bunyan</a>. Para
obter uma compara√ß√£o detalhada dessas duas bibliotecas, consulte a postagem do blog do StrongLoop
<a href="https://strongloop.com/strongblog/compare-node-js-logging-winston-bunyan/">Comparando o registro de logs no Node.js usando Winston e Bunyan</a>.</p>
<p><a name="exceptions"></a></p>
<h3 id="lide-com-exce√ß√µes-adequadamente">Lide com exce√ß√µes adequadamente</h3>
<p>Aplicativos do Node caem ao encontrarem uma exce√ß√£o n√£o
capturada. O n√£o tratamento de exce√ß√µes e a n√£o tomada das a√ß√µes
apropriadas ir√£o fazer com que o seu aplicativo do Express caia e
fique off-line. Se seguir os conselhos em <a href="#restart">Assegurando que o seu aplicativo reinicie automaticamente</a>
abaixo, ent√£o seu aplicativo se recuperar√° de uma queda. Felizmente, aplicativos Express tipicamente possuem um tempo curto de inicializa√ß√£o. Contudo,
√© desej√°vel evitar quedas em primeiro lugar e, para fazer isso, √©
necess√°rio tratar exce√ß√µes adequadamente.</p>
<p>Para garantir que est√° tratando todas as exce√ß√µes, use as seguintes t√©cnicas:</p>
<ul>
<li><a href="#try-catch">Use try-catch</a></li>
<li><a href="#promises">Use promessas</a></li>
</ul>
<p>Antes de se aprofundar nestes t√≥picos, voc√™ deveria ter um
entendimento b√°sico de manipula√ß√£o de erros do Node/Express: usando
retornos de chamada erros-first, e propaga√ß√£o de erros no
middleware. O Node usa uma conven√ß√£o ‚Äúretorno de chamada erros-first‚Äù para retorno de erros de fun√ß√µes ass√≠ncronas, onde o
primeiro par√¢metro para a fun√ß√£o de retorno de chamada √© o objeto de erro, seguido dos dados de resultado nos par√¢metros subsequentes. Para indicar que n√£o ocorreram erros, passe null como o primeiro par√¢metro. A fun√ß√£o de retorno de chamada deve correspondentemente seguir a
conven√ß√£o de retorno de chamada erros-first para tratar o erro de forma significativa. E no Express, a melhor pr√°tica √© usar a fun√ß√£o next() para propagar erros pela cadeia de middlewares.</p>
<p>Para obter mais informa√ß√µes sobre os fundamentos de manipula√ß√£o de erros, consulte:</p>
<ul>
<li><a href="https://www.joyent.com/developers/node/design/errors">Manipula√ß√£o de Erros no Node.js</a></li>
<li><a href="https://strongloop.com/strongblog/robust-node-applications-error-handling/">Construindo
Aplicativos Node Robustos: Manipula√ß√£o de Erros</a> (blog do StrongLoop)</li>
</ul>
<h4 id="o-que-n√£o-fazer">O que n√£o fazer</h4>
<p>Uma coisa que <em>n√£o</em> deveria fazer √© escutar a eventos <code>uncaughtException</code>, emitidos quando uma exce√ß√£o
emerge regressando ao loop de eventos. Incluir um listener de eventos para <code>uncaughtException</code> ir√° mudar o comportamento
padr√£o do processo que est√° encontrando uma exce√ß√£o; o processo ir√° continuar a execu√ß√£o apesar da exce√ß√£o. Essa pode parecer como uma boa maneira de prevenir que o seu
aplicativo caia, mas continuar a execu√ß√£o do aplicativo ap√≥s uma
exce√ß√£o n√£o capturada √© uma pr√°tica perigosa e n√£o √© recomendada, porque o estado do processo se torna n√£o confi√°vel e imprevis√≠vel.</p>
<p>Adicionalmente, usar o <code>uncaughtException</code> √© oficialmente reconhecido como <a href="https://nodejs.org/api/process.html#process_event_uncaughtexception">grosseiro</a>
e existe uma <a href="https://github.com/nodejs/node-v0.x-archive/issues/2582">proposta</a>
de remov√™-lo do n√∫cleo. Portando escutar por um <code>uncaughtException</code> √© simplesmente uma m√° ideia. √â
por isso que recomendamos coisas como m√∫ltiplos processos e
supervisores: o processo de queda e reinicializa√ß√£o √© frequentemente a
forma mais confi√°vel de se recuperar de um erro.</p>
<p>Tamb√©m n√£o recomendamos o uso de <a href="https://nodejs.org/api/domain.html">dom√≠nios</a>. Ele
geralmente n√£o resolve o problema e √© um m√≥dulo descontinuado.</p>
<p><a name="try-catch"></a></p>
<h4 id="use-try-catch">Use try-catch</h4>
<p>Try-catch √© uma constru√ß√£o da linguagem JavaScript que pode ser usada para capturar exce√ß√µes em um c√≥digo s√≠ncrono. Use try-catch, por exemplo, para tratar erros de an√°lise sint√°tica de JSON como mostrado abaixo.</p>
<p>Use uma ferramenta como o <a href="http://jshint.com/">JSHint</a> ou o
<a href="http://www.jslint.com/">JSLint</a> para ajud√°-lo a localizar exce√ß√µes impl√≠citas como
<a href="http://www.jshint.com/docs/options/#undef">erros de refer√™ncia em vari√°veis indefinidas</a>.</p>
<p>Aqui est√° um exemplo de uso de try-catch para tratar uma
potencial exce√ß√£o causadora de queda de processo.
Esta fun√ß√£o middleware aceita um par√¢metro de campo de consulta chamado ‚Äúparams‚Äù que √© um objeto JSON.</p>
<pre><code class="language-javascript" translate="no">
app.get('/search', function (req, res) {
  // Simulating async operation
  setImmediate(function () {
    var jsonStr = req.query.params;
    try {
      var jsonObj = JSON.parse(jsonStr);
      res.send('Success');
    } catch (e) {
      res.status(400).send('Invalid JSON string');
    }
  });
});
</code>
</pre>
<p>Entretanto, o try-catch funciona apenas para c√≥digos s√≠ncronos. Como
a plataforma Node √© a princ√≠pio ass√≠ncrona (particularmente em um ambiente de produ√ß√£o), o try-catch deixar√° de capturar muitas
exce√ß√µes.</p>
<p><a name="promises"></a></p>
<h4 id="use-promessas">Use promessas</h4>
<p>Promessas ir√£o tratar quaisquer exce√ß√µes (ambas expl√≠citas e impl√≠citas) em blocos de c√≥digos ass√≠ncronos que usem
<code>then()</code>. Apenas inclua <code>.catch(next)</code> no final da cadeia de promessas. Por exemplo:</p>
<pre><code class="language-javascript" translate="no">
app.get('/', function (req, res, next) {
  // do some sync stuff
  queryDb()
    .then(function (data) {
      // handle data
      return makeCsv(data)
    })
    .then(function (csv) {
      // handle csv
    })
    .catch(next);
});

app.use(function (err, req, res, next) {
  // handle error
});
</code>
</pre>
<p>Agora todos os erros ass√≠ncronos e s√≠ncronos s√£o propagados para o middleware de erros.</p>
<p>Entretanto, existem dois alertas:</p>
<ol>
<li>Todo seu c√≥digo ass√≠ncrono deve retornar promessas (exceto
emissores). Se uma biblioteca em particular n√£o retornar promessas,
converta o objeto base atrav√©s do uso de uma fun√ß√£o auxiliar como
<a href="http://bluebirdjs.com/docs/api/promise.promisifyall.html">Bluebird.promisifyAll()</a>.</li>
<li>Emissores de eventos (como fluxos) podem ainda causar
exce√ß√µes n√£o capturadas. Portanto certifique-se de que est√° tratando
o evento de erro apropriadamente; por exemplo:</li>
</ol>
<pre><code class="language-javascript" translate="no">
app.get('/', wrap(async (req, res, next) =&gt; {
  let company = await getCompanyById(req.query.id)
  let stream = getLogoStreamById(company.id)
  stream.on('error', next).pipe(res)
}))
</code>
</pre>
<p>Para obter mais informa√ß√µes sobre o manipula√ß√£o de erros usando
promessas, consulte:</p>
<ul>
<li><a href="https://strongloop.com/strongblog/async-error-handling-expressjs-es7-promises-generators/">Manipulando Erros
Ass√≠ncronos no Express com Promessas, Geradores e ES7</a></li>
<li><a href="https://strongloop.com/strongblog/promises-in-node-js-with-q-an-alternative-to-callbacks/">Promessas no Node.js com o Q ‚Äì Uma Alternativa a Retornos de Chamada</a></li>
</ul>
<p><a name="env"></a></p>
<h2 id="coisa-a-se-fazer-no-seu-ambiente--configura√ß√£o">Coisa a se fazer no seu ambiente / configura√ß√£o</h2>
<p>A seguir ser√£o apresentados alguns itens que podem ser feitos no seu ambiente de sistema para melhorar o desempenho dos seus aplicativos:</p>
<ul>
<li>Configure o NODE_ENV para ‚Äúprodu√ß√£o‚Äù</li>
<li>Assegure que o seu aplicativo reinicie automaticamente</li>
<li>Execute seu aplicativo em um cluster</li>
<li>Armazene em cache os resultados das solicita√ß√µes</li>
<li>Use um balanceador de carga</li>
<li>Use um proxy reverso</li>
</ul>
<h3 id="configure-o-node_env-para-produ√ß√£o">Configure o NODE_ENV para ‚Äúprodu√ß√£o‚Äù</h3>
<p>A vari√°vel de ambiente NODE_ENV especifica o ambiente no qual um aplicativo est√° executando (geralmente, desenvolvimento ou
produ√ß√£o). Uma das coisas mais simples que podem ser feitas para
melhorar o desempenho √© configurar NODE_ENV para ‚Äúprodu√ß√£o‚Äù.</p>
<p>Configurando NODE_ENV para ‚Äúprodu√ß√£o‚Äù faz com que o Express:</p>
<ul>
<li>Armazene em Cache os modelos de visualiza√ß√£o.</li>
<li>Armazene em Cache arquivos CSS gerados a partir de extens√µes CSS.</li>
<li>Gere menos mensagens de erro detalhadas</li>
</ul>
<p><a href="http://apmblog.dynatrace.com/2015/07/22/the-drastic-effects-of-omitting-node_env-in-your-express-js-applications/">Testes
indicam</a> que apenas fazendo isso pode melhorar o desempenho por um fator de tr√™s!</p>
<p>Se precisar escrever c√≥digo espec√≠fico por ambiente, √© poss√≠vel verificar o valor de NODE_ENV com <code>process.env.NODE_ENV</code>. Esteja
ciente de que verificar o valor de qualquer vari√°vel de ambiente incorre em perda de desempenho, e por isso deve ser feito raramente.</p>
<p>Em desenvolvimento, voc√™ tipicamente configura vari√°veis de ambiente no seu shell interativo, por exemplo, usando o
<code>export</code> ou o seu arquivo <code>.bash_profile</code>. Mas
em geral voc√™ n√£o deveria fazer isto em um servidor de produ√ß√£o; ao inv√©s disso, use o sistema de inicializa√ß√£o do seu sistema
operacional (systemd ou Upstart). A pr√≥xima se√ß√£o fornece mais detalhes sobre a utiliza√ß√£o do seu sistema de inicializa√ß√£o em geral,
mas configurando NODE_ENV √© t√£o importante para o desempenho (e f√°cil de fazer), que est√° destacado aqui.</p>
<p>Com o Upstart, use a palavra-chave <code>env</code> no
seu arquivo de tarefa. Por exemplo:</p>
<pre><code class="language-sh" translate="no">
# /etc/init/env.conf
 env NODE_ENV=production
</code>
</pre>
<p>Para obter mais informa√ß√µes, consulte o <a href="http://upstart.ubuntu.com/cookbook/#environment-variables">Introdu√ß√£o, Cookbook e Melhores Pr√°ticas para o Upstart</a>.</p>
<p>Com o systemd, use a diretiva <code>Environment</code> no seu arquivo de unidade. Por exemplo:</p>
<pre><code class="language-sh" translate="no">
# /etc/systemd/system/myservice.service
Environment=NODE_ENV=production
</code>
</pre>
<p>Para obter mais informa√ß√µes, consulte <a href="https://coreos.com/os/docs/latest/using-environment-variables-in-systemd-units.html">Usando
Vari√°veis de Ambiente em Unidades systemd</a>.</p>
<p>Se estiver usando o StrongLoop Process Manager, √© poss√≠vel tamb√©m
<a href="https://docs.strongloop.com/display/SLC/Setting+up+a+production+host#Settingupaproductionhost-Setenvironmentvariables">configurar
a vari√°vel de ambiente ao instalar o StrongLoop PM como um servi√ßo</a>.</p>
<h3 id="assegure-que-o-seu-aplicativo-reinicie-automaticamente">Assegure que o seu aplicativo reinicie automaticamente</h3>
<p>Em produ√ß√£o, n√£o √© desejado que seu aplicativo fique off-line,
nunca. Isto significa que √© necess√°rio certificar-se de que ele
reinicie tanto se o aplicativo cair quanto se o pr√≥prio servidor
cair. Apesar de se esperar que nenhum desses eventos ocorram,
realisticamente voc√™ deve considerar ambas as eventualidades:</p>
<ul>
<li>Usando um gerenciador de processos para reiniciar o aplicativo (e o Node) quando ele cair.</li>
<li>Usando o sistema de inicializa√ß√£o fornecido pelo seu sistema operacional para reiniciar o gerenciador de processos quando o
sistema operacional cair. Tamb√©m √© poss√≠vel usar o sistema de inicializa√ß√£o sem um gerenciador de processos.</li>
</ul>
<p>Aplicativos do Node caem se encontrarem uma exce√ß√£o n√£o
capturada. A principal coisa que precisa ser feita √© assegurar que o
seu aplicativo esteja bem testado e trate todas as exce√ß√µes (consulte
<a href="#exceptions">tratar exce√ß√µes adequadamente</a> para
obter detalhes). Mas por seguran√ßa, posicione um mecanismo para
assegurar que se e quando o seu aplicativo cair, ele ir√°
automaticamente reiniciar.</p>
<h4 id="use-um-gerenciador-de-processos">Use um gerenciador de processos</h4>
<p>Em desenvolvimento, voc√™ iniciou o seu aplicativo de forma simples a partir da linha de comandos com o <code>node server.js</code> ou
algo similar. Mas fazer isso na produ√ß√£o √© uma receita para o desastre. Se o aplicativo cair, ele ficar√° off-line at√© ser reiniciado. Para
assegurar que o seu aplicativo reinicie se ele cair, use um gerenciador de processos. Um
gerenciador de processos √© um ‚Äúcont√™iner‚Äù para aplicativos que facilita a implementa√ß√£o, fornece alta disponibilidade, e permite o
gerenciamento do aplicativo em tempo real.</p>
<p>Em adi√ß√£o √† reinicializa√ß√£o do seu aplicativo quando cai, um
gerenciador de processos pode permitir que voc√™:</p>
<ul>
<li>Ganhe insights sobre o desempenho em tempo de execu√ß√£o e o consumo de recursos.</li>
<li>Modifique configura√ß√µes dinamicamente para melhorar o desempenho.</li>
<li>Controle a clusteriza√ß√£o (StrongLoop PM e pm2).</li>
</ul>
<p>Os gerenciador de processos mais populares para o Node s√£o os
seguintes:</p>
<ul>
<li><a href="http://strong-pm.io/">StrongLoop Process Manager</a></li>
<li><a href="https://github.com/Unitech/pm2">PM2</a></li>
<li><a href="https://www.npmjs.com/package/forever">Forever</a></li>
</ul>
<p>Para uma compara√ß√£o recurso por recurso dos tr√™s gerenciadores
de processos, consulte <a href="http://strong-pm.io/compare/">http://strong-pm.io/compare/</a>. Para
obter uma introdu√ß√£o mais detalhada para todos os tr√™s, consulte <a href="pm.html">Gerenciadores de Processos para aplicativos do
Express</a>.</p>
<p>Usando qualquer um desses gerenciadores de processos ser√° o
suficiente para manter seu aplicativo funcionando, mesmo se ele cair
de tempos em tempos.</p>
<p>Entretanto, o StrongLoop PM possui v√°rios recursos que s√£o especificamente destinados para a implementa√ß√£o na produ√ß√£o. √â poss√≠vel us√°-lo e as ferramentas relacionadas do StrongLoop para:</p>
<ul>
<li>Construir e empacotar seu aplicativo localmente, em seguida
implemente-o seguramente para o seu sistema de produ√ß√£o.</li>
<li>Automaticamente reiniciar seu aplicativo se ele cair por qualquer raz√£o.</li>
<li>Gerenciar seus clusters remotamente.</li>
<li>Visualizar perfis de CPU e captura instant√¢nea de heap para
otimizar o desempenho e diagnosticar fugas de mem√≥ria.</li>
<li>Visualizar m√©tricas de desempenho para o seu aplicativo.</li>
<li>Facilmente escalar para m√∫ltiplos hosts com controle integrado para o balanceador de carga Nginx.</li>
</ul>
<p>Como explicado abaixo, ao instalar o StrongLoop PM como um servi√ßo do sistema operacional usando o seu sistema de
inicializa√ß√£o, ele ir√° automaticamente reiniciar quando o sistema reiniciar. Assim, ele ir√° manter seus processos do aplicativo e clusters ativos para sempre.</p>
<h4 id="use-um-sistema-de-inicializa√ß√£o">Use um sistema de inicializa√ß√£o</h4>
<p>A pr√≥xima camada de confiabilidade √© para assegurar que o seu
aplicativo reinicie quando o servidor reiniciar. Os sistemas podem
ainda assim cair por uma variedade de raz√µes. Para assegurar que o
seu aplicativo reinicie se o servidor cair, use o sistema de
inicializa√ß√£o integrado no seu sistema operacional. Os dois
principais sistemas de inicializa√ß√£o usados atualmente s√£o o
<a href="https://wiki.debian.org/systemd">systemd</a> e o <a href="http://upstart.ubuntu.com/">Upstart</a>.</p>
<p>Existem duas formas de usar sistemas de inicializa√ß√£o com o seu aplicativo Express:</p>
<ul>
<li>Executar o seu aplicativo em um gerenciador de processos, e instalar o gerenciador de processos com o sistema de inicializa√ß√£o. O gerenciador de processos ir√° reiniciar seu aplicativo quando o
aplicativo cair, e o sistema de inicializa√ß√£o ir√° reiniciar o
gerenciador de processos quando o sistema operacional reiniciar. Esta √© a abordagem recomendada.</li>
<li>Executar o seu aplicativo (e Node) diretamente com o sistema
de inicializa√ß√£o. Isto √© de certa forma mais simples, mas voc√™ n√£o
obt√©m as vantagens adicionais do uso de um gerenciador de processos.</li>
</ul>
<h5 id="systemd">Systemd</h5>
<p>O Systemd √© um sistema Linux e gerenciador de servi√ßo. A
maioria das distribui√ß√µes principais do Linux adotaram o systemd como
sistema de inicializa√ß√£o padr√£o.</p>
<p>Um arquivo de configura√ß√£o de servi√ßo do systemd √© chamado
de <em>arquivo de unidade</em>, com um nome de arquivo
terminando em .service. Aqui est√° um exemplo de arquivo de unidade
para gerenciar um aplicativo Node diretamente (substitua o texto em
negrito com valores para o seu sistema e aplicativo):</p>
<pre><code class="language-sh" translate="no">
[Unit]
Description=Awesome Express App

[Service]
Type=simple
ExecStart=/usr/local/bin/node /projects/myapp/index.js
WorkingDirectory=/projects/myapp

User=nobody
Group=nogroup

# Environment variables:
Environment=NODE_ENV=production

# Allow many incoming connections
LimitNOFILE=infinity

# Allow core dumps for debugging
LimitCORE=infinity

StandardInput=null
StandardOutput=syslog
StandardError=syslog
Restart=always

[Install]
WantedBy=multi-user.target
</code>
</pre>
<p>Para obter mais informa√ß√µes sobre o systemd, consulte a
<a href="http://www.freedesktop.org/software/systemd/man/systemd.unit.html">refer√™ncia
do systemd (p√°gina do manual)</a>.</p>
<h5 id="strongloop-pm-como-um-servi√ßo-do-systemd">StrongLoop PM como um servi√ßo do systemd</h5>
<p>√â poss√≠vel facilmente instalar o StrongLoop Process Manager
como um servi√ßo do systemd. Ap√≥s fazer isso, quando o servidor
reiniciar, ele ir√° automaticamente reiniciar o StrongLoop PM, que ir√°
ent√£o reiniciar todos os aplicativos que est√° gerenciando.</p>
<p>Para instalar o StrongLoop PM como um servi√ßo do systemd:</p>
<pre><code class="language-sh" translate="no">
$ sudo sl-pm-install --systemd
</code>
</pre>
<p>Em seguida inicie o servi√ßo com:</p>
<pre><code class="language-sh" translate="no">
$ sudo /usr/bin/systemctl start strong-pm
</code>
</pre>
<p>Para obter mais informa√ß√µes, consulte
<a href="https://docs.strongloop.com/display/SLC/Setting+up+a+production+host#Settingupaproductionhost-RHEL7+,Ubuntu15.04or15.10">Configurando
um host de produ√ß√£o (documenta√ß√£o do StrongLoop)</a>.</p>
<h5 id="upstart">Upstart</h5>
<p>O Upstart √© uma ferramenta de sistema dispon√≠vel em muitas distribui√ß√µes Linux para inicializa√ß√£o de tarefas e servi√ßos durante
a inicializa√ß√£o do sistema, parando-os durante o encerramento, e
supervisionando-os. √â poss√≠vel configurar seu aplicativo Express ou
gerenciador de processos como um servi√ßo e em seguida o Upstart ir√°
automaticamente reinici√°-lo quando ele cair.</p>
<p>Um servi√ßo do Upstart √© definido em um arquivo de configura√ß√£o de tarefa
(tamb√©m chamado de uma ‚Äútarefa‚Äù) com o nome do arquivo terminando com
<code>.conf</code>. O seguinte exemplo mostra como criar uma
tarefa chamada ‚Äúmyapp‚Äù para um aplicativo chamado ‚Äúmyapp‚Äù com o
arquivo principal localizado em <code>/projects/myapp/index.js</code>.</p>
<p>Crie um arquivo chamado <code>myapp.conf</code> em
<code>/etc/init/</code> com o seguinte conte√∫do (substitua o
texto em negrito com os valores para o seu sistema e aplicativo):</p>
<pre><code class="language-sh" translate="no">
# When to start the process
start on runlevel [2345]

# When to stop the process
stop on runlevel [016]

# Increase file descriptor limit to be able to handle more requests
limit nofile 50000 50000

# Use production mode
env NODE_ENV=production

# Run as www-data
setuid www-data
setgid www-data

# Run from inside the app dir
chdir /projects/myapp

# The process to start
exec /usr/local/bin/node /projects/myapp/index.js

# Restart the process if it is down
respawn

# Limit restart attempt to 10 times within 10 seconds
respawn limit 10 10
</code>
</pre>
<p>NOTA: Este script requer o Upstart 1.4 ou mais novo, suportado no Ubuntu 12.04-14.10.</p>
<p>Como a tarefa est√° configurada para executar quando o sistema
inicia, seu aplicativo ser√° iniciado juntamente com o sistema
operacional, e automaticamente reiniciado se o aplicativo ou o
sistema cair.</p>
<p>√Ä parte da reinicializa√ß√£o autom√°tica do aplicativo, o Upstart
permite que voc√™ use estes comandos:</p>
<ul>
<li><code>start myapp</code> ‚Äì Inicia o aplicativo</li>
<li><code>restart myapp</code> ‚Äì Reinicia o aplicativo</li>
<li><code>stop myapp</code> ‚Äì Para o aplicativo</li>
</ul>
<p>Para obter mais informa√ß√µes sobre o Upstart, consulte a
<a href="http://upstart.ubuntu.com/cookbook">Introdu√ß√£o, Cookbook,
e Melhores Pr√°ticas para o Upstart</a>.</p>
<h5 id="strongloop-pm-como-um-servi√ßo-do-upstart">StrongLoop PM como um servi√ßo do Upstart</h5>
<p>√â poss√≠vel facilmente instalar o StrongLoop Process Manager
como um servi√ßo do Upstart. Ap√≥s fazer isso, quando o servidor
reiniciar, ele ir√° automaticamente reiniciar o StrongLoop PM, que ir√°
ent√£o reiniciar todos os aplicativos que est√° gerenciando.</p>
<p>Para instalar o StrongLoop PM como um servi√ßo do Upstart 1.4:</p>
<pre><code class="language-sh" translate="no">
$ sudo sl-pm-install
</code>
</pre>
<p>Em seguida execute o servi√ßo com:</p>
<pre><code class="language-sh" translate="no">
$ sudo /sbin/initctl start strong-pm
</code>
</pre>
<p>NOTA: Em sistemas que n√£o suportam o Upstart 1.4, os comandos
s√£o ligeiramente diferentes. Consulte <a href="https://docs.strongloop.com/display/SLC/Setting+up+a+production+host#Settingupaproductionhost-RHELLinux5and6,Ubuntu10.04-.10,11.04-.10">Configurando
um host de produ√ß√£o (documenta√ß√£o do StrongLoop)</a> para obter mais informa√ß√µes.</p>
<h3 id="execute-seu-aplicativo-em-um-cluster">Execute seu aplicativo em um cluster</h3>
<p>Em um sistema com m√∫ltiplos n√∫cleos, √© poss√≠vel aumentar o
desempenho de um aplicativo Node em muitas vezes ativando um cluster
de processos. Um cluster executa m√∫ltiplas inst√¢ncias do aplicativo,
idealmente uma inst√¢ncia em cada n√∫cleo da CPU, assim distribuindo a carga e as
tarefas entre as inst√¢ncias.</p>

<p>IMPORTANTE: Como as inst√¢ncias do aplicativo s√£o executadas em processos separados, elas n√£o compartilham o mesmo espa√ßo de mem√≥ria. Isto √©, os objetos s√£o locais para cada inst√¢ncia do aplicativo. Portanto, n√£o √© poss√≠vel manter o estado no c√≥digo do aplicativo. Entretanto, √© poss√≠vel usar um armazenamento de dados em mem√≥ria como o <a href="http://redis.io/">Redis</a> para armazenar dados
relativos √† sess√£o e ao estado. Este alerta aplica-se a essencialmente todas as formas de escalonamento horizontal, seja a
clusteriza√ß√£o com m√∫ltiplos processos ou m√∫ltiplos servidores f√≠sicos.</p>
<p>Em aplicativos clusterizados, processos de trabalho podem cair individualmente sem afetar o restante dos processos. Fora as vantagens de desempenho, o isolamento de falhas √© outra raz√£o para executar um cluster de processos de aplicativos. Sempre que processo de trabalho cair, certifique-se de registrar os logs do evento e spawn um novo processo usando cluster.fork().</p>
<h4 id="usando-o-m√≥dulo-de-cluster-do-node">Usando o m√≥dulo de cluster do Node</h4>
<p>A clusteriza√ß√£o √© pode ser feita com o <a href="https://nodejs.org/docs/latest/api/cluster.html">m√≥dulo de
cluster</a> do Node. Isto permite que um processo principal fa√ßa o
spawn de processos de trabalho e distribua conex√µes recebidas entre
os trabalhadores. Entretanto, em vez de usar este m√≥dulo diretamente,
√© muito melhor usar uma das muitas ferramentas que fazem isso
automaticamente por voc√™; por exemplo o <a href="https://www.npmjs.com/package/node-pm">node-pm</a> ou
o <a href="https://www.npmjs.com/package/cluster-service">cluster-service</a>.</p>
<h4 id="usando-o-strongloop-pm">Usando o StrongLoop PM</h4>
<p>Se voc√™ implementar seu aplicativo no StrongLoop Process Manager
(PM), ent√£o √© poss√≠vel tirar vantagem da clusteriza√ß√£o
<em>sem</em> modificar o c√≥digo do seu aplicativo.</p>
<p>Quando o StrongLoop Process Manager (PM) executa um aplicativo,
ele automaticamente executa-o em um cluster com um n√∫mero de
trabalhadores igual ao n√∫mero de n√∫cleos de CPU do sistema. √â
poss√≠vel manualmente alterar o n√∫mero de processos de trabalho no
cluster usando a ferramenta de linha de comandos slc sem parar o
aplicativo.</p>
<p>Por exemplo, assumindo que tenha implementado o seu aplicativo
para prod.foo.com e o StrongLoop PM est√° escutando na porta 8701 (a
padr√£o), em seguida configurar o tamanho do cluster para oito usando
o slc:</p>
<pre><code class="language-sh" translate="no">
$ slc ctl -C http://prod.foo.com:8701 set-size my-app 8
</code>
</pre>
<p>Para obter mais informa√ß√µes sobre clusteriza√ß√£o com o StrongLoop
PM, consulte por <a href="https://docs.strongloop.com/display/SLC/Clustering">Clusteriza√ß√£o</a>
na documenta√ß√£o do StrongLoop.</p>
<h3 id="armazene-em-cache-os-resultados-das-solicita√ß√µes">Armazene em cache os resultados das solicita√ß√µes</h3>
<p>Outra estrat√©gia para melhorar o desempenho na produ√ß√£o √©
armazenar em cache o resultado de solicita√ß√µes, para que o seu
aplicativo n√£o repita a opera√ß√£o para entregar a mesma solicita√ß√£o
repetidamente.</p>
<p>Use um servidor de armazenamento em cache como o
<a href="https://www.varnish-cache.org/">Varnish</a> ou o
<a href="https://www.nginx.com/resources/wiki/start/topics/examples/reverseproxycachingexample/">Nginx</a>
(consulte tamb√©m <a href="https://serversforhackers.com/nginx-caching/">Armazenamento
em Cache no Nginx</a>) para melhorar imensamente a velocidade e o
desempenho do seu aplicativo.</p>
<h3 id="use-um-balanceador-de-carga">Use um balanceador de carga</h3>
<p>N√£o importa o qu√£o otimizado um aplicativo √©, uma √∫nica
inst√¢ncia pode manipular apenas uma quantidade limitada de carga e
tr√°fego. Uma maneira de escalar um aplicativo √© executar m√∫ltiplas
inst√¢ncias do mesmo e distribuir o tr√°fego atrav√©s de um balanceador
de carga. Configurar um balanceador de carga pode melhorar o
desempenho e velocidade do aplicativo, e permiti-lo escalar mais do
que √© poss√≠vel com uma inst√¢ncia √∫nica.</p>
<p>Um balanceador de carga √© geralmente um proxy reverso que
orquestra o tr√°fego para e de m√∫ltiplas inst√¢ncias de aplicativo e
servidores. √â poss√≠vel facilmente configurar um balanceador de carga
para o seu aplicativo usando o <a href="http://nginx.org/en/docs/http/load_balancing.html">Nginx</a>
ou o <a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-haproxy-and-load-balancing-concepts">HAProxy</a>.</p>
<p>Com o balanceamento de carga, voc√™ pode ter que garantir que
solicita√ß√µes que est√£o associadas com um ID de sess√£o em particular
conectam ao processo que as originou. Isto √© conhecido como
<em>afinidade de sess√£o</em>, ou <em>sess√µes
pegajosas</em>, e podem ser endere√ßadas pela sugest√£o acima para
usar um armazenamento de dados como o Redis para os dados da sess√£o
(dependendo do seu aplicativo). Para uma discuss√£o, consulte por
<a href="http://socket.io/docs/using-multiple-nodes/">Usando
m√∫ltiplos n√≥s</a>.</p>
<h4 id="usando-o-strongloop-pm-com-um-balanceador-de-carga-nginx">Usando o StrongLoop PM com um balanceador de carga Nginx</h4>
<p>O <a href="http://strong-pm.io/">StrongLoop Process
Manager</a> √© integrado com um Controlador Nginx, tornando mais
f√°cil a configurar configura√ß√µes de ambientes de produ√ß√£o com
m√∫ltiplos hosts. Para obter mais informa√ß√µes, consulte por
<a href="https://docs.strongloop.com/display/SLC/Scaling+to+multiple+servers">Escalando
para servidores m√∫ltiplos</a> (documenta√ß√£o do StrongLoop).
<a name="proxy"></a></p>
<h3 id="use-um-proxy-reverso">Use um proxy reverso</h3>
<p>Um proxy reverso fica em frente a um aplicativo web e executa
opera√ß√µes de suporte nas solicita√ß√µes, fora o direcionamento de
solicita√ß√µes para o aplicativo. Ele pode lidar com p√°ginas de erro,
compacta√ß√£o, armazenamento em cache, entrega de arquivos, e
balanceamento de carga entre outras coisas.</p>
<p>Entregar tarefas que n√£o requerem conhecimento do estado do
aplicativo para um proxy reverso libera o Express para executar
tarefas especializadas de aplicativos. Por esta raz√£o, √© recomendado
executar o Express atr√°s de um proxy reverso como o
<a href="https://www.nginx.com/">Nginx</a> ou o
<a href="http://www.haproxy.org/">HAProxy</a> na produ√ß√£o.</p>
</div>
</section>

<noscript>
    <iframe src="http://www.googletagmanager.com/ns.html?id=GTM-5XL76H" height="0" width="0" style="display: none; visibility: hidden;"></iframe>
</noscript>
<script type="bfcd607126b12bd7e394221c-text/javascript">
(function(w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({
        'gtm.start': new Date().getTime(),
        event: 'gtm.js'
    });
    var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != 'dataLayer' ? '&l=' + l : '';
    j.async = true;
    j.src =
        '../../../www.googletagmanager.com/gtm5445.js?id=' + i + dl;
    f.parentNode.insertBefore(j, f);
})(window, document, 'script', 'dataLayer', 'GTM-5XL76H');
</script>
<a id="top" href="#"><img src="../../images/arrow.png"></a>
<footer>
<div id="footer-content">
<div id="github">
<iframe src="http://ghbtns.com/github-btn.html?user=expressjs&amp;repo=express&amp;type=watch&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="110" height="20"></iframe>
</div>
<div id="sponsor"><a href="https://github.com/expressjs/express">Express</a> √© um projeto da Funda√ß√£o Node.js.</div>
<div id="fork">
<a href="https://github.com/expressjs/expressjs.com">Crie um Fork do website no GitHub</a>.
</div>
<div>Copyright &copy; StrongLoop, Inc., e outros
contribuidores do expressjs.com.</div>
<div id="license">
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/us/"><img alt="Licen√ßa Creative Commons" style="border-width:0" src="../../../i.creativecommons.org/l/by-sa/3.0/us/80x15.png" /></a> Este obra est√° licenciado com uma Licen√ßa <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/us/">Creative Commons Atribui√ß√£o-CompartilhaIgual 3.0 Estados Unidos</a>.
</div>
</div>
</footer>
<script type="bfcd607126b12bd7e394221c-text/javascript" src="../../../cdn.jsdelivr.net/npm/docsearch.js%402/dist/cdn/docsearch.min.js" onload="docsearch({
  apiKey: '7164e33055faa6ecddefd9e08fc59f5d',
  indexName: 'expressjs',
  inputSelector: '#q',
  algoliaOptions: { 'facetFilters': ['lang:pt-br'] }
})" async></script>
<script src="../../../ajax.cloudflare.com/cdn-cgi/scripts/a2bd7673/cloudflare-static/rocket-loader.min.js" data-cf-settings="bfcd607126b12bd7e394221c-|49" defer=""></script></body>

<!-- Mirrored from expressjs.com/pt-br/advanced/best-practice-performance.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 10 Jul 2019 00:23:54 GMT -->
</html>
