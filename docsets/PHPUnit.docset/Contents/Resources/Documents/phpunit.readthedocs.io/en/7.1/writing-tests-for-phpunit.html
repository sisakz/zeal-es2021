<html><!--<![endif]--><!-- Mirrored from phpunit.readthedocs.io/en/7.1/writing-tests-for-phpunit.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Jul 2018 16:54:05 GMT --><head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Writing Tests for PHPUnit</title>
  

  
  
  
  

  

  
  
    

  

  
  <link rel="stylesheet" href="_static/pygments.css" type="text/css">
  <link rel="stylesheet" href="../../../media.readthedocs.org/css/sphinx_rtd_theme.css" type="text/css">
    <link rel="index" title="Index" href="genindex.html">
    <link rel="search" title="Search" href="search.html">
    <link rel="copyright" title="Copyright" href="copyright.html">
    <link rel="next" title="3. The Command-Line Test Runner" href="textui.html">
    <link rel="prev" title="1. Installing PHPUnit" href="installation.html"> 

  
  <script src="_static/js/modernizr.min.js"></script>


<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="writing-tests-for-phpunit.html">

<link rel="stylesheet" href="../../../media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css">

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'writing-tests-for-phpunit'
READTHEDOCS_DATA['source_suffix'] = '.rst'
</script>

<script type="text/javascript" src="../../../media.readthedocs.org/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index-2.html" class="icon icon-home"> PHPUnit
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://phpunit.readthedocs.io/en/7.1/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installing PHPUnit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#php-archive-phar">PHP Archive (PHAR)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation.html#windows">Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#verifying-phpunit-phar-releases">Verifying PHPUnit PHAR Releases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#composer">Composer</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#optional-packages">Optional packages</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Writing Tests for PHPUnit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#test-dependencies">Test Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-providers">Data Providers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing-exceptions">Testing Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing-php-errors">Testing PHP Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing-output">Testing Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="#error-output">Error output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#edge-cases">Edge cases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="textui.html">3. The Command-Line Test Runner</a><ul>
<li class="toctree-l2"><a class="reference internal" href="textui.html#command-line-options">Command-Line Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="textui.html#testdox">TestDox</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fixtures.html">4. Fixtures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fixtures.html#more-setup-than-teardown">More setUp() than tearDown()</a></li>
<li class="toctree-l2"><a class="reference internal" href="fixtures.html#variations">Variations</a></li>
<li class="toctree-l2"><a class="reference internal" href="fixtures.html#sharing-fixture">Sharing Fixture</a></li>
<li class="toctree-l2"><a class="reference internal" href="fixtures.html#global-state">Global State</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="organizing-tests.html">5. Organizing Tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="organizing-tests.html#composing-a-test-suite-using-the-filesystem">Composing a Test Suite Using the Filesystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="organizing-tests.html#composing-a-test-suite-using-xml-configuration">Composing a Test Suite Using XML Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="risky-tests.html">6. Risky Tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="risky-tests.html#useless-tests">Useless Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="risky-tests.html#unintentionally-covered-code">Unintentionally Covered Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="risky-tests.html#output-during-test-execution">Output During Test Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="risky-tests.html#test-execution-timeout">Test Execution Timeout</a></li>
<li class="toctree-l2"><a class="reference internal" href="risky-tests.html#global-state-manipulation">Global State Manipulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="incomplete-and-skipped-tests.html">7. Incomplete and Skipped Tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="incomplete-and-skipped-tests.html#incomplete-tests">Incomplete Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="incomplete-and-skipped-tests.html#skipping-tests">Skipping Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="incomplete-and-skipped-tests.html#skipping-tests-using-requires">Skipping Tests using @requires</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="database.html">8. Database Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="database.html#supported-vendors-for-database-testing">Supported Vendors for Database Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html#difficulties-in-database-testing">Difficulties in Database Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html#the-four-stages-of-a-database-test">The four stages of a database test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="database.html#clean-up-database">1. Clean-Up Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#set-up-fixture">2. Set up fixture</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#run-test-verify-outcome-and-teardown">3–5. Run Test, Verify outcome and Teardown</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database.html#configuration-of-a-phpunit-database-testcase">Configuration of a PHPUnit Database TestCase</a><ul>
<li class="toctree-l3"><a class="reference internal" href="database.html#implementing-getconnection">Implementing getConnection()</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#implementing-getdataset">Implementing getDataSet()</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#what-about-the-database-schema-ddl">What about the Database Schema (DDL)?</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#tip-use-your-own-abstract-database-testcase">Tip: Use your own Abstract Database TestCase</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database.html#understanding-datasets-and-datatables">Understanding DataSets and DataTables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="database.html#available-implementations">Available Implementations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="database.html#flat-xml-dataset">Flat XML DataSet</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html#xml-dataset">XML DataSet</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html#mysql-xml-dataset">MySQL XML DataSet</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html#yaml-dataset">YAML DataSet</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html#csv-dataset">CSV DataSet</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html#array-dataset">Array DataSet</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html#query-sql-dataset">Query (SQL) DataSet</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html#database-db-dataset">Database (DB) Dataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html#replacement-dataset">Replacement DataSet</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html#dataset-filter">DataSet Filter</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html#composite-dataset">Composite DataSet</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="database.html#beware-of-foreign-keys">Beware of Foreign Keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#implementing-your-own-datasets-datatables">Implementing your own DataSets/DataTables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database.html#using-the-database-connection-api">Using the Database Connection API</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html#database-assertions-api">Database Assertions API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="database.html#asserting-the-row-count-of-a-table">Asserting the Row-Count of a Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#asserting-the-state-of-a-table">Asserting the State of a Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#asserting-the-result-of-a-query">Asserting the Result of a Query</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#asserting-the-state-of-multiple-tables">Asserting the State of Multiple Tables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database.html#frequently-asked-questions">Frequently Asked Questions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="database.html#will-phpunit-re-create-the-database-schema-for-each-test">Will PHPUnit (re-)create the database schema for each test?</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#am-i-required-to-use-pdo-in-my-application-for-the-database-extension-to-work">Am I required to use PDO in my application for the Database Extension to work?</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#what-can-i-do-when-i-get-a-too-much-connections-error">What can I do, when I get a “Too much Connections“ Error?</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html#how-to-handle-null-with-flat-xml-csv-datasets">How to handle NULL with Flat XML / CSV Datasets?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="test-doubles.html">9. Test Doubles</a><ul>
<li class="toctree-l2"><a class="reference internal" href="test-doubles.html#stubs">Stubs</a></li>
<li class="toctree-l2"><a class="reference internal" href="test-doubles.html#mock-objects">Mock Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="test-doubles.html#prophecy">Prophecy</a></li>
<li class="toctree-l2"><a class="reference internal" href="test-doubles.html#mocking-traits-and-abstract-classes">Mocking Traits and Abstract Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="test-doubles.html#stubbing-and-mocking-web-services">Stubbing and Mocking Web Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="test-doubles.html#mocking-the-filesystem">Mocking the Filesystem</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="code-coverage-analysis.html">10. Code Coverage Analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="code-coverage-analysis.html#software-metrics-for-code-coverage">Software Metrics for Code Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="code-coverage-analysis.html#whitelisting-files">Whitelisting Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="code-coverage-analysis.html#ignoring-code-blocks">Ignoring Code Blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="code-coverage-analysis.html#specifying-covered-methods">Specifying Covered Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="code-coverage-analysis.html#edge-cases">Edge Cases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">11. Logging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logging.html#test-results-xml">Test Results (XML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html#code-coverage-xml">Code Coverage (XML)</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html#code-coverage-text">Code Coverage (TEXT)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extending-phpunit.html">12. Extending PHPUnit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="extending-phpunit.html#subclass-phpunit-framework-testcase">Subclass PHPUnit\Framework\TestCase</a></li>
<li class="toctree-l2"><a class="reference internal" href="extending-phpunit.html#write-custom-assertions">Write custom assertions</a></li>
<li class="toctree-l2"><a class="reference internal" href="extending-phpunit.html#implement-phpunit-framework-testlistener">Implement PHPUnit\Framework\TestListener</a></li>
<li class="toctree-l2"><a class="reference internal" href="extending-phpunit.html#implement-phpunitframeworktest">Implement PHPUnitFrameworkTest</a></li>
<li class="toctree-l2"><a class="reference internal" href="extending-phpunit.html#extending-the-testrunner">Extending the TestRunner</a><ul>
<li class="toctree-l3"><a class="reference internal" href="extending-phpunit.html#available-hook-interfaces">Available Hook Interfaces</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="assertions.html">1. Assertions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#static-vs-non-static-usage-of-assertion-methods">Static vs. Non-Static Usage of Assertion Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertarrayhaskey">assertArrayHasKey()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertclasshasattribute">assertClassHasAttribute()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertarraysubset">assertArraySubset()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertclasshasstaticattribute">assertClassHasStaticAttribute()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertcontains">assertContains()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertcontainsonly">assertContainsOnly()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertcontainsonlyinstancesof">assertContainsOnlyInstancesOf()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertcount">assertCount()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertdirectoryexists">assertDirectoryExists()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertdirectoryisreadable">assertDirectoryIsReadable()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertdirectoryiswritable">assertDirectoryIsWritable()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertempty">assertEmpty()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertequalxmlstructure">assertEqualXMLStructure()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertequals">assertEquals()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertfalse">assertFalse()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertfileequals">assertFileEquals()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertfileexists">assertFileExists()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertfileisreadable">assertFileIsReadable()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertfileiswritable">assertFileIsWritable()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertgreaterthan">assertGreaterThan()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertgreaterthanorequal">assertGreaterThanOrEqual()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertinfinite">assertInfinite()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertinstanceof">assertInstanceOf()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertinternaltype">assertInternalType()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertisreadable">assertIsReadable()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertiswritable">assertIsWritable()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertjsonfileequalsjsonfile">assertJsonFileEqualsJsonFile()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertjsonstringequalsjsonfile">assertJsonStringEqualsJsonFile()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertjsonstringequalsjsonstring">assertJsonStringEqualsJsonString()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertlessthan">assertLessThan()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertlessthanorequal">assertLessThanOrEqual()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertnan">assertNan()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertnull">assertNull()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertobjecthasattribute">assertObjectHasAttribute()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertregexp">assertRegExp()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertstringmatchesformat">assertStringMatchesFormat()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertstringmatchesformatfile">assertStringMatchesFormatFile()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertsame">assertSame()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertstringendswith">assertStringEndsWith()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertstringequalsfile">assertStringEqualsFile()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertstringstartswith">assertStringStartsWith()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertthat">assertThat()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#asserttrue">assertTrue()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertxmlfileequalsxmlfile">assertXmlFileEqualsXmlFile()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertxmlstringequalsxmlfile">assertXmlStringEqualsXmlFile()</a></li>
<li class="toctree-l2"><a class="reference internal" href="assertions.html#assertxmlstringequalsxmlstring">assertXmlStringEqualsXmlString()</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="annotations.html">2. Annotations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#author">@author</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#after">@after</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#afterclass">@afterClass</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#backupglobals">@backupGlobals</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#backupstaticattributes">@backupStaticAttributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#before">@before</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#beforeclass">@beforeClass</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#codecoverageignore">@codeCoverageIgnore*</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#covers">@covers</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#coversdefaultclass">@coversDefaultClass</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#coversnothing">@coversNothing</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#dataprovider">@dataProvider</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#depends">@depends</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#doesnotperformassertions">@doesNotPerformAssertions</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#expectedexception">@expectedException</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#expectedexceptioncode">@expectedExceptionCode</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#expectedexceptionmessage">@expectedExceptionMessage</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#expectedexceptionmessageregexp">@expectedExceptionMessageRegExp</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#group">@group</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#large">@large</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#medium">@medium</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#preserveglobalstate">@preserveGlobalState</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#requires">@requires</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#runtestsinseparateprocesses">@runTestsInSeparateProcesses</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#runinseparateprocess">@runInSeparateProcess</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#small">@small</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#test">@test</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#testdox">@testdox</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#testwith">@testWith</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#ticket">@ticket</a></li>
<li class="toctree-l2"><a class="reference internal" href="annotations.html#uses">@uses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">3. The XML Configuration File</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#phpunit">PHPUnit</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#test-suites">Test Suites</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#groups">Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#whitelisting-files-for-code-coverage">Whitelisting Files for Code Coverage</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#logging">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#test-listeners">Test Listeners</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#registering-testrunner-extensions">Registering TestRunner Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#setting-php-ini-settings-constants-and-global-variables">Setting PHP INI settings, Constants and Global Variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">4. Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="copyright.html">5. Copyright</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index-2.html">PHPUnit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index-2.html">Docs</a> »</li>
        
      <li>2. Writing Tests for PHPUnit</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/sebastianbergmann/phpunit-documentation-english//7.1/src/writing-tests-for-phpunit.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="writing-tests-for-phpunit">
<span id="id1"></span><h1>2. Writing Tests for PHPUnit</h1>
<p><a class="reference internal" href="#writing-tests-for-phpunit-examples-stacktest-php"><span class="std std-numref">Example 2.1</span></a> shows
how we can write tests using PHPUnit that exercise PHP’s array operations.
The example introduces the basic conventions and steps for writing tests
with PHPUnit:</p>
<ol class="arabic">
<li><p class="first">The tests for a class <code class="docutils literal"><span class="pre">Class</span></code> go into a class <code class="docutils literal"><span class="pre">ClassTest</span></code>.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">ClassTest</span></code> inherits (most of the time) from <code class="docutils literal"><span class="pre">PHPUnit\Framework\TestCase</span></code>.</p>
</li>
<li><p class="first">The tests are public methods that are named <code class="docutils literal"><span class="pre">test*</span></code>.</p>
<p>Alternatively, you can use the <code class="docutils literal"><span class="pre">@test</span></code> annotation in a method’s docblock to mark it as a test method.</p>
</li>
<li><p class="first">Inside the test methods, assertion methods such as <code class="docutils literal"><span class="pre">assertSame()</span></code> (see <a class="reference internal" href="assertions.html#appendixes-assertions"><span class="std std-ref">Assertions</span></a>) are used to assert that an actual value matches an expected value.</p>
</li>
</ol>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-examples-stacktest-php">
<div class="code-block-caption"><span class="caption-number">Example 2.1 </span><span class="caption-text">Testing array operations with PHPUnit</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">StackTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testPushAndPop</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$stack</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$stack</span><span class="p">));</span>

        <span class="nb">array_push</span><span class="p">(</span><span class="nv">$stack</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">,</span> <span class="nv">$stack</span><span class="p">[</span><span class="nb">count</span><span class="p">(</span><span class="nv">$stack</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$stack</span><span class="p">));</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">,</span> <span class="nb">array_pop</span><span class="p">(</span><span class="nv">$stack</span><span class="p">));</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$stack</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="line-block">
<div class="line"><em>Martin Fowler</em>:</div>
</div>
<blockquote>
<div>Whenever you are tempted to type something into a
<code class="docutils literal"><span class="pre">print</span></code> statement or a debugger expression, write it
as a test instead.</div></blockquote>
<div class="section" id="test-dependencies">
<a class="dashAnchor" name="//apple_ref/Section/Test%20Dependencies"></a><span id="writing-tests-for-phpunit-test-dependencies"></span><h2>Test Dependencies</h2>
<blockquote>
<div><p><em>Adrian Kuhn et. al.</em>:</p>
<p>Unit Tests are primarily written as a good practice to help developers
identify and fix bugs, to refactor code and to serve as documentation
for a unit of software under test. To achieve these benefits, unit tests
ideally should cover all the possible paths in a program. One unit test
usually covers one specific path in one function or method. However a
test method is not necessarily an encapsulated, independent entity. Often
there are implicit dependencies between test methods, hidden in the
implementation scenario of a test.</p>
</div></blockquote>
<p>PHPUnit supports the declaration of explicit dependencies between test
methods. Such dependencies do not define the order in which the test
methods are to be executed but they allow the returning of an instance of
the test fixture by a producer and passing it to the dependent consumers.</p>
<ul class="simple">
<li>A producer is a test method that yields its unit under test as return value.</li>
<li>A consumer is a test method that depends on one or more producers and their return values.</li>
</ul>
<p><a class="reference internal" href="#writing-tests-for-phpunit-examples-stacktest2-php"><span class="std std-numref">Example 2.2</span></a> shows
how to use the <code class="docutils literal"><span class="pre">@depends</span></code> annotation to express
dependencies between test methods.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-examples-stacktest2-php">
<div class="code-block-caption"><span class="caption-number">Example 2.2 </span><span class="caption-text">Using the <code class="docutils literal"><span class="pre">@depends</span></code> annotation to express dependencies</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">StackTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testEmpty</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$stack</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEmpty</span><span class="p">(</span><span class="nv">$stack</span><span class="p">);</span>

        <span class="k">return</span> <span class="nv">$stack</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @depends testEmpty</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testPush</span><span class="p">(</span><span class="k">array</span> <span class="nv">$stack</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nb">array_push</span><span class="p">(</span><span class="nv">$stack</span><span class="p">,</span> <span class="s1">'foo'</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">,</span> <span class="nv">$stack</span><span class="p">[</span><span class="nb">count</span><span class="p">(</span><span class="nv">$stack</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertNotEmpty</span><span class="p">(</span><span class="nv">$stack</span><span class="p">);</span>

        <span class="k">return</span> <span class="nv">$stack</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @depends testPush</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testPop</span><span class="p">(</span><span class="k">array</span> <span class="nv">$stack</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">,</span> <span class="nb">array_pop</span><span class="p">(</span><span class="nv">$stack</span><span class="p">));</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEmpty</span><span class="p">(</span><span class="nv">$stack</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>In the example above, the first test, <code class="docutils literal"><span class="pre">testEmpty()</span></code>,
creates a new array and asserts that it is empty. The test then returns
the fixture as its result. The second test, <code class="docutils literal"><span class="pre">testPush()</span></code>,
depends on <code class="docutils literal"><span class="pre">testEmpty()</span></code> and is passed the result of that
depended-upon test as its argument. Finally, <code class="docutils literal"><span class="pre">testPop()</span></code>
depends upon <code class="docutils literal"><span class="pre">testPush()</span></code>.</p>
<div class="admonition-note admonition">
<p class="first admonition-title">Note</p>
<p class="last">The return value yielded by a producer is passed “as-is” to its
consumers by default. This means that when a producer returns an object,
a reference to that object is passed to the consumers. Instead of
a reference either (a) a (deep) copy via <code class="docutils literal"><span class="pre">@depends</span> <span class="pre">clone</span></code>, or (b) a
(normal shallow) clone (based on PHP keyword <code class="docutils literal"><span class="pre">clone</span></code>) via
<code class="docutils literal"><span class="pre">@depends</span> <span class="pre">shallowClone</span></code> are possible too.</p>
</div>
<p>To quickly localize defects, we want our attention to be focussed on
relevant failing tests. This is why PHPUnit skips the execution of a test
when a depended-upon test has failed. This improves defect localization by
exploiting the dependencies between tests as shown in
<a class="reference internal" href="#writing-tests-for-phpunit-examples-dependencyfailuretest-php"><span class="std std-numref">Example 2.3</span></a>.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-examples-dependencyfailuretest-php">
<div class="code-block-caption"><span class="caption-number">Example 2.3 </span><span class="caption-text">Exploiting the dependencies between tests</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DependencyFailureTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testOne</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @depends testOne</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testTwo</span><span class="p">()</span>
    <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit --verbose DependencyFailureTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

FS

Time: <span class="m">0</span> seconds, Memory: <span class="m">5</span>.00Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> DependencyFailureTest::testOne
Failed asserting that <span class="nb">false</span> is true.

/home/sb/DependencyFailureTest.php:6

There was <span class="m">1</span> skipped test:

<span class="m">1</span><span class="o">)</span> DependencyFailureTest::testTwo
This <span class="nb">test</span> depends on <span class="s2">"DependencyFailureTest::testOne"</span> to pass.

FAILURES!
Tests: <span class="m">1</span>, Assertions: <span class="m">1</span>, Failures: <span class="m">1</span>, Skipped: <span class="m">1</span>.
</pre></div>
</div>
<p>A test may have more than one <code class="docutils literal"><span class="pre">@depends</span></code> annotation.
PHPUnit does not change the order in which tests are executed, you have to
ensure that the dependencies of a test can actually be met before the test
is run.</p>
<p>A test that has more than one <code class="docutils literal"><span class="pre">@depends</span></code> annotation
will get a fixture from the first producer as the first argument, a fixture
from the second producer as the second argument, and so on.
See <a class="reference internal" href="#writing-tests-for-phpunit-examples-multipledependencies-php"><span class="std std-numref">Example 2.4</span></a></p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-examples-multipledependencies-php">
<div class="code-block-caption"><span class="caption-number">Example 2.4 </span><span class="caption-text">Test with multiple dependencies</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">MultipleDependenciesTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testProducerFirst</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
        <span class="k">return</span> <span class="s1">'first'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testProducerSecond</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
        <span class="k">return</span> <span class="s1">'second'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @depends testProducerFirst</span>
<span class="sd">     * @depends testProducerSecond</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testConsumer</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s1">'first'</span><span class="p">,</span> <span class="nv">$a</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="s1">'second'</span><span class="p">,</span> <span class="nv">$b</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit --verbose MultipleDependenciesTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

...

Time: <span class="m">0</span> seconds, Memory: <span class="m">3</span>.25Mb

OK <span class="o">(</span><span class="m">3</span> tests, <span class="m">3</span> assertions<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="data-providers">
<a class="dashAnchor" name="//apple_ref/Section/Data%20Providers"></a><span id="writing-tests-for-phpunit-data-providers"></span><h2>Data Providers</h2>
<p>A test method can accept arbitrary arguments. These arguments are to be
provided by one ore more data provider methods (<code class="docutils literal"><span class="pre">additionProvider()</span></code> in
<a class="reference internal" href="#writing-tests-for-phpunit-data-providers-examples-datatest-php"><span class="std std-numref">Example 2.5</span></a>).
The data provider method to be used is specified using the
<code class="docutils literal"><span class="pre">@dataProvider</span></code> annotation.</p>
<p>A data provider method must be <code class="docutils literal"><span class="pre">public</span></code> and either return
an array of arrays or an object that implements the <code class="docutils literal"><span class="pre">Iterator</span></code>
interface and yields an array for each iteration step. For each array that
is part of the collection the test method will be called with the contents
of the array as its arguments.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-data-providers-examples-datatest-php">
<div class="code-block-caption"><span class="caption-number">Example 2.5 </span><span class="caption-text">Using a data provider that returns an array of arrays</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DataTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @dataProvider additionProvider</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testAdd</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nv">$expected</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="nv">$expected</span><span class="p">,</span> <span class="nv">$a</span> <span class="o">+</span> <span class="nv">$b</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">additionProvider</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit DataTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

...F

Time: <span class="m">0</span> seconds, Memory: <span class="m">5</span>.75Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> DataTest::testAdd with data <span class="nb">set</span> <span class="c1">#3 (1, 1, 3)</span>
Failed asserting that <span class="m">2</span> is identical to <span class="m">3</span>.

/home/sb/DataTest.php:9

FAILURES!
Tests: <span class="m">4</span>, Assertions: <span class="m">4</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
<p>When using a large number of datasets it’s useful to name each one with string key instead of default numeric.
Output will be more verbose as it’ll contain that name of a dataset that breaks a test.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-data-providers-examples-datatest1-php">
<div class="code-block-caption"><span class="caption-number">Example 2.6 </span><span class="caption-text">Using a data provider with named datasets</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DataTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @dataProvider additionProvider</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testAdd</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nv">$expected</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="nv">$expected</span><span class="p">,</span> <span class="nv">$a</span> <span class="o">+</span> <span class="nv">$b</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">additionProvider</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="s1">'adding zeros'</span>  <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="s1">'zero plus one'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="s1">'one plus zero'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="s1">'one plus one'</span>  <span class="o">=&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit DataTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

...F

Time: <span class="m">0</span> seconds, Memory: <span class="m">5</span>.75Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> DataTest::testAdd with data <span class="nb">set</span> <span class="s2">"one plus one"</span> <span class="o">(</span><span class="m">1</span>, <span class="m">1</span>, <span class="m">3</span><span class="o">)</span>
Failed asserting that <span class="m">2</span> is identical to <span class="m">3</span>.

/home/sb/DataTest.php:9

FAILURES!
Tests: <span class="m">4</span>, Assertions: <span class="m">4</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-data-providers-examples-datatest2-php">
<div class="code-block-caption"><span class="caption-number">Example 2.7 </span><span class="caption-text">Using a data provider that returns an Iterator object</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">require</span> <span class="s1">'CsvFileIterator.php'</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DataTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @dataProvider additionProvider</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testAdd</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nv">$expected</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="nv">$expected</span><span class="p">,</span> <span class="nv">$a</span> <span class="o">+</span> <span class="nv">$b</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">additionProvider</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">CsvFileIterator</span><span class="p">(</span><span class="s1">'data.csv'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit DataTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

...F

Time: <span class="m">0</span> seconds, Memory: <span class="m">5</span>.75Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> DataTest::testAdd with data <span class="nb">set</span> <span class="c1">#3 ('1', '1', '3')</span>
Failed asserting that <span class="m">2</span> is identical to <span class="m">3</span>.

/home/sb/DataTest.php:11

FAILURES!
Tests: <span class="m">4</span>, Assertions: <span class="m">4</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-data-providers-examples-csvfileiterator-php">
<div class="code-block-caption"><span class="caption-number">Example 2.8 </span><span class="caption-text">The CsvFileIterator class</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">CsvFileIterator</span> <span class="k">implements</span> <span class="nx">Iterator</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$file</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$key</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$current</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="nv">$file</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">file</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="nv">$file</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__destruct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nb">fclose</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">file</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">rewind</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nb">rewind</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">file</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">current</span> <span class="o">=</span> <span class="nb">fgetcsv</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">file</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">key</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">valid</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="o">!</span><span class="nb">feof</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">file</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">key</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">key</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">current</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">current</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">next</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">current</span> <span class="o">=</span> <span class="nb">fgetcsv</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">file</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">key</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>When a test receives input from both a <code class="docutils literal"><span class="pre">@dataProvider</span></code>
method and from one or more tests it <code class="docutils literal"><span class="pre">@depends</span></code> on, the
arguments from the data provider will come before the ones from
depended-upon tests. The arguments from depended-upon tests will be the
same for each data set.
See <a class="reference internal" href="#writing-tests-for-phpunit-data-providers-examples-dependencyanddataprovidercombo-php"><span class="std std-numref">Example 2.9</span></a></p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-data-providers-examples-dependencyanddataprovidercombo-php">
<div class="code-block-caption"><span class="caption-number">Example 2.9 </span><span class="caption-text">Combination of @depends and @dataProvider in same test</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DependencyAndDataProviderComboTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">provider</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[[</span><span class="s1">'provider1'</span><span class="p">],</span> <span class="p">[</span><span class="s1">'provider2'</span><span class="p">]];</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testProducerFirst</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
        <span class="k">return</span> <span class="s1">'first'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testProducerSecond</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
        <span class="k">return</span> <span class="s1">'second'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @depends testProducerFirst</span>
<span class="sd">     * @depends testProducerSecond</span>
<span class="sd">     * @dataProvider provider</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testConsumer</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span>
            <span class="p">[</span><span class="s1">'provider1'</span><span class="p">,</span> <span class="s1">'first'</span><span class="p">,</span> <span class="s1">'second'</span><span class="p">],</span>
            <span class="nb">func_get_args</span><span class="p">()</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit --verbose DependencyAndDataProviderComboTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

...F

Time: <span class="m">0</span> seconds, Memory: <span class="m">3</span>.50Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> DependencyAndDataProviderComboTest::testConsumer with data <span class="nb">set</span> <span class="c1">#1 ('provider2')</span>
Failed asserting that two arrays are identical.
--- Expected
+++ Actual
@@ @@
Array <span class="p">&amp;</span><span class="m">0</span> <span class="o">(</span>
-    <span class="nv">0</span> <span class="o">=</span>&gt; <span class="s1">'provider1'</span>
+    <span class="nv">0</span> <span class="o">=</span>&gt; <span class="s1">'provider2'</span>
     <span class="nv">1</span> <span class="o">=</span>&gt; <span class="s1">'first'</span>
     <span class="nv">2</span> <span class="o">=</span>&gt; <span class="s1">'second'</span>
<span class="o">)</span>
/home/sb/DependencyAndDataProviderComboTest.php:32

FAILURES!
Tests: <span class="m">4</span>, Assertions: <span class="m">4</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-data-providers-examples2-datatest-php">
<div class="code-block-caption"><span class="caption-number">Example 2.10 </span><span class="caption-text">Using multiple data providers for a single test</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">DataTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @dataProvider additionWithNonNegativeNumbersProvider</span>
<span class="sd">     * @dataProvider additionWithNegativeNumbersProvider</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testAdd</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nv">$expected</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span><span class="nv">$expected</span><span class="p">,</span> <span class="nv">$a</span> <span class="o">+</span> <span class="nv">$b</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">additionWithNonNegativeNumbersProvider</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
        <span class="p">];</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">additionWithNegativeNumbersProvider</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="p">];</span>
    <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit DataTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

..F...                                                              <span class="m">6</span> / <span class="m">6</span> <span class="o">(</span><span class="m">100</span>%<span class="o">)</span>

Time: <span class="m">0</span> seconds, Memory: <span class="m">5</span>.75Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> DataTest::testAdd with data <span class="nb">set</span> <span class="c1">#3 (1, 1, 3)</span>
Failed asserting that <span class="m">2</span> is identical to <span class="m">3</span>.

/home/sb/DataTest.php:12

FAILURES!
Tests: <span class="m">6</span>, Assertions: <span class="m">6</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
<div class="admonition-note admonition">
<p class="first admonition-title">Note</p>
<p class="last">When a test depends on a test that uses data providers, the depending
test will be executed when the test it depends upon is successful for at
least one data set. The result of a test that uses data providers cannot
be injected into a depending test.</p>
</div>
<div class="admonition-note admonition">
<p class="first admonition-title">Note</p>
<p class="last">All data providers are executed before both the call to the <code class="docutils literal"><span class="pre">setUpBeforeClass</span></code>
static method and the first call to the <code class="docutils literal"><span class="pre">setUp</span></code> method.
Because of that you can’t access any variables you create there from
within a data provider. This is required in order for PHPUnit to be able
to compute the total number of tests.</p>
</div>
</div>
<div class="section" id="testing-exceptions">
<a class="dashAnchor" name="//apple_ref/Section/Testing%20Exceptions"></a><span id="writing-tests-for-phpunit-exceptions"></span><h2>Testing Exceptions</h2>
<p><a class="reference internal" href="#writing-tests-for-phpunit-exceptions-examples-exceptiontest-php"><span class="std std-numref">Example 2.11</span></a>
shows how to use the <code class="docutils literal"><span class="pre">expectException()</span></code> method to test
whether an exception is thrown by the code under test.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-exceptions-examples-exceptiontest-php">
<div class="code-block-caption"><span class="caption-number">Example 2.11 </span><span class="caption-text">Using the expectException() method</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ExceptionTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testException</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">expectException</span><span class="p">(</span><span class="nx">InvalidArgumentException</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit ExceptionTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

F

Time: <span class="m">0</span> seconds, Memory: <span class="m">4</span>.75Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> ExceptionTest::testException
Failed asserting that exception of <span class="nb">type</span> <span class="s2">"InvalidArgumentException"</span> is thrown.

FAILURES!
Tests: <span class="m">1</span>, Assertions: <span class="m">1</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
<p>In addition to the <code class="docutils literal"><span class="pre">expectException()</span></code> method the
<code class="docutils literal"><span class="pre">expectExceptionCode()</span></code>,
<code class="docutils literal"><span class="pre">expectExceptionMessage()</span></code>, and
<code class="docutils literal"><span class="pre">expectExceptionMessageRegExp()</span></code> methods exist to set up
expectations for exceptions raised by the code under test.</p>
<div class="admonition-note admonition">
<p class="first admonition-title">Note</p>
<p class="last">Note that expectExceptionMessage asserts that the <code class="docutils literal"><span class="pre">$actual</span></code>
message contains the <code class="docutils literal"><span class="pre">$expected</span></code> message and doesn’t perform
an exact string comparison.</p>
</div>
<p>Alternatively, you can use the <code class="docutils literal"><span class="pre">@expectedException</span></code>,
<code class="docutils literal"><span class="pre">@expectedExceptionCode</span></code>,
<code class="docutils literal"><span class="pre">@expectedExceptionMessage</span></code>, and
<code class="docutils literal"><span class="pre">@expectedExceptionMessageRegExp</span></code> annotations to set up
expectations for exceptions raised by the code under test.
<a class="reference internal" href="#writing-tests-for-phpunit-exceptions-examples-exceptiontest2-php"><span class="std std-numref">Example 2.12</span></a>
shows an example.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-exceptions-examples-exceptiontest2-php">
<div class="code-block-caption"><span class="caption-number">Example 2.12 </span><span class="caption-text">Using the @expectedException annotation</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ExceptionTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @expectedException InvalidArgumentException</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testException</span><span class="p">()</span>
    <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit ExceptionTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

F

Time: <span class="m">0</span> seconds, Memory: <span class="m">4</span>.75Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> ExceptionTest::testException
Failed asserting that exception of <span class="nb">type</span> <span class="s2">"InvalidArgumentException"</span> is thrown.

FAILURES!
Tests: <span class="m">1</span>, Assertions: <span class="m">1</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
</div>
<div class="section" id="testing-php-errors">
<a class="dashAnchor" name="//apple_ref/Section/Testing%20PHP%20Errors"></a><span id="writing-tests-for-phpunit-errors"></span><h2>Testing PHP Errors</h2>
<p>By default, PHPUnit converts PHP errors, warnings, and notices that are
triggered during the execution of a test to an exception. Using these
exceptions, you can, for instance, expect a test to trigger a PHP error as
shown in <a class="reference internal" href="#writing-tests-for-phpunit-exceptions-examples-errortest-php"><span class="std std-numref">Example 2.13</span></a>.</p>
<div class="admonition-note admonition">
<p class="first admonition-title">Note</p>
<p class="last">PHP’s <code class="docutils literal"><span class="pre">error_reporting</span></code> runtime configuration can
limit which errors PHPUnit will convert to exceptions. If you are
having issues with this feature, be sure PHP is not configured to
suppress the type of errors you’re testing.</p>
</div>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-exceptions-examples-errortest-php">
<div class="code-block-caption"><span class="caption-number">Example 2.13 </span><span class="caption-text">Expecting a PHP error using @expectedException</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ExpectedErrorTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @expectedException PHPUnit\Framework\Error\Error</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testFailingInclude</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">include</span> <span class="s1">'not_existing_file.php'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit -d <span class="nv">error_reporting</span><span class="o">=</span><span class="m">2</span> ExpectedErrorTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

.

Time: <span class="m">0</span> seconds, Memory: <span class="m">5</span>.25Mb

OK <span class="o">(</span><span class="m">1</span> test, <span class="m">1</span> assertion<span class="o">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">PHPUnit\Framework\Error\Notice</span></code> and
<code class="docutils literal"><span class="pre">PHPUnit\Framework\Error\Warning</span></code> represent PHP notices
and warnings, respectively.</p>
<div class="admonition-note admonition">
<p class="first admonition-title">Note</p>
<p class="last">You should be as specific as possible when testing exceptions. Testing
for classes that are too generic might lead to undesirable
side-effects. Accordingly, testing for the <code class="docutils literal"><span class="pre">Exception</span></code>
class with <code class="docutils literal"><span class="pre">@expectedException</span></code> or
<code class="docutils literal"><span class="pre">expectException()</span></code> is no longer permitted.</p>
</div>
<p>When testing that relies on PHP functions that trigger errors like
<code class="docutils literal"><span class="pre">fopen</span></code> it can sometimes be useful to use error
suppression while testing. This allows you to check the return values by
suppressing notices that would lead to a PHPUnit
<code class="docutils literal"><span class="pre">PHPUnit\Framework\Error\Notice</span></code>.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-exceptions-examples-triggererrorreturnvalue-php">
<div class="code-block-caption"><span class="caption-number">Example 2.14 </span><span class="caption-text">Testing return values of code that uses PHP Errors</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ErrorSuppressionTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testFileWriting</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FileWriter</span><span class="p">;</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertFalse</span><span class="p">(</span><span class="o">@</span><span class="nv">$writer</span><span class="o">-&gt;</span><span class="na">write</span><span class="p">(</span><span class="s1">'/is-not-writeable/file'</span><span class="p">,</span> <span class="s1">'stuff'</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">FileWriter</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">write</span><span class="p">(</span><span class="nv">$file</span><span class="p">,</span> <span class="nv">$content</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$file</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="nv">$file</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="nv">$file</span> <span class="o">==</span> <span class="k">false</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit ErrorSuppressionTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

.

Time: <span class="m">1</span> seconds, Memory: <span class="m">5</span>.25Mb

OK <span class="o">(</span><span class="m">1</span> test, <span class="m">1</span> assertion<span class="o">)</span>
</pre></div>
</div>
<p>Without the error suppression the test would fail reporting
<code class="docutils literal"><span class="pre">fopen(/is-not-writeable/file):</span> <span class="pre">failed</span> <span class="pre">to</span> <span class="pre">open</span> <span class="pre">stream:</span> <span class="pre">No</span> <span class="pre">such</span> <span class="pre">file</span> <span class="pre">or</span> <span class="pre">directory</span></code>.</p>
</div>
<div class="section" id="testing-output">
<a class="dashAnchor" name="//apple_ref/Section/Testing%20Output"></a><span id="writing-tests-for-phpunit-output"></span><h2>Testing Output</h2>
<p>Sometimes you want to assert that the execution of a method, for
instance, generates an expected output (via <code class="docutils literal"><span class="pre">echo</span></code> or
<code class="docutils literal"><span class="pre">print</span></code>, for example). The
<code class="docutils literal"><span class="pre">PHPUnit\Framework\TestCase</span></code> class uses PHP’s
<a class="reference external" href="http://www.php.net/manual/en/ref.outcontrol.php">Output
Buffering</a> feature to provide the functionality that is
necessary for this.</p>
<p><a class="reference internal" href="#writing-tests-for-phpunit-output-examples-outputtest-php"><span class="std std-numref">Example 2.15</span></a>
shows how to use the <code class="docutils literal"><span class="pre">expectOutputString()</span></code> method to
set the expected output. If this expected output is not generated, the
test will be counted as a failure.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-output-examples-outputtest-php">
<div class="code-block-caption"><span class="caption-number">Example 2.15 </span><span class="caption-text">Testing the output of a function or method</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">OutputTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testExpectFooActualFoo</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">expectOutputString</span><span class="p">(</span><span class="s1">'foo'</span><span class="p">);</span>
        <span class="k">print</span> <span class="s1">'foo'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">testExpectBarActualBaz</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">expectOutputString</span><span class="p">(</span><span class="s1">'bar'</span><span class="p">);</span>
        <span class="k">print</span> <span class="s1">'baz'</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit OutputTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

.F

Time: <span class="m">0</span> seconds, Memory: <span class="m">5</span>.75Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> OutputTest::testExpectBarActualBaz
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-<span class="s1">'bar'</span>
+<span class="s1">'baz'</span>

FAILURES!
Tests: <span class="m">2</span>, Assertions: <span class="m">2</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
<p><a class="reference internal" href="#writing-tests-for-phpunit-output-tables-api"><span class="std std-numref">Table 2.1</span></a>
shows the methods provided for testing output</p>
<table border="1" class="table docutils" id="writing-tests-for-phpunit-output-tables-api">
<caption><span class="caption-number">Table 2.1 </span><span class="caption-text">Methods for testing output</span></caption>
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">void</span> <span class="pre">expectOutputRegex(string</span> <span class="pre">$regularExpression)</span></code></td>
<td>Set up the expectation that the output matches a <code class="docutils literal"><span class="pre">$regularExpression</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">void</span> <span class="pre">expectOutputString(string</span> <span class="pre">$expectedString)</span></code></td>
<td>Set up the expectation that the output is equal to an <code class="docutils literal"><span class="pre">$expectedString</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">bool</span> <span class="pre">setOutputCallback(callable</span> <span class="pre">$callback)</span></code></td>
<td>Sets up a callback that is used to, for instance, normalize the actual output.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">string</span> <span class="pre">getActualOutput()</span></code></td>
<td>Get the actual output.</td>
</tr>
</tbody>
</table>
<div class="admonition-note admonition">
<p class="first admonition-title">Note</p>
<p class="last">A test that emits output will fail in strict mode.</p>
</div>
</div>
<div class="section" id="error-output">
<a class="dashAnchor" name="//apple_ref/Section/Error%20output"></a><span id="writing-tests-for-phpunit-error-output"></span><h2>Error output</h2>
<p>Whenever a test fails PHPUnit tries its best to provide you with as much
context as possible that can help to identify the problem.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-error-output-examples-arraydifftest-php">
<div class="code-block-caption"><span class="caption-number">Example 2.16 </span><span class="caption-text">Error output generated when an array comparison fails</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ArrayDiffTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testEquality</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit ArrayDiffTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

F

Time: <span class="m">0</span> seconds, Memory: <span class="m">5</span>.25Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> ArrayDiffTest::testEquality
Failed asserting that two arrays are identical.
--- Expected
+++ Actual
@@ @@
 Array <span class="o">(</span>
     <span class="nv">0</span> <span class="o">=</span>&gt; <span class="m">1</span>
     <span class="nv">1</span> <span class="o">=</span>&gt; <span class="m">2</span>
-    <span class="nv">2</span> <span class="o">=</span>&gt; <span class="m">3</span>
+    <span class="nv">2</span> <span class="o">=</span>&gt; <span class="m">33</span>
     <span class="nv">3</span> <span class="o">=</span>&gt; <span class="m">4</span>
     <span class="nv">4</span> <span class="o">=</span>&gt; <span class="m">5</span>
     <span class="nv">5</span> <span class="o">=</span>&gt; <span class="m">6</span>
 <span class="o">)</span>

/home/sb/ArrayDiffTest.php:7

FAILURES!
Tests: <span class="m">1</span>, Assertions: <span class="m">1</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
<p>In this example only one of the array values differs and the other values
are shown to provide context on where the error occurred.</p>
<p>When the generated output would be long to read PHPUnit will split it up
and provide a few lines of context around every difference.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-error-output-examples-longarraydifftest-php">
<div class="code-block-caption"><span class="caption-number">Example 2.17 </span><span class="caption-text">Error output when an array comparison of an long array fails</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">LongArrayDiffTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testEquality</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertSame</span><span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit LongArrayDiffTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

F

Time: <span class="m">0</span> seconds, Memory: <span class="m">5</span>.25Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> LongArrayDiffTest::testEquality
Failed asserting that two arrays are identical.
--- Expected
+++ Actual
@@ @@
     <span class="nv">11</span> <span class="o">=</span>&gt; <span class="m">0</span>
     <span class="nv">12</span> <span class="o">=</span>&gt; <span class="m">1</span>
     <span class="nv">13</span> <span class="o">=</span>&gt; <span class="m">2</span>
-    <span class="nv">14</span> <span class="o">=</span>&gt; <span class="m">3</span>
+    <span class="nv">14</span> <span class="o">=</span>&gt; <span class="m">33</span>
     <span class="nv">15</span> <span class="o">=</span>&gt; <span class="m">4</span>
     <span class="nv">16</span> <span class="o">=</span>&gt; <span class="m">5</span>
     <span class="nv">17</span> <span class="o">=</span>&gt; <span class="m">6</span>
 <span class="o">)</span>

/home/sb/LongArrayDiffTest.php:7

FAILURES!
Tests: <span class="m">1</span>, Assertions: <span class="m">1</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
<div class="section" id="edge-cases">
<a class="dashAnchor" name="//apple_ref/Section/Edge%20cases"></a><span id="writing-tests-for-phpunit-error-output-edge-cases"></span><h3>Edge cases</h3>
<p>When a comparison fails PHPUnit creates textual representations of the
input values and compares those. Due to that implementation a diff
might show more problems than actually exist.</p>
<p>This only happens when using assertEquals or other ‘weak’ comparison
functions on arrays or objects.</p>
<div class="literal-block-wrapper docutils container" id="writing-tests-for-phpunit-error-output-edge-cases-examples-arrayweakcomparisontest-php">
<div class="code-block-caption"><span class="caption-number">Example 2.18 </span><span class="caption-text">Edge case in the diff generation when using weak comparison</span></div>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">use</span> <span class="nx">PHPUnit\Framework\TestCase</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ArrayWeakComparisonTest</span> <span class="k">extends</span> <span class="nx">TestCase</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">testEquality</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span>
            <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
            <span class="p">[</span><span class="s1">'1'</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">33</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ phpunit ArrayWeakComparisonTest
PHPUnit <span class="p">|</span>version<span class="p">|</span>.0 by Sebastian Bergmann and contributors.

F

Time: <span class="m">0</span> seconds, Memory: <span class="m">5</span>.25Mb

There was <span class="m">1</span> failure:

<span class="m">1</span><span class="o">)</span> ArrayWeakComparisonTest::testEquality
Failed asserting that two arrays are equal.
--- Expected
+++ Actual
@@ @@
 Array <span class="o">(</span>
-    <span class="nv">0</span> <span class="o">=</span>&gt; <span class="m">1</span>
+    <span class="nv">0</span> <span class="o">=</span>&gt; <span class="s1">'1'</span>
     <span class="nv">1</span> <span class="o">=</span>&gt; <span class="m">2</span>
-    <span class="nv">2</span> <span class="o">=</span>&gt; <span class="m">3</span>
+    <span class="nv">2</span> <span class="o">=</span>&gt; <span class="m">33</span>
     <span class="nv">3</span> <span class="o">=</span>&gt; <span class="m">4</span>
     <span class="nv">4</span> <span class="o">=</span>&gt; <span class="m">5</span>
     <span class="nv">5</span> <span class="o">=</span>&gt; <span class="m">6</span>
 <span class="o">)</span>

/home/sb/ArrayWeakComparisonTest.php:7

FAILURES!
Tests: <span class="m">1</span>, Assertions: <span class="m">1</span>, Failures: <span class="m">1</span>.
</pre></div>
</div>
<p>In this example the difference in the first index between
<code class="docutils literal"><span class="pre">1</span></code> and <code class="docutils literal"><span class="pre">'1'</span></code> is
reported even though <code class="docutils literal"><span class="pre">assertEquals()</span></code> method considers the values as a match.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="textui.html" class="btn btn-neutral float-right" title="3. The Command-Line Test Runner" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="1. Installing PHPUnit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr>

  <div role="contentinfo">
    <p>
        © <a href="copyright.html">Copyright</a> 2018, Sebastian Bergmann.
      
        <span class="commit">
          Revision <code>25b86e5f</code>.
        </span>
      

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: 7.1
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://phpunit.readthedocs.io/en/latest/">latest</a></dd>
        
          <dd><a href="index.html">7.1</a></dd>
        
          <dd><a href="https://phpunit.readthedocs.io/en/7.0/">7.0</a></dd>
        
          <dd><a href="https://phpunit.readthedocs.io/en/master/">master</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="http://readthedocs.org/projects/phpunit/downloads/pdf/7.1/">pdf</a></dd>
        
          <dd><a href="http://readthedocs.org/projects/phpunit/downloads/htmlzip/7.1/">htmlzip</a></dd>
        
          <dd><a href="http://readthedocs.org/projects/phpunit/downloads/epub/7.1/">epub</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="http://readthedocs.org/projects/phpunit/?fromdocs=phpunit">Project Home</a>
          </dd>
          <dd>
            <a href="http://readthedocs.org/builds/phpunit/?fromdocs=phpunit">Builds</a>
          </dd>
      </dl>
      <hr>
      Free document hosting provided by <a href="http://www.readthedocs.org/">Read the Docs</a>.

    </div>
  </div>



  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'7.1',
            LANGUAGE:'en',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../media.readthedocs.org/javascript/jquery/jquery-2.0.3.min.js"></script>
      <script type="text/javascript" src="../../../media.readthedocs.org/javascript/jquery/jquery-migrate-1.2.1.min.js"></script>
      <script type="text/javascript" src="../../../media.readthedocs.org/javascript/underscore.js"></script>
      <script type="text/javascript" src="../../../media.readthedocs.org/javascript/doctools.js"></script>
      <script type="text/javascript" src="../../../media.readthedocs.org/javascript/readthedocs-doc-embed.js"></script>

  

  
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 



<!-- Mirrored from phpunit.readthedocs.io/en/7.1/writing-tests-for-phpunit.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Jul 2018 16:54:05 GMT -->
</body></html>