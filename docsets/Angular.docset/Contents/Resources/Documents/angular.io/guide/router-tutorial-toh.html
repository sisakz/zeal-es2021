<html><!-- Online page at https://angular.io/guide/router-tutorial-toh --><head><meta charset="utf-8"><title>Router tutorial: tour of heroes</title><link rel="stylesheet" href="../css_1.css" type="text/css"><link rel="stylesheet" href="../css_2.css" type="text/css"><link rel="stylesheet" href="../css_3.css" type="text/css"><link rel="stylesheet" href="../css_4.css" type="text/css"><link rel="stylesheet" href="../css_5.css" type="text/css"><link rel="stylesheet" href="../css_6.css" type="text/css"><link rel="stylesheet" href="../css_7.css" type="text/css"><link rel="stylesheet" href="../css_8.css" type="text/css"><link rel="stylesheet" href="../css_9.css" type="text/css"><link rel="stylesheet" href="../css_10.css" type="text/css"><link rel="stylesheet" href="../css_11.css" type="text/css"><link rel="stylesheet" href="../css_12.css" type="text/css"><link rel="stylesheet" href="../css_13.css" type="text/css"><link rel="stylesheet" href="../css_14.css" type="text/css"><script type="text/javascript" src="../js_1.js"></script><script type="text/javascript" src="../js_2.js"></script><script type="text/javascript" src="../js_3.js"></script><script type="text/javascript" src="../js_4.js"></script><script type="text/javascript" src="../js_5.js"></script><script type="text/javascript" src="../js_6.js"></script><script type="text/javascript" src="../js_7.js"></script></head><body>

  <aio-shell ng-version="13.2.2" class="aio-notification-hide folder-guide mode-stable page-guide-router-tutorial-toh sidenav-closed view-SideNav"><div id="top-of-page"></div><aio-cookies-popup><div class="cookies-popup no-print ng-star-inserted"><h2 class="visually-hidden">Cookies concent notice</h2> This site uses cookies from Google to deliver its services and to analyze traffic. <div class="actions"><a mat-button="" href="https://policies.google.com/technologies/cookies" target="_blank" rel="noopener" class="mat-focus-indicator mat-button mat-button-base" tabindex="0" aria-disabled="false"><span class="mat-button-wrapper"> Learn more </span><span matripple="" class="mat-ripple mat-button-ripple"></span><span class="mat-button-focus-overlay"></span></a><button mat-button="" class="mat-focus-indicator mat-button mat-button-base"><span class="mat-button-wrapper"> OK, got it </span><span matripple="" class="mat-ripple mat-button-ripple"></span><span class="mat-button-focus-overlay"></span></button></div></div><!----></aio-cookies-popup><a href="#main-content" class="skip-to-content-link">Skip to main content</a><!----><mat-toolbar color="primary" class="mat-toolbar app-toolbar no-print mat-primary mat-toolbar-multiple-rows"><mat-toolbar-row class="mat-toolbar-row notification-container"><aio-notification notificationid="survey-january-2022" expirationdate="2022-02-01" class="ng-tns-c23-0 ng-trigger ng-trigger-hideAnimation ng-star-inserted" style="display: none; height: 0px;"><span class="content ng-tns-c23-0"><a href="https://stateofjs.com/" class="ng-tns-c23-0"><mat-icon role="img" svgicon="insert_comment" aria-label="Announcement" class="mat-icon notranslate icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="insert_comment"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path>
  <path d="M0 0h24v24H0z" fill="none"></path>
</svg></mat-icon><span class="message">Share your experience with Angular in <b>The State of JavaScript</b></span><span class="action-button">Go to survey</span></a></span><button mat-icon-button="" aria-label="Close" class="mat-focus-indicator close-button ng-tns-c23-0 mat-icon-button mat-button-base"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="close" aria-label="Dismiss notification" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="close"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
  <path d="M0 0h24v24H0z" fill="none"></path>
</svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></button></aio-notification></mat-toolbar-row><mat-toolbar-row class="mat-toolbar-row"><button mat-button="" title="Docs menu" class="mat-focus-indicator hamburger mat-button mat-button-base"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="menu" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="menu"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path>
</svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple"></span><span class="mat-button-focus-overlay"></span></button><a href="../../angular.io.html" class="nav-link home"><!----><img src="../assets/images/logos/angular/shield-large.svg" width="37" height="40" title="Home" alt="Home" class="ng-star-inserted"><!----></a><!----><aio-search-box class="search-container"><input type="search" aria-label="search" placeholder="Search"><!----></aio-search-box><aio-theme-toggle><button mat-icon-button="" type="button" class="mat-focus-indicator mat-icon-button mat-button-base" title="Switch to dark mode" aria-label="Switch to dark mode"><span class="mat-button-wrapper"><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font"> dark_mode </mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></button></aio-theme-toggle><div class="toolbar-external-icons-container"><a mat-icon-button="" href="https://twitter.com/angular" title="Twitter" aria-label="Angular on twitter" class="mat-focus-indicator mat-icon-button mat-button-base" tabindex="0" aria-disabled="false"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="logos:twitter" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="twitter" data-mat-icon-namespace="logos"><svg focusable="false" viewBox="0 0 50 59" xmlns="http://www.w3.org/2000/svg">
  <path d="M50,9.3c-1.8,0.8-3.8,1.4-5.9,1.6c2.1-1.3,3.7-3.3,4.5-5.7c-2,1.2-4.2,2-6.5,2.5c-1.9-2-4.5-3.2-7.5-3.2
           c-5.7,0-10.3,4.6-10.3,10.3c0,0.8,0.1,1.6,0.3,2.3C16.1,16.7,8.5,12.6,3.5,6.4c-0.9,1.5-1.4,3.3-1.4,5.2c0,3.6,1.8,6.7,4.6,8.5
           C5,20,3.4,19.6,2,18.8c0,0,0,0.1,0,0.1c0,5,3.5,9.1,8.2,10.1c-0.9,0.2-1.8,0.4-2.7,0.4c-0.7,0-1.3-0.1-1.9-0.2
           c1.3,4.1,5.1,7,9.6,7.1c-3.5,2.8-7.9,4.4-12.7,4.4c-0.8,0-1.6,0-2.4-0.1c4.5,2.9,9.9,4.6,15.7,4.6c18.9,0,29.2-15.6,29.2-29.2
           c0-0.4,0-0.9,0-1.3C46.9,13.2,48.6,11.4,50,9.3z"></path>
</svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></a><a mat-icon-button="" href="https://github.com/angular/angular" title="GitHub" aria-label="Angular on github" class="mat-focus-indicator mat-icon-button mat-button-base" tabindex="0" aria-disabled="false"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="logos:github" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="github" data-mat-icon-namespace="logos"><svg focusable="false" viewBox="0 0 51.8 50.4" xmlns="http://www.w3.org/2000/svg">
  <path d="M25.9,0.2C11.8,0.2,0.3,11.7,0.3,25.8c0,11.3,7.3,20.9,17.5,24.3c1.3,0.2,1.7-0.6,1.7-1.2c0-0.6,0-2.6,0-4.8
           c-7.1,1.5-8.6-3-8.6-3c-1.2-3-2.8-3.7-2.8-3.7c-2.3-1.6,0.2-1.6,0.2-1.6c2.6,0.2,3.9,2.6,3.9,2.6c2.3,3.9,6,2.8,7.5,2.1
           c0.2-1.7,0.9-2.8,1.6-3.4c-5.7-0.6-11.7-2.8-11.7-12.7c0-2.8,1-5.1,2.6-6.9c-0.3-0.7-1.1-3.3,0.3-6.8c0,0,2.1-0.7,7,2.6
           c2-0.6,4.2-0.9,6.4-0.9c2.2,0,4.4,0.3,6.4,0.9c4.9-3.3,7-2.6,7-2.6c1.4,3.5,0.5,6.1,0.3,6.8c1.6,1.8,2.6,4.1,2.6,6.9
           c0,9.8-6,12-11.7,12.6c0.9,0.8,1.7,2.4,1.7,4.7c0,3.4,0,6.2,0,7c0,0.7,0.5,1.5,1.8,1.2c10.2-3.4,17.5-13,17.5-24.3
           C51.5,11.7,40.1,0.2,25.9,0.2z"></path>
</svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></a><a mat-icon-button="" href="https://youtube.com/angular" title="YouTube" aria-label="Angular on YouTube" class="mat-focus-indicator mat-icon-button mat-button-base" tabindex="0" aria-disabled="false"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="logos:youtube" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="youtube" data-mat-icon-namespace="logos"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77
           C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42
           c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"></path>
</svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></a></div></mat-toolbar-row></mat-toolbar><!----><mat-sidenav-container role="main" class="mat-drawer-container mat-sidenav-container sidenav-container"><div class="mat-drawer-backdrop ng-star-inserted"></div><!----><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav tabindex="-1" class="mat-drawer mat-sidenav sidenav ng-tns-c19-1 ng-trigger ng-trigger-transform collapsed mat-drawer-over ng-star-inserted" style="box-shadow: none; visibility: hidden;"><div cdkscrollable="" class="mat-drawer-inner-container ng-tns-c19-1"><aio-nav-menu class="ng-star-inserted" style=""><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="About Angular." aria-pressed="false"><span>About Angular</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="../features.html" title="Features."><span>Features</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="../resources.html" title="Resources."><span>Resources</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="../events.html" title="Events."><span>Events</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="https://blog.angular.io/" title="Blog."><span>Blog</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></aio-nav-menu><!----><aio-nav-menu class="ng-tns-c19-1"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed" href="../docs.html" title="Welcome to the Angular documentation set."><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Set up your environment and learn basic concepts" aria-pressed="false"><span>Getting Started</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./what-is-angular.html" title="A brief description of the Angular platform."><span>What is Angular?</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Examine and work with a ready-made sample app, with no setup." aria-pressed="false"><span>Try it</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../start.html" title="Take a look at Angular's component model, template syntax, and component communication."><span>Getting started</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../start/start-routing.html" title="Navigate among different page views using the browser's URL."><span>Adding navigation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../start/start-data.html" title="Use services and access external data via HTTP."><span>Managing Data</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../start/start-forms.html" title="Learn about fetching and managing data from users with forms."><span>Using Forms for User Input</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../start/start-deployment.html" title="Move to local development, or deploy your application to Firebase or your own server."><span>Deploying an application</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./setup-local.html" title="Setting up for local development with the Angular CLI."><span>Setup</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Learn the essential concepts to become a proficient Angular developer." aria-pressed="false"><span>Understanding Angular</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./understanding-angular-overview.html" title="Learn about the most common parts of an Angular application."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Learn more about how to use data binding to build dynamic views" aria-pressed="false"><span>Components</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./component-overview.html" title="Overview of how to create Angular components."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./lifecycle-hooks.html" title="Angular calls lifecycle hook methods on directives and components as it creates, changes, and destroys them."><span>Component Lifecycle</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./view-encapsulation.html" title="Describes how component CSS styles are encapsulated into a component's view."><span>View Encapsulation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./component-interaction.html" title="Share information between different directives and components."><span>Component Interaction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./component-styles.html" title="Add CSS styles that are specific to a component."><span>Component Styles</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./inputs-outputs.html" title="Introductory guide to sharing data between parent and child directives or components."><span>Sharing data between child and parent directives and components</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./content-projection.html" title="Learn how to create reusable components using Angular's content projection feature."><span>Content Projection</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./dynamic-component-loader.html" title="Load components dynamically."><span>Dynamic Components</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./elements.html" title="Convert components to Custom Elements."><span>Angular Elements</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Syntax to use in templates for binding, expressions, and directives." aria-pressed="false"><span>Templates</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./template-syntax.html" title="Introduction to writing templates that display data and consume user events with the help of data binding."><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./interpolation.html" title="An introduction to interpolation and expressions in HTML."><span>Text interpolation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./template-statements.html" title="Introductory guide to statements in templates that respond to events that components, directives, or elements raise."><span>Template statements</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./pipes.html" title="Pipes transform displayed values within a template."><span>Pipes</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./property-binding.html" title="Introductory guide to setting element or input properties."><span>Property binding</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./attribute-binding.html" title="Introductory guide to setting the value of HTML attributes."><span>Attribute, class, and style bindings</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./event-binding.html" title="Introductory guide to listening for user interaction."><span>Event binding</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./two-way-binding.html" title="Introductory guide to sharing data between a class and a template."><span>Two-way binding</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./template-reference-variables.html" title="Introductory guide to referring to DOM elements within a template."><span>Template reference variables</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./svg-in-templates.html" title="Learn how to use SVGs as templates for Angular applications."><span>SVG as templates</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Control the behavior of elements and the layout of your pages with directives." aria-pressed="false"><span>Directives</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./built-in-directives.html" title="Introductory guide to some of the most popular built-in directives."><span>Built-in directives</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./attribute-directives.html" title="Attribute directives attach behavior to elements."><span>Attribute Directives</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./structural-directives.html" title="Structural directives manipulate the layout of the page."><span>Structural Directives</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Dependency Injection: creating and injecting services" aria-pressed="false"><span>Dependency Injection</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./dependency-injection.html" title="Angular's dependency injection system creates and delivers dependent services to Angular-created classes."><span>Angular Dependency Injection</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./dependency-injection-providers.html" title="More about the different kinds of providers."><span>DI Providers</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 expanded selected ng-star-inserted" title="Learn more about how to use Angular to build your applications." aria-pressed="true"><span>Developer guides</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 expanded selected"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./developer-guide-overview.html" title="A list of developer guides for building Angular applications."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 expanded selected ng-star-inserted" title="Learn how to use Angular Router to build in-app navigation between views." aria-pressed="true"><span>Routing and Navigation</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 expanded selected"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./routing-overview.html" title="Introduces the Angular Router and lists topics that teach you how to add the router to your applications."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./router.html" title="Task-based content on many of the common tasks associated with Angular routing, such as defining routs, setting up wildcard routes, and redirects."><span>Common routing tasks</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./router-tutorial.html" title="A tutorial that covers many patterns associated with Angular routing."><span>Tutorial: Routing in Single-page Applications</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./routing-with-urlmatcher.html" title="Learn how to create a custom URL matcher with the Angular router."><span>Tutorial: Creating custom route matches</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 expanded selected" href="./router-tutorial-toh.html" title="Explore how to use Angular's router. Based on the Tour of Heroes example."><span>Tutorial: Adding routing to Tour of Heroes</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./router-reference.html" title="Describes highlight some core router API concepts."><span>Router reference</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Forms creates a cohesive, effective, and compelling data entry experience." aria-pressed="false"><span>Forms</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./forms-overview.html" title="An Angular form coordinates a set of data-bound user controls, tracks changes, validates input, and presents errors."><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./reactive-forms.html" title="Create a reactive form using FormBuilder, groups, and arrays."><span>Reactive Forms</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./form-validation.html" title="Validate user's form entries."><span>Validate form input</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./dynamic-form.html" title="Create dynamic form templates using FormGroup."><span>Building Dynamic Forms</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./http.html" title="Use HTTP to talk to a remote server."><span>HTTP Client</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Testing your Angular apps." aria-pressed="false"><span>Testing</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing.html" title="Introduction to testing an Angular app."><span>Intro to Testing</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-code-coverage.html" title="Determine how much of your code is tested."><span>Code Coverage</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-services.html" title="How to test services."><span>Testing Services</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-components-basics.html" title="The fundamentals of how to test components."><span>Basics of Testing Components</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-components-scenarios.html" title="Use cases for testing components."><span>Component Testing Scenarios</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-attribute-directives.html" title="How to test attribute directives."><span>Testing Attribute Directives</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-pipes.html" title="Writing tests for pipes."><span>Testing Pipes</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./test-debugging.html" title="How to debug tests."><span>Debugging Tests</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-utility-apis.html" title="Features of the Angular testing utilities."><span>Testing Utility APIs</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Translate the text of your application text into multiple languages" aria-pressed="false"><span>Internationalization</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./i18n-overview.html" title="Introduces the Angular internationalization and lists topics that teach you how to localize your applications"><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Task-based content on many of the common tasks associated with Angular internationalization, such as adding the locale package and formatting data for a locale" aria-pressed="false"><span>Common internationalization tasks</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-overview.html" title="Introduces the common Angular internationalization tasks and lists topics that teach you how to localize your applications"><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-add-package.html" title="Add the Angular localize package"><span>Add the localize package</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-locale-id.html" title="Reference using locale IDs"><span>Refer to locales by ID</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-format-data-locale.html" title="Format data based on locale"><span>Format data based on locale</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-prepare.html" title="Prepare component for translation"><span>Prepare component for translation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-translation-files.html" title="Work with translation files"><span>Work with translation files</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-merge.html" title="Merge translations into your app"><span>Merge translations into the app</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-deploy.html" title="Deploy multiple locale for your app"><span>Deploy multiple locales</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./i18n-example.html" title="Example of a translated Angular application"><span>Example Angular application</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Task-based content on many of the optional pratices associated with Angular internationalization" aria-pressed="false"><span>Optional internationalization practices</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-optional-overview.html" title="Introduces the optional Angular internationalization tasks and lists topics that teach you how to manually configure localization settings for your applications"><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-optional-manual-runtime-locale.html" title="Set the runtime locale manually"><span>Set the runtime locale manually</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-optional-import-global-variants.html" title="Import global variants of the locale data"><span>Import global variants of the locale data</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-optional-manage-marked-text.html" title="Manage marked text with custom IDs"><span>Manage marked text with custom IDs</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Enhance the user experience with animation." aria-pressed="false"><span>Animations</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./animations.html" title="Basic techniques in Angular animations."><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./transition-and-triggers.html" title="Advanced techniques in transition and triggers."><span>Transition and Triggers</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./complex-animation-sequences.html" title="Complex Angular animation sequences."><span>Complex Sequences</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./reusable-animations.html" title="Creating reusable animations."><span>Reusable Animations</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./route-animations.html" title="Animate route transitions."><span>Route Transition Animations</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Angular service workers: Controlling caching of application resources." aria-pressed="false"><span>Service Workers &amp; PWA</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-intro.html" title="Angular's implementation of service workers improves user experience with slow or unreliable network connectivity."><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-getting-started.html" title="Enabling the service worker in a CLI project and observing behavior in the browser."><span>Getting Started</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./app-shell.html" title="Render a portion of your app quickly to improve the startup experience."><span>App Shell</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-communications.html" title="Services that enable you to interact with an Angular service worker."><span>Service Worker Communication</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-notifications.html" title="Configuring service worker notification behavior."><span>Service Worker Notifications</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-devops.html" title="Running apps with service workers, managing app update, debugging, and killing apps."><span>Service Worker in Production</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-config.html" title="Configuring service worker caching behavior."><span>Service Worker Configuration</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./web-worker.html" title="Using web workers for background processing."><span>Web Workers</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./universal.html" title="Render HTML server-side with Angular Universal."><span>Server-side Rendering</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./prerendering.html" title="Prerender HTML server-side with Angular Universal."><span>Prerendering</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Learn how to build robust, scalable applications." aria-pressed="false"><span>Best Practices</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./security.html" title="Developing for content security in Angular applications."><span>Security</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./accessibility.html" title="Design apps to be accessible to all users."><span>Accessibility</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./updating.html" title="Information about updating Angular applications and libraries to the latest version."><span>Keeping Up-to-Date</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./property-binding-best-practices.html" title="Use property binding efficiently."><span>Property Binding Best Practices</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./lazy-loading-ngmodules.html" title="Lazy load modules to speed up your apps."><span>Lazy Loading Feature Modules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./lightweight-injection-tokens.html" title="Optimize client app size by designing library services with lightweight injection tokens."><span>Lightweight Injection Tokens for Libraries</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Tools to help you build your Angular applications." aria-pressed="false"><span>Angular Tools</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Build, and deployment information." aria-pressed="false"><span>Dev Workflow</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./deployment.html" title="Learn how to deploy your Angular app."><span>Deploying applications</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Understanding ahead-of-time compilation." aria-pressed="false"><span>AOT Compiler</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./aot-compiler.html" title="Learn why and how to use the Ahead-of-Time (AOT) compiler."><span>Ahead-of-Time Compilation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./angular-compiler-options.html" title="Configuring AOT compilation."><span>Angular Compiler Options</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./aot-metadata-errors.html" title="Troubleshooting AOT compilation."><span>AOT Metadata Errors</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./template-typecheck.html" title="Template type-checking in Angular."><span>Template Type-checking</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./build.html" title="Building and serving Angular apps."><span>Building &amp; Serving</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./cli-builder.html" title="Using builders to customize Angular CLI."><span>CLI Builders</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./language-service.html" title="Use Angular Language Service to speed up dev time."><span>Language Service</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./devtools.html" title="DevTools"><span>DevTools</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Understanding schematics." aria-pressed="false"><span>Schematics</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./schematics.html" title="Extending CLI generation capabilities."><span>Schematics Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./schematics-authoring.html" title="Understand the structure of a schematic."><span>Authoring Schematics</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./schematics-for-libraries.html" title="Use schematics to integrate your library with the Angular CLI."><span>Schematics for Libraries</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="End-to-end tutorials for learning Angular concepts and patterns." aria-pressed="false"><span>Tutorials</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="The Tour of Heroes app is used as a reference point in many Angular examples." aria-pressed="false"><span>Tutorial: Tour of Heroes</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial.html" title="Introduction to the Tour of Heroes app and tutorial"><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt0.html" title="Creating the application shell"><span>Create a Project</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt1.html" title="Part 1: Build a simple editor"><span>1. The Hero Editor</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt2.html" title="Part 2: Build a master/detail page with a list of heroes."><span>2. Display a List</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt3.html" title="Part 3: Refactor the master/detail views into separate components."><span>3. Create a Feature Component</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt4.html" title="Part 4: Create a reusable service to manage hero data."><span>4. Add Services</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt5.html" title="Part 5: Add the Angular router and navigate among the views."><span>5. Add Navigation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt6.html" title="Part 6: Use HTTP to retrieve and save hero data."><span>6. Get Data from a Server</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./forms.html" title="Create a template-driven form using directives and Angular template syntax."><span>Building a Template-driven Form</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Extending Angular with shared libraries." aria-pressed="false"><span>Angular Libraries</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./libraries.html" title="Understand how and when to use or create libraries."><span>Libraries Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./using-libraries.html" title="Integrate published libraries into an app."><span>Using Published Libraries</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./creating-libraries.html" title="Extend Angular by creating, publishing, and using your own libraries."><span>Creating Libraries</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./angular-package-format.html" title="Information about the Angular Package Format."><span>Angular Package Format</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Angular release practices, updating, and upgrading." aria-pressed="false"><span>Release Information</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./releases.html" title="Angular versioning, release, support, and deprecation policies and practices."><span>Release Practices</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./roadmap.html" title="Roadmap of the Angular team."><span>Roadmap</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./browser-support.html" title="Browser support and polyfills guide."><span>Browser Support</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./update-to-latest-version.html" title="Support to update your application to version 13"><span>Update to Version 13</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./deprecations.html" title="Summary of Angular APIs and features that are deprecated."><span>Deprecations</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Incrementally upgrade an AngularJS application to Angular." aria-pressed="false"><span>Upgrading from AngularJS</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./upgrade.html" title="Incrementally upgrade an AngularJS application to Angular."><span>Upgrading Instructions</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./upgrade-setup.html" title="Use code from the Angular QuickStart seed as part of upgrading from AngularJS."><span>Setup for Upgrading from AngularJS</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./upgrade-performance.html" title="Upgrade from AngularJS to Angular in a more flexible way."><span>Upgrading for Performance</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./ajs-quick-reference.html" title="Learn how AngularJS concepts and techniques map to Angular."><span>AngularJS-Angular Concepts</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Reference guides for Angular features and tools." aria-pressed="false"><span>Reference</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Reference documentation that explains how Angular features work." aria-pressed="false"><span>Conceptual Reference</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Introduction to basic concepts for Angular applications." aria-pressed="false"><span>Angular Concepts</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./architecture.html" title="Basic building blocks of Angular applications."><span>Intro to Basic Concepts</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./architecture-modules.html" title="About NgModules."><span>Intro to Modules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./architecture-components.html" title="About Components, Templates, and Views."><span>Intro to Components</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./architecture-services.html" title="About services and dependency injection."><span>Intro to Services and DI</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./architecture-next-steps.html" title="Beyond the basics."><span>Next Steps</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./binding-syntax.html" title="Introductory guide to coordinating app values."><span>Binding syntax</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./event-binding-concepts.html" title="About event binding."><span>How event binding works</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./template-reference-variables.html" title="Introductory guide to referring to DOM elements within a template."><span>Template variables</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Workspace and project file structure and configuration." aria-pressed="false"><span>Workspace and project structure</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./file-structure.html" title="How your Angular workspace looks on your filesystem."><span>Project File Structure</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./workspace-config.html" title="The &quot;angular.json&quot; file contains workspace and project configuration defaults for Angular CLI commands."><span>Workspace Configuration</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./npm-packages.html" title="Description of npm packages required at development time and at runtime."><span>npm Dependencies</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./typescript-configuration.html" title="TypeScript configuration for Angular developers."><span>TypeScript Configuration</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="NgModules." aria-pressed="false"><span>NgModules</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./ngmodules.html" title="Use NgModules to make your apps efficient."><span>NgModules Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./ngmodule-vs-jsmodule.html" title="Differentiate between JavaScript modules and NgModules."><span>JS Modules vs NgModules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./bootstrapping.html" title="Tell Angular how to construct and bootstrap the app in the root &quot;AppModule&quot;."><span>Launching Apps with a Root Module</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./frequent-ngmodules.html" title="Introduction to the most frequently used NgModules."><span>Frequently Used NgModules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./module-types.html" title="Description of the different types of feature modules."><span>Types of Feature Modules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./entry-components.html" title="All about entry components in Angular."><span>Entry Components</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./feature-modules.html" title="Create feature modules to organize your code."><span>Feature Modules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./providers.html" title="Providing dependencies to NgModules."><span>Providing Dependencies</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./singleton-services.html" title="Creating singleton services."><span>Singleton Services</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./sharing-ngmodules.html" title="Share NgModules to streamline your apps."><span>Sharing NgModules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./ngmodule-api.html" title="Understand the details of NgModules."><span>NgModule API</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./ngmodule-faq.html" title="Answers to frequently asked questions about NgModules."><span>NgModule FAQs</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Using observables for message passing in Angular." aria-pressed="false"><span>Observables &amp; RxJS</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./observables.html" title="Using observables to pass values synchronously or asynchronously."><span>Observables Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./rx-library.html" title="A library for reactive programming using observables to compose asynchronous or callback-based code."><span>The RxJS Library</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./observables-in-angular.html" title="How Angular subsystems use and expect observables."><span>Observables in Angular</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./practical-observable-usage.html" title="Domains in which observables are particularly useful."><span>Practical Usage</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./comparing-observables.html" title="How observables compare to promises and other message passing techniques."><span>Compare to Other Techniques</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Using dependency injection in Angular." aria-pressed="false"><span>Dependency injection</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./hierarchical-dependency-injection.html" title="An injector tree parallels the component tree and supports nested dependencies."><span>Hierarchical Injectors</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./dependency-injection-in-action.html" title="Techniques for dependency injection."><span>DI in Action</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Angular CLI command reference." aria-pressed="false"><span>CLI Command Reference</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli.html" title="An introduction to the CLI tool, commands, and syntax."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/cache.html" title="Details on the Angular CLI persistent disk cache."><span>Persistent Disk Cache</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/usage-analytics-gathering.html" title="For administrators, guide to gathering usage analytics from your users."><span>Usage Analytics</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/add.html" title="ng add."><span>ng add</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/analytics.html" title="ng analytics."><span>ng analytics</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/build.html" title="ng build."><span>ng build</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/config.html" title="ng config."><span>ng config</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/deploy.html" title="ng deploy."><span>ng deploy</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/doc.html" title="ng doc."><span>ng doc</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/e2e.html" title="ng e2e."><span>ng e2e</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/extract-i18n.html" title="ng extract-i18n."><span>ng extract-i18n</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/generate.html" title="ng generate."><span>ng generate</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/help.html" title="ng help."><span>ng help</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/lint.html" title="ng lint."><span>ng lint</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/new.html" title="ng new."><span>ng new</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/run.html" title="ng run."><span>ng run</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/serve.html" title="ng serve."><span>ng serve</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/test.html" title="ng test."><span>ng test</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/update.html" title="ng update."><span>ng update</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/version.html" title="ng version."><span>ng version</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="../api.html" title="Details of the Angular packages, classes, interfaces, and other types."><span>API Reference</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Details of the errors that can be thrown by Angular." aria-pressed="false"><span>Error Reference</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0100.html" title="Expression Changed After Checked"><span>NG0100: Expression Changed After Checked</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0200.html" title="Circular Dependency in DI"><span>NG0200: Circular Dependency in DI</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0201.html" title="No Provider Found"><span>NG0201: No Provider Found</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0300.html" title="Selector Collision"><span>NG0300: Selector Collision</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0301.html" title="Export Not Found"><span>NG0301: Export Not Found</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0302.html" title="Pipe Not Found"><span>NG0302: Pipe Not Found</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG1001.html" title="Argument Not Literal"><span>NG1001: Argument Not Literal</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG2003.html" title="Missing Token"><span>NG2003: Missing Token</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG2009.html" title="Invalid Shadow DOM selector"><span>NG2009: Invalid Shadow DOM selector</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG3003.html" title="Import Cycle Detected"><span>NG3003: Import Cycle Detected</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG6999.html" title="Invalid metadata"><span>NG6999: Invalid metadata</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG8001.html" title="Invalid Element"><span>NG8001: Invalid Element</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG8002.html" title="Invalid Attribute"><span>NG8002: Invalid Attribute</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG8003.html" title="Missing Reference Target"><span>NG8003: Missing Reference Target</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Details of extended diagnostics that can be emitted by the Angular compiler" aria-pressed="false"><span>Extended Diagnostic Reference</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../extended-diagnostics.html" title="Overview of extended diagnostics, what they are, and how to configure them."><span>Extended Diagnostics Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../extended-diagnostics/NG8101.html" title="Invalid Banana-in-Box"><span>NG8101: Invalid Banana-in-Box</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../extended-diagnostics/NG8102.html" title="Nullish coalescing not nullable"><span>NG8102: Nullish coalescing not nullable</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./example-apps-list.html" title="List of all of the example applications in the Angular documentation."><span>Example applications</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./glossary.html" title="Brief definitions of the most important words in the Angular vocabulary."><span>Angular Glossary</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Summaries of Angular syntax, coding, and doc styles." aria-pressed="false"><span>Angular Style and Usage</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./cheatsheet.html" title="A quick guide to common Angular coding techniques."><span>Quick Reference</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./styleguide.html" title="Guidelines for writing Angular code."><span>Coding Style Guide</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Describes how to contribute to the Angular documentation." aria-pressed="false"><span>Content Contributor's Guide</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./contributors-guide-overview.html" title="Provides an overview of how to contribute to Angular's documentation."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./reviewing-content.html" title="Keep Angular content up-to-date by reviewing topics for accuracy."><span>Reviewing content</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./updating-search-keywords.html" title="Help users find the content they need by adding additional search keywords."><span>Updating search keywords</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./updating-content-github-ui.html" title="Update topics in the browser through the GitHub user interface."><span>Updating content using GitHub UI</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./docs-style-guide.html" title="Style guide for documentation authors."><span>Documentation Style Guide</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./localizing-angular.html" title="Learn about the guidelines for localizing Angular documentation."><span>Angular doc localization guidelines</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></aio-nav-menu><div class="doc-version ng-tns-c19-1"><aio-select><div class="form-select-menu"><button class="form-select-button"><span><strong></strong></span><!----><span>stable (v13.2.3)</span></button><!----></div></aio-select></div></div></mat-sidenav><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav-content class="mat-drawer-content mat-sidenav-content ng-star-inserted"><section class="sidenav-content-container"><main role="main" class="sidenav-content" id="guide-router-tutorial-toh"><div id="main-content" tabindex="-1"></div><aio-mode-banner><!----></aio-mode-banner><aio-doc-viewer class=""><div style="opacity: 1;">


<div class="github-links">
  <a href="https://github.com/angular/angular/edit/master/aio/content/guide/router-tutorial-toh.md?message=docs%3A%20describe%20your%20change..." aria-label="Suggest Edits" title="Suggest Edits"><i class="material-icons" aria-hidden="true" role="img">mode_edit</i></a>
</div>


<div class="content">
  <a id="router-tutorial"></a>
<h1 id="router-tutorial-tour-of-heroes">Router tutorial: tour of heroes</h1><aio-toc class="embedded" ng-version="13.2.2"><div class="toc-inner no-print collapsed ng-star-inserted"><!----><button type="button" title="Expand/collapse contents" aria-label="Expand/collapse contents" class="toc-heading embedded secondary ng-star-inserted" aria-pressed="false"> Contents <mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon collapsed mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><ul class="toc-list embedded"><!----><!----><li class="h2 ng-star-inserted" title="Objectives"><a href="./router-tutorial-toh.html#objectives">Objectives</a></li><!----><!----><li class="h2 ng-star-inserted" title="Prerequisites"><a href="./router-tutorial-toh.html#prerequisites">Prerequisites</a></li><!----><!----><li class="h2 ng-star-inserted" title="The sample application in action"><a href="./router-tutorial-toh.html#the-sample-application-in-action">The sample application in action</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Milestone 1: Getting started"><a href="./router-tutorial-toh.html#milestone-1-getting-started">Milestone 1: Getting started</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Define Routes"><a href="./router-tutorial-toh.html#define-routes">Define Routes</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Register Router and Routes"><a href="./router-tutorial-toh.html#register-router-and-routes">Register <code>Router</code> and <code>Routes</code></a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Add the Router Outlet"><a href="./router-tutorial-toh.html#add-the-router-outlet">Add the Router Outlet</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Define a Wildcard route"><a href="./router-tutorial-toh.html#define-a-wildcard-route">Define a Wildcard route</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Set up redirects"><a href="./router-tutorial-toh.html#set-up-redirects">Set up redirects</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Milestone 1 wrap up"><a href="./router-tutorial-toh.html#milestone-1-wrap-up">Milestone 1 wrap up</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Milestone 2: Routing module"><a href="./router-tutorial-toh.html#milestone-2-routing-module">Milestone 2: <em>Routing module</em></a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Integrate routing with your app"><a href="./router-tutorial-toh.html#integrate-routing-with-your-app">Integrate routing with your app</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Refactor the routing configuration into a routing module"><a href="./router-tutorial-toh.html#refactor-the-routing-configuration-into-a-routing-module">Refactor the routing configuration into a routing module</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Benefits of a routing module"><a href="./router-tutorial-toh.html#benefits-of-a-routing-module">Benefits of a routing module</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Milestone 3: Heroes feature"><a href="./router-tutorial-toh.html#milestone-3-heroes-feature">Milestone 3: Heroes feature</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Add heroes functionality"><a href="./router-tutorial-toh.html#add-heroes-functionality">Add heroes functionality</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Module import order"><a href="./router-tutorial-toh.html#module-import-order">Module import order</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Route Parameters"><a href="./router-tutorial-toh.html#route-parameters">Route Parameters</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Activated Route in action"><a href="./router-tutorial-toh.html#activated-route-in-action"><code>Activated Route</code> in action</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Navigating back to the list component"><a href="./router-tutorial-toh.html#navigating-back-to-the-list-component">Navigating back to the list component</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Route parameters in the ActivatedRoute service"><a href="./router-tutorial-toh.html#route-parameters-in-the-activatedroute-service">Route parameters in the <code>ActivatedRoute</code> service</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Adding routable animations"><a href="./router-tutorial-toh.html#adding-routable-animations">Adding routable animations</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Milestone 3 wrap up"><a href="./router-tutorial-toh.html#milestone-3-wrap-up">Milestone 3 wrap up</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Milestone 4: Crisis center feature"><a href="./router-tutorial-toh.html#milestone-4-crisis-center-feature">Milestone 4: Crisis center feature</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="A crisis center with child routes"><a href="./router-tutorial-toh.html#a-crisis-center-with-child-routes">A crisis center with child routes</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Child routing component"><a href="./router-tutorial-toh.html#child-routing-component">Child routing component</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Child route configuration"><a href="./router-tutorial-toh.html#child-route-configuration">Child route configuration</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Import crisis center module into the AppModule routes"><a href="./router-tutorial-toh.html#import-crisis-center-module-into-the-appmodule-routes">Import crisis center module into the <code>AppModule</code> routes</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Relative navigation"><a href="./router-tutorial-toh.html#relative-navigation">Relative navigation</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Navigate to crisis list with a relative URL"><a href="./router-tutorial-toh.html#navigate-to-crisis-list-with-a-relative-url">Navigate to crisis list with a relative URL</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Displaying multiple routes in named outlets"><a href="./router-tutorial-toh.html#displaying-multiple-routes-in-named-outlets">Displaying multiple routes in named outlets</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Milestone 5: Route guards"><a href="./router-tutorial-toh.html#milestone-5-route-guards">Milestone 5: Route guards</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="CanActivate: requiring authentication"><a href="./router-tutorial-toh.html#canactivate-requiring-authentication"><code>CanActivate</code>: requiring authentication</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="CanActivateChild: guarding child routes"><a href="./router-tutorial-toh.html#canactivatechild-guarding-child-routes"><code>CanActivateChild</code>: guarding child routes</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="CanDeactivate: handling unsaved changes"><a href="./router-tutorial-toh.html#candeactivate-handling-unsaved-changes"><code>CanDeactivate</code>: handling unsaved changes</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Resolve: pre-fetching component data"><a href="./router-tutorial-toh.html#resolve-pre-fetching-component-data"><em>Resolve</em>: pre-fetching component data</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Query parameters and fragments"><a href="./router-tutorial-toh.html#query-parameters-and-fragments">Query parameters and fragments</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Milestone 6: Asynchronous routing"><a href="./router-tutorial-toh.html#milestone-6-asynchronous-routing">Milestone 6: Asynchronous routing</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Lazy Loading route configuration"><a href="./router-tutorial-toh.html#lazy-loading-route-configuration">Lazy Loading route configuration</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="CanLoad: guarding unauthorized loading of feature modules"><a href="./router-tutorial-toh.html#canload-guarding-unauthorized-loading-of-feature-modules"><code>CanLoad</code>: guarding unauthorized loading of feature modules</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Preloading: background loading of feature areas"><a href="./router-tutorial-toh.html#preloading-background-loading-of-feature-areas">Preloading: background loading of feature areas</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Custom Preloading Strategy"><a href="./router-tutorial-toh.html#custom-preloading-strategy">Custom Preloading Strategy</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Migrating URLs with redirects"><a href="./router-tutorial-toh.html#migrating-urls-with-redirects">Migrating URLs with redirects</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Inspect the router's configuration"><a href="./router-tutorial-toh.html#inspect-the-routers-configuration">Inspect the router's configuration</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Final application"><a href="./router-tutorial-toh.html#final-application">Final application</a></li><!----><!----><!----></ul><button type="button" title="Expand/collapse contents" aria-label="Expand/collapse contents" class="toc-more-items embedded material-icons collapsed ng-star-inserted" aria-pressed="false"></button><!----></div><!----></aio-toc>
<p>This tutorial provides an extensive overview of the Angular router.
In this tutorial, you build upon a basic router configuration to explore features such as child routes, route parameters, lazy load NgModules, guard routes, and preloading data to improve the user experience.</p>
<p>For a working example of the final version of the app, see the <live-example name="router" ng-version="13.2.2"><span style="display: none;"></span><span><!----><!----><span class="ng-star-inserted"><a target="_blank" title="live example" href="https://angular.io/generated/live-examples/router/stackblitz.html">live example</a><span class="ng-star-inserted"> / <a download="" title="Download example" href="https://angular.io/generated/zips/router/router.zip">download example</a></span><!----></span><!----></span></live-example>.</p>
<a id="router-tutorial-objectives"></a>
<a class="dashAnchor" name="//apple_ref/Section/Objectives"></a><h2 id="objectives">Objectives</h2>
<p>This guide describes development of a multi-page routed sample application.
Along the way, it highlights key features of the router such as:</p>
<ul>
<li>Organizing the application features into modules.</li>
<li>Navigating to a component (<em>Heroes</em> link to "Heroes List").</li>
<li>Including a route parameter (passing the Hero <code>id</code> while routing to the "Hero Detail").</li>
<li>Child routes (the <em>Crisis Center</em> has its own routes).</li>
<li>The <code><a href="../api/router/CanActivate.html" class="code-anchor">CanActivate</a></code> guard (checking route access).</li>
<li>The <code><a href="../api/router/CanActivateChild.html" class="code-anchor">CanActivateChild</a></code> guard (checking child route access).</li>
<li>The <code><a href="../api/router/CanDeactivate.html" class="code-anchor">CanDeactivate</a></code> guard (ask permission to discard unsaved changes).</li>
<li>The <code><a href="../api/router/Resolve.html" class="code-anchor">Resolve</a></code> guard (pre-fetching route data).</li>
<li>Lazy loading an <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code>.</li>
<li>The <code><a href="../api/router/CanLoad.html" class="code-anchor">CanLoad</a></code> guard (check before loading feature module assets).</li>
</ul>
<p>This guide proceeds as a sequence of milestones as if you were building the application step-by-step, but assumes you are familiar with basic <a href="./architecture.html">Angular concepts</a>.
For a general introduction to angular, see the <a href="../start.html">Getting Started</a>. For a more in-depth overview, see the <a href="../tutorial.html">Tour of Heroes</a> tutorial.</p>
<a class="dashAnchor" name="//apple_ref/Section/Prerequisites"></a><h2 id="prerequisites">Prerequisites</h2>
<p>To complete this tutorial, you should have a basic understanding of the following concepts:</p>
<ul>
<li>JavaScript</li>
<li>HTML</li>
<li>CSS</li>
<li><a href="../cli.html">Angular CLI</a></li>
</ul>
<p>You might find the <a href="../tutorial.html">Tour of Heroes tutorial</a> helpful, but it is not required.</p>
<a class="dashAnchor" name="//apple_ref/Section/The%20sample%20application%20in%20action"></a><h2 id="the-sample-application-in-action">The sample application in action</h2>
<p>The sample application for this tutorial helps the Hero Employment Agency find crises for heroes to solve.</p>
<p>The application has three main feature areas:</p>
<ol>
<li>A <em>Crisis Center</em> for maintaining the list of crises for assignment to heroes.</li>
<li>A <em>Heroes</em> area for maintaining the list of heroes employed by the agency.</li>
<li>An <em>Admin</em> area to manage the list of crises and heroes.</li>
</ol>
<p>Try it by clicking on this <live-example name="router" title="Hero Employment Agency Live Example" ng-version="13.2.2"><span style="display: none;">live example link</span><span><!----><!----><span class="ng-star-inserted"><a target="_blank" title="live example link" href="https://angular.io/generated/live-examples/router/stackblitz.html">live example link</a><span class="ng-star-inserted"> / <a download="" title="Download example" href="https://angular.io/generated/zips/router/router.zip">download example</a></span><!----></span><!----></span></live-example>.</p>
<p>The application renders with a row of navigation buttons and the <em>Heroes</em> view with its list of heroes.</p>
<div class="lightbox">
  <img src="../generated/images/guide/router/hero-list.gif" alt="Example application with a row of navigation buttons and a list of heroes" width="400" height="512">
</div>
<p>Select one hero and the application takes you to a hero editing screen.</p>
<div class="lightbox">
  <img src="../generated/images/guide/router/hero-detail.png" alt="Detail view of hero with additional information, input, and back button" width="400" height="278">
</div>
<p>Alter the name.
Click the "Back" button and the application returns to the heroes list which displays the changed hero name.
Notice that the name change took effect immediately.</p>
<p>Had you clicked the browser's back button instead of the application's "Back" button, the application would have returned you to the heroes list as well.
Angular application navigation updates the browser history as normal web navigation does.</p>
<p>Now click the <em>Crisis Center</em> link for a list of ongoing crises.</p>
<div class="lightbox">
  <img src="../generated/images/guide/router/crisis-center-list.gif" alt="Crisis Center list of crises" width="391" height="240">
</div>
<p>Select a crisis and the application takes you to a crisis editing screen.
The <em>Crisis Detail</em> appears in a child component on the same page, beneath the list.</p>
<p>Alter the name of a crisis.
Notice that the corresponding name in the crisis list does <em>not</em> change.</p>
<div class="lightbox">
  <img src="../generated/images/guide/router/crisis-center-detail.gif" alt="Crisis Center detail of a crisis with data, an input, and save and cancel buttons." width="388" height="378">
</div>
<p>Unlike <em>Hero Detail</em>, which updates as you type, <em>Crisis Detail</em> changes are temporary until you either save or discard them by pressing the "Save" or "Cancel" buttons.
Both buttons navigate back to the <em>Crisis Center</em> and its list of crises.</p>
<p>Click the browser back button or the "Heroes" link to activate a dialog.</p>
<div class="lightbox">
  <img src="../generated/images/guide/router/confirm-dialog.png" alt="Alert that asks user to confirm discarding changes" width="250" height="101">
</div>
<p>You can say "OK" and lose your changes or click "Cancel" and continue editing.</p>
<p>Behind this behavior is the router's <code><a href="../api/router/CanDeactivate.html" class="code-anchor">CanDeactivate</a></code> guard.
The guard gives you a chance to clean-up or ask the user's permission before navigating away from the current view.</p>
<p>The <code>Admin</code> and <code>Login</code> buttons illustrate other router capabilities covered later in the guide.</p>
<a id="getting-started"></a>
<a class="dashAnchor" name="//apple_ref/Section/Milestone%201%3A%20Getting%20started"></a><h2 id="milestone-1-getting-started">Milestone 1: Getting started</h2>
<p>Begin with a basic version of the application that navigates between two empty views.</p>
<div class="lightbox">
  <img src="../generated/images/guide/router/router-1-anim.gif" alt="Animated image of application with a Crisis Center button and a Heroes button. The pointer clicks each button to show a view for each." width="320" height="128">
</div>
<a id="import"></a>
<p>Generate a sample application with the Angular CLI.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng new angular</span><span class="pun">-</span><span class="pln">router</span><span class="pun">-</span><span class="pln">sample</span></code>
    </pre></aio-code></code-example>
<h3 id="define-routes">Define Routes</h3>
<p>A router must be configured with a list of route definitions.</p>
<p>Each definition translates to a <a href="../api/router/Route.html">Route</a> object which has two things: a <code>path</code>, the URL path segment for this route; and a <code>component</code>, the component associated with this route.</p>
<p>The router draws upon its registry of definitions when the browser URL changes or when application code tells the router to navigate along a route path.</p>
<p>The first route does the following:</p>
<ul>
<li>
<p>When the browser's location URL changes to match the path segment <code>/crisis-center</code>, then the router activates an instance of the <code>CrisisListComponent</code> and displays its view.</p>
</li>
<li>
<p>When the application requests navigation to the path <code>/crisis-center</code>, the router activates an instance of <code>CrisisListComponent</code>, displays its view, and updates the browser's address location and history with the URL for that path.</p>
</li>
</ul>
<p>The first configuration defines an array of two routes with minimal paths leading to the <code>CrisisListComponent</code> and <code>HeroListComponent</code>.</p>
<p>Generate the <code>CrisisList</code> and <code>HeroList</code> components so that the router has something to render.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component crisis</span><span class="pun">-</span><span class="pln">list</span></code>
    </pre></aio-code></code-example>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component hero</span><span class="pun">-</span><span class="pln">list</span></code>
    </pre></aio-code></code-example>
<p>Replace the contents of each component with the following sample HTML.</p>
<code-tabs ng-version="13.2.2"><div style="display: none;"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform: translateX(0px);"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-0-0" tabindex="0" aria-posinset="1" aria-setsize="2" aria-controls="mat-tab-content-0-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/crisis-list/crisis-list.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-0-1" tabindex="-1" aria-posinset="2" aria-setsize="2" aria-controls="mat-tab-content-0-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/hero-list/hero-list.component.html</span><!----><!----><!----></div></div><!----></div><mat-ink-bar class="mat-ink-bar"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-2 mat-tab-body-active ng-star-inserted" id="mat-tab-content-0-0" aria-labelledby="mat-tab-label-0-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-2 ng-trigger ng-trigger-translateTab" style="transform: none;"><!----><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-list/crisis-list.component.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">CRISIS CENTER</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
</span><span class="tag">&lt;p&gt;</span><span class="pln">Get your crisis here</span><span class="tag">&lt;/p&gt;</span></code>
    </pre></aio-code><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-3 ng-star-inserted" id="mat-tab-content-0-1" aria-labelledby="mat-tab-label-0-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-3 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><!----></div></mat-tab-group></mat-card></code-tabs>
<h3 id="register-router-and-routes">Register <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> and <code><a href="../api/router/Routes.html" class="code-anchor">Routes</a></code></h3>
<p>To use the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code>, you must first register the <code><a href="../api/router/RouterModule.html" class="code-anchor">RouterModule</a></code> from the <code>@angular/router</code> package.
Define an array of routes, <code>appRoutes</code>, and pass them to the <code><a href="../api/router/RouterModule.html#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> method.
The <code><a href="../api/router/RouterModule.html#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> method returns a module that contains the configured <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> service provider, plus other providers that the routing library requires.
Once the application is bootstrapped, the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> performs the initial navigation based on the current browser URL.</p>
<div class="alert is-important">
<p>  <strong>Note:</strong> The <code><a href="../api/router/RouterModule.html#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> method is a pattern used to register application-wide providers. Read more about application-wide providers in the <a href="./singleton-services.html#forRoot-router">Singleton services</a> guide.</p>
</div>
<code-example path="router/src/app/app.module.1.ts" header="src/app/app.module.ts (first-config)" region="first-config" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.module.ts (first-config)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (first-config)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
      appRoutes</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>Adding the configured <code><a href="../api/router/RouterModule.html" class="code-anchor">RouterModule</a></code> to the <code>AppModule</code> is sufficient for minimal route configurations.
However, as the application grows, <a href="./router-tutorial-toh.html#refactor-the-routing-configuration-into-a-routing-module">refactor the routing configuration</a> into a separate file and create a <a href="./router-tutorial-toh.html#routing-module">Routing Module</a>.
A routing module is a special type of <code>Service Module</code> dedicated to routing.</p>
</div>
<p>Registering the <code><a href="../api/router/RouterModule.html#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> in the <code>AppModule</code> <code>imports</code> array makes the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> service available everywhere in the application.</p>
<a id="shell"></a>
<h3 id="add-the-router-outlet">Add the Router Outlet</h3>
<p>The root <code>AppComponent</code> is the application shell. It has a title, a navigation bar with two links, and a router outlet where the router renders components.</p>
<div class="lightbox">
  <img src="../generated/images/guide/router/shell-and-outlet.gif" alt="A nav, made of two navigation buttons, with the first button active and its associated view displayed" width="581" height="161">
</div>
<p>The router outlet serves as a placeholder where the routed components are rendered.</p>
<a id="shell-template"></a>
<p>The corresponding component template looks like this:</p>
<code-example path="router/src/app/app.component.1.html" header="src/app/app.component.html" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.component.html</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h1&gt;</span><span class="pln">Angular </span><a href="../api/router/Router.html" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/heroes"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example>
<a id="wildcard"></a>
<h3 id="define-a-wildcard-route">Define a Wildcard route</h3>
<p>You've created two routes in the application so far, one to <code>/crisis-center</code> and the other to <code>/heroes</code>.
Any other URL causes the router to throw an error and crash the app.</p>
<p>Add a wildcard route to intercept invalid URLs and handle them gracefully.
A wildcard route has a path consisting of two asterisks.
It matches every URL.
Thus, the router selects this wildcard route if it can't match a route earlier in the configuration.
A wildcard route can navigate to a custom "404 Not Found" component or <a href="./router-tutorial-toh.html#redirect">redirect</a> to an existing route.</p>
<div class="alert is-helpful">
<p>The router selects the route with a <a href="./router-reference.html#example-config"><em>first match wins</em></a> strategy.
Because a wildcard route is the least specific route, place it last in the route configuration.</p>
</div>
<p>To test this feature, add a button with a <code><a href="../api/router/RouterLink.html" class="code-anchor">RouterLink</a></code> to the <code>HeroListComponent</code> template and set the link to a non-existant route called <code>"/sidekicks"</code>.</p>
<code-example path="router/src/app/hero-list/hero-list.component.1.html" header="src/app/hero-list/hero-list.component.html (excerpt)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/hero-list/hero-list.component.html (excerpt)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-list/hero-list.component.html (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">HEROES</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
</span><span class="tag">&lt;p&gt;</span><span class="pln">Get your heroes here</span><span class="tag">&lt;/p&gt;</span><span class="pln">

</span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/sidekicks"</span><span class="tag">&gt;</span><span class="pln">Go to sidekicks</span><span class="tag">&lt;/button&gt;</span></code>
    </pre></aio-code></code-example>
<p>The application fails if the user clicks that button because you haven't defined a <code>"/sidekicks"</code> route yet.</p>
<p>Instead of adding the <code>"/sidekicks"</code> route, define a <code>wildcard</code> route and have it navigate to a <code>PageNotFoundComponent</code>.</p>
<code-example path="router/src/app/app.module.1.ts" header="src/app/app.module.ts (wildcard)" region="wildcard" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.module.ts (wildcard)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (wildcard)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Create the <code>PageNotFoundComponent</code> to display when users visit invalid URLs.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component page</span><span class="pun">-</span><span class="pln">not</span><span class="pun">-</span><span class="pln">found</span></code>
    </pre></aio-code></code-example>
<code-example path="router/src/app/page-not-found/page-not-found.component.html" header="src/app/page-not-found.component.html (404 component)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/page-not-found.component.html (404 component)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/page-not-found.component.html (404 component)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">Page not found</span><span class="tag">&lt;/h2&gt;</span></code>
    </pre></aio-code></code-example>
<p>Now when the user visits <code>/sidekicks</code>, or any other invalid URL, the browser displays "Page not found".
The browser address bar continues to point to the invalid URL.</p>
<a id="redirect"></a>
<h3 id="set-up-redirects">Set up redirects</h3>
<p>When the application launches, the initial URL in the browser bar is by default:</p>
<code-example ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">localhost</span><span class="pun">:</span><span class="lit">4200</span></code>
    </pre></aio-code></code-example>
<p>That doesn't match any of the hard-coded routes which means the router falls through to the wildcard route and displays the <code>PageNotFoundComponent</code>.</p>
<p>The application needs a default route to a valid page.
The default page for this application is the list of heroes.
The application should navigate there as if the user clicked the "Heroes" link or pasted <code>localhost:4200/heroes</code> into the address bar.</p>
<p>Add a <code>redirect</code> route that translates the initial relative URL (<code>''</code>) to the default path (<code>/heroes</code>) you want.</p>
<p>Add the default route somewhere <em>above</em> the wildcard route.
It's just above the wildcard route in the following excerpt showing the complete <code>appRoutes</code> for this milestone.</p>
<code-example path="router/src/app/app-routing.module.1.ts" header="src/app/app-routing.module.ts (appRoutes)" region="appRoutes" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (appRoutes)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (appRoutes)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln">        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">   redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/heroes'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span></code>
    </pre></aio-code></code-example>
<p>The browser address bar shows <code>.../heroes</code> as if you'd navigated there directly.</p>
<p>A redirect route requires a <code>pathMatch</code> property to tell the router how to match a URL to the path of a route.
In this app, the router should select the route to the <code>HeroListComponent</code> only when the <em>entire URL</em> matches <code>''</code>, so set the <code>pathMatch</code> value to <code>'full'</code>.</p>
<a id="pathmatch"></a>
<div class="callout is-helpful">
  <header>Spotlight on pathMatch</header>
<p>  Technically, <code>pathMatch = 'full'</code> results in a route hit when the <em>remaining</em>, unmatched  segments of the URL match <code>''</code>.
In this example, the redirect is in a top level route so the <em>remaining</em> URL and the  <em>entire</em> URL are the same thing.</p>
<p>  The other possible <code>pathMatch</code> value is <code>'prefix'</code> which tells the router to match the  redirect route when the remaining URL begins with the redirect route's prefix  path.
This doesn't apply to this sample application because if the <code>pathMatch</code> value were <code>'prefix'</code>,   every URL would match <code>''</code>.</p>
<p>  Try setting it to <code>'prefix'</code> and clicking the <code>Go to sidekicks</code> button.
Because that's a bad URL, you should see the "Page not found" page.
Instead, you're still on the "Heroes" page.
Enter a bad URL in the browser address bar.
You're instantly re-routed to <code>/heroes</code>.
Every URL, good or bad, that falls through to this route definition is a match.</p>
<p>  The default route should redirect to the <code>HeroListComponent</code> only when the entire url is    <code>''</code>.
Remember to restore the redirect to <code>pathMatch = 'full'</code>.</p>
<p>  Learn more in Victor Savkin's
<a href="https://vsavkin.tumblr.com/post/146722301646/angular-router-empty-paths-componentless-routes">post on redirects</a>.</p>
</div>
<h3 id="milestone-1-wrap-up">Milestone 1 wrap up</h3>
<p>Your sample application can switch between two views when the user clicks a link.</p>
<p>Milestone 1 covered how to do the following:</p>
<ul>
<li>Load the router library.</li>
<li>Add a nav bar to the shell template with anchor tags, <code><a href="../api/router/RouterLink.html" class="code-anchor">routerLink</a></code>  and <code><a href="../api/router/RouterLinkActive.html" class="code-anchor">routerLinkActive</a></code> directives.</li>
<li>Add a <code><a href="../api/router/RouterOutlet.html" class="code-anchor">router-outlet</a></code> to the shell template where views are displayed.</li>
<li>Configure the router module with <code><a href="../api/router/RouterModule.html#forRoot" class="code-anchor">RouterModule.forRoot()</a></code>.</li>
<li>Set the router to compose HTML5 browser URLs.</li>
<li>Handle invalid routes with a <code>wildcard</code> route.</li>
<li>Navigate to the default route when the application launches with an empty path.</li>
</ul>
<p>The starter application's structure looks like this:</p>
<div class="filetree">
  <div class="file">
    angular-router-sample
  </div>
  <div class="children">
    <div class="file">
      src
    </div>
    <div class="children">
      <div class="file">
        app
      </div>
      <div class="children">
        <div class="file">
          crisis-list
        </div>
        <div class="children">
          <div class="file">
<p>            crisis-list.component.css</p>
          </div>
          <div class="file">
<p>            crisis-list.component.html</p>
          </div>
          <div class="file">
<p>            crisis-list.component.ts</p>
          </div>
        </div>
        <div class="file">
          hero-list
        </div>
        <div class="children">
          <div class="file">
<p>            hero-list.component.css</p>
          </div>
          <div class="file">
<p>            hero-list.component.html</p>
          </div>
          <div class="file">
<p>            hero-list.component.ts</p>
          </div>
        </div>
        <div class="file">
          page-not-found
        </div>
        <div class="children">
          <div class="file">
<p>            page-not-found.component.css</p>
          </div>
          <div class="file">
<p>            page-not-found.component.html</p>
          </div>
          <div class="file">
<p>            page-not-found.component.ts</p>
          </div>
        </div>
        <div class="file">
          app.component.css
        </div>
        <div class="file">
          app.component.html
        </div>
        <div class="file">
          app.component.ts
        </div>
        <div class="file">
          app.module.ts
        </div>
      </div>
      <div class="file">
        main.ts
      </div>
      <div class="file">
        index.html
      </div>
      <div class="file">
        styles.css
      </div>
      <div class="file">
        tsconfig.json
      </div>
    </div>
    <div class="file">
      node_modules ...
    </div>
    <div class="file">
      package.json
    </div>
  </div>
</div>
<p>Here are the files in this milestone.</p>
<code-tabs ng-version="13.2.2"><div style="display: none;"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform: translateX(0px);"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-1-0" tabindex="0" aria-posinset="1" aria-setsize="6" aria-controls="mat-tab-content-1-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-1" tabindex="-1" aria-posinset="2" aria-setsize="6" aria-controls="mat-tab-content-1-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-2" tabindex="-1" aria-posinset="3" aria-setsize="6" aria-controls="mat-tab-content-1-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-list/hero-list.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-3" tabindex="-1" aria-posinset="4" aria-setsize="6" aria-controls="mat-tab-content-1-3" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-list/crisis-list.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-4" tabindex="-1" aria-posinset="5" aria-setsize="6" aria-controls="mat-tab-content-1-4" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">page-not-found/page-not-found.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-5" tabindex="-1" aria-posinset="6" aria-setsize="6" aria-controls="mat-tab-content-1-5" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">index.html</span><!----><!----><!----></div></div><!----></div><mat-ink-bar class="mat-ink-bar"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-4 mat-tab-body-active ng-star-inserted" id="mat-tab-content-1-0" aria-labelledby="mat-tab-label-1-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-4 ng-trigger ng-trigger-translateTab" style="transform: none;"><!----><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.component.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h1&gt;</span><span class="pln">Angular </span><a href="../api/router/Router.html" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/heroes"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-5 ng-star-inserted" id="mat-tab-content-1-1" aria-labelledby="mat-tab-label-1-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-5 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-6 ng-star-inserted" id="mat-tab-content-1-2" aria-labelledby="mat-tab-label-1-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-6 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-7 ng-star-inserted" id="mat-tab-content-1-3" aria-labelledby="mat-tab-label-1-3"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-7 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-8 ng-star-inserted" id="mat-tab-content-1-4" aria-labelledby="mat-tab-label-1-4"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-8 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-9 ng-star-inserted" id="mat-tab-content-1-5" aria-labelledby="mat-tab-label-1-5"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-9 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><!----></div></mat-tab-group></mat-card></code-tabs>
<a id="routing-module"></a>
<a class="dashAnchor" name="//apple_ref/Section/Milestone%202%3A%20Routing%20module"></a><h2 id="milestone-2-routing-module">Milestone 2: <em>Routing module</em></h2>
<p>This milestone shows you how to configure a special-purpose module called a <em>Routing Module</em>, which holds your application's routing configuration.</p>
<p>The Routing Module has several characteristics:</p>
<ul>
<li>Separates routing concerns from other application concerns.</li>
<li>Provides a module to replace or remove when testing the application.</li>
<li>Provides a well-known location for routing service providers such as guards and resolvers.</li>
<li>Does not declare components.</li>
</ul>
<a id="integrate-routing"></a>
<h3 id="integrate-routing-with-your-app">Integrate routing with your app</h3>
<p>The sample routing application does not include routing by default.
When you use the <a href="../cli.html">Angular CLI</a> to create a project that does use routing, set the <code>--routing</code> option for the project or application, and for each NgModule.
When you create or initialize a new project (using the CLI <a href="../cli/new.html"><code>ng new</code></a> command) or a new application (using the <a href="../cli/generate.html"><code>ng generate app</code></a> command), specify the <code>--routing</code> option.
This tells the CLI to include the <code>@angular/router</code> npm package and create a file named <code>app-routing.module.ts</code>.
You can then use routing in any NgModule that you add to the project or application.</p>
<p>For example, the following command generates an NgModule that can use routing.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate module my</span><span class="pun">-</span><span class="pln">module </span><span class="pun">--</span><span class="pln">routing</span></code>
    </pre></aio-code></code-example>
<p>This creates a separate file named <code>my-module-routing.module.ts</code> to store the NgModule's routes.
The file includes an empty <code><a href="../api/router/Routes.html" class="code-anchor">Routes</a></code> object that you can fill with routes to different components and NgModules.</p>
<a id="routing-refactor"></a>
<h3 id="refactor-the-routing-configuration-into-a-routing-module">Refactor the routing configuration into a routing module</h3>
<p>Create an <code>AppRouting</code> module in the <code>/app</code> folder to contain the routing configuration.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate module app</span><span class="pun">-</span><span class="pln">routing </span><span class="pun">--</span><span class="pln">module app </span><span class="pun">--</span><span class="pln">flat</span></code>
    </pre></aio-code></code-example>
<p>Import the <code>CrisisListComponent</code>, <code>HeroListComponent</code>, and <code>PageNotFoundComponent</code> symbols like you did in the <code>app.module.ts</code>.
Then move the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> imports and routing configuration, including <code><a href="../api/router/RouterModule.html#forRoot" class="code-anchor">RouterModule.forRoot()</a></code>, into this routing module.</p>
<p>Re-export the Angular <code><a href="../api/router/RouterModule.html" class="code-anchor">RouterModule</a></code> by adding it to the module <code>exports</code> array.
By re-exporting the <code><a href="../api/router/RouterModule.html" class="code-anchor">RouterModule</a></code> here, the components declared in <code>AppModule</code> have access to router directives such as <code><a href="../api/router/RouterLink.html" class="code-anchor">RouterLink</a></code> and <code><a href="../api/router/RouterOutlet.html" class="code-anchor">RouterOutlet</a></code>.</p>
<p>After these steps, the file should look like this.</p>
<code-example path="router/src/app/app-routing.module.1.ts" header="src/app/app-routing.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app-routing.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln">        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">   redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/heroes'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
      appRoutes</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<p>Next, update the <code>app.module.ts</code> file by removing <code>RouterModule.forRoot</code> in the <code>imports</code> array.</p>
<code-example path="router/src/app/app.module.2.ts" header="src/app/app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PageNotFoundComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>Later, this guide shows you how to create <a href="./router-tutorial-toh.html#heroes-functionality">multiple routing modules</a> and import those routing modules <a href="./router-tutorial-toh.html#routing-module-order">in the correct order</a>.</p>
</div>
<p>The application continues to work just the same, and you can use <code>AppRoutingModule</code> as the central place to maintain future routing configuration.</p>
<a id="why-routing-module"></a>
<h3 id="benefits-of-a-routing-module">Benefits of a routing module</h3>
<p>The routing module, often called the <code>AppRoutingModule</code>, replaces the routing configuration in the root or feature module.</p>
<p>The routing module is helpful as your application grows and when the configuration includes specialized guard and resolver services.</p>
<p>Some developers skip the routing module when the configuration is minimal and merge the routing configuration directly into the companion module (for example, <code>AppModule</code>).</p>
<p>Most applications should implement a routing module for consistency.
It keeps the code clean when configuration becomes complex.
It makes testing the feature module easier.
Its existence calls attention to the fact that a module is routed.
It is where developers expect to find and expand routing configuration.</p>
<a id="heroes-feature"></a>
<a class="dashAnchor" name="//apple_ref/Section/Milestone%203%3A%20Heroes%20feature"></a><h2 id="milestone-3-heroes-feature">Milestone 3: Heroes feature</h2>
<p>This milestone covers the following:</p>
<ul>
<li>Organizing the application and routes into feature areas using modules.</li>
<li>Navigating imperatively from one component to another.</li>
<li>Passing required and optional information in route parameters.</li>
</ul>
<p>This sample application recreates the heroes feature in the "Services" section of the <a href="../tutorial/toh-pt4.html" title="Tour of Heroes: Services">Tour of Heroes tutorial</a>, and reuses much of the code from the <live-example name="toh-pt4" title="Tour of Heroes: Services example code" ng-version="13.2.2"><span style="display: none;"></span><span><!----><!----><span class="ng-star-inserted"><a target="_blank" title="Tour of Heroes: Services example code" href="https://angular.io/generated/live-examples/toh-pt4/stackblitz.html">Tour of Heroes: Services example code</a><span class="ng-star-inserted"> / <a download="" title="Download example" href="https://angular.io/generated/zips/toh-pt4/toh-pt4.zip">download example</a></span><!----></span><!----></span></live-example>.</p>
<p>A typical application has multiple feature areas, each dedicated to a particular business purpose with its own folder.</p>
<p>This section shows you how refactor the application into different feature modules, import them into the main module and navigate among them.</p>
<a id="heroes-functionality"></a>
<h3 id="add-heroes-functionality">Add heroes functionality</h3>
<p>Follow these steps:</p>
<ul>
<li>To manage the heroes, create a <code>HeroesModule</code> with routing in the heroes folder and register it with the root <code>AppModule</code>.</li>
</ul>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate module heroes</span><span class="pun">/</span><span class="pln">heroes </span><span class="pun">--</span><span class="pln">module app </span><span class="pun">--</span><span class="pln">flat </span><span class="pun">--</span><span class="pln">routing</span></code>
    </pre></aio-code></code-example>
<ul>
<li>
<p>Move the placeholder <code>hero-list</code> folder that's in the <code>app</code> folder into the <code>heroes</code> folder.</p>
</li>
<li>
<p>Copy the contents of the <code>heroes/heroes.component.html</code> from
the <live-example name="toh-pt4" title="Tour of Heroes: Services example code" ng-version="13.2.2"><span style="display: none;">"Services" tutorial</span><span><!----><!----><span class="ng-star-inserted"><a target="_blank" title="&quot;Services&quot; tutorial" href="https://angular.io/generated/live-examples/toh-pt4/stackblitz.html">"Services" tutorial</a><span class="ng-star-inserted"> / <a download="" title="Download example" href="https://angular.io/generated/zips/toh-pt4/toh-pt4.zip">download example</a></span><!----></span><!----></span></live-example> into the <code>hero-list.component.html</code> template.</p>
<ul>
<li>Re-label the <code>&lt;h2&gt;</code> to <code>&lt;h2&gt;HEROES&lt;/h2&gt;</code>.</li>
<li>Delete the <code>&lt;app-hero-detail&gt;</code> component at the bottom of the template.</li>
</ul>
</li>
<li>
<p>Copy the contents of the <code>heroes/heroes.component.css</code> from the live example into the <code>hero-list.component.css</code> file.</p>
</li>
<li>
<p>Copy the contents of the <code>heroes/heroes.component.ts</code> from the live example into the <code>hero-list.component.ts</code> file.</p>
<ul>
<li>Change the component class name to <code>HeroListComponent</code>.</li>
<li>Change the <code>selector</code> to <code>app-hero-list</code>.</li>
</ul>
</li>
</ul>
<div class="alert is-helpful">
<p>   Selectors are not required for routed components because components are dynamically inserted when the page is rendered. However, they are useful for identifying and targeting them in your HTML element tree.</p>
</div>
<ul>
<li>Copy the <code>hero-detail</code> folder, the <code>hero.ts</code>, <code>hero.service.ts</code>,  and <code>mock-heroes.ts</code> files into the <code>heroes</code> subfolder.</li>
<li>Copy the <code>message.service.ts</code> into the <code>src/app</code> folder.</li>
<li>Update the relative path import to the <code>message.service</code> in the <code>hero.service.ts</code> file.</li>
</ul>
<p>Next, update the <code>HeroesModule</code> metadata.</p>
<ul>
<li>Import and add the <code>HeroDetailComponent</code> and <code>HeroListComponent</code> to the <code>declarations</code> array in the <code>HeroesModule</code>.</li>
</ul>
<code-example path="router/src/app/heroes/heroes.module.ts" header="src/app/heroes/heroes.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/heroes.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/common/CommonModule.html" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail/hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes-routing.module'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/common/CommonModule.html" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroesRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">HeroListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroDetailComponent</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroesModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<p>The hero management file structure is as follows:</p>
<div class="filetree">
  <div class="file">
    src/app/heroes
  </div>
  <div class="children">
    <div class="file">
      hero-detail
    </div>
      <div class="children">
        <div class="file">
          hero-detail.component.css
        </div>
        <div class="file">
          hero-detail.component.html
        </div>
        <div class="file">
          hero-detail.component.ts
        </div>
      </div>
    <div class="file">
      hero-list
    </div>
      <div class="children">
        <div class="file">
          hero-list.component.css
        </div>
        <div class="file">
          hero-list.component.html
        </div>
        <div class="file">
          hero-list.component.ts
        </div>
      </div>
    <div class="file">
      hero.service.ts
    </div>
    <div class="file">
      hero.ts
    </div>
    <div class="file">
      heroes-routing.module.ts
    </div>
    <div class="file">
      heroes.module.ts
    </div>
    <div class="file">
      mock-heroes.ts
    </div>
    </div>
  </div>
</div>
<a id="hero-routing-requirements"></a>
<h4 id="hero-feature-routing-requirements">Hero feature routing requirements</h4>
<p>The heroes feature has two interacting components, the hero list and the hero detail.
When you navigate to list view, it gets a list of heroes and displays them.
When you click on a hero, the detail view has to display that particular hero.</p>
<p>You tell the detail view which hero to display by including the selected hero's ID in the route URL.</p>
<p>Import the hero components from their new locations in the <code>src/app/heroes/</code> folder and define the two hero routes.</p>
<p>Now that you have routes for the <code>Heroes</code> module, register them with the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> using the <code><a href="../api/router/RouterModule.html" class="code-anchor">RouterModule</a></code> as you did in the <code>AppRoutingModule</code>, with an important difference.</p>
<p>In the <code>AppRoutingModule</code>, you used the static <code><a href="../api/router/RouterModule.html#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> method to register the routes and application level service providers.
In a feature module you use the static <code>forChild()</code> method.</p>
<div class="alert is-helpful">
<p>Only call <code><a href="../api/router/RouterModule.html#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> in the root <code>AppRoutingModule</code>
(or the <code>AppModule</code> if that's where you register top level application routes).
In any other module, you must call the <code><a href="../api/router/RouterModule.html#forChild" class="code-anchor">RouterModule.forChild()</a></code> method to register additional routes.</p>
</div>
<p>The updated <code>HeroesRoutingModule</code> looks like this:</p>
<code-example path="router/src/app/heroes/heroes-routing.module.1.ts" header="src/app/heroes/heroes-routing.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/heroes-routing.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes-routing.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail/hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> heroesRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln">  component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero/:id'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">heroesRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroesRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>Consider giving each feature module its own route configuration file.
Though the feature routes are currently minimal, routes have a tendency to grow more complex even in small applications.</p>
</div>
<a id="remove-duplicate-hero-routes"></a>
<h4 id="remove-duplicate-hero-routes">Remove duplicate hero routes</h4>
<p>The hero routes are currently defined in two places: in the <code>HeroesRoutingModule</code>,
by way of the <code>HeroesModule</code>, and in the <code>AppRoutingModule</code>.</p>
<p>Routes provided by feature modules are combined together into their imported module's routes by the router.
This lets you continue defining the feature module routes without modifying the main route configuration.</p>
<p>Remove the <code>HeroListComponent</code> import and the <code>/heroes</code> route from the <code>app-routing.module.ts</code>.</p>
<p>Leave the default and the wildcard routes as these are still in use at the top level of the application.</p>
<code-example path="router/src/app/app-routing.module.2.ts" header="src/app/app-routing.module.ts (v2)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (v2)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (v2)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="com">// import { HeroListComponent } from './hero-list/hero-list.component';  // &lt;-- delete this line</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="com">// { path: 'heroes',     component: HeroListComponent }, // &lt;-- delete this line</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">   redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/heroes'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
      appRoutes</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<a id="merge-hero-routes"></a>
<h4 id="remove-heroes-declarations">Remove heroes declarations</h4>
<p>Because the <code>HeroesModule</code> now provides the <code>HeroListComponent</code>, remove it from the <code>AppModule</code>'s <code>declarations</code> array.
Now that you have a separate <code>HeroesModule</code>, you can evolve the hero feature with more components and different routes.</p>
<p>After these steps, the <code>AppModule</code> should look like this:</p>
<code-example path="router/src/app/app.module.3.ts" header="src/app/app.module.ts" region="remove-heroes" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes/heroes.module'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroesModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PageNotFoundComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<a id="routing-module-order"></a>
<h3 id="module-import-order">Module import order</h3>
<p>Notice that in the module <code>imports</code> array, the <code>AppRoutingModule</code> is last and comes <em>after</em> the <code>HeroesModule</code>.</p>
<code-example path="router/src/app/app.module.3.ts" region="module-imports" header="src/app/app.module.ts (module-imports)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.module.ts (module-imports)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (module-imports)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="typ">HeroesModule</span><span class="pun">,</span><span class="pln">
  </span><span class="typ">AppRoutingModule</span><span class="pln">
</span><span class="pun">],</span></code>
    </pre></aio-code></code-example>
<p>The order of route configuration is important because the router accepts the first route that matches a navigation request path.</p>
<p>When all routes were in one <code>AppRoutingModule</code>, you put the default and <a href="./router-tutorial-toh.html#wildcard">wildcard</a> routes last, after the <code>/heroes</code> route, so that the router had a chance to match a URL to the <code>/heroes</code> route <em>before</em> hitting the wildcard route and navigating to "Page not found".</p>
<p>Each routing module augments the route configuration in the order of import.
If you listed <code>AppRoutingModule</code> first, the wildcard route would be registered <em>before</em> the hero routes.
The wildcard route—which matches <em>every</em> URL—would intercept the attempt to navigate to a hero route.</p>
<div class="alert is-helpful">
<p>Reverse the routing modules to see a click of the heroes link resulting in "Page not found".
Learn about inspecting the runtime router configuration <a href="./router-tutorial-toh.html#inspect-config" title="Inspect the router config">below</a>.</p>
</div>
<h3 id="route-parameters">Route Parameters</h3>
<a id="route-def-with-parameter"></a>
<h4 id="route-definition-with-a-parameter">Route definition with a parameter</h4>
<p>Return to the <code>HeroesRoutingModule</code> and look at the route definitions again.
The route to <code>HeroDetailComponent</code> has an <code>:id</code> token in the path.</p>
<code-example path="router/src/app/heroes/heroes-routing.module.1.ts" header="src/app/heroes/heroes-routing.module.ts (excerpt)" region="hero-detail-route" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/heroes-routing.module.ts (excerpt)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes-routing.module.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero/:id'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The <code>:id</code> token creates a slot in the path for a Route Parameter.
In this case,  this configuration causes the router to insert the <code>id</code> of a hero into that slot.</p>
<p>If you tell the router to navigate to the detail component and display "Magneta", you expect a hero ID to appear in the browser URL like this:</p>
<code-example format="nocode" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">localhost</span><span class="pun">:</span><span class="lit">4200</span><span class="pun">/</span><span class="pln">hero</span><span class="pun">/</span><span class="lit">15</span></code>
    </pre></aio-code></code-example>
<p>If a user enters that URL into the browser address bar, the router should recognize the pattern and go to the same "Magneta" detail view.</p>
<div class="callout is-helpful">
<header>
  Route parameter: Required or optional?
</header>
<p>Embedding the route parameter token, <code>:id</code>, in the route definition path is a good choice for this scenario because the <code>id</code> is <em>required</em> by the <code>HeroDetailComponent</code> and because the value <code>15</code> in the path clearly distinguishes the route to "Magneta" from a route for some other hero.</p>
</div>
<a id="route-parameters"></a>
<h4 id="setting-the-route-parameters-in-the-list-view">Setting the route parameters in the list view</h4>
<p>After navigating to the <code>HeroDetailComponent</code>, you expect to see the details of the selected hero.
You need two pieces of information: the routing path to the component and the hero's <code>id</code>.</p>
<p>Accordingly, the <em>link parameters array</em> has two items: the routing <em>path</em> and a <em>route parameter</em> that specifies the
<code>id</code> of the selected hero.</p>
<code-example path="router/src/app/heroes/hero-list/hero-list.component.1.html" header="src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)" region="link-parameters-array" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;a</span><span class="pln"> [</span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"['/hero', hero.id]"</span><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example>
<p>The router composes the destination URL from the array like this: <code>localhost:4200/hero/15</code>.</p>
<p>The router extracts the route parameter (<code>id:15</code>) from the URL and supplies it to
the <code>HeroDetailComponent</code> using the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> service.</p>
<a id="activated-route-in-action"></a>
<h3 id="activated-route-in-action"><code>Activated <a href="../api/router/Route.html" class="code-anchor">Route</a></code> in action</h3>
<p>Import the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code>, <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code>, and <code><a href="../api/router/ParamMap.html" class="code-anchor">ParamMap</a></code> tokens from the router package.</p>
<code-example path="router/src/app/heroes/hero-detail/hero-detail.component.1.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (activated route)" region="imports" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (activated route)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (activated route)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/ParamMap.html" class="code-anchor"><span class="typ">ParamMap</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example>
<p>Import the <code>switchMap</code> operator because you need it later to process the <code>Observable</code> route parameters.</p>
<code-example path="router/src/app/heroes/hero-detail/hero-detail.component.3.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (switchMap operator import)" region="rxjs-operator-import" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (switchMap operator import)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (switchMap operator import)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> switchMap </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example>
<a id="hero-detail-ctor"></a>
<p>Add the services as private variables to the constructor so that Angular injects them (makes them visible to the component).</p>
<code-example path="router/src/app/heroes/hero-detail/hero-detail.component.3.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (constructor)" region="ctor" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (constructor)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (constructor)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> service</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroService</span><span class="pln">
</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<p>In the <code>ngOnInit()</code> method, use the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> service to retrieve the parameters for the route, pull the hero <code>id</code> from the parameters, and retrieve the hero to display.</p>
<code-example path="router/src/app/heroes/hero-detail/hero-detail.component.3.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit)" region="ngOnInit" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero$ </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
    switchMap</span><span class="pun">((</span><span class="kwd">params</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ParamMap.html" class="code-anchor"><span class="typ">ParamMap</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="pln">getHero</span><span class="pun">(</span><span class="kwd">params</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">)!))</span><span class="pln">
  </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>When the map changes, <code>paramMap</code> gets the <code>id</code> parameter from the changed parameters.</p>
<p>Then you tell the <code>HeroService</code> to fetch the hero with that <code>id</code> and return the result of the <code>HeroService</code> request.</p>
<p>The <code>switchMap</code> operator does two things. It flattens the <code>Observable&lt;Hero&gt;</code> that <code>HeroService</code> returns and cancels previous pending requests.
If the user re-navigates to this route with a new <code>id</code> while the <code>HeroService</code> is still retrieving the old <code>id</code>, <code>switchMap</code> discards that old request and returns the hero for the new <code>id</code>.</p>
<p><code><a href="../api/common/AsyncPipe.html" class="code-anchor">AsyncPipe</a></code> handles the observable subscription and the component's <code>hero</code> property will be (re)set with the retrieved hero.</p>
<h4 id="parammap-api"><em>ParamMap</em> API</h4>
<p>The <code><a href="../api/router/ParamMap.html" class="code-anchor">ParamMap</a></code> API is inspired by the <a href="https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams">URLSearchParams interface</a>.
It provides methods to handle parameter access for both route parameters (<code>paramMap</code>) and query parameters (<code>queryParamMap</code>).</p>
<table>
  <tbody><tr>
    <th>
      Member
    </th>
    <th>
      Description
    </th>
  </tr>
  <tr>
    <td>
      <code>has(name)</code>
    </td>
    <td>
<p>    Returns <code>true</code> if the parameter name is in the map of parameters.</p>
    </td>
  </tr>
  <tr>
    <td>
      <code>get(name)</code>
    </td>
    <td>
<p>    Returns the parameter name value (a <code>string</code>) if present, or <code>null</code> if the parameter name is not in the map. Returns the <em>first</em> element if the parameter value is actually an array of values.</p>
    </td>
  </tr>
  <tr>
    <td>
      <code>getAll(name)</code>
    </td>
    <td>
<p>    Returns a <code>string array</code> of the parameter name value if found, or an empty <code>array</code> if the parameter name value is not in the map. Use <code>getAll</code> when a single parameter could have multiple values.</p>
    </td>
  </tr>
  <tr>
    <td>
      <code>keys</code>
    </td>
    <td>
<p>    Returns a <code>string array</code> of all parameter names in the map.</p>
    </td>
  </tr>
</tbody></table>
<a id="reuse"></a>
<h4 id="observable-parammap-and-component-reuse">Observable <i>paramMap</i> and component reuse</h4>
<p>In this example, you retrieve the route parameter map from an <code>Observable</code>.
That implies that the route parameter map can change during the lifetime of this component.</p>
<p>By default, the router re-uses a component instance when it re-navigates to the same component type
without visiting a different component first. The route parameters could change each time.</p>
<p>Suppose a parent component navigation bar had "forward" and "back" buttons
that scrolled through the list of heroes.
Each click navigated imperatively to the <code>HeroDetailComponent</code> with the next or previous <code>id</code>.</p>
<p>You wouldn't want the router to remove the current <code>HeroDetailComponent</code> instance from the DOM only to re-create it for the next <code>id</code> as this would re-render the view.
For better UX, the router re-uses the same component instance and updates the parameter.</p>
<p>Because <code>ngOnInit()</code> is only called once per component instantiation, you can detect when the route parameters change from <em>within the same instance</em> using the observable <code>paramMap</code> property.</p>
<div class="alert is-helpful">
<p>When subscribing to an observable in a component, you almost always unsubscribe when the component is destroyed.</p>
<p>However, <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> observables are among the exceptions because <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> and its observables are insulated from the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> itself.
The <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> destroys a routed component when it is no longer needed. This means all the component's members will also be destroyed,
including the injected <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> and the subscriptions to its <code>Observable</code> properties.</p>
<p>The <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> does not <code>complete</code> any <code>Observable</code> of the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> so any <code>finalize</code> or <code>complete</code> blocks will not run.
If you need to handle something in a <code>finalize</code>, you still need to unsubscribe in <code>ngOnDestroy</code>. You also have to
unsubscribe if your observable pipe has a delay with code you do not want to run after the component is destroyed.</p>
</div>
<a id="snapshot"></a>
<h4 id="snapshot-the-no-observable-alternative"><code>snapshot</code>: the no-observable alternative</h4>
<p>This application won't re-use the <code>HeroDetailComponent</code>.
The user always returns to the hero list to select another hero to view.
There's no way to navigate from one hero detail to another hero detail without visiting the list component in between.
Therefore, the router creates a new <code>HeroDetailComponent</code> instance every time.</p>
<p>When you know for certain that a <code>HeroDetailComponent</code> instance will never be re-used, you can use <code>snapshot</code>.</p>
<p><code>route.snapshot</code> provides the initial value of the route parameter map.
You can access the parameters directly without subscribing or adding observable operators as in the following:</p>
<code-example path="router/src/app/heroes/hero-detail/hero-detail.component.2.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit snapshot)" region="snapshot" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit snapshot)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (ngOnInit snapshot)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="pln">snapshot</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">)!;</span><span class="pln">

  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero$ </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="pln">getHero</span><span class="pun">(</span><span class="pln">id</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p><code>snapshot</code> only gets the initial value of the parameter map with this technique.
Use the observable <code>paramMap</code> approach if there's a possibility that the router could re-use the component.
This tutorial sample application uses with the observable <code>paramMap</code>.</p>
</div>
<a id="nav-to-list"></a>
<h3 id="navigating-back-to-the-list-component">Navigating back to the list component</h3>
<p>The <code>HeroDetailComponent</code> "Back" button uses the <code>gotoHeroes()</code> method that navigates imperatively back to the <code>HeroListComponent</code>.</p>
<p>The router <code>navigate()</code> method takes the same one-item <em>link parameters array</em> that you can bind to a <code>[<a href="../api/router/RouterLink.html" class="code-anchor">routerLink</a>]</code> directive.
It holds the path to the <code>HeroListComponent</code>:</p>
<code-example path="router/src/app/heroes/hero-detail/hero-detail.component.1.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (excerpt)" region="gotoHeroes" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (excerpt)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">gotoHeroes</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'/heroes'</span><span class="pun">]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<a id="optional-route-parameters"></a>
<h4 id="route-parameters-required-or-optional">Route Parameters: Required or optional?</h4>
<p>Use <a href="./router-tutorial-toh.html#route-parameters">route parameters</a> to specify a required parameter value within the route URL
as you do when navigating to the <code>HeroDetailComponent</code> in order to view the hero with <code>id</code> 15:</p>
<code-example format="nocode" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">localhost</span><span class="pun">:</span><span class="lit">4200</span><span class="pun">/</span><span class="pln">hero</span><span class="pun">/</span><span class="lit">15</span></code>
    </pre></aio-code></code-example>
<p>You can also add optional information to a route request.
For example, when returning to the <code>hero-detail.component.ts</code> list from the hero detail view, it would be nice if the viewed hero were preselected in the list.</p>
<div class="lightbox">
  <img src="../generated/images/guide/router/selected-hero.png" alt="Selected hero" width="600" height="173">
</div>
<p>You implement this feature by including the viewed hero's <code>id</code> in the URL as an optional parameter when returning from the <code>HeroDetailComponent</code>.</p>
<p>Optional information can also include other forms such as:</p>
<ul>
<li>Loosely structured search criteria; for example, <code>name='wind*'</code>.</li>
<li>Multiple values;  for example, <code>after='12/31/2015' &amp; before='1/1/2017'</code>—in no
particular order—<code>before='1/1/2017' &amp; after='12/31/2015'</code>— in a
variety of formats—<code>during='currentYear'</code>.</li>
</ul>
<p>As these kinds of parameters don't fit smoothly in a URL path, you can use optional parameters for conveying arbitrarily complex information during navigation.
Optional parameters aren't involved in pattern matching and afford flexibility of expression.</p>
<p>The router supports navigation with optional parameters as well as required route parameters.
Define optional parameters in a separate object <em>after</em> you define the required route parameters.</p>
<p>In general, use a required route parameter when the value is mandatory (for example, if necessary to distinguish one route path from another); and an optional parameter when the value is optional, complex, and/or multivariate.</p>
<a id="optionally-selecting"></a>
<h4 id="heroes-list-optionally-selecting-a-hero">Heroes list: optionally selecting a hero</h4>
<p>When navigating to the <code>HeroDetailComponent</code> you specified the required <code>id</code> of the hero-to-edit in the
route parameter and made it the second item of the <a href="./router-tutorial-toh.html#link-parameters-array"><em>link parameters array</em></a>.</p>
<code-example path="router/src/app/heroes/hero-list/hero-list.component.1.html" header="src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)" region="link-parameters-array" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.html (link-parameters-array)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;a</span><span class="pln"> [</span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"['/hero', hero.id]"</span><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example>
<p>The router embedded the <code>id</code> value in the navigation URL because you had defined it as a route parameter with an <code>:id</code> placeholder token in the route <code>path</code>:</p>
<code-example path="router/src/app/heroes/heroes-routing.module.1.ts" header="src/app/heroes/heroes-routing.module.ts (hero-detail-route)" region="hero-detail-route" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/heroes-routing.module.ts (hero-detail-route)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes-routing.module.ts (hero-detail-route)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero/:id'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>When the user clicks the back button, the <code>HeroDetailComponent</code> constructs another <em>link parameters array</em>
which it uses to navigate back to the <code>HeroListComponent</code>.</p>
<code-example path="router/src/app/heroes/hero-detail/hero-detail.component.1.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (gotoHeroes)" region="gotoHeroes" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (gotoHeroes)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (gotoHeroes)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">gotoHeroes</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'/heroes'</span><span class="pun">]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>This array lacks a route parameter because previously you didn't need to send information to the <code>HeroListComponent</code>.</p>
<p>Now, send the <code>id</code> of the current hero with the navigation request so that the
<code>HeroListComponent</code> can highlight that hero in its list.</p>
<p>Send the <code>id</code> with an object that contains an optional <code>id</code> parameter.
For demonstration purposes, there's an extra junk parameter (<code>foo</code>) in the object that the <code>HeroListComponent</code> should ignore.
Here's the revised navigation statement:</p>
<code-example path="router/src/app/heroes/hero-detail/hero-detail.component.3.ts" header="src/app/heroes/hero-detail/hero-detail.component.ts (go to heroes)" region="gotoHeroes" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (go to heroes)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (go to heroes)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">gotoHeroes</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> heroId </span><span class="pun">=</span><span class="pln"> hero </span><span class="pun">?</span><span class="pln"> hero</span><span class="pun">.</span><span class="pln">id </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
  </span><span class="com">// Pass along the hero id if available</span><span class="pln">
  </span><span class="com">// so that the HeroList component can select that hero.</span><span class="pln">
  </span><span class="com">// Include a junk 'foo' property for fun.</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'/heroes'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> heroId</span><span class="pun">,</span><span class="pln"> foo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'foo'</span><span class="pln"> </span><span class="pun">}]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The application still works. Clicking "back" returns to the hero list view.</p>
<p>Look at the browser address bar.</p>
<p>It should look something like this, depending on where you run it:</p>
<code-example language="bash" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-bash prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">localhost</span><span class="pun">:</span><span class="lit">4200</span><span class="pun">/</span><span class="pln">heroes</span><span class="pun">;</span><span class="pln">id</span><span class="pun">=</span><span class="lit">15</span><span class="pun">;</span><span class="pln">foo</span><span class="pun">=</span><span class="pln">foo</span></code>
    </pre></aio-code></code-example>
<p>The <code>id</code> value appears in the URL as (<code>;id=15;foo=foo</code>), not in the URL path.
The path for the "Heroes" route doesn't have an <code>:id</code> token.</p>
<p>The optional route parameters are not separated by "?" and "&amp;" as they would be in the URL query string.
They are separated by semicolons ";".
This is matrix URL notation.</p>
<div class="alert is-helpful">
<p>Matrix URL notation is an idea first introduced in a <a href="https://www.w3.org/DesignIssues/MatrixURIs.html">1996 proposal</a> by the founder of the web, Tim Berners-Lee.</p>
<p>Although matrix notation never made it into the HTML standard, it is legal and it became popular among browser routing systems as a way to isolate parameters belonging to parent and child routes.
As such, the Router provides support for the matrix notation across browsers.</p>
</div>
<a id="route-parameters-activated-route"></a>
<h3 id="route-parameters-in-the-activatedroute-service">Route parameters in the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> service</h3>
<p>In its current state of development, the list of heroes is unchanged.
No hero row is highlighted.</p>
<p>The <code>HeroListComponent</code> needs code that expects parameters.</p>
<p>Previously, when navigating from the <code>HeroListComponent</code> to the <code>HeroDetailComponent</code>,
you subscribed to the route parameter map <code>Observable</code> and made it available to the <code>HeroDetailComponent</code>
in the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> service.
You injected that service in the constructor of the <code>HeroDetailComponent</code>.</p>
<p>This time you'll be navigating in the opposite direction, from the <code>HeroDetailComponent</code> to the <code>HeroListComponent</code>.</p>
<p>First, extend the router import statement to include the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> service symbol:</p>
<code-example path="router/src/app/heroes/hero-list/hero-list.component.ts" header="src/app/heroes/hero-list/hero-list.component.ts (import)" region="import-router" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.ts (import)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.ts (import)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example>
<p>Import the <code>switchMap</code> operator to perform an operation on the <code>Observable</code> of route parameter map.</p>
<code-example path="router/src/app/heroes/hero-list/hero-list.component.ts" header="src/app/heroes/hero-list/hero-list.component.ts (rxjs imports)" region="rxjs-imports" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.ts (rxjs imports)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.ts (rxjs imports)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> switchMap </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example>
<p>Inject the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> in the <code>HeroListComponent</code> constructor.</p>
<code-example path="router/src/app/heroes/hero-list/hero-list.component.ts" header="src/app/heroes/hero-list/hero-list.component.ts (constructor and ngOnInit)" region="ctor" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.ts (constructor and ngOnInit)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.ts (constructor and ngOnInit)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/OnInit.html" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  heroes$</span><span class="pun">!:</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;;</span><span class="pln">
  selectedId </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> service</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroService</span><span class="pun">,</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln">
  </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroes$ </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      switchMap</span><span class="pun">(</span><span class="kwd">params</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">selectedId </span><span class="pun">=</span><span class="pln"> parseInt</span><span class="pun">(</span><span class="kwd">params</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">)!,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="pln">getHeroes</span><span class="pun">();</span><span class="pln">
      </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The <code><a href="../api/router/ActivatedRoute.html#paramMap" class="code-anchor">ActivatedRoute.paramMap</a></code> property is an <code>Observable</code> map of route parameters.
The <code>paramMap</code> emits a new map of values that includes <code>id</code> when the user navigates to the component.
In <code>ngOnInit()</code> you subscribe to those values, set the <code>selectedId</code>, and get the heroes.</p>
<p>Update the template with a <a href="./attribute-binding.html#class-binding">class binding</a>.
The binding adds the <code>selected</code> CSS class when the comparison returns <code>true</code> and removes it when <code>false</code>.
Look for it within the repeated <code>&lt;li&gt;</code> tag as shown here:</p>
<code-example path="router/src/app/heroes/hero-list/hero-list.component.html" header="src/app/heroes/hero-list/hero-list.component.html" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.html</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
</span><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"heroes"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;li</span><span class="pln"> *</span><a href="../api/common/NgForOf.html" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let hero of heroes$ | async"</span><span class="pln"> [</span><span class="atn">class</span><span class="pln">.</span><span class="atn">selected</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"hero.id === selectedId"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> [</span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"['/hero', hero.id]"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"badge"</span><span class="tag">&gt;</span><span class="pln">{{ hero.id }}</span><span class="tag">&lt;/span&gt;</span><span class="pln">{{ hero.name }}
    </span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;/li&gt;</span><span class="pln">
</span><span class="tag">&lt;/ul&gt;</span><span class="pln">

</span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/sidekicks"</span><span class="tag">&gt;</span><span class="pln">Go to sidekicks</span><span class="tag">&lt;/button&gt;</span></code>
    </pre></aio-code></code-example>
<p>Add some styles to apply when the hero is selected.</p>
<code-example path="router/src/app/heroes/hero-list/hero-list.component.css" region="selected" header="src/app/heroes/hero-list/hero-list.component.css" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-list/hero-list.component.css</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-list/hero-list.component.css">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pun">.</span><span class="pln">heroes </span><span class="pun">.</span><span class="pln">selected a </span><span class="pun">{</span><span class="pln">
  background</span><span class="pun">-</span><span class="pln">color</span><span class="pun">:</span><span class="pln"> </span><span class="com">#d6e6f7;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="pun">.</span><span class="pln">heroes </span><span class="pun">.</span><span class="pln">selected a</span><span class="pun">:</span><span class="pln">hover </span><span class="pun">{</span><span class="pln">
  background</span><span class="pun">-</span><span class="pln">color</span><span class="pun">:</span><span class="pln"> </span><span class="com">#bdd7f5;</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>When the user navigates from the heroes list to the "Magneta" hero and back, "Magneta" appears selected:</p>
<div class="lightbox">
  <img src="../generated/images/guide/router/selected-hero.png" alt="Selected hero in list has different background color" width="600" height="173">
</div>
<p>The optional <code>foo</code> route parameter is harmless and the router continues to ignore it.</p>
<a id="route-animation"></a>
<h3 id="adding-routable-animations">Adding routable animations</h3>
<p>This section shows you how to add some <a href="./animations.html">animations</a> to the <code>HeroDetailComponent</code>.</p>
<p>First, import the <code><a href="../api/platform-browser/animations/BrowserAnimationsModule.html" class="code-anchor">BrowserAnimationsModule</a></code> and add it to the <code>imports</code> array:</p>
<code-example path="router/src/app/app.module.ts" header="src/app/app.module.ts (animations-module)" region="animations-module" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.module.ts (animations-module)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (animations-module)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/animations/BrowserAnimationsModule.html" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser/animations'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/animations/BrowserAnimationsModule.html" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
</span><span class="pun">})</span></code>
    </pre></aio-code></code-example>
<p>Next, add a <code>data</code> object to the routes for <code>HeroListComponent</code> and <code>HeroDetailComponent</code>.
Transitions are based on <code>states</code> and you use the <code><a href="../api/animations/animation.html" class="code-anchor">animation</a></code> data from the route to provide a named animation <a href="../api/animations/state.html"><code>state</code></a> for the transitions.</p>
<code-example path="router/src/app/heroes/heroes-routing.module.2.ts" header="src/app/heroes/heroes-routing.module.ts (animation data)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/heroes-routing.module.ts (animation data)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes-routing.module.ts (animation data)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail/hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> heroesRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln">  component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/animations/animation.html" class="code-anchor"><span class="pln">animation</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero/:id'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/animations/animation.html" class="code-anchor"><span class="pln">animation</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'hero'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">heroesRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroesRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Create an <code>animations.ts</code> file in the root <code>src/app/</code> folder. The contents look like this:</p>
<code-example path="router/src/app/animations.ts" header="src/app/animations.ts (excerpt)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/animations.ts (excerpt)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/animations.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="../api/animations/trigger.html" class="code-anchor"><span class="pln">trigger</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/animateChild.html" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">,</span><span class="pln"> </span><span class="kwd">group</span><span class="pun">,</span><span class="pln">
  </span><a href="../api/animations/transition.html" class="code-anchor"><span class="pln">transition</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/animate.html" class="code-anchor"><span class="pln">animate</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/animations'</span><span class="pun">;</span><span class="pln">


</span><span class="com">// Routable animations</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> slideInAnimation </span><span class="pun">=</span><span class="pln">
  </span><a href="../api/animations/trigger.html" class="code-anchor"><span class="pln">trigger</span></a><span class="pun">(</span><span class="str">'routeAnimation'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/animations/transition.html" class="code-anchor"><span class="pln">transition</span></a><span class="pun">(</span><span class="str">'heroes &lt;=&gt; hero'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'relative'</span><span class="pln"> </span><span class="pun">}),</span><span class="pln">
      </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter, :leave'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln">
          position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'absolute'</span><span class="pun">,</span><span class="pln">
          top</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">
          left</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">
          width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'100%'</span><span class="pln">
        </span><span class="pun">})</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'-100%'</span><span class="pun">})</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':leave'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/animateChild.html" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">()),</span><span class="pln">
      </span><span class="kwd">group</span><span class="pun">([</span><span class="pln">
        </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':leave'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><a href="../api/animations/animate.html" class="code-anchor"><span class="pln">animate</span></a><span class="pun">(</span><span class="str">'300ms ease-out'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'100%'</span><span class="pun">}))</span><span class="pln">
        </span><span class="pun">]),</span><span class="pln">
        </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><a href="../api/animations/animate.html" class="code-anchor"><span class="pln">animate</span></a><span class="pun">(</span><span class="str">'300ms ease-out'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'0%'</span><span class="pun">}))</span><span class="pln">
        </span><span class="pun">])</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/animateChild.html" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">()),</span><span class="pln">
    </span><span class="pun">])</span><span class="pln">
  </span><span class="pun">]);</span></code>
    </pre></aio-code></code-example>
<p>This file does the following:</p>
<ul>
<li>
<p>Imports the animation symbols that build the animation triggers, control state, and manage transitions between states.</p>
</li>
<li>
<p>Exports a constant named <code>slideInAnimation</code> set to an animation trigger named <code>routeAnimation</code>.</p>
</li>
<li>
<p>Defines one transition when switching back and forth from the <code>heroes</code> and <code>hero</code> routes to ease the component in from the left of the screen as it enters the application view (<code>:enter</code>), the other to animate the component to the right as it leaves the application view (<code>:leave</code>).</p>
</li>
</ul>
<p>Back in the <code>AppComponent</code>, import the <code><a href="../api/router/RouterOutlet.html" class="code-anchor">RouterOutlet</a></code> token from the <code>@angular/router</code> package and the <code>slideInAnimation</code> from <code>'./animations.ts</code>.</p>
<p>Add an <code>animations</code> array to the <code>@<a href="../api/core/Component.html" class="code-anchor">Component</a></code> metadata that contains the <code>slideInAnimation</code>.</p>
<code-example path="router/src/app/app.component.2.ts" header="src/app/app.component.ts (animations)" region="animation-imports" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.component.ts (animations)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.ts (animations)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="typ">RouterOutlet</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> slideInAnimation </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./animations'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app-root'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app.component.html'</span><span class="pun">,</span><span class="pln">
  styleUrls</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'app.component.css'</span><span class="pun">],</span><span class="pln">
  animations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> slideInAnimation </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span></code>
    </pre></aio-code></code-example>
<p>To use the routable animations, wrap the <code><a href="../api/router/RouterOutlet.html" class="code-anchor">RouterOutlet</a></code> inside an element, use the <code>@routeAnimation</code> trigger, and bind it to the element.</p>
<p>For the <code>@routeAnimation</code> transitions to key off states, provide it with the <code>data</code> from the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code>.
The <code><a href="../api/router/RouterOutlet.html" class="code-anchor">RouterOutlet</a></code> is exposed as an <code>outlet</code> template variable, so you bind a reference to the router outlet.
This example uses a variable of <code>routerOutlet</code>.</p>
<code-example path="router/src/app/app.component.2.html" header="src/app/app.component.html (router outlet)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.component.html (router outlet)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html (router outlet)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h1&gt;</span><span class="pln">Angular </span><a href="../api/router/Router.html" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/heroes"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> [@</span><span class="atn">routeAnimation</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"getAnimationData(routerOutlet)"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> #</span><span class="atn">routerOutlet</span><span class="pun">=</span><span class="atv">"outlet"</span><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example>
<p>The <code>@routeAnimation</code> property is bound to the <code>getAnimationData()</code> with the provided <code>routerOutlet</code> reference, so the next step is to define that function in the <code>AppComponent</code>.
The <code>getAnimationData()</code> function returns the animation property from the <code>data</code> provided through the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code>. The <code><a href="../api/animations/animation.html" class="code-anchor">animation</a></code> property matches the <code><a href="../api/animations/transition.html" class="code-anchor">transition</a></code> names you used in the <code>slideInAnimation</code> defined in <code>animations.ts</code>.</p>
<code-example path="router/src/app/app.component.2.ts" header="src/app/app.component.ts (router outlet)" region="function-binding" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.component.ts (router outlet)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.ts (router outlet)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  getAnimationData</span><span class="pun">(</span><span class="pln">outlet</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="typ">RouterOutlet</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> outlet</span><span class="pun">?.</span><span class="pln">activatedRouteData</span><span class="pun">?.[</span><span class="str">'</span><a href="../api/animations/animation.html" class="code-anchor"><span class="str">animation</span></a><span class="str">'</span><span class="pun">];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>When switching between the two routes, the <code>HeroDetailComponent</code> and <code>HeroListComponent</code> now ease in from the left when routed to, and slide to the right when navigating away.</p>
<a id="milestone-3-wrap-up"></a>
<h3 id="milestone-3-wrap-up">Milestone 3 wrap up</h3>
<p>This section covered the following:</p>
<ul>
<li>Organizing the application into feature areas.</li>
<li>Navigating imperatively from one component to another.</li>
<li>Passing information along in route parameters and subscribe to them in the component.</li>
<li>Importing the feature area NgModule into the <code>AppModule</code>.</li>
<li>Applying routable animations based on the page.</li>
</ul>
<p>After these changes, the folder structure is as follows:</p>
<div class="filetree">
  <div class="file">
    angular-router-sample
  </div>
  <div class="children">
    <div class="file">
      src
    </div>
    <div class="children">
      <div class="file">
        app
      </div>
      <div class="children">
        <div class="file">
          crisis-list
        </div>
          <div class="children">
            <div class="file">
              crisis-list.component.css
            </div>
            <div class="file">
              crisis-list.component.html
            </div>
            <div class="file">
              crisis-list.component.ts
            </div>
          </div>
        <div class="file">
          heroes
        </div>
        <div class="children">
          <div class="file">
            hero-detail
          </div>
            <div class="children">
              <div class="file">
                hero-detail.component.css
              </div>
              <div class="file">
                hero-detail.component.html
              </div>
              <div class="file">
                hero-detail.component.ts
              </div>
            </div>
          <div class="file">
            hero-list
          </div>
            <div class="children">
              <div class="file">
                hero-list.component.css
              </div>
              <div class="file">
                hero-list.component.html
              </div>
              <div class="file">
                hero-list.component.ts
              </div>
            </div>
          <div class="file">
            hero.service.ts
          </div>
          <div class="file">
            hero.ts
          </div>
          <div class="file">
            heroes-routing.module.ts
          </div>
          <div class="file">
            heroes.module.ts
          </div>
          <div class="file">
            mock-heroes.ts
          </div>
        </div>
        <div class="file">
          page-not-found
        </div>
        <div class="children">
          <div class="file">
<p>            page-not-found.component.css</p>
          </div>
          <div class="file">
<p>            page-not-found.component.html</p>
          </div>
          <div class="file">
<p>            page-not-found.component.ts</p>
          </div>
        </div>
      </div>
      <div class="file">
        animations.ts
      </div>
      <div class="file">
        app.component.css
      </div>
      <div class="file">
        app.component.html
      </div>
      <div class="file">
        app.component.ts
      </div>
      <div class="file">
        app.module.ts
      </div>
      <div class="file">
        app-routing.module.ts
      </div>
      <div class="file">
        main.ts
      </div>
      <div class="file">
        message.service.ts
      </div>
      <div class="file">
        index.html
      </div>
      <div class="file">
        styles.css
      </div>
      <div class="file">
        tsconfig.json
      </div>
    </div>
    <div class="file">
      node_modules ...
    </div>
    <div class="file">
      package.json
    </div>
  </div>
</div>
<p>Here are the relevant files for this version of the sample application.</p>
<code-tabs ng-version="13.2.2"><div style="display: none;"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform: translateX(0px);"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-2-0" tabindex="0" aria-posinset="1" aria-setsize="14" aria-controls="mat-tab-content-2-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">animations.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-1" tabindex="-1" aria-posinset="2" aria-setsize="14" aria-controls="mat-tab-content-2-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-2" tabindex="-1" aria-posinset="3" aria-setsize="14" aria-controls="mat-tab-content-2-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.component.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-3" tabindex="-1" aria-posinset="4" aria-setsize="14" aria-controls="mat-tab-content-2-3" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-4" tabindex="-1" aria-posinset="5" aria-setsize="14" aria-controls="mat-tab-content-2-4" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app-routing.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-5" tabindex="-1" aria-posinset="6" aria-setsize="14" aria-controls="mat-tab-content-2-5" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-list.component.css</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-6" tabindex="-1" aria-posinset="7" aria-setsize="14" aria-controls="mat-tab-content-2-6" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-list.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-7" tabindex="-1" aria-posinset="8" aria-setsize="14" aria-controls="mat-tab-content-2-7" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-list.component.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-8" tabindex="-1" aria-posinset="9" aria-setsize="14" aria-controls="mat-tab-content-2-8" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-detail.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-9" tabindex="-1" aria-posinset="10" aria-setsize="14" aria-controls="mat-tab-content-2-9" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-detail.component.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-10" tabindex="-1" aria-posinset="11" aria-setsize="14" aria-controls="mat-tab-content-2-10" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero.service.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-11" tabindex="-1" aria-posinset="12" aria-setsize="14" aria-controls="mat-tab-content-2-11" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">heroes.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-12" tabindex="-1" aria-posinset="13" aria-setsize="14" aria-controls="mat-tab-content-2-12" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">heroes-routing.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-13" tabindex="-1" aria-posinset="14" aria-setsize="14" aria-controls="mat-tab-content-2-13" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">message.service.ts</span><!----><!----><!----></div></div><!----></div><mat-ink-bar class="mat-ink-bar"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-10 mat-tab-body-active ng-star-inserted" id="mat-tab-content-2-0" aria-labelledby="mat-tab-label-2-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-10 ng-trigger ng-trigger-translateTab" style="transform: none;"><!----><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from animations.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="../api/animations/trigger.html" class="code-anchor"><span class="pln">trigger</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/animateChild.html" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">,</span><span class="pln"> </span><span class="kwd">group</span><span class="pun">,</span><span class="pln">
  </span><a href="../api/animations/transition.html" class="code-anchor"><span class="pln">transition</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/animate.html" class="code-anchor"><span class="pln">animate</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/animations'</span><span class="pun">;</span><span class="pln">


</span><span class="com">// Routable animations</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> slideInAnimation </span><span class="pun">=</span><span class="pln">
  </span><a href="../api/animations/trigger.html" class="code-anchor"><span class="pln">trigger</span></a><span class="pun">(</span><span class="str">'routeAnimation'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/animations/transition.html" class="code-anchor"><span class="pln">transition</span></a><span class="pun">(</span><span class="str">'heroes &lt;=&gt; hero'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'relative'</span><span class="pln"> </span><span class="pun">}),</span><span class="pln">
      </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter, :leave'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln">
          position</span><span class="pun">:</span><span class="pln"> </span><span class="str">'absolute'</span><span class="pun">,</span><span class="pln">
          top</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">
          left</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln">
          width</span><span class="pun">:</span><span class="pln"> </span><span class="str">'100%'</span><span class="pln">
        </span><span class="pun">})</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'-100%'</span><span class="pun">})</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':leave'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/animateChild.html" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">()),</span><span class="pln">
      </span><span class="kwd">group</span><span class="pun">([</span><span class="pln">
        </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':leave'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><a href="../api/animations/animate.html" class="code-anchor"><span class="pln">animate</span></a><span class="pun">(</span><span class="str">'300ms ease-out'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'100%'</span><span class="pun">}))</span><span class="pln">
        </span><span class="pun">]),</span><span class="pln">
        </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><a href="../api/animations/animate.html" class="code-anchor"><span class="pln">animate</span></a><span class="pun">(</span><span class="str">'300ms ease-out'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/style.html" class="code-anchor"><span class="pln">style</span></a><span class="pun">({</span><span class="pln"> left</span><span class="pun">:</span><span class="pln"> </span><span class="str">'0%'</span><span class="pun">}))</span><span class="pln">
        </span><span class="pun">])</span><span class="pln">
      </span><span class="pun">]),</span><span class="pln">
      </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">(</span><span class="str">':enter'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/animations/animateChild.html" class="code-anchor"><span class="pln">animateChild</span></a><span class="pun">()),</span><span class="pln">
    </span><span class="pun">])</span><span class="pln">
  </span><span class="pun">]);</span></code>
    </pre></aio-code><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-11 ng-star-inserted" id="mat-tab-content-2-1" aria-labelledby="mat-tab-label-2-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-11 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-12 ng-star-inserted" id="mat-tab-content-2-2" aria-labelledby="mat-tab-label-2-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-12 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-13 ng-star-inserted" id="mat-tab-content-2-3" aria-labelledby="mat-tab-label-2-3"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-13 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-14 ng-star-inserted" id="mat-tab-content-2-4" aria-labelledby="mat-tab-label-2-4"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-14 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-15 ng-star-inserted" id="mat-tab-content-2-5" aria-labelledby="mat-tab-label-2-5"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-15 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-16 ng-star-inserted" id="mat-tab-content-2-6" aria-labelledby="mat-tab-label-2-6"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-16 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-17 ng-star-inserted" id="mat-tab-content-2-7" aria-labelledby="mat-tab-label-2-7"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-17 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-18 ng-star-inserted" id="mat-tab-content-2-8" aria-labelledby="mat-tab-label-2-8"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-18 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-19 ng-star-inserted" id="mat-tab-content-2-9" aria-labelledby="mat-tab-label-2-9"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-19 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-20 ng-star-inserted" id="mat-tab-content-2-10" aria-labelledby="mat-tab-label-2-10"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-20 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-21 ng-star-inserted" id="mat-tab-content-2-11" aria-labelledby="mat-tab-label-2-11"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-21 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-22 ng-star-inserted" id="mat-tab-content-2-12" aria-labelledby="mat-tab-label-2-12"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-22 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-23 ng-star-inserted" id="mat-tab-content-2-13" aria-labelledby="mat-tab-label-2-13"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-23 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><!----></div></mat-tab-group></mat-card></code-tabs>
<a id="milestone-4"></a>
<a class="dashAnchor" name="//apple_ref/Section/Milestone%204%3A%20Crisis%20center%20feature"></a><h2 id="milestone-4-crisis-center-feature">Milestone 4: Crisis center feature</h2>
<p>This section shows you how to add child routes and use relative routing in your app.</p>
<p>To add more features to the application's current crisis center, take similar steps as for the heroes feature:</p>
<ul>
<li>Create a <code>crisis-center</code> subfolder in the <code>src/app</code> folder.</li>
<li>Copy the files and folders from <code>app/heroes</code> into the new <code>crisis-center</code> folder.</li>
<li>In the new files, change every mention of "hero" to "crisis", and "heroes" to "crises".</li>
<li>Rename the NgModule files to <code>crisis-center.module.ts</code> and <code>crisis-center-routing.module.ts</code>.</li>
</ul>
<p>Use mock crises instead of mock heroes:</p>
<code-example path="router/src/app/crisis-center/mock-crises.ts" header="src/app/crisis-center/mock-crises.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/mock-crises.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/mock-crises.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Crisis</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> CRISES</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Crisis</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Dragon Burning Cities'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Sky Rains Great White Sharks'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Giant Asteroid Heading For Earth'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">4</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Procrastinators Meeting Delayed Again'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
</span><span class="pun">];</span></code>
    </pre></aio-code></code-example>
<p>The resulting crisis center is a foundation for introducing a new concept—child routing.
You can leave Heroes in its current state as a contrast with the Crisis Center.</p>
<div class="alert is-helpful">
<p>In keeping with the <a href="https://blog.8thlight.com/uncle-bob/2014/05/08/SingleReponsibilityPrinciple.html" title="Separation of Concerns">Separation of Concerns principle</a>, changes to the Crisis Center don't affect the <code>AppModule</code> or any other feature's component.</p>
</div>
<a id="crisis-child-routes"></a>
<h3 id="a-crisis-center-with-child-routes">A crisis center with child routes</h3>
<p>This section shows you how to organize the crisis center to conform to the following recommended pattern for Angular applications:</p>
<ul>
<li>Each feature area resides in its own folder.</li>
<li>Each feature has its own Angular feature module.</li>
<li>Each area has its own area root component.</li>
<li>Each area root component has its own router outlet and child routes.</li>
<li>Feature area routes rarely (if ever) cross with routes of other features.</li>
</ul>
<p>If your application had many feature areas, the component trees might consist of multiple components for those features, each with branches of other, related, components.</p>
<a id="child-routing-component"></a>
<h3 id="child-routing-component">Child routing component</h3>
<p>Generate a <code>CrisisCenter</code> component in the <code>crisis-center</code> folder:</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component crisis</span><span class="pun">-</span><span class="pln">center</span><span class="pun">/</span><span class="pln">crisis</span><span class="pun">-</span><span class="pln">center</span></code>
    </pre></aio-code></code-example>
<p>Update the component template with the following markup:</p>
<code-example path="router/src/app/crisis-center/crisis-center/crisis-center.component.html" header="src/app/crisis-center/crisis-center/crisis-center.component.html" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center/crisis-center.component.html</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center/crisis-center.component.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example>
<p>The <code>CrisisCenterComponent</code> has the following in common with the <code>AppComponent</code>:</p>
<ul>
<li>It is the root of the crisis center area, just as <code>AppComponent</code> is the root of the entire application.</li>
<li>It is a shell for the crisis management feature area, just as the <code>AppComponent</code> is a shell to manage the high-level workflow.</li>
</ul>
<p>Like most shells, the <code>CrisisCenterComponent</code> class is minimal because it has no business logic, and its template has no links, just a title and <code>&lt;<a href="../api/router/RouterOutlet.html" class="code-anchor">router-outlet</a>&gt;</code> for the crisis center child component.</p>
<a id="child-route-config"></a>
<h3 id="child-route-configuration">Child route configuration</h3>
<p>As a host page for the "Crisis Center" feature, generate a <code>CrisisCenterHome</code> component in the <code>crisis-center</code> folder.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component crisis</span><span class="pun">-</span><span class="pln">center</span><span class="pun">/</span><span class="pln">crisis</span><span class="pun">-</span><span class="pln">center</span><span class="pun">-</span><span class="pln">home</span></code>
    </pre></aio-code></code-example>
<p>Update the template with a welcome message to the <code>Crisis Center</code>.</p>
<code-example path="router/src/app/crisis-center/crisis-center-home/crisis-center-home.component.html" header="src/app/crisis-center/crisis-center-home/crisis-center-home.component.html" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center-home/crisis-center-home.component.html</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center-home/crisis-center-home.component.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h3&gt;</span><span class="pln">Welcome to the Crisis Center</span><span class="tag">&lt;/h3&gt;</span></code>
    </pre></aio-code></code-example>
<p>Update the <code>crisis-center-routing.module.ts</code> you renamed after copying it from <code>heroes-routing.module.ts</code> file.
This time, you define child routes within the parent <code>crisis-center</code> route.</p>
<code-example path="router/src/app/crisis-center/crisis-center-routing.module.1.ts" header="src/app/crisis-center/crisis-center-routing.module.ts (Routes)" region="routes" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center-routing.module.ts (Routes)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center-routing.module.ts (Routes)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">const</span><span class="pln"> crisisCenterRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pun">,</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">':id'</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln">
          </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span></code>
    </pre></aio-code></code-example>
<p>Notice that the parent <code>crisis-center</code> route has a <code>children</code> property with a single route containing the <code>CrisisListComponent</code>.
The <code>CrisisListComponent</code> route also has a <code>children</code> array with two routes.</p>
<p>These two routes navigate to the crisis center child components,
<code>CrisisCenterHomeComponent</code> and <code>CrisisDetailComponent</code>, respectively.</p>
<p>There are important differences in the way the router treats child routes.</p>
<p>The router displays the components of these routes in the <code><a href="../api/router/RouterOutlet.html" class="code-anchor">RouterOutlet</a></code> of the <code>CrisisCenterComponent</code>, not in the <code><a href="../api/router/RouterOutlet.html" class="code-anchor">RouterOutlet</a></code> of the <code>AppComponent</code> shell.</p>
<p>The <code>CrisisListComponent</code> contains the crisis list and a <code><a href="../api/router/RouterOutlet.html" class="code-anchor">RouterOutlet</a></code> to display the <code>Crisis Center Home</code> and <code>Crisis Detail</code> route components.</p>
<p>The <code>Crisis Detail</code> route is a child of the <code>Crisis List</code>.
The router <a href="./router-tutorial-toh.html#reuse">reuses components</a> by default, so the <code>Crisis Detail</code> component is re-used as you select different crises.
In contrast, back in the <code>Hero Detail</code> route, <a href="./router-tutorial-toh.html#snapshot-the-no-observable-alternative">the component was recreated</a> each time you selected a different hero from the list of heroes.</p>
<p>At the top level, paths that begin with <code>/</code> refer to the root of the application.
But child routes extend the path of the parent route.
With each step down the route tree,
you add a slash followed by the route path, unless the path is empty.</p>
<p>Apply that logic to navigation within the crisis center for which the parent path is <code>/crisis-center</code>.</p>
<ul>
<li>
<p>To navigate to the <code>CrisisCenterHomeComponent</code>, the full URL is <code>/crisis-center</code> (<code>/crisis-center</code> + <code>''</code> + <code>''</code>).</p>
</li>
<li>
<p>To navigate to the <code>CrisisDetailComponent</code> for a crisis with <code>id=2</code>, the full URL is
<code>/crisis-center/2</code> (<code>/crisis-center</code> + <code>''</code> +  <code>'/2'</code>).</p>
</li>
</ul>
<p>The absolute URL for the latter example, including the <code>localhost</code> origin, is as follows:</p>
<code-example ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">localhost</span><span class="pun">:</span><span class="lit">4200</span><span class="pun">/</span><span class="pln">crisis</span><span class="pun">-</span><span class="pln">center</span><span class="pun">/</span><span class="lit">2</span></code>
    </pre></aio-code></code-example>
<p>Here's the complete <code>crisis-center-routing.module.ts</code> file with its imports.</p>
<code-example path="router/src/app/crisis-center/crisis-center-routing.module.1.ts" header="src/app/crisis-center/crisis-center-routing.module.ts (excerpt)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center-routing.module.ts (excerpt)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center-routing.module.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center-home/crisis-center-home.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-center.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-detail/crisis-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> crisisCenterRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pun">,</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">':id'</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln">
          </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">crisisCenterRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisCenterRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<a id="import-crisis-module"></a>
<h3 id="import-crisis-center-module-into-the-appmodule-routes">Import crisis center module into the <code>AppModule</code> routes</h3>
<p>As with the <code>HeroesModule</code>, you must add the <code>CrisisCenterModule</code> to the <code>imports</code> array of the <code>AppModule</code>
<em>before</em> the <code>AppRoutingModule</code>:</p>
<code-tabs ng-version="13.2.2"><div style="display: none;"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform: translateX(0px);"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-3-0" tabindex="0" aria-posinset="1" aria-setsize="2" aria-controls="mat-tab-content-3-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/crisis-center/crisis-center.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-3-1" tabindex="-1" aria-posinset="2" aria-setsize="2" aria-controls="mat-tab-content-3-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/app.module.ts (import CrisisCenterModule)</span><!----><!----><!----></div></div><!----></div><mat-ink-bar class="mat-ink-bar"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-24 mat-tab-body-active ng-star-inserted" id="mat-tab-content-3-0" aria-labelledby="mat-tab-label-3-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-24 ng-trigger ng-trigger-translateTab" style="transform: none;"><!----><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/common/CommonModule.html" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center-home/crisis-center-home.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-center.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-detail/crisis-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center-routing.module'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/common/CommonModule.html" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisCenterRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">CrisisCenterComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisCenterHomeComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisDetailComponent</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisCenterModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-25 ng-star-inserted" id="mat-tab-content-3-1" aria-labelledby="mat-tab-label-3-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-25 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><!----></div></mat-tab-group></mat-card></code-tabs>
<div class="alert is-helpful">
The import order of the modules is important because the order of the routes defined in the modules affects route matching.
If the `AppModule` were imported first, its wildcard route (`path: '**'`) would take precedence over the routes defined in `CrisisCenterModule`.
For more information, see the section on [route order](guide/router#route-order).
</div>
<p>Remove the initial crisis center route from the <code>app-routing.module.ts</code> because now the <code>HeroesModule</code> and the <code>CrisisCenter</code> modules provide the feature routes.</p>
<p>The <code>app-routing.module.ts</code> file retains the top-level application routes such as the default and wildcard routes.</p>
<code-example path="router/src/app/app-routing.module.3.ts" header="src/app/app-routing.module.ts (v3)" region="v3" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (v3)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (v3)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">   redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/heroes'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
      appRoutes</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<a id="relative-navigation"></a>
<h3 id="relative-navigation">Relative navigation</h3>
<p>While building out the crisis center feature, you navigated to the
crisis detail route using an absolute path that begins with a slash.</p>
<p>The router matches such absolute paths to routes starting from the top of the route configuration.</p>
<p>You could continue to use absolute paths like this to navigate inside the Crisis Center feature, but that pins the links to the parent routing structure.
If you changed the parent <code>/crisis-center</code> path, you would have to change the link parameters array.</p>
<p>You can free the links from this dependency by defining paths that are relative to the current URL segment.
Navigation within the feature area remains intact even if you change the parent route path to the feature.</p>
<div class="alert is-helpful">
<p>The router supports directory-like syntax in a <em>link parameters list</em> to help guide route name lookup:</p>
<p><code>./</code> or <code>no leading slash</code> is relative to the current level.</p>
<p><code>../</code> to go up one level in the route path.</p>
<p>You can combine relative navigation syntax with an ancestor path.
If you must navigate to a sibling route, you could use the <code>../&lt;sibling&gt;</code> convention to go up
one level, then over and down the sibling route path.</p>
</div>
<p>To navigate a relative path with the <code>Router.navigate</code> method, you must supply the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code>
to give the router knowledge of where you are in the current route tree.</p>
<p>After the <em>link parameters array</em>, add an object with a <code>relativeTo</code> property set to the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code>.
The router then calculates the target URL based on the active route's location.</p>
<div class="alert is-helpful">
<p>Always specify the complete absolute path when calling router's <code>navigateByUrl()</code> method.</p>
</div>
<a id="nav-to-crisis"></a>
<h3 id="navigate-to-crisis-list-with-a-relative-url">Navigate to crisis list with a relative URL</h3>
<p>You've already injected the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> that you need to compose the relative navigation path.</p>
<p>When using a <code><a href="../api/router/RouterLink.html" class="code-anchor">RouterLink</a></code> to navigate instead of the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> service, you'd use the same link parameters array, but you wouldn't provide the object with the <code>relativeTo</code> property.
The <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> is implicit in a <code><a href="../api/router/RouterLink.html" class="code-anchor">RouterLink</a></code> directive.</p>
<p>Update the <code>gotoCrises()</code> method of the <code>CrisisDetailComponent</code> to navigate back to the Crisis Center list using relative path navigation.</p>
<code-example path="router/src/app/crisis-center/crisis-detail/crisis-detail.component.ts" header="src/app/crisis-center/crisis-detail/crisis-detail.component.ts (relative navigation)" region="gotoCrises-navigate" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail/crisis-detail.component.ts (relative navigation)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail/crisis-detail.component.ts (relative navigation)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="com">// Relative navigation back to the crises</span><span class="pln">
</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'../'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> crisisId</span><span class="pun">,</span><span class="pln"> foo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'foo'</span><span class="pln"> </span><span class="pun">}],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> relativeTo</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route </span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>Notice that the path goes up a level using the <code>../</code> syntax.
If the current crisis <code>id</code> is <code>3</code>, the resulting path back to the crisis list is  <code>/crisis-center/;id=3;foo=foo</code>.</p>
<a id="named-outlets"></a>
<h3 id="displaying-multiple-routes-in-named-outlets">Displaying multiple routes in named outlets</h3>
<p>You decide to give users a way to contact the crisis center.
When a user clicks a "Contact" button, you want to display a message in a popup view.</p>
<p>The popup should stay open, even when switching between pages in the application, until the user closes it
by sending the message or canceling.
Clearly you can't put the popup in the same outlet as the other pages.</p>
<p>Until now, you've defined a single outlet and you've nested child routes under that outlet to group routes together.
The router only supports one primary unnamed outlet per template.</p>
<p>A template can also have any number of named outlets.
Each named outlet has its own set of routes with their own components.
Multiple outlets can display different content, determined by different routes, all at the same time.</p>
<p>Add an outlet named "popup" in the <code>AppComponent</code>, directly following the unnamed outlet.</p>
<code-example path="router/src/app/app.component.4.html" header="src/app/app.component.html (outlets)" region="outlets" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.component.html (outlets)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html (outlets)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> [@</span><span class="atn">routeAnimation</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"getAnimationData(routerOutlet)"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> #</span><span class="atn">routerOutlet</span><span class="pun">=</span><span class="atv">"outlet"</span><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"popup"</span><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example>
<p>That's where a popup goes, once you learn how to route a popup component to it.</p>
<a id="secondary-routes"></a>
<h4 id="secondary-routes">Secondary routes</h4>
<p>Named outlets are the targets of  <em>secondary routes</em>.</p>
<p>Secondary routes look like primary routes and you configure them the same way.
They differ in a few key respects.</p>
<ul>
<li>They are independent of each other.</li>
<li>They work in combination with other routes.</li>
<li>They are displayed in named outlets.</li>
</ul>
<p>Generate a new component to compose the message.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component compose</span><span class="pun">-</span><span class="pln">message</span></code>
    </pre></aio-code></code-example>
<p>It displays a short form with a header, an input box for the message,
and two buttons, "Send" and "Cancel".</p>
<div class="lightbox">
  <img src="../generated/images/guide/router/contact-form.png" alt="Contact textarea with send and cancel buttons" width="400" height="377">
</div>
<p>Here's the component, its template, and styles:</p>
<code-tabs ng-version="13.2.2"><div style="display: none;"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform: translateX(0px);"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-4-0" tabindex="0" aria-posinset="1" aria-setsize="3" aria-controls="mat-tab-content-4-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/compose-message/compose-message.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-4-1" tabindex="-1" aria-posinset="2" aria-setsize="3" aria-controls="mat-tab-content-4-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/compose-message/compose-message.component.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-4-2" tabindex="-1" aria-posinset="3" aria-setsize="3" aria-controls="mat-tab-content-4-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/compose-message/compose-message.component.css</span><!----><!----><!----></div></div><!----></div><mat-ink-bar class="mat-ink-bar"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-26 mat-tab-body-active ng-star-inserted" id="mat-tab-content-4-0" aria-labelledby="mat-tab-label-4-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-26 ng-trigger ng-trigger-translateTab" style="transform: none;"><!----><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/compose-message/compose-message.component.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h3&gt;</span><span class="pln">Contact Crisis Center</span><span class="tag">&lt;/h3&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> *</span><a href="../api/common/NgIf.html" class="code-anchor"><span class="atn">ngIf</span></a><span class="pun">=</span><span class="atv">"details"</span><span class="tag">&gt;</span><span class="pln">
  {{ details }}
</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    </span><span class="tag">&lt;label</span><span class="pln"> </span><span class="atn">for</span><span class="pun">=</span><span class="atv">"message"</span><span class="tag">&gt;</span><span class="pln">Enter your message: </span><span class="tag">&lt;/label&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    </span><span class="tag">&lt;</span><a href="../api/forms/DefaultValueAccessor.html" class="code-anchor"><span class="tag">textarea</span></a><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"message"</span><span class="pln"> [(</span><a href="../api/forms/NgModel.html" class="code-anchor"><span class="atn">ngModel</span></a><span class="pln">)]</span><span class="pun">=</span><span class="atv">"message"</span><span class="pln"> </span><span class="atn">rows</span><span class="pun">=</span><span class="atv">"10"</span><span class="pln"> </span><span class="atn">cols</span><span class="pun">=</span><span class="atv">"35"</span><span class="pln"> [</span><span class="atn">disabled</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"sending"</span><span class="tag">&gt;&lt;/</span><a href="../api/forms/DefaultValueAccessor.html" class="code-anchor"><span class="tag">textarea</span></a><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;p</span><span class="pln"> *</span><a href="../api/common/NgIf.html" class="code-anchor"><span class="atn">ngIf</span></a><span class="pun">=</span><span class="atv">"!sending"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"send()"</span><span class="tag">&gt;</span><span class="pln">Send</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"button"</span><span class="pln"> (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"cancel()"</span><span class="tag">&gt;</span><span class="pln">Cancel</span><span class="tag">&lt;/button&gt;</span><span class="pln">
</span><span class="tag">&lt;/p&gt;</span></code>
    </pre></aio-code><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-27 ng-star-inserted" id="mat-tab-content-4-1" aria-labelledby="mat-tab-label-4-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-27 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-28 ng-star-inserted" id="mat-tab-content-4-2" aria-labelledby="mat-tab-label-4-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-28 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><!----></div></mat-tab-group></mat-card></code-tabs>
<p>It looks similar to any other component in this guide, but there are two key differences.</p>
<p>Note that the <code>send()</code> method simulates latency by waiting a second before "sending" the message and closing the popup.</p>
<p>The <code>closePopup()</code> method closes the popup view by navigating to the popup outlet with a <code>null</code> which the section on <a href="./router-tutorial-toh.html#clear-secondary-routes">clearing secondary routes</a> covers.</p>
<a id="add-secondary-route"></a>
<h4 id="add-a-secondary-route">Add a secondary route</h4>
<p>Open the <code>AppRoutingModule</code> and add a new <code>compose</code> route to the <code>appRoutes</code>.</p>
<code-example path="router/src/app/app-routing.module.3.ts" header="src/app/app-routing.module.ts (compose route)" region="compose" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (compose route)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (compose route)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln">
  path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'compose'</span><span class="pun">,</span><span class="pln">
  component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pun">,</span><span class="pln">
  outlet</span><span class="pun">:</span><span class="pln"> </span><span class="str">'popup'</span><span class="pln">
</span><span class="pun">},</span></code>
    </pre></aio-code></code-example>
<p>In addition to the <code>path</code> and <code>component</code> properties, there's a new property called <code>outlet</code>, which is set to <code>'popup'</code>.
This route now targets the popup outlet and the <code>ComposeMessageComponent</code> will display there.</p>
<p>To give users a way to open the popup, add a "Contact" link to the <code>AppComponent</code> template.</p>
<code-example path="router/src/app/app.component.4.html" header="src/app/app.component.html (contact-link)" region="contact-link" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.component.html (contact-link)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html (contact-link)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;a</span><span class="pln"> [</span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"[{ outlets: { popup: ['compose'] } }]"</span><span class="tag">&gt;</span><span class="pln">Contact</span><span class="tag">&lt;/a&gt;</span></code>
    </pre></aio-code></code-example>
<p>Although the <code>compose</code> route is configured to the "popup" outlet, that's not sufficient for connecting the route to a <code><a href="../api/router/RouterLink.html" class="code-anchor">RouterLink</a></code> directive.
You have to specify the named outlet in a <em>link parameters array</em> and bind it to the <code><a href="../api/router/RouterLink.html" class="code-anchor">RouterLink</a></code> with a property binding.</p>
<p>The <em>link parameters array</em> contains an object with a single <code>outlets</code> property whose value is another object keyed by one (or more) outlet names.
In this case there is only the "popup" outlet property and its value is another <em>link parameters array</em> that specifies the <code>compose</code> route.</p>
<p>In other words, when the user clicks this link, the router displays the component associated with the <code>compose</code> route in the <code>popup</code> outlet.</p>
<div class="alert is-helpful">
<p>This <code>outlets</code> object within an outer object was unnecessary when there was only one route and one unnamed outlet.</p>
<p>The router assumed that your route specification targeted the unnamed primary outlet and created these objects for you.</p>
<p>Routing to a named outlet revealed a router feature:
you can target multiple outlets with multiple routes in the same <code><a href="../api/router/RouterLink.html" class="code-anchor">RouterLink</a></code> directive.</p>
</div>
<a id="secondary-route-navigation"></a>
<h4 id="secondary-route-navigation-merging-routes-during-navigation">Secondary route navigation: merging routes during navigation</h4>
<p>Navigate to the <em>Crisis Center</em> and click "Contact".
you should see something like the following URL in the browser address bar.</p>
<code-example ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">http</span><span class="pun">:</span><span class="com">//.../crisis-center(popup:compose)</span></code>
    </pre></aio-code></code-example>
<p>The relevant part of the URL follows the <code>...</code>:</p>
<ul>
<li>The <code>crisis-center</code> is the primary navigation.</li>
<li>Parentheses surround the secondary route.</li>
<li>The secondary route consists of an outlet name (<code>popup</code>), a <code>colon</code> separator, and the secondary route path (<code>compose</code>).</li>
</ul>
<p>Click the <em>Heroes</em> link and look at the URL again.</p>
<code-example ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">http</span><span class="pun">:</span><span class="com">//.../heroes(popup:compose)</span></code>
    </pre></aio-code></code-example>
<p>The primary navigation part changed; the secondary route is the same.</p>
<p>The router is keeping track of two separate branches in a navigation tree and generating a representation of that tree in the URL.</p>
<p>You can add many more outlets and routes, at the top level and in nested levels, creating a navigation tree with many branches and the router will generate the URLs to go with it.</p>
<p>You can tell the router to navigate an entire tree at once by filling out the <code>outlets</code> object and then pass that object inside a <em>link parameters array</em>  to the <code>router.navigate</code> method.</p>
<a id="clear-secondary-routes"></a>
<h4 id="clearing-secondary-routes">Clearing secondary routes</h4>
<p>Like regular outlets, secondary outlets persists until you navigate away to a new component.</p>
<p>Each secondary outlet has its own navigation, independent of the navigation driving the primary outlet.
Changing a current route that displays in the primary outlet has no effect on the popup outlet.
That's why the popup stays visible as you navigate among the crises and heroes.</p>
<p>The <code>closePopup()</code> method again:</p>
<code-example path="router/src/app/compose-message/compose-message.component.ts" header="src/app/compose-message/compose-message.component.ts (closePopup)" region="closePopup" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/compose-message/compose-message.component.ts (closePopup)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/compose-message/compose-message.component.ts (closePopup)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">closePopup</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Providing a `null` value to the named outlet</span><span class="pln">
  </span><span class="com">// clears the contents of the named outlet</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([{</span><span class="pln"> outlets</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> popup</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">}}]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Clicking the "send" or "cancel" buttons clears the popup view.
The <code>closePopup()</code> function navigates imperatively with the <code><a href="../api/router/Router.html#navigate" class="code-anchor">Router.navigate()</a></code> method, passing in a <a href="./router-tutorial-toh.html#link-parameters-array">link parameters array</a>.</p>
<p>Like the array bound to the <em>Contact</em> <code><a href="../api/router/RouterLink.html" class="code-anchor">RouterLink</a></code> in the <code>AppComponent</code>, this one includes an object with an <code>outlets</code> property.
The <code>outlets</code> property value is another object with outlet names for keys.
The only named outlet is <code>'popup'</code>.</p>
<p>This time, the value of <code>'popup'</code> is <code>null</code>.
That's not a route, but it is a legitimate value.
Setting the popup <code><a href="../api/router/RouterOutlet.html" class="code-anchor">RouterOutlet</a></code> to <code>null</code> clears the outlet and removes the secondary popup route from the current URL.</p>
<a id="guards"></a>
<a class="dashAnchor" name="//apple_ref/Section/Milestone%205%3A%20Route%20guards"></a><a id="milestone-5-route-guards"></a>
<h2 id="milestone-5-route-guards">Milestone 5: Route guards</h2>
<p>At the moment, any user can navigate anywhere in the application any time, but sometimes you need to control access to different parts of your application for various reasons, some of which might include the following:</p>
<ul>
<li>Perhaps the user is not authorized to navigate to the target component.</li>
<li>Maybe the user must login (authenticate) first.</li>
<li>Maybe you should fetch some data before you display the target component.</li>
<li>You might want to save pending changes before leaving a component.</li>
<li>You might ask the user if it's OK to discard pending changes rather than save them.</li>
</ul>
<p>You add guards to the route configuration to handle these scenarios.</p>
<p>A guard's return value controls the router's behavior:</p>
<ul>
<li>If it returns <code>true</code>, the navigation process continues.</li>
<li>If it returns <code>false</code>, the navigation process stops and the user stays put.</li>
<li>If it returns a <code><a href="../api/router/UrlTree.html" class="code-anchor">UrlTree</a></code>, the current navigation cancels and a new navigation is initiated to the <code><a href="../api/router/UrlTree.html" class="code-anchor">UrlTree</a></code> returned.</li>
</ul>
<div class="alert is-helpful">
<p><strong>Note:</strong> The guard can also tell the router to navigate elsewhere, effectively canceling the current navigation.
When doing so inside a guard, the guard should return <code>false</code>;</p>
</div>
<p>The guard might return its boolean answer synchronously.
But in many cases, the guard can't produce an answer synchronously.
The guard could ask the user a question, save changes to the server, or fetch fresh data.
These are all asynchronous operations.</p>
<p>Accordingly, a routing guard can return an <code>Observable&lt;boolean&gt;</code> or a <code>Promise&lt;boolean&gt;</code> and the
router will wait for the observable to resolve to <code>true</code> or <code>false</code>.</p>
<div class="alert is-critical">
<p><strong>Note:</strong> The observable provided to the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> must also complete. If the observable does not complete, the navigation does not continue.</p>
</div>
<p>The router supports multiple guard interfaces:</p>
<ul>
<li>
<p><a href="../api/router/CanActivate.html"><code>CanActivate</code></a> to mediate navigation <em>to</em> a route.</p>
</li>
<li>
<p><a href="../api/router/CanActivateChild.html"><code>CanActivateChild</code></a> to mediate navigation <em>to</em> a child route.</p>
</li>
<li>
<p><a href="../api/router/CanDeactivate.html"><code>CanDeactivate</code></a> to mediate navigation <em>away</em> from the current route.</p>
</li>
<li>
<p><a href="../api/router/Resolve.html"><code>Resolve</code></a> to perform route data retrieval <em>before</em> route activation.</p>
</li>
<li>
<p><a href="../api/router/CanLoad.html"><code>CanLoad</code></a> to mediate navigation <em>to</em> a feature module loaded <em>asynchronously</em>.</p>
</li>
</ul>
<p>You can have multiple guards at every level of a routing hierarchy.
The router checks the <code><a href="../api/router/CanDeactivate.html" class="code-anchor">CanDeactivate</a></code> guards first, from the deepest child route to the top.
Then it checks the <code><a href="../api/router/CanActivate.html" class="code-anchor">CanActivate</a></code> and <code><a href="../api/router/CanActivateChild.html" class="code-anchor">CanActivateChild</a></code> guards from the top down to the deepest child route.
If the feature module is loaded asynchronously, the <code><a href="../api/router/CanLoad.html" class="code-anchor">CanLoad</a></code> guard is checked before the module is loaded.
If <em>any</em> guard returns false, pending guards that have not completed are canceled, and the entire navigation is canceled.</p>
<p>There are several examples over the next few sections.</p>
<a id="can-activate-guard"></a>
<h3 id="canactivate-requiring-authentication"><code><a href="../api/router/CanActivate.html" class="code-anchor">CanActivate</a></code>: requiring authentication</h3>
<p>Applications often restrict access to a feature area based on who the user is.
You could permit access only to authenticated users or to users with a specific role.
You might block or limit access until the user's account is activated.</p>
<p>The <code><a href="../api/router/CanActivate.html" class="code-anchor">CanActivate</a></code> guard is the tool to manage these navigation business rules.</p>
<h4 id="add-an-admin-feature-module">Add an admin feature module</h4>
<p>This section guides you through extending the crisis center with some new administrative features.
Start by adding a new feature module named <code>AdminModule</code>.</p>
<p>Generate an <code>admin</code> folder with a feature module file and a routing configuration file.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate module admin </span><span class="pun">--</span><span class="pln">routing</span></code>
    </pre></aio-code></code-example>
<p>Next, generate the supporting components.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component admin</span><span class="pun">/</span><span class="pln">admin</span><span class="pun">-</span><span class="pln">dashboard</span></code>
    </pre></aio-code></code-example>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component admin</span><span class="pun">/</span><span class="pln">admin</span></code>
    </pre></aio-code></code-example>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component admin</span><span class="pun">/</span><span class="pln">manage</span><span class="pun">-</span><span class="pln">crises</span></code>
    </pre></aio-code></code-example>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component admin</span><span class="pun">/</span><span class="pln">manage</span><span class="pun">-</span><span class="pln">heroes</span></code>
    </pre></aio-code></code-example>
<p>The admin feature file structure looks like this:</p>
<div class="filetree">
  <div class="file">
    src/app/admin
  </div>
  <div class="children">
    <div class="file">
      admin
    </div>
      <div class="children">
        <div class="file">
          admin.component.css
        </div>
        <div class="file">
          admin.component.html
        </div>
        <div class="file">
          admin.component.ts
        </div>
      </div>
    <div class="file">
      admin-dashboard
    </div>
      <div class="children">
        <div class="file">
          admin-dashboard.component.css
        </div>
        <div class="file">
          admin-dashboard.component.html
        </div>
        <div class="file">
          admin-dashboard.component.ts
        </div>
      </div>
    <div class="file">
      manage-crises
    </div>
      <div class="children">
        <div class="file">
          manage-crises.component.css
        </div>
        <div class="file">
          manage-crises.component.html
        </div>
        <div class="file">
          manage-crises.component.ts
        </div>
      </div>
    <div class="file">
      manage-heroes
    </div>
      <div class="children">
        <div class="file">
          manage-heroes.component.css
        </div>
        <div class="file">
          manage-heroes.component.html
        </div>
        <div class="file">
          manage-heroes.component.ts
        </div>
      </div>
    <div class="file">
      admin.module.ts
    </div>
    <div class="file">
      admin-routing.module.ts
    </div>
  </div>
</div>
<p>The admin feature module contains the <code>AdminComponent</code> used for routing within the
feature module, a dashboard route and two unfinished components to manage crises and heroes.</p>
<code-tabs ng-version="13.2.2"><div style="display: none;"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform: translateX(0px);"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-5-0" tabindex="0" aria-posinset="1" aria-setsize="5" aria-controls="mat-tab-content-5-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/admin/admin/admin.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-5-1" tabindex="-1" aria-posinset="2" aria-setsize="5" aria-controls="mat-tab-content-5-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/admin/admin-dashboard/admin-dashboard.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-5-2" tabindex="-1" aria-posinset="3" aria-setsize="5" aria-controls="mat-tab-content-5-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/admin/admin.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-5-3" tabindex="-1" aria-posinset="4" aria-setsize="5" aria-controls="mat-tab-content-5-3" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/admin/manage-crises/manage-crises.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-5-4" tabindex="-1" aria-posinset="5" aria-setsize="5" aria-controls="mat-tab-content-5-4" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/admin/manage-heroes/manage-heroes.component.html</span><!----><!----><!----></div></div><!----></div><mat-ink-bar class="mat-ink-bar"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-29 mat-tab-body-active ng-star-inserted" id="mat-tab-content-5-0" aria-labelledby="mat-tab-label-5-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-29 ng-trigger ng-trigger-translateTab" style="transform: none;"><!----><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin/admin.component.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">Admin</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"./"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="pln">
    [</span><span class="atn">routerLinkActiveOptions</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"{ exact: true }"</span><span class="tag">&gt;</span><span class="pln">Dashboard</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"./crises"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Manage Crises</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"./heroes"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Manage Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-30 ng-star-inserted" id="mat-tab-content-5-1" aria-labelledby="mat-tab-label-5-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-30 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-31 ng-star-inserted" id="mat-tab-content-5-2" aria-labelledby="mat-tab-label-5-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-31 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-32 ng-star-inserted" id="mat-tab-content-5-3" aria-labelledby="mat-tab-label-5-3"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-32 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-33 ng-star-inserted" id="mat-tab-content-5-4" aria-labelledby="mat-tab-label-5-4"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-33 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><!----></div></mat-tab-group></mat-card></code-tabs>
<div class="alert is-helpful">
<p>Although the admin dashboard <code><a href="../api/router/RouterLink.html" class="code-anchor">RouterLink</a></code> only contains a relative slash without an additional URL segment, it is a match to any route within the admin feature area.
You only want the <code>Dashboard</code> link to be active when the user visits that route.
Adding an additional binding to the <code>Dashboard</code> routerLink,<code>[routerLinkActiveOptions]="{ exact: true }"</code>, marks the <code>./</code> link as active when the user navigates to the <code>/admin</code> URL and not when navigating to any of the child routes.</p>
</div>
<a id="component-less-route"></a>
<h5 id="component-less-route-grouping-routes-without-a-component">Component-less route: grouping routes without a component</h5>
<p>The initial admin routing configuration:</p>
<code-example path="router/src/app/admin/admin-routing.module.1.ts" header="src/app/admin/admin-routing.module.ts (admin routing)" region="admin-routes" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/admin/admin-routing.module.ts (admin routing)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin-routing.module.ts (admin routing)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">const</span><span class="pln"> adminRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminComponent</span><span class="pun">,</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crises'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageCrisesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageHeroesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminDashboardComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">adminRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AdminRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<p>The child route under the <code>AdminComponent</code> has a <code>path</code> and a <code>children</code> property but it's not using a <code>component</code>.
This defines a <em>component-less</em> route.</p>
<p>To group the <code>Crisis Center</code> management routes under the <code>admin</code> path a component is unnecessary.
Additionally, a <em>component-less</em> route makes it easier to <a href="./router-tutorial-toh.html#can-activate-child-guard">guard child routes</a>.</p>
<p>Next, import the <code>AdminModule</code> into <code>app.module.ts</code> and add it to the <code>imports</code> array
to register the admin routes.</p>
<code-example path="router/src/app/app.module.4.ts" header="src/app/app.module.ts (admin module)" region="admin-module" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.module.ts (admin module)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (admin module)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/common/CommonModule.html" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./compose-message/compose-message.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes/heroes.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-center.module'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AdminModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./admin/admin.module'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/common/CommonModule.html" class="code-anchor"><span class="typ">CommonModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroesModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CrisisCenterModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AdminModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">ComposeMessageComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PageNotFoundComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Add an "Admin" link to the <code>AppComponent</code> shell so that users can get to this feature.</p>
<code-example path="router/src/app/app.component.5.html" header="src/app/app.component.html (template)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.component.html (template)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html (template)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;h1</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"title"</span><span class="tag">&gt;</span><span class="pln">Angular </span><a href="../api/router/Router.html" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/heroes"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/admin"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Admin</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> [</span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"[{ outlets: { popup: ['compose'] } }]"</span><span class="tag">&gt;</span><span class="pln">Contact</span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/nav&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> [@</span><span class="atn">routeAnimation</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"getAnimationData(routerOutlet)"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> #</span><span class="atn">routerOutlet</span><span class="pun">=</span><span class="atv">"outlet"</span><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">
</span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"popup"</span><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example>
<a id="guard-admin-feature"></a>
<h4 id="guard-the-admin-feature">Guard the admin feature</h4>
<p>Currently, every route within the Crisis Center is open to everyone.
The new admin feature should be accessible only to authenticated users.</p>
<p>Write a <code>canActivate()</code> guard method to redirect anonymous users to the
login page when they try to enter the admin area.</p>
<p>Generate an <code>AuthGuard</code> in the <code>auth</code> folder.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate guard auth</span><span class="pun">/</span><span class="pln">auth</span></code>
    </pre></aio-code></code-example>
<p>To demonstrate the fundamentals, this example only logs to the console, <code>returns</code> true immediately, and lets navigation proceed:</p>
<code-example path="router/src/app/auth/auth.guard.1.ts" header="src/app/auth/auth.guard.ts (excerpt)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/auth/auth.guard.ts (excerpt)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.guard.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/CanActivate.html" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/router/CanActivate.html" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  canActivate</span><span class="pun">(</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'AuthGuard#canActivate called'</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Next, open <code>admin-routing.module.ts </code>, import the <code>AuthGuard</code> class, and
update the admin route with a <code>canActivate</code> guard property that references it:</p>
<code-example path="router/src/app/admin/admin-routing.module.2.ts" header="src/app/admin/admin-routing.module.ts (guarded admin route)" region="admin-route" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/admin/admin-routing.module.ts (guarded admin route)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin-routing.module.ts (guarded admin route)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../auth/auth.guard'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> adminRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminComponent</span><span class="pun">,</span><span class="pln">
    canActivate</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">AuthGuard</span><span class="pun">],</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crises'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageCrisesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageHeroesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminDashboardComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">],</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">adminRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AdminRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<p>The admin feature is now protected by the guard, but the guard requires more customization to work fully.</p>
<a id="teach-auth"></a>
<h4 id="authenticate-with-authguard">Authenticate with <code>AuthGuard</code></h4>
<p>Make the <code>AuthGuard</code> mimic authentication.</p>
<p>The <code>AuthGuard</code> should call an application service that can login a user and retain information about the current user. Generate a new <code>AuthService</code> in the <code>auth</code> folder:</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate service auth</span><span class="pun">/</span><span class="pln">auth</span></code>
    </pre></aio-code></code-example>
<p>Update the <code>AuthService</code> to log in the user:</p>
<code-example path="router/src/app/auth/auth.service.ts" header="src/app/auth/auth.service.ts (excerpt)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/auth/auth.service.ts (excerpt)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.service.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> tap</span><span class="pun">,</span><span class="pln"> delay </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  isLoggedIn </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">

  </span><span class="com">// store the URL so we can redirect after logging in</span><span class="pln">
  redirectUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">

  login</span><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      delay</span><span class="pun">(</span><span class="lit">1000</span><span class="pun">),</span><span class="pln">
      tap</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isLoggedIn </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  logout</span><span class="pun">():</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">isLoggedIn </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Although it doesn't actually log in, it has an <code>isLoggedIn</code> flag to tell you whether the user is authenticated.
Its <code>login()</code> method simulates an API call to an external service by returning an observable that resolves successfully after a short pause.
The <code>redirectUrl</code> property stores the URL that the user wanted to access so you can navigate to it after authentication.</p>
<div class="alert is-helpful">
<p>To keep things minimal, this example redirects unauthenticated users to <code>/admin</code>.</p>
</div>
<p>Revise the <code>AuthGuard</code> to call the <code>AuthService</code>.</p>
<code-example path="router/src/app/auth/auth.guard.2.ts" header="src/app/auth/auth.guard.ts (v2)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/auth/auth.guard.ts (v2)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.guard.ts (v2)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/CanActivate.html" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/router/CanActivate.html" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> authService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  canActivate</span><span class="pun">(</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> state</span><span class="pun">.</span><span class="pln">url</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">isLoggedIn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Store the attempted URL for redirecting</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">redirectUrl </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Redirect to the login page</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">parseUrl</span><span class="pun">(</span><span class="str">'/login'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Notice that you inject the <code>AuthService</code> and the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> in the constructor.
You haven't provided the <code>AuthService</code> yet but it's good to know that you can inject helpful services into routing guards.</p>
<p>This guard returns a synchronous boolean result.
If the user is logged in, it returns true and the navigation continues.</p>
<p>The <code><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor">ActivatedRouteSnapshot</a></code> contains the <em>future</em> route that will be activated and the <code><a href="../api/router/RouterStateSnapshot.html" class="code-anchor">RouterStateSnapshot</a></code> contains the <em>future</em> <code><a href="../api/router/RouterState.html" class="code-anchor">RouterState</a></code> of the application, should you pass through the guard check.</p>
<p>If the user is not logged in, you store the attempted URL the user came from using the <code><a href="../api/router/RouterStateSnapshot.html#url" class="code-anchor">RouterStateSnapshot.url</a></code> and tell the router to redirect to a login page—a page you haven't created yet.
Returning a <code><a href="../api/router/UrlTree.html" class="code-anchor">UrlTree</a></code> tells the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> to cancel the current navigation and schedule a new one to redirect the user.</p>
<a id="add-login-component"></a>
<h4 id="add-the-logincomponent">Add the <code>LoginComponent</code></h4>
<p>You need a <code>LoginComponent</code> for the user to log in to the application. After logging in, you'll redirect to the stored URL if available, or use the default URL.
There is nothing new about this component or the way you use it in the router configuration.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate component auth</span><span class="pun">/</span><span class="pln">login</span></code>
    </pre></aio-code></code-example>
<p>Register a <code>/login</code> route in the <code>auth/auth-routing.module.ts</code>.
In <code>app.module.ts</code>, import and add the <code>AuthModule</code> to the <code>AppModule</code> imports.</p>
<code-tabs ng-version="13.2.2"><div style="display: none;"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform: translateX(0px);"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-6-0" tabindex="0" aria-posinset="1" aria-setsize="4" aria-controls="mat-tab-content-6-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/app.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-6-1" tabindex="-1" aria-posinset="2" aria-setsize="4" aria-controls="mat-tab-content-6-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/auth/login/login.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-6-2" tabindex="-1" aria-posinset="3" aria-setsize="4" aria-controls="mat-tab-content-6-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/auth/login/login.component.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-6-3" tabindex="-1" aria-posinset="4" aria-setsize="4" aria-controls="mat-tab-content-6-3" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/auth/auth.module.ts</span><!----><!----><!----></div></div><!----></div><mat-ink-bar class="mat-ink-bar"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-34 mat-tab-body-active ng-star-inserted" id="mat-tab-content-6-0" aria-labelledby="mat-tab-label-6-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-34 ng-trigger ng-trigger-translateTab" style="transform: none;"><!----><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/animations/BrowserAnimationsModule.html" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser/animations'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./compose-message/compose-message.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes/heroes.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth/auth.module'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/platform-browser/animations/BrowserAnimationsModule.html" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroesModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AuthModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">ComposeMessageComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PageNotFoundComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-35 ng-star-inserted" id="mat-tab-content-6-1" aria-labelledby="mat-tab-label-6-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-35 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-36 ng-star-inserted" id="mat-tab-content-6-2" aria-labelledby="mat-tab-label-6-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-36 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-37 ng-star-inserted" id="mat-tab-content-6-3" aria-labelledby="mat-tab-label-6-3"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-37 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><!----></div></mat-tab-group></mat-card></code-tabs>
<a id="can-activate-child-guard"></a>
<h3 id="canactivatechild-guarding-child-routes"><code><a href="../api/router/CanActivateChild.html" class="code-anchor">CanActivateChild</a></code>: guarding child routes</h3>
<p>You can also protect child routes with the <code><a href="../api/router/CanActivateChild.html" class="code-anchor">CanActivateChild</a></code> guard.
The <code><a href="../api/router/CanActivateChild.html" class="code-anchor">CanActivateChild</a></code> guard is similar to the <code><a href="../api/router/CanActivate.html" class="code-anchor">CanActivate</a></code> guard.
The key difference is that it runs before any child route is activated.</p>
<p>You protected the admin feature module from unauthorized access.
You should also protect child routes <em>within</em> the feature module.</p>
<p>Extend the <code>AuthGuard</code> to protect when navigating between the <code>admin</code> routes.
Open <code>auth.guard.ts</code> and add the <code><a href="../api/router/CanActivateChild.html" class="code-anchor">CanActivateChild</a></code> interface to the imported tokens from the router package.</p>
<p>Next, implement the <code>canActivateChild()</code> method which takes the same arguments as the <code>canActivate()</code> method: an <code><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor">ActivatedRouteSnapshot</a></code> and <code><a href="../api/router/RouterStateSnapshot.html" class="code-anchor">RouterStateSnapshot</a></code>.
The <code>canActivateChild()</code> method can return an <code>Observable&lt;boolean|<a href="../api/router/UrlTree.html" class="code-anchor">UrlTree</a>&gt;</code> or <code>Promise&lt;boolean|<a href="../api/router/UrlTree.html" class="code-anchor">UrlTree</a>&gt;</code> for async checks and a <code>boolean</code> or <code><a href="../api/router/UrlTree.html" class="code-anchor">UrlTree</a></code> for sync checks.
This one returns either <code>true</code> to let the user access the admin feature module or <code><a href="../api/router/UrlTree.html" class="code-anchor">UrlTree</a></code> to redirect the user to the login page instead:</p>
<code-example path="router/src/app/auth/auth.guard.3.ts" header="src/app/auth/auth.guard.ts (excerpt)" region="can-activate-child" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/auth/auth.guard.ts (excerpt)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.guard.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="../api/router/CanActivate.html" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/CanActivateChild.html" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/router/CanActivate.html" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/CanActivateChild.html" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> authService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  canActivate</span><span class="pun">(</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> state</span><span class="pun">.</span><span class="pln">url</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  canActivateChild</span><span class="pun">(</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">canActivate</span><span class="pun">(</span><span class="pln">route</span><span class="pun">,</span><span class="pln"> state</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

</span><span class="com">/* . . . */</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Add the same <code>AuthGuard</code> to the <code>component-less</code> admin route to protect all other child routes at one time
instead of adding the <code>AuthGuard</code> to each route individually.</p>
<code-example path="router/src/app/admin/admin-routing.module.3.ts" header="src/app/admin/admin-routing.module.ts (excerpt)" region="can-activate-child" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/admin/admin-routing.module.ts (excerpt)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin-routing.module.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">const</span><span class="pln"> adminRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminComponent</span><span class="pun">,</span><span class="pln">
    canActivate</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">AuthGuard</span><span class="pun">],</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        canActivateChild</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">AuthGuard</span><span class="pun">],</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crises'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageCrisesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ManageHeroesComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AdminDashboardComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">adminRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AdminRoutingModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<a id="can-deactivate-guard"></a>
<h3 id="candeactivate-handling-unsaved-changes"><code><a href="../api/router/CanDeactivate.html" class="code-anchor">CanDeactivate</a></code>: handling unsaved changes</h3>
<p>Back in the "Heroes" workflow, the application accepts every change to a hero immediately without validation.</p>
<p>In the real world, you might have to accumulate the users changes, validate across fields, validate on the server, or hold changes in a pending state until the user confirms them as a group or cancels and reverts all changes.</p>
<p>When the user navigates away, you can let the user decide what to do with unsaved changes.
If the user cancels, you'll stay put and allow more changes.
If the user approves, the application can save.</p>
<p>You still might delay navigation until the save succeeds.
If you let the user move to the next screen immediately and saving were to fail (perhaps the data is ruled invalid), you would lose the context of the error.</p>
<p>You need to stop the navigation while you wait, asynchronously, for the server to return with its answer.</p>
<p>The <code><a href="../api/router/CanDeactivate.html" class="code-anchor">CanDeactivate</a></code> guard helps you decide what to do with unsaved changes and how to proceed.</p>
<a id="cancel-save"></a>
<h4 id="cancel-and-save">Cancel and save</h4>
<p>Users update crisis information in the <code>CrisisDetailComponent</code>.
Unlike the <code>HeroDetailComponent</code>, the user changes do not update the crisis entity immediately.
Instead, the application updates the entity when the user presses the Save button and discards the changes when the user presses the Cancel button.</p>
<p>Both buttons navigate back to the crisis list after save or cancel.</p>
<code-example path="router/src/app/crisis-center/crisis-detail/crisis-detail.component.ts" header="src/app/crisis-center/crisis-detail/crisis-detail.component.ts (cancel and save methods)" region="cancel-save" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail/crisis-detail.component.ts (cancel and save methods)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail/crisis-detail.component.ts (cancel and save methods)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">cancel</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">gotoCrises</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

save</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">crisis</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">editName</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">gotoCrises</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>In this scenario, the user could click the heroes link, cancel, push the browser back button, or navigate away without saving.</p>
<p>This example application asks the user to be explicit with a confirmation dialog box that waits asynchronously for the user's
response.</p>
<div class="alert is-helpful">
<p>You could wait for the user's answer with synchronous, blocking code, however, the application is more responsive—and can do other work—by waiting for the user's answer asynchronously.</p>
</div>
<p>Generate a <code>Dialog</code> service to handle user confirmation.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate service dialog</span></code>
    </pre></aio-code></code-example>
<p>Add a <code>confirm()</code> method to the <code>DialogService</code> to prompt the user to confirm their intent.
The <code>window.confirm</code> is a blocking action that displays a modal dialog and waits for user interaction.</p>
<code-example path="router/src/app/dialog.service.ts" header="src/app/dialog.service.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/dialog.service.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/dialog.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

</span><span class="com">/**
 * Async modal dialog service
 * DialogService makes this app easier to test by faking this service.
 * TODO: better modal implementation that doesn't use window.confirm
 */</span><span class="pln">
</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DialogService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">/**
   * Ask user to confirm an action. `message` explains the action and choices.
   * Returns observable resolving to `true`=confirm or `false`=cancel
   */</span><span class="pln">
  confirm</span><span class="pun">(</span><span class="pln">message</span><span class="pun">?:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> confirmation </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">confirm</span><span class="pun">(</span><span class="pln">message </span><span class="pun">||</span><span class="pln"> </span><span class="str">'Is it OK?'</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="pln">confirmation</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>It returns an <code>Observable</code> that resolves when the user eventually decides what to do: either to discard changes and navigate away (<code>true</code>) or to preserve the pending changes and stay in the crisis editor (<code>false</code>).</p>
<a id="CanDeactivate"></a>
<p>Generate a guard that checks for the presence of a <code>canDeactivate()</code> method in a component—any component.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate guard can</span><span class="pun">-</span><span class="pln">deactivate</span></code>
    </pre></aio-code></code-example>
<p>Paste the following code into your guard.</p>
<code-example path="router/src/app/can-deactivate.guard.ts" header="src/app/can-deactivate.guard.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/can-deactivate.guard.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/can-deactivate.guard.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/CanDeactivate.html" class="code-anchor"><span class="typ">CanDeactivate</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">CanComponentDeactivate</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
 canDeactivate</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Promise</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CanDeactivateGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/router/CanDeactivate.html" class="code-anchor"><span class="typ">CanDeactivate</span></a><span class="pun">&lt;</span><span class="typ">CanComponentDeactivate</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  canDeactivate</span><span class="pun">(</span><span class="pln">component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CanComponentDeactivate</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> component</span><span class="pun">.</span><span class="pln">canDeactivate </span><span class="pun">?</span><span class="pln"> component</span><span class="pun">.</span><span class="pln">canDeactivate</span><span class="pun">()</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>While the guard doesn't have to know which component has a deactivate method, it can detect that the <code>CrisisDetailComponent</code> component has the <code>canDeactivate()</code> method and call it.
The guard not knowing the details of any component's deactivation method makes the guard reusable.</p>
<p>Alternatively, you could make a component-specific <code><a href="../api/router/CanDeactivate.html" class="code-anchor">CanDeactivate</a></code> guard for the <code>CrisisDetailComponent</code>.
The <code>canDeactivate()</code> method provides you with the current instance of the <code>component</code>, the current <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code>, and <code><a href="../api/router/RouterStateSnapshot.html" class="code-anchor">RouterStateSnapshot</a></code> in case you needed to access some external information.
This would be useful if you only wanted to use this guard for this component and needed to get the component's properties or confirm whether the router should allow navigation away from it.</p>
<code-example path="router/src/app/can-deactivate.guard.1.ts" header="src/app/can-deactivate.guard.ts (component-specific)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/can-deactivate.guard.ts (component-specific)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/can-deactivate.guard.ts (component-specific)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/CanDeactivate.html" class="code-anchor"><span class="typ">CanDeactivate</span></a><span class="pun">,</span><span class="pln">
         </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
         </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-detail/crisis-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CanDeactivateGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/router/CanDeactivate.html" class="code-anchor"><span class="typ">CanDeactivate</span></a><span class="pun">&lt;</span><span class="typ">CrisisDetailComponent</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  canDeactivate</span><span class="pun">(</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pun">,</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pln">
  </span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Get the Crisis Center ID</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">route</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">));</span><span class="pln">

    </span><span class="com">// Get the current URL</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">state</span><span class="pun">.</span><span class="pln">url</span><span class="pun">);</span><span class="pln">

    </span><span class="com">// Allow synchronous navigation (`true`) if no crisis or the crisis is unchanged</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">component</span><span class="pun">.</span><span class="pln">crisis </span><span class="pun">||</span><span class="pln"> component</span><span class="pun">.</span><span class="pln">crisis</span><span class="pun">.</span><span class="pln">name </span><span class="pun">===</span><span class="pln"> component</span><span class="pun">.</span><span class="pln">editName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="com">// Otherwise ask the user with the dialog service and return its</span><span class="pln">
    </span><span class="com">// observable which resolves to true or false when the user decides</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> component</span><span class="pun">.</span><span class="pln">dialogService</span><span class="pun">.</span><span class="pln">confirm</span><span class="pun">(</span><span class="str">'Discard changes?'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Looking back at the <code>CrisisDetailComponent</code>, it implements the confirmation workflow for unsaved changes.</p>
<code-example path="router/src/app/crisis-center/crisis-detail/crisis-detail.component.ts" header="src/app/crisis-center/crisis-detail/crisis-detail.component.ts (excerpt)" region="canDeactivate" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail/crisis-detail.component.ts (excerpt)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail/crisis-detail.component.ts (excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">canDeactivate</span><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;boolean&gt;</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Allow synchronous navigation (`true`) if no crisis or the crisis is unchanged</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">crisis </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">crisis</span><span class="pun">.</span><span class="pln">name </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">editName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="com">// Otherwise ask the user with the dialog service and return its</span><span class="pln">
  </span><span class="com">// observable which resolves to true or false when the user decides</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">dialogService</span><span class="pun">.</span><span class="pln">confirm</span><span class="pun">(</span><span class="str">'Discard changes?'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Notice that the <code>canDeactivate()</code> method can return synchronously; it returns <code>true</code> immediately if there is no crisis or there are no pending changes.
But it can also return a <code>Promise</code> or an <code>Observable</code> and the router will wait for that to resolve to truthy (navigate) or falsy (stay on the current route).</p>
<p>Add the <code>Guard</code> to the crisis detail route in <code>crisis-center-routing.module.ts</code> using the <code>canDeactivate</code> array property.</p>
<code-example path="router/src/app/crisis-center/crisis-center-routing.module.3.ts" header="src/app/crisis-center/crisis-center-routing.module.ts (can deactivate guard)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center-routing.module.ts (can deactivate guard)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center-routing.module.ts (can deactivate guard)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center-home/crisis-center-home.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-center.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-detail/crisis-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CanDeactivateGuard</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../can-deactivate.guard'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> crisisCenterRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pun">,</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">':id'</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pun">,</span><span class="pln">
            canDeactivate</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">CanDeactivateGuard</span><span class="pun">]</span><span class="pln">
          </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">crisisCenterRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisCenterRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Now you have given the user a safeguard against unsaved changes.</p>
<a id="Resolve"></a>
<a id="resolve-guard"></a>
<h3 id="resolve-pre-fetching-component-data"><em>Resolve</em>: pre-fetching component data</h3>
<p>In the <code>Hero Detail</code> and <code>Crisis Detail</code>, the application waited until the route was activated to fetch the respective hero or crisis.</p>
<p>If you were using a real world API, there might be some delay before the data to display is returned from the server.
You don't want to display a blank component while waiting for the data.</p>
<p>To improve this behavior, you can pre-fetch data from the server using a resolver so it's ready the
moment the route is activated.
This also lets you handle errors before routing to the component.
There's no point in navigating to a crisis detail for an <code>id</code> that doesn't have a record.
It'd be better to send the user back to the <code>Crisis List</code> that shows only valid crisis centers.</p>
<p>In summary, you want to delay rendering the routed component until all necessary data has been fetched.</p>
<a id="fetch-before-navigating"></a>
<h4 id="fetch-data-before-navigating">Fetch data before navigating</h4>
<p>At the moment, the <code>CrisisDetailComponent</code> retrieves the selected crisis.
If the crisis is not found, the router navigates back to the crisis list view.</p>
<p>The experience might be better if all of this were handled first, before the route is activated.
A <code>CrisisDetailResolver</code> service could retrieve a <code>Crisis</code> or navigate away, if the <code>Crisis</code> did not exist, <em>before</em> activating the route and creating the <code>CrisisDetailComponent</code>.</p>
<p>Generate a <code>CrisisDetailResolver</code> service file within the <code>Crisis Center</code> feature area.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate service crisis</span><span class="pun">-</span><span class="pln">center</span><span class="pun">/</span><span class="pln">crisis</span><span class="pun">-</span><span class="pln">detail</span><span class="pun">-</span><span class="pln">resolver</span></code>
    </pre></aio-code></code-example>
<code-example path="router/src/app/crisis-center/crisis-detail-resolver.service.1.ts" header="src/app/crisis-center/crisis-detail-resolver.service.ts (generated)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail-resolver.service.ts (generated)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail-resolver.service.ts (generated)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisDetailResolverService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Move the relevant parts of the crisis retrieval logic in <code>CrisisDetailComponent.ngOnInit()</code> into the <code>CrisisDetailResolverService</code>.
Import the <code>Crisis</code> model, <code>CrisisService</code>, and the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> so you can navigate elsewhere if you can't fetch the crisis.</p>
<p>Be explicit and implement the <code><a href="../api/router/Resolve.html" class="code-anchor">Resolve</a></code> interface with a type of <code>Crisis</code>.</p>
<p>Inject the <code>CrisisService</code> and <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> and implement the <code>resolve()</code> method.
That method could return a <code>Promise</code>, an <code>Observable</code>, or a synchronous return value.</p>
<p>The <code>CrisisService.getCrisis()</code> method returns an observable in order to prevent the route from loading until the data is fetched.
The <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> guards require an observable to <code>complete</code>, which means it has emitted all
of its values.
You use the <code>take</code> operator with an argument of <code>1</code> to ensure that the <code>Observable</code> completes after retrieving the first value from the Observable returned by the <code>getCrisis()</code> method.</p>
<p>If it doesn't return a valid <code>Crisis</code>, then return an empty <code>Observable</code>, cancel the previous in-progress navigation to the <code>CrisisDetailComponent</code>, and navigate the user back to the <code>CrisisListComponent</code>.
The updated resolver service looks like this:</p>
<code-example path="router/src/app/crisis-center/crisis-detail-resolver.service.ts" header="src/app/crisis-center/crisis-detail-resolver.service.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail-resolver.service.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail-resolver.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Resolve.html" class="code-anchor"><span class="typ">Resolve</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of</span><span class="pun">,</span><span class="pln"> EMPTY </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> mergeMap</span><span class="pun">,</span><span class="pln"> take </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis.service'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Crisis</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisDetailResolverService</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/router/Resolve.html" class="code-anchor"><span class="typ">Resolve</span></a><span class="pun">&lt;</span><span class="typ">Crisis</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> cs</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisService</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  resolve</span><span class="pun">(</span><span class="pln">route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln"> state</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Crisis</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;never&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> route</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'id'</span><span class="pun">)!;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">cs</span><span class="pun">.</span><span class="pln">getCrisis</span><span class="pun">(</span><span class="pln">id</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      take</span><span class="pun">(</span><span class="lit">1</span><span class="pun">),</span><span class="pln">
      mergeMap</span><span class="pun">(</span><span class="pln">crisis </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">crisis</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="pln">crisis</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// id not found</span><span class="pln">
          </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'/crisis-center'</span><span class="pun">]);</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> EMPTY</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Import this resolver in the <code>crisis-center-routing.module.ts</code> and add a <code>resolve</code> object to the <code>CrisisDetailComponent</code> route configuration.</p>
<code-example path="router/src/app/crisis-center/crisis-center-routing.module.4.ts" header="src/app/crisis-center/crisis-center-routing.module.ts (resolver)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-center-routing.module.ts (resolver)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-center-routing.module.ts (resolver)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center-home/crisis-center-home.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-list/crisis-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-center/crisis-center.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-detail/crisis-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CanDeactivateGuard</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../can-deactivate.guard'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CrisisDetailResolverService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./crisis-detail-resolver.service'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> crisisCenterRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterComponent</span><span class="pun">,</span><span class="pln">
    children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
        component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisListComponent</span><span class="pun">,</span><span class="pln">
        children</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">':id'</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailComponent</span><span class="pun">,</span><span class="pln">
            canDeactivate</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">CanDeactivateGuard</span><span class="pun">],</span><span class="pln">
            resolve</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
              crisis</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisDetailResolverService</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
          </span><span class="pun">},</span><span class="pln">
          </span><span class="pun">{</span><span class="pln">
            path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">
            component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">CrisisCenterHomeComponent</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">]</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">]</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">crisisCenterRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CrisisCenterRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The <code>CrisisDetailComponent</code> should no longer fetch the crisis.
When you re-configured the route, you changed where the crisis is.
Update the <code>CrisisDetailComponent</code> to get the crisis from the  <code>ActivatedRoute.data.crisis</code> property instead;</p>
<code-example path="router/src/app/crisis-center/crisis-detail/crisis-detail.component.ts" header="src/app/crisis-center/crisis-detail/crisis-detail.component.ts (ngOnInit v2)" region="ngOnInit" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/crisis-center/crisis-detail/crisis-detail.component.ts (ngOnInit v2)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/crisis-center/crisis-detail/crisis-detail.component.ts (ngOnInit v2)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="pln">data
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">data </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> crisis</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Crisis</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">[</span><span class="str">'crisis'</span><span class="pun">];</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">editName </span><span class="pun">=</span><span class="pln"> crisis</span><span class="pun">.</span><span class="pln">name</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">crisis </span><span class="pun">=</span><span class="pln"> crisis</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Note the following three important points:</p>
<ol>
<li>
<p>The router's <code><a href="../api/router/Resolve.html" class="code-anchor">Resolve</a></code> interface is optional.
The <code>CrisisDetailResolverService</code> doesn't inherit from a base class.
The router looks for that method and calls it if found.</p>
</li>
<li>
<p>The router calls the resolver in any case where the user could navigate away so you don't have to code for each use case.</p>
</li>
<li>
<p>Returning an empty <code>Observable</code> in at least one resolver cancels navigation.</p>
</li>
</ol>
<p>The relevant Crisis Center code for this milestone follows.</p>
<code-tabs ng-version="13.2.2"><div style="display: none;"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform: translateX(0px);"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-7-0" tabindex="0" aria-posinset="1" aria-setsize="11" aria-controls="mat-tab-content-7-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-1" tabindex="-1" aria-posinset="2" aria-setsize="11" aria-controls="mat-tab-content-7-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-center-home.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-2" tabindex="-1" aria-posinset="3" aria-setsize="11" aria-controls="mat-tab-content-7-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-center.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-3" tabindex="-1" aria-posinset="4" aria-setsize="11" aria-controls="mat-tab-content-7-3" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-center-routing.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-4" tabindex="-1" aria-posinset="5" aria-setsize="11" aria-controls="mat-tab-content-7-4" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-list.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-5" tabindex="-1" aria-posinset="6" aria-setsize="11" aria-controls="mat-tab-content-7-5" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-list.component.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-6" tabindex="-1" aria-posinset="7" aria-setsize="11" aria-controls="mat-tab-content-7-6" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-detail.component.html</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-7" tabindex="-1" aria-posinset="8" aria-setsize="11" aria-controls="mat-tab-content-7-7" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-detail.component.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-8" tabindex="-1" aria-posinset="9" aria-setsize="11" aria-controls="mat-tab-content-7-8" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-detail-resolver.service.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-9" tabindex="-1" aria-posinset="10" aria-setsize="11" aria-controls="mat-tab-content-7-9" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis.service.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-7-10" tabindex="-1" aria-posinset="11" aria-setsize="11" aria-controls="mat-tab-content-7-10" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">dialog.service.ts</span><!----><!----><!----></div></div><!----></div><mat-ink-bar class="mat-ink-bar"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-38 mat-tab-body-active ng-star-inserted" id="mat-tab-content-7-0" aria-labelledby="mat-tab-label-7-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-38 ng-trigger ng-trigger-translateTab" style="transform: none;"><!----><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.component.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"wrapper"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;h1</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"title"</span><span class="tag">&gt;</span><span class="pln">Angular </span><a href="../api/router/Router.html" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
  </span><span class="tag">&lt;nav&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/superheroes"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/admin"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Admin</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/login"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Login</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> [</span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"[{ outlets: { popup: ['compose'] } }]"</span><span class="tag">&gt;</span><span class="pln">Contact</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;/nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> [@</span><span class="atn">routeAnimation</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"getAnimationData(routerOutlet)"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> #</span><span class="atn">routerOutlet</span><span class="pun">=</span><span class="atv">"outlet"</span><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"popup"</span><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-39 ng-star-inserted" id="mat-tab-content-7-1" aria-labelledby="mat-tab-label-7-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-39 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-40 ng-star-inserted" id="mat-tab-content-7-2" aria-labelledby="mat-tab-label-7-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-40 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-41 ng-star-inserted" id="mat-tab-content-7-3" aria-labelledby="mat-tab-label-7-3"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-41 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-42 ng-star-inserted" id="mat-tab-content-7-4" aria-labelledby="mat-tab-label-7-4"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-42 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-43 ng-star-inserted" id="mat-tab-content-7-5" aria-labelledby="mat-tab-label-7-5"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-43 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-44 ng-star-inserted" id="mat-tab-content-7-6" aria-labelledby="mat-tab-label-7-6"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-44 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-45 ng-star-inserted" id="mat-tab-content-7-7" aria-labelledby="mat-tab-label-7-7"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-45 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-46 ng-star-inserted" id="mat-tab-content-7-8" aria-labelledby="mat-tab-label-7-8"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-46 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-47 ng-star-inserted" id="mat-tab-content-7-9" aria-labelledby="mat-tab-label-7-9"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-47 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-48 ng-star-inserted" id="mat-tab-content-7-10" aria-labelledby="mat-tab-label-7-10"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-48 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><!----></div></mat-tab-group></mat-card></code-tabs>
<p>Guards</p>
<code-tabs ng-version="13.2.2"><div style="display: none;"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform: translateX(0px);"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-8-0" tabindex="0" aria-posinset="1" aria-setsize="2" aria-controls="mat-tab-content-8-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">auth.guard.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-8-1" tabindex="-1" aria-posinset="2" aria-setsize="2" aria-controls="mat-tab-content-8-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">can-deactivate.guard.ts</span><!----><!----><!----></div></div><!----></div><mat-ink-bar class="mat-ink-bar"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-49 mat-tab-body-active ng-star-inserted" id="mat-tab-content-8-0" aria-labelledby="mat-tab-label-8-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-49 ng-trigger ng-trigger-translateTab" style="transform: none;"><!----><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from auth.guard.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="../api/router/CanActivate.html" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/CanActivateChild.html" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/router/CanActivate.html" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/CanActivateChild.html" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> authService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  canActivate</span><span class="pun">(</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> state</span><span class="pun">.</span><span class="pln">url</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  canActivateChild</span><span class="pun">(</span><span class="pln">
    route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
    state</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">canActivate</span><span class="pun">(</span><span class="pln">route</span><span class="pun">,</span><span class="pln"> state</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">isLoggedIn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Store the attempted URL for redirecting</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">redirectUrl </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Redirect to the login page</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">parseUrl</span><span class="pun">(</span><span class="str">'/login'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-50 ng-star-inserted" id="mat-tab-content-8-1" aria-labelledby="mat-tab-label-8-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-50 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><!----></div></mat-tab-group></mat-card></code-tabs>
<a id="query-parameters"></a>
<a id="fragment"></a>
<h3 id="query-parameters-and-fragments">Query parameters and fragments</h3>
<p>In the <a href="./router-tutorial-toh.html#optional-route-parameters">route parameters</a> section, you only dealt with parameters specific to the route.
However, you can use query parameters to get optional parameters available to all routes.</p>
<p><a href="https://en.wikipedia.org/wiki/Fragment_identifier">Fragments</a> refer to certain elements on the page
identified with an <code>id</code> attribute.</p>
<p>Update the <code>AuthGuard</code> to provide a <code>session_id</code> query that remains after navigating to another route.</p>
<p>Add an <code>anchor</code> element so you can jump to a certain point on the page.</p>
<p>Add the <code><a href="../api/router/NavigationExtras.html" class="code-anchor">NavigationExtras</a></code> object to the <code>router.navigate()</code> method that navigates you to the <code>/login</code> route.</p>
<code-example path="router/src/app/auth/auth.guard.4.ts" header="src/app/auth/auth.guard.ts (v3)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/auth/auth.guard.ts (v3)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.guard.ts (v3)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="../api/router/CanActivate.html" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/CanActivateChild.html" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/NavigationExtras.html" class="code-anchor"><span class="typ">NavigationExtras</span></a><span class="pun">,</span><span class="pln">
  </span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln">
</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/router/CanActivate.html" class="code-anchor"><span class="typ">CanActivate</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/CanActivateChild.html" class="code-anchor"><span class="typ">CanActivateChild</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> authService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AuthService</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">private</span><span class="pln"> router</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  canActivate</span><span class="pun">(</span><span class="pln">route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln"> state</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> state</span><span class="pun">.</span><span class="pln">url</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  canActivateChild</span><span class="pun">(</span><span class="pln">route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRouteSnapshot.html" class="code-anchor"><span class="typ">ActivatedRouteSnapshot</span></a><span class="pun">,</span><span class="pln"> state</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/RouterStateSnapshot.html" class="code-anchor"><span class="typ">RouterStateSnapshot</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">canActivate</span><span class="pun">(</span><span class="pln">route</span><span class="pun">,</span><span class="pln"> state</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">|</span><a href="../api/router/UrlTree.html" class="code-anchor"><span class="typ">UrlTree</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">isLoggedIn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

    </span><span class="com">// Store the attempted URL for redirecting</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">authService</span><span class="pun">.</span><span class="pln">redirectUrl </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Create a dummy session id</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> sessionId </span><span class="pun">=</span><span class="pln"> </span><span class="lit">123456789</span><span class="pun">;</span><span class="pln">

    </span><span class="com">// Set our navigation extras object</span><span class="pln">
    </span><span class="com">// that contains our </span><a href="../api/core/global.html" class="code-anchor"><span class="com">global</span></a><span class="com"> </span><a href="../api/animations/query.html" class="code-anchor"><span class="com">query</span></a><span class="com"> params and fragment</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> navigationExtras</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/NavigationExtras.html" class="code-anchor"><span class="typ">NavigationExtras</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      queryParams</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> session_id</span><span class="pun">:</span><span class="pln"> sessionId </span><span class="pun">},</span><span class="pln">
      fragment</span><span class="pun">:</span><span class="pln"> </span><span class="str">'anchor'</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    </span><span class="com">// Redirect to the login page with extras</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">createUrlTree</span><span class="pun">([</span><span class="str">'/login'</span><span class="pun">],</span><span class="pln"> navigationExtras</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>You can also preserve query parameters and fragments across navigations without having to provide them again when navigating.
In the <code>LoginComponent</code>, you'll add an <em>object</em> as the second argument in the <code>router.navigate()</code> function and provide the <code>queryParamsHandling</code> and <code>preserveFragment</code> to pass along the current query parameters and fragment to the next route.</p>
<code-example path="router/src/app/auth/login/login.component.ts" header="src/app/auth/login/login.component.ts (preserve)" region="preserve" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/auth/login/login.component.ts (preserve)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/login/login.component.ts (preserve)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="com">// Set our navigation extras object</span><span class="pln">
</span><span class="com">// that passes on our </span><a href="../api/core/global.html" class="code-anchor"><span class="com">global</span></a><span class="com"> </span><a href="../api/animations/query.html" class="code-anchor"><span class="com">query</span></a><span class="com"> params and fragment</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> navigationExtras</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/NavigationExtras.html" class="code-anchor"><span class="typ">NavigationExtras</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  queryParamsHandling</span><span class="pun">:</span><span class="pln"> </span><span class="str">'preserve'</span><span class="pun">,</span><span class="pln">
  preserveFragment</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="com">// Redirect the user</span><span class="pln">
</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="pln">redirectUrl</span><span class="pun">],</span><span class="pln"> navigationExtras</span><span class="pun">);</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>The <code>queryParamsHandling</code> feature also provides a <code>merge</code> option, which preserves and combines the current query parameters with any provided query parameters when navigating.</p>
</div>
<p>To navigate to the Admin Dashboard route after logging in, update <code>admin-dashboard.component.ts</code> to handle the
query parameters and fragment.</p>
<code-example path="router/src/app/admin/admin-dashboard/admin-dashboard.component.1.ts" header="src/app/admin/admin-dashboard/admin-dashboard.component.ts (v2)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/admin/admin-dashboard/admin-dashboard.component.ts (v2)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin-dashboard/admin-dashboard.component.ts (v2)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/OnInit.html" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> map </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app-admin-dashboard'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./admin-dashboard.component.html'</span><span class="pun">,</span><span class="pln">
  styleUrls</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'./admin-dashboard.component.css'</span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AdminDashboardComponent</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/OnInit.html" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  sessionId</span><span class="pun">!:</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;string&gt;</span><span class="pun">;</span><span class="pln">
  token</span><span class="pun">!:</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;string&gt;</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Capture the session ID if available</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">sessionId </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route
      </span><span class="pun">.</span><span class="pln">queryParamMap
      </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">params</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">params</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'session_id'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="str">'None'</span><span class="pun">));</span><span class="pln">

    </span><span class="com">// Capture the fragment if available</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">token </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route
      </span><span class="pun">.</span><span class="pln">fragment
      </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">map</span><span class="pun">(</span><span class="pln">fragment </span><span class="pun">=&gt;</span><span class="pln"> fragment </span><span class="pun">||</span><span class="pln"> </span><span class="str">'None'</span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Query parameters and fragments are also available through the <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> service.
Like route parameters, the query parameters and fragments are provided as an <code>Observable</code>.
The updated Crisis Admin component feeds the <code>Observable</code> directly into the template using the <code><a href="../api/common/AsyncPipe.html" class="code-anchor">AsyncPipe</a></code>.</p>
<p>Now, you can click on the Admin button, which takes you to the Login page with the provided <code>queryParamMap</code> and <code>fragment</code>.
After you click the login button, notice that you have been redirected to the <code>Admin Dashboard</code> page with the query parameters and fragment still intact in the address bar.</p>
<p>You can use these persistent bits of information for things that need to be provided across pages like authentication tokens or session ids.</p>
<div class="alert is-helpful">
<p>The <code><a href="../api/animations/query.html" class="code-anchor">query</a> params</code> and <code>fragment</code> can also be preserved using a <code><a href="../api/router/RouterLink.html" class="code-anchor">RouterLink</a></code> with
the <code>queryParamsHandling</code> and <code>preserveFragment</code> bindings respectively.</p>
</div>
<a id="asynchronous-routing"></a>
<a class="dashAnchor" name="//apple_ref/Section/Milestone%206%3A%20Asynchronous%20routing"></a><h2 id="milestone-6-asynchronous-routing">Milestone 6: Asynchronous routing</h2>
<p>As you've worked through the milestones, the application has naturally gotten larger.
At some point you'll reach a point where the application takes a long time to load.</p>
<p>To remedy this issue, use asynchronous routing, which loads feature modules lazily, on request.
Lazy loading has multiple benefits.</p>
<ul>
<li>You can load feature areas only when requested by the user.</li>
<li>You can speed up load time for users that only visit certain areas of the application.</li>
<li>You can continue expanding lazy loaded feature areas without increasing the size of the initial load bundle.</li>
</ul>
<p>You're already part of the way there.
By organizing the application into modules—<code>AppModule</code>,
<code>HeroesModule</code>, <code>AdminModule</code> and <code>CrisisCenterModule</code>—you
have natural candidates for lazy loading.</p>
<p>Some modules, like <code>AppModule</code>, must be loaded from the start.
But others can and should be lazy loaded.
The <code>AdminModule</code>, for example, is needed by a few authorized users, so
you should only load it when requested by the right people.</p>
<a id="lazy-loading-route-config"></a>
<h3 id="lazy-loading-route-configuration">Lazy Loading route configuration</h3>
<p>Change the <code>admin</code> path in the <code>admin-routing.module.ts</code> from <code>'admin'</code> to an empty string, <code>''</code>, the empty path.</p>
<p>Use empty path routes to group routes together without adding any additional path segments to the URL.
Users will still visit <code>/admin</code> and the <code>AdminComponent</code> still serves as the Routing Component containing child routes.</p>
<p>Open the <code>AppRoutingModule</code> and add a new <code>admin</code> route to its <code>appRoutes</code> array.</p>
<p>Give it a <code>loadChildren</code> property instead of a <code>children</code> property.
The <code>loadChildren</code> property takes a function that returns a promise using the browser's built-in syntax for lazy loading code using dynamic imports <code>import('...')</code>.
The path is the location of the <code>AdminModule</code> (relative to the application root).
After the code is requested and loaded, the <code>Promise</code> resolves an object that contains the <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code>, in this case the <code>AdminModule</code>.</p>
<code-example path="router/src/app/app-routing.module.5.ts" region="admin-1" header="app-routing.module.ts (load children)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app-routing.module.ts (load children)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app-routing.module.ts (load children)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln">
  path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
  loadChildren</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./admin/admin.module'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="typ">AdminModule</span><span class="pun">),</span><span class="pln">
</span><span class="pun">},</span></code>
    </pre></aio-code></code-example>
<div class="alert is-important">
<p><em>Note</em>: When using absolute paths, the <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> file location must begin with <code>src/app</code> in order to resolve correctly. For custom <a href="https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping">path mapping with absolute paths</a>, you must configure the <code>baseUrl</code> and <code>paths</code> properties in the project <code>tsconfig.json</code>.</p>
</div>
<p>When the router navigates to this route, it uses the <code>loadChildren</code> string to dynamically load the <code>AdminModule</code>.
Then it adds the <code>AdminModule</code> routes to its current route configuration.
Finally, it loads the requested route to the destination admin component.</p>
<p>The lazy loading and re-configuration happen just once, when the route is first requested; the module and routes are available immediately for subsequent requests.</p>
<div class="alert is-helpful">
<p>Angular provides a built-in module loader that supports SystemJS to load modules asynchronously. If you were
using another bundling tool, such as Webpack, you would use the Webpack mechanism for asynchronously loading modules.</p>
</div>
<p>Take the final step and detach the admin feature set from the main application.
The root <code>AppModule</code> must neither load nor reference the <code>AdminModule</code> or its files.</p>
<p>In <code>app.module.ts</code>, remove the <code>AdminModule</code> import statement from the top of the file
and remove the <code>AdminModule</code> from the NgModule's <code>imports</code> array.</p>
<a id="can-load-guard"></a>
<h3 id="canload-guarding-unauthorized-loading-of-feature-modules"><code><a href="../api/router/CanLoad.html" class="code-anchor">CanLoad</a></code>: guarding unauthorized loading of feature modules</h3>
<p>You're already protecting the <code>AdminModule</code> with a <code><a href="../api/router/CanActivate.html" class="code-anchor">CanActivate</a></code> guard that prevents unauthorized users from accessing the admin feature area.
It redirects to the login page if the user is not authorized.</p>
<p>But the router is still loading the <code>AdminModule</code> even if the user can't visit any of its components.
Ideally, you'd only load the <code>AdminModule</code> if the user is logged in.</p>
<p>Add a <code><a href="../api/router/CanLoad.html" class="code-anchor">CanLoad</a></code> guard that only loads the <code>AdminModule</code> once the user is logged in <em>and</em> attempts to access the admin feature area.</p>
<p>The existing <code>AuthGuard</code> already has the essential logic in its <code>checkLogin()</code> method to support the <code><a href="../api/router/CanLoad.html" class="code-anchor">CanLoad</a></code> guard.</p>
<p>Open <code>auth.guard.ts</code>.
Import the <code><a href="../api/router/CanLoad.html" class="code-anchor">CanLoad</a></code> interface from <code>@angular/router</code>.
Add it to the <code>AuthGuard</code> class's <code>implements</code> list.
Then implement <code>canLoad()</code> as follows:</p>
<code-example path="router/src/app/auth/auth.guard.ts" header="src/app/auth/auth.guard.ts (CanLoad guard)" region="canLoad" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/auth/auth.guard.ts (CanLoad guard)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/auth/auth.guard.ts (CanLoad guard)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">canLoad</span><span class="pun">(</span><span class="pln">route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Route.html" class="code-anchor"><span class="typ">Route</span></a><span class="pun">):</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">`/${route.path}`</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">checkLogin</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The router sets the <code>canLoad()</code> method's <code>route</code> parameter to the intended destination URL.
The <code>checkLogin()</code> method redirects to that URL once the user has logged in.</p>
<p>Now import the <code>AuthGuard</code> into the <code>AppRoutingModule</code> and add the <code>AuthGuard</code> to the <code>canLoad</code>
array property for the <code>admin</code> route.
The completed admin route looks like this:</p>
<code-example path="router/src/app/app-routing.module.5.ts" region="admin" header="app-routing.module.ts (lazy admin route)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app-routing.module.ts (lazy admin route)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app-routing.module.ts (lazy admin route)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln">
  path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
  loadChildren</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./admin/admin.module'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="typ">AdminModule</span><span class="pun">),</span><span class="pln">
  canLoad</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">AuthGuard</span><span class="pun">]</span><span class="pln">
</span><span class="pun">},</span></code>
    </pre></aio-code></code-example>
<a id="preloading"></a>
<h3 id="preloading-background-loading-of-feature-areas">Preloading: background loading of feature areas</h3>
<p>In addition to loading modules on-demand, you can load modules asynchronously with preloading.</p>
<p>The <code>AppModule</code> is eagerly loaded when the application starts, meaning that it loads right away.
Now the <code>AdminModule</code> loads only when the user clicks on a link, which is called lazy loading.</p>
<p>Preloading lets you load modules in the background so that the data is ready to render when the user activates a particular route.
Consider the Crisis Center.
It isn't the first view that a user sees.
By default, the Heroes are the first view.
For the smallest initial payload and fastest launch time, you should eagerly load the <code>AppModule</code> and the <code>HeroesModule</code>.</p>
<p>You could lazy load the Crisis Center.
But you're almost certain that the user will visit the Crisis Center within minutes of launching the app.
Ideally, the application would launch with just the <code>AppModule</code> and the <code>HeroesModule</code> loaded and then, almost immediately, load the <code>CrisisCenterModule</code> in the background.
By the time the user navigates to the Crisis Center, its module is loaded and ready.</p>
<a id="how-preloading"></a>
<h4 id="how-preloading-works">How preloading works</h4>
<p>After each successful navigation, the router looks in its configuration for an unloaded module that it can preload.
Whether it preloads a module, and which modules it preloads, depends upon the preload strategy.</p>
<p>The <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> offers two preloading strategies:</p>
<ul>
<li>No preloading, which is the default. Lazy loaded feature areas are still loaded on-demand.</li>
<li>Preloading of all lazy loaded feature areas.</li>
</ul>
<p>The router either never preloads, or preloads every lazy loaded module.
The <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> also supports <a href="./router-tutorial-toh.html#custom-preloading">custom preloading strategies</a> for fine control over which modules to preload and when.</p>
<p>This section guides you through updating the <code>CrisisCenterModule</code> to load lazily by default and use the <code><a href="../api/router/PreloadAllModules.html" class="code-anchor">PreloadAllModules</a></code> strategy to load all lazy loaded modules.</p>
<a id="lazy-load-crisis-center"></a>
<h4 id="lazy-load-the-crisis-center">Lazy load the crisis center</h4>
<p>Update the route configuration to lazy load the <code>CrisisCenterModule</code>.
Take the same steps you used to configure <code>AdminModule</code> for lazy loading.</p>
<ol>
<li>
<p>Change the <code>crisis-center</code> path in the <code>CrisisCenterRoutingModule</code> to an empty string.</p>
</li>
<li>
<p>Add a <code>crisis-center</code> route to the <code>AppRoutingModule</code>.</p>
</li>
<li>
<p>Set the <code>loadChildren</code> string to load the <code>CrisisCenterModule</code>.</p>
</li>
<li>
<p>Remove all mention of the <code>CrisisCenterModule</code> from <code>app.module.ts</code>.</p>
</li>
</ol>
<p>Here are the updated modules <em>before enabling preload</em>:</p>
<code-tabs ng-version="13.2.2"><div style="display: none;"></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform: translateX(0px);"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-9-0" tabindex="0" aria-posinset="1" aria-setsize="3" aria-controls="mat-tab-content-9-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-9-1" tabindex="-1" aria-posinset="2" aria-setsize="3" aria-controls="mat-tab-content-9-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app-routing.module.ts</span><!----><!----><!----></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-9-2" tabindex="-1" aria-posinset="3" aria-setsize="3" aria-controls="mat-tab-content-9-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">crisis-center-routing.module.ts</span><!----><!----><!----></div></div><!----></div><mat-ink-bar class="mat-ink-bar"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-51 mat-tab-body-active ng-star-inserted" id="mat-tab-content-9-0" aria-labelledby="mat-tab-label-9-0"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-51 ng-trigger ng-trigger-translateTab" style="transform: none;"><!----><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/animations/BrowserAnimationsModule.html" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser/animations'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./compose-message/compose-message.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes/heroes.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth/auth.module'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/platform-browser/animations/BrowserAnimationsModule.html" class="code-anchor"><span class="typ">BrowserAnimationsModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">HeroesModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AuthModule</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">ComposeMessageComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PageNotFoundComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-52 ng-star-inserted" id="mat-tab-content-9-1" aria-labelledby="mat-tab-label-9-1"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-52 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c53-53 ng-star-inserted" id="mat-tab-content-9-2" aria-labelledby="mat-tab-label-9-2"><div cdkscrollable="" class="mat-tab-body-content ng-tns-c53-53 ng-trigger ng-trigger-translateTab" style="transform: translate3d(100%, 0px, 0px); min-height: 1px;"><!----></div></mat-tab-body><!----></div></mat-tab-group></mat-card></code-tabs>
<p>You could try this now and confirm that the  <code>CrisisCenterModule</code> loads after you click the "Crisis Center" button.</p>
<p>To enable preloading of all lazy loaded modules, import the <code><a href="../api/router/PreloadAllModules.html" class="code-anchor">PreloadAllModules</a></code> token from the Angular router package.</p>
<p>The second argument in the <code><a href="../api/router/RouterModule.html#forRoot" class="code-anchor">RouterModule.forRoot()</a></code> method takes an object for additional configuration options.
The <code>preloadingStrategy</code> is one of those options.
Add the <code><a href="../api/router/PreloadAllModules.html" class="code-anchor">PreloadAllModules</a></code> token to the <code>forRoot()</code> call:</p>
<code-example path="router/src/app/app-routing.module.6.ts" header="src/app/app-routing.module.ts (preload all)" region="forRoot" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (preload all)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (preload all)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
  appRoutes</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
    preloadingStrategy</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/PreloadAllModules.html" class="code-anchor"><span class="typ">PreloadAllModules</span></a><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">)</span></code>
    </pre></aio-code></code-example>
<p>This configures the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> preloader to immediately load all lazy loaded routes (routes with a <code>loadChildren</code> property).</p>
<p>When you visit <code>http://localhost:4200</code>, the <code>/heroes</code> route loads immediately upon launch and the router starts loading the <code>CrisisCenterModule</code> right after the <code>HeroesModule</code> loads.</p>
<p>Currently, the <code>AdminModule</code> does not preload because <code><a href="../api/router/CanLoad.html" class="code-anchor">CanLoad</a></code> is blocking it.</p>
<a id="preload-canload"></a>
<h4 id="canload-blocks-preload"><code><a href="../api/router/CanLoad.html" class="code-anchor">CanLoad</a></code> blocks preload</h4>
<p>The <code><a href="../api/router/PreloadAllModules.html" class="code-anchor">PreloadAllModules</a></code> strategy does not load feature areas protected by a <a href="./router-tutorial-toh.html#can-load-guard">CanLoad</a> guard.</p>
<p>You added a <code><a href="../api/router/CanLoad.html" class="code-anchor">CanLoad</a></code> guard to the route in the <code>AdminModule</code> a few steps back to block loading of that module until the user is authorized.
That <code><a href="../api/router/CanLoad.html" class="code-anchor">CanLoad</a></code> guard takes precedence over the preload strategy.</p>
<p>If you want to preload a module as well as guard against unauthorized access, remove the <code>canLoad()</code> guard method and rely on the <a href="./router-tutorial-toh.html#can-activate-guard">canActivate()</a> guard alone.</p>
<a id="custom-preloading"></a>
<h3 id="custom-preloading-strategy">Custom Preloading Strategy</h3>
<p>Preloading every lazy loaded module works well in many situations.
However, in consideration of things such as low bandwidth and user metrics, you can use a custom preloading strategy for specific feature modules.</p>
<p>This section guides you through adding a custom strategy that only preloads routes whose <code>data.preload</code> flag is set to <code>true</code>.
Recall that you can add anything to the <code>data</code> property of a route.</p>
<p>Set the <code>data.preload</code> flag in the <code>crisis-center</code> route in the <code>AppRoutingModule</code>.</p>
<code-example path="router/src/app/app-routing.module.ts" header="src/app/app-routing.module.ts (route data preload)" region="preload-v2" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (route data preload)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (route data preload)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pun">{</span><span class="pln">
  path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
  loadChildren</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./crisis-center/crisis-center.module'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="typ">CrisisCenterModule</span><span class="pun">),</span><span class="pln">
  data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> preload</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">},</span></code>
    </pre></aio-code></code-example>
<p>Generate a new <code>SelectivePreloadingStrategy</code> service.</p>
<code-example language="sh" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng generate service selective</span><span class="pun">-</span><span class="pln">preloading</span><span class="pun">-</span><span class="pln">strategy</span></code>
    </pre></aio-code></code-example>
<p>Replace the contents of <code>selective-preloading-strategy.service.ts</code> with the following:</p>
<code-example path="router/src/app/selective-preloading-strategy.service.ts" header="src/app/selective-preloading-strategy.service.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/selective-preloading-strategy.service.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/selective-preloading-strategy.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/PreloadingStrategy.html" class="code-anchor"><span class="typ">PreloadingStrategy</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Route.html" class="code-anchor"><span class="typ">Route</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">SelectivePreloadingStrategyService</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/router/PreloadingStrategy.html" class="code-anchor"><span class="typ">PreloadingStrategy</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  preloadedModules</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">

  preload</span><span class="pun">(</span><span class="pln">route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Route.html" class="code-anchor"><span class="typ">Route</span></a><span class="pun">,</span><span class="pln"> load</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;any&gt;</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;any&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">route</span><span class="pun">.</span><span class="pln">data</span><span class="pun">?.[</span><span class="str">'preload'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> route</span><span class="pun">.</span><span class="pln">path </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// add the route path to the preloaded module array</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">preloadedModules</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">route</span><span class="pun">.</span><span class="pln">path</span><span class="pun">);</span><span class="pln">

      </span><span class="com">// log the route path to the console</span><span class="pln">
      console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'Preloaded: '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> route</span><span class="pun">.</span><span class="pln">path</span><span class="pun">);</span><span class="pln">

      </span><span class="kwd">return</span><span class="pln"> load</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p><code>SelectivePreloadingStrategyService</code> implements the <code><a href="../api/router/PreloadingStrategy.html" class="code-anchor">PreloadingStrategy</a></code>, which has one method, <code>preload()</code>.</p>
<p>The router calls the <code>preload()</code> method with two arguments:</p>
<ol>
<li>The route to consider.</li>
<li>A loader function that can load the routed module asynchronously.</li>
</ol>
<p>An implementation of <code>preload</code> must return an <code>Observable</code>.
If the route does preload, it returns the observable returned by calling the loader function.
If the route does not preload, it returns an <code>Observable</code> of <code>null</code>.</p>
<p>In this sample, the  <code>preload()</code> method loads the route if the route's <code>data.preload</code> flag is truthy.</p>
<p>As a side-effect, <code>SelectivePreloadingStrategyService</code> logs the <code>path</code> of a selected route in its public <code>preloadedModules</code> array.</p>
<p>Shortly, you'll extend the <code>AdminDashboardComponent</code> to inject this service and display its <code>preloadedModules</code> array.</p>
<p>But first, make a few changes to the <code>AppRoutingModule</code>.</p>
<ol>
<li>Import <code>SelectivePreloadingStrategyService</code> into <code>AppRoutingModule</code>.</li>
<li>Replace the <code><a href="../api/router/PreloadAllModules.html" class="code-anchor">PreloadAllModules</a></code> strategy in the call to <code>forRoot()</code> with this <code>SelectivePreloadingStrategyService</code>.</li>
</ol>
<p>Now edit the <code>AdminDashboardComponent</code> to display the log of preloaded routes.</p>
<ol>
<li>Import the <code>SelectivePreloadingStrategyService</code>.</li>
<li>Inject it into the dashboard's constructor.</li>
<li>Update the template to display the strategy service's <code>preloadedModules</code> array.</li>
</ol>
<p>Now the file is as follows:</p>
<code-example path="router/src/app/admin/admin-dashboard/admin-dashboard.component.ts" header="src/app/admin/admin-dashboard/admin-dashboard.component.ts (preloaded modules)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/admin/admin-dashboard/admin-dashboard.component.ts (preloaded modules)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/admin/admin-dashboard/admin-dashboard.component.ts (preloaded modules)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/OnInit.html" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> map </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">SelectivePreloadingStrategyService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../../selective-preloading-strategy.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app-admin-dashboard'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./admin-dashboard.component.html'</span><span class="pun">,</span><span class="pln">
  styleUrls</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'./admin-dashboard.component.css'</span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AdminDashboardComponent</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/OnInit.html" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  sessionId</span><span class="pun">!:</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;string&gt;</span><span class="pun">;</span><span class="pln">
  token</span><span class="pun">!:</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;string&gt;</span><span class="pun">;</span><span class="pln">
  modules</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> route</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln">
    preloadStrategy</span><span class="pun">:</span><span class="pln"> </span><span class="typ">SelectivePreloadingStrategyService</span><span class="pln">
  </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">modules </span><span class="pun">=</span><span class="pln"> preloadStrategy</span><span class="pun">.</span><span class="pln">preloadedModules</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Capture the session ID if available</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">sessionId </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route
      </span><span class="pun">.</span><span class="pln">queryParamMap
      </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">params</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">params</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'session_id'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="str">'None'</span><span class="pun">));</span><span class="pln">

    </span><span class="com">// Capture the fragment if available</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">token </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">route
      </span><span class="pun">.</span><span class="pln">fragment
      </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">map</span><span class="pun">(</span><span class="pln">fragment </span><span class="pun">=&gt;</span><span class="pln"> fragment </span><span class="pun">||</span><span class="pln"> </span><span class="str">'None'</span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Once the application loads the initial route, the <code>CrisisCenterModule</code> is preloaded.
Verify this by logging in to the <code>Admin</code> feature area and noting that the <code>crisis-center</code> is listed in the <code>Preloaded Modules</code>.
It also logs to the browser's console.</p>
<a id="redirect-advanced"></a>
<h3 id="migrating-urls-with-redirects">Migrating URLs with redirects</h3>
<p>You've setup the routes for navigating around your application and used navigation imperatively and declaratively.
But like any application, requirements change over time.
You've setup links and navigation to <code>/heroes</code> and <code>/hero/:id</code> from the <code>HeroListComponent</code> and <code>HeroDetailComponent</code> components.
If there were a requirement that links to <code>heroes</code> become <code>superheroes</code>, you would still want the previous URLs to navigate correctly.
You also don't want to update every link in your application, so redirects makes refactoring routes trivial.</p>
<a id="url-refactor"></a>
<h4 id="changing-heroes-to-superheroes">Changing <code>/heroes</code> to <code>/superheroes</code></h4>
<p>This section guides you through migrating the <code>Hero</code> routes to new URLs.
The <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> checks for redirects in your configuration before navigating, so each redirect is triggered when needed. To support this change, add redirects from the old routes to the new routes in the <code>heroes-routing.module</code>.</p>
<code-example path="router/src/app/heroes/heroes-routing.module.ts" header="src/app/heroes/heroes-routing.module.ts (heroes redirects)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/heroes-routing.module.ts (heroes redirects)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes-routing.module.ts (heroes redirects)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-list/hero-list.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail/hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> heroesRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/superheroes'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero/:id'</span><span class="pun">,</span><span class="pln"> redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/superhero/:id'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'superheroes'</span><span class="pun">,</span><span class="pln">  component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroListComponent</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/animations/animation.html" class="code-anchor"><span class="pln">animation</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'heroes'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'superhero/:id'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pun">,</span><span class="pln"> data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/animations/animation.html" class="code-anchor"><span class="pln">animation</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'hero'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forChild</span><span class="pun">(</span><span class="pln">heroesRoutes</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroesRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Notice two different types of redirects.
The first change is from  <code>/heroes</code> to <code>/superheroes</code> without any parameters.
The second change is from <code>/hero/:id</code> to <code>/superhero/:id</code>, which includes the <code>:id</code> route parameter.
Router redirects also use powerful pattern-matching, so the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> inspects the URL and replaces route parameters in the <code>path</code> with their appropriate destination.
Previously, you navigated to a URL such as <code>/hero/15</code> with a route parameter <code>id</code> of <code>15</code>.</p>
<div class="alert is-helpful">
<p>The <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> also supports <a href="./router-tutorial-toh.html#query-parameters">query parameters</a> and the <a href="./router-tutorial-toh.html#fragment">fragment</a> when using redirects.</p>
<ul>
<li>When using absolute redirects, the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> uses the query parameters and the fragment from the <code>redirectTo</code> in the route config.</li>
<li>When using relative redirects, the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> use the query params and the fragment from the source URL.</li>
</ul>
</div>
<p>Currently, the empty path route redirects to <code>/heroes</code>, which redirects to <code>/superheroes</code>.
This won't work because the <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> handles redirects once at each level of routing configuration.
This prevents chaining of redirects, which can lead to endless redirect loops.</p>
<p>Instead, update the empty path route in <code>app-routing.module.ts</code> to redirect to <code>/superheroes</code>.</p>
<code-example path="router/src/app/app-routing.module.ts" header="src/app/app-routing.module.ts (superheroes redirect)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app-routing.module.ts (superheroes redirect)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts (superheroes redirect)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./compose-message/compose-message.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./page-not-found/page-not-found.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AuthGuard</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./auth/auth.guard'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">SelectivePreloadingStrategyService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./selective-preloading-strategy.service'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appRoutes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'compose'</span><span class="pun">,</span><span class="pln">
    component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">ComposeMessageComponent</span><span class="pun">,</span><span class="pln">
    outlet</span><span class="pun">:</span><span class="pln"> </span><span class="str">'popup'</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'admin'</span><span class="pun">,</span><span class="pln">
    loadChildren</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./admin/admin.module'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="typ">AdminModule</span><span class="pun">),</span><span class="pln">
    canLoad</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">AuthGuard</span><span class="pun">]</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln">
    path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'crisis-center'</span><span class="pun">,</span><span class="pln">
    loadChildren</span><span class="pun">:</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./crisis-center/crisis-center.module'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">m </span><span class="pun">=&gt;</span><span class="pln"> m</span><span class="pun">.</span><span class="typ">CrisisCenterModule</span><span class="pun">),</span><span class="pln">
    data</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> preload</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln">   redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/superheroes'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PageNotFoundComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
      appRoutes</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">
        enableTracing</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> </span><span class="com">// &lt;-- debugging purposes only</span><span class="pln">
        preloadingStrategy</span><span class="pun">:</span><span class="pln"> </span><span class="typ">SelectivePreloadingStrategyService</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>A <code><a href="../api/router/RouterLink.html" class="code-anchor">routerLink</a></code> isn't tied to route configuration, so update the associated router links to remain active when the new route is active.
Update the <code>app.component.ts</code> template for the <code>/heroes</code> <code><a href="../api/router/RouterLink.html" class="code-anchor">routerLink</a></code>.</p>
<code-example path="router/src/app/app.component.html" header="src/app/app.component.html (superheroes active routerLink)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.component.html (superheroes active routerLink)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.component.html (superheroes active routerLink)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"wrapper"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;h1</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"title"</span><span class="tag">&gt;</span><span class="pln">Angular </span><a href="../api/router/Router.html" class="code-anchor"><span class="pln">Router</span></a><span class="tag">&lt;/h1&gt;</span><span class="pln">
  </span><span class="tag">&lt;nav&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/crisis-center"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Crisis Center</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/superheroes"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Heroes</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/admin"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Admin</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/login"</span><span class="pln"> </span><a href="../api/router/RouterLinkActive.html" class="code-anchor"><span class="atn">routerLinkActive</span></a><span class="pun">=</span><span class="atv">"active"</span><span class="tag">&gt;</span><span class="pln">Login</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> [</span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"[{ outlets: { popup: ['compose'] } }]"</span><span class="tag">&gt;</span><span class="pln">Contact</span><span class="tag">&lt;/a&gt;</span><span class="pln">
  </span><span class="tag">&lt;/nav&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> [@</span><span class="atn">routeAnimation</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"getAnimationData(routerOutlet)"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> #</span><span class="atn">routerOutlet</span><span class="pun">=</span><span class="atv">"outlet"</span><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"popup"</span><span class="tag">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="tag">router-outlet</span></a><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example>
<p>Update the <code>goToHeroes()</code> method in the <code>hero-detail.component.ts</code> to navigate back to <code>/superheroes</code> with the optional route parameters.</p>
<code-example path="router/src/app/heroes/hero-detail/hero-detail.component.ts" region="redirect" header="src/app/heroes/hero-detail/hero-detail.component.ts (goToHeroes)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/heroes/hero-detail/hero-detail.component.ts (goToHeroes)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/hero-detail/hero-detail.component.ts (goToHeroes)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">gotoHeroes</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> heroId </span><span class="pun">=</span><span class="pln"> hero </span><span class="pun">?</span><span class="pln"> hero</span><span class="pun">.</span><span class="pln">id </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
  </span><span class="com">// Pass along the hero id if available</span><span class="pln">
  </span><span class="com">// so that the HeroList component can select that hero.</span><span class="pln">
  </span><span class="com">// Include a junk 'foo' property for fun.</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">router</span><span class="pun">.</span><span class="pln">navigate</span><span class="pun">([</span><span class="str">'/superheroes'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> heroId</span><span class="pun">,</span><span class="pln"> foo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'foo'</span><span class="pln"> </span><span class="pun">}]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>With the redirects setup, all previous routes now point to their new destinations and both URLs still function as intended.</p>
<a id="inspect-config"></a>
<h3 id="inspect-the-routers-configuration">Inspect the router's configuration</h3>
<p>To determine if your routes are actually evaluated <a href="./router-tutorial-toh.html#routing-module-order">in the proper order</a>, you can inspect the router's configuration.</p>
<p>Do this by injecting the router and logging to the console its <code>config</code> property.
For example, update the <code>AppModule</code> as follows and look in the browser console window
to see the finished route configuration.</p>
<code-example path="router/src/app/app.module.7.ts" header="src/app/app.module.ts (inspect the router config)" region="inspect-config" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app.module.ts (inspect the router config)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (inspect the router config)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Diagnostic only: inspect router configuration</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">router</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Router.html" class="code-anchor"><span class="typ">Router</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// Use a custom replacer to display function names in the route configs</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> replacer </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">key</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">value</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> </span><span class="kwd">value</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="str">'function'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">value</span><span class="pun">.</span><span class="pln">name </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">value</span><span class="pun">;</span><span class="pln">

    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'</span><a href="../api/router/Routes.html" class="code-anchor"><span class="str">Routes</span></a><span class="str">: '</span><span class="pun">,</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">router</span><span class="pun">.</span><span class="pln">config</span><span class="pun">,</span><span class="pln"> replacer</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">));</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<a id="final-app"></a>
<a class="dashAnchor" name="//apple_ref/Section/Final%20application"></a><h2 id="final-application">Final application</h2>
<p>For the completed router application, see the <live-example name="router" ng-version="13.2.2"><span style="display: none;"></span><span><!----><!----><span class="ng-star-inserted"><a target="_blank" title="live example" href="https://angular.io/generated/live-examples/router/stackblitz.html">live example</a><span class="ng-star-inserted"> / <a download="" title="Download example" href="https://angular.io/generated/zips/router/router.zip">download example</a></span><!----></span><!----></span></live-example> for the final source code.</p>
<a id="link-parameters-array"></a>

  


<!-- links to this doc:
 - api/router/RouterOutlet
 - guide/deployment
 - guide/glossary
 - guide/lazy-loading-ngmodules
 - guide/router
 - guide/router-reference
 - guide/routing-overview
 - guide/testing-components-scenarios
-->
<!-- links from this doc:
 - /cli
 - /guide/router-reference#example-config
 - /tutorial
 - api/animations/animate
 - api/animations/animateChild
 - api/animations/animation
 - api/animations/query
 - api/animations/state
 - api/animations/style
 - api/animations/transition
 - api/animations/trigger
 - api/common/AsyncPipe
 - api/common/CommonModule
 - api/common/NgForOf
 - api/common/NgIf
 - api/core/Component
 - api/core/HostBinding
 - api/core/Injectable
 - api/core/NgModule
 - api/core/OnInit
 - api/core/global
 - api/forms/DefaultValueAccessor
 - api/forms/FormsModule
 - api/forms/NgModel
 - api/platform-browser/BrowserModule
 - api/platform-browser/animations/BrowserAnimationsModule
 - api/router/ActivatedRoute
 - api/router/ActivatedRoute#paramMap
 - api/router/ActivatedRouteSnapshot
 - api/router/CanActivate
 - api/router/CanActivateChild
 - api/router/CanDeactivate
 - api/router/CanLoad
 - api/router/NavigationExtras
 - api/router/ParamMap
 - api/router/PreloadAllModules
 - api/router/PreloadingStrategy
 - api/router/Resolve
 - api/router/Route
 - api/router/Router
 - api/router/Router#navigate
 - api/router/RouterLink
 - api/router/RouterLinkActive
 - api/router/RouterModule
 - api/router/RouterModule#forChild
 - api/router/RouterModule#forRoot
 - api/router/RouterOutlet
 - api/router/RouterState
 - api/router/RouterStateSnapshot
 - api/router/RouterStateSnapshot#url
 - api/router/Routes
 - api/router/UrlTree
 - api/upgrade/static
 - cli
 - cli/generate
 - cli/new
 - guide/animations
 - guide/architecture
 - guide/attribute-binding#class-binding
 - guide/router-tutorial-toh#a-crisis-center-with-child-routes
 - guide/router-tutorial-toh#activated-route-in-action
 - guide/router-tutorial-toh#add-a-secondary-route
 - guide/router-tutorial-toh#add-an-admin-feature-module
 - guide/router-tutorial-toh#add-heroes-functionality
 - guide/router-tutorial-toh#add-the-logincomponent
 - guide/router-tutorial-toh#add-the-router-outlet
 - guide/router-tutorial-toh#adding-routable-animations
 - guide/router-tutorial-toh#authenticate-with-authguard
 - guide/router-tutorial-toh#benefits-of-a-routing-module
 - guide/router-tutorial-toh#can-activate-child-guard
 - guide/router-tutorial-toh#can-activate-guard
 - guide/router-tutorial-toh#can-load-guard
 - guide/router-tutorial-toh#canactivate-requiring-authentication
 - guide/router-tutorial-toh#canactivatechild-guarding-child-routes
 - guide/router-tutorial-toh#cancel-and-save
 - guide/router-tutorial-toh#candeactivate-handling-unsaved-changes
 - guide/router-tutorial-toh#canload-blocks-preload
 - guide/router-tutorial-toh#canload-guarding-unauthorized-loading-of-feature-modules
 - guide/router-tutorial-toh#changing-heroes-to-superheroes
 - guide/router-tutorial-toh#child-route-configuration
 - guide/router-tutorial-toh#child-routing-component
 - guide/router-tutorial-toh#clear-secondary-routes
 - guide/router-tutorial-toh#clearing-secondary-routes
 - guide/router-tutorial-toh#component-less-route-grouping-routes-without-a-component
 - guide/router-tutorial-toh#custom-preloading
 - guide/router-tutorial-toh#custom-preloading-strategy
 - guide/router-tutorial-toh#define-a-wildcard-route
 - guide/router-tutorial-toh#define-routes
 - guide/router-tutorial-toh#displaying-multiple-routes-in-named-outlets
 - guide/router-tutorial-toh#fetch-data-before-navigating
 - guide/router-tutorial-toh#final-application
 - guide/router-tutorial-toh#fragment
 - guide/router-tutorial-toh#guard-the-admin-feature
 - guide/router-tutorial-toh#hero-feature-routing-requirements
 - guide/router-tutorial-toh#heroes-functionality
 - guide/router-tutorial-toh#heroes-list-optionally-selecting-a-hero
 - guide/router-tutorial-toh#how-preloading-works
 - guide/router-tutorial-toh#import-crisis-center-module-into-the-appmodule-routes
 - guide/router-tutorial-toh#inspect-config
 - guide/router-tutorial-toh#inspect-the-routers-configuration
 - guide/router-tutorial-toh#integrate-routing-with-your-app
 - guide/router-tutorial-toh#lazy-load-the-crisis-center
 - guide/router-tutorial-toh#lazy-loading-route-configuration
 - guide/router-tutorial-toh#link-parameters-array
 - guide/router-tutorial-toh#migrating-urls-with-redirects
 - guide/router-tutorial-toh#milestone-1-getting-started
 - guide/router-tutorial-toh#milestone-1-wrap-up
 - guide/router-tutorial-toh#milestone-2-routing-module
 - guide/router-tutorial-toh#milestone-3-heroes-feature
 - guide/router-tutorial-toh#milestone-3-wrap-up
 - guide/router-tutorial-toh#milestone-4-crisis-center-feature
 - guide/router-tutorial-toh#milestone-5-route-guards
 - guide/router-tutorial-toh#milestone-6-asynchronous-routing
 - guide/router-tutorial-toh#module-import-order
 - guide/router-tutorial-toh#navigate-to-crisis-list-with-a-relative-url
 - guide/router-tutorial-toh#navigating-back-to-the-list-component
 - guide/router-tutorial-toh#objectives
 - guide/router-tutorial-toh#observable-parammap-and-component-reuse
 - guide/router-tutorial-toh#optional-route-parameters
 - guide/router-tutorial-toh#parammap-api
 - guide/router-tutorial-toh#preloading-background-loading-of-feature-areas
 - guide/router-tutorial-toh#prerequisites
 - guide/router-tutorial-toh#query-parameters
 - guide/router-tutorial-toh#query-parameters-and-fragments
 - guide/router-tutorial-toh#redirect
 - guide/router-tutorial-toh#refactor-the-routing-configuration-into-a-routing-module
 - guide/router-tutorial-toh#register-router-and-routes
 - guide/router-tutorial-toh#relative-navigation
 - guide/router-tutorial-toh#remove-duplicate-hero-routes
 - guide/router-tutorial-toh#remove-heroes-declarations
 - guide/router-tutorial-toh#resolve-pre-fetching-component-data
 - guide/router-tutorial-toh#reuse
 - guide/router-tutorial-toh#route-definition-with-a-parameter
 - guide/router-tutorial-toh#route-parameters
 - guide/router-tutorial-toh#route-parameters-in-the-activatedroute-service
 - guide/router-tutorial-toh#route-parameters-required-or-optional
 - guide/router-tutorial-toh#router-tutorial-tour-of-heroes
 - guide/router-tutorial-toh#routing-module
 - guide/router-tutorial-toh#routing-module-order
 - guide/router-tutorial-toh#secondary-route-navigation-merging-routes-during-navigation
 - guide/router-tutorial-toh#secondary-routes
 - guide/router-tutorial-toh#set-up-redirects
 - guide/router-tutorial-toh#setting-the-route-parameters-in-the-list-view
 - guide/router-tutorial-toh#snapshot-the-no-observable-alternative
 - guide/router-tutorial-toh#the-sample-application-in-action
 - guide/router-tutorial-toh#wildcard
 - guide/singleton-services#forRoot-router
 - start
 - tutorial
 - tutorial/toh-pt4
 - https://blog.8thlight.com/uncle-bob/2014/05/08/SingleReponsibilityPrinciple.html
 - https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams
 - https://en.wikipedia.org/wiki/Fragment_identifier
 - https://github.com/angular/angular/edit/master/aio/content/guide/router-tutorial-toh.md?message=docs%3A%20describe%20your%20change...
 - https://vsavkin.tumblr.com/post/146722301646/angular-router-empty-paths-componentless-routes
 - https://www.typescriptlang.org/docs/handbook/module-resolution.html#path-mapping
 - https://www.w3.org/DesignIssues/MatrixURIs.html
--></div></aio-doc-viewer><!----></main><!----></section><footer class="no-print"><aio-footer><div class="grid-fluid"><div class="footer-block ng-star-inserted"><h3>Resources</h3><ul><li class="ng-star-inserted"><a class="link" href="../about.html" title="Angular contributors.">About</a></li><li class="ng-star-inserted"><a class="link" href="../resources.html" title="Angular tools, training, and blogs from around the web.">Resource Listing</a></li><li class="ng-star-inserted"><a class="link" href="../presskit.html" title="Press contacts, logos, and branding.">Press Kit</a></li><li class="ng-star-inserted"><a class="link" href="https://blog.angular.io/" title="Angular Blog">Blog</a></li><li class="ng-star-inserted"><a class="link" href="../analytics.html" title="Angular Usage Analytics">Usage Analytics</a></li><!----></ul></div><div class="footer-block ng-star-inserted"><h3>Help</h3><ul><li class="ng-star-inserted"><a class="link" href="https://stackoverflow.com/questions/tagged/angular" title="Stack Overflow: where the community answers your technical Angular questions.">Stack Overflow</a></li><li class="ng-star-inserted"><a class="link" href="https://discord.gg/angular" title="Join the discussions at Angular Community Discord server.">Join Discord</a></li><li class="ng-star-inserted"><a class="link" href="https://gitter.im/angular/angular" title="Chat about Angular with other birds of a feather.">Gitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular/issues" title="Post issues and suggestions on github.">Report Issues</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/code-of-conduct/blob/master/CODE_OF_CONDUCT.md" title="Treating each other with respect.">Code of Conduct</a></li><!----></ul></div><div class="footer-block ng-star-inserted"><h3>Community</h3><ul><li class="ng-star-inserted"><a class="link" href="../events.html" title="Angular events around the world.">Events</a></li><li class="ng-star-inserted"><a class="link" href="https://www.meetup.com/topics/angularjs/" title="Attend a meetup and learn from fellow developers.">Meetups</a></li><li class="ng-star-inserted"><a class="link" href="https://twitter.com/angular" title="Twitter">Twitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular" title="GitHub">GitHub</a></li><li class="ng-star-inserted"><a class="link" href="../contribute.html" title="Contribute to Angular">Contribute</a></li><!----></ul></div><div class="footer-block ng-star-inserted"><h3>Languages</h3><ul><li class="ng-star-inserted"><a class="link" href="http://docs.angular.lat/" title="Español.">Español</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.cn/" title="简体中文版">简体中文版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.tw/" title="正體中文版">正體中文版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.jp/" title="日本語版">日本語版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.kr/" title="한국어">한국어</a></li><li class="ng-star-inserted"><a class="link" href="./localized-documentation.html" title="Complete language list.">Complete language list</a></li><!----></ul></div><!----></div><p> Super-powered by Google ©2010-2022.
</p><p> Code licensed under an <a href="../license.html" title="License text">MIT-style License</a>. Documentation licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.
</p><p> Version 13.2.4-local+sha.032276253f.
</p></aio-footer></footer></mat-sidenav-content><!----></mat-sidenav-container></aio-shell>

  <noscript>
    &amp;amp;amp;lt;div class="background-sky hero"&amp;amp;amp;gt;&amp;amp;amp;lt;/div&amp;amp;amp;gt;
    &amp;amp;amp;lt;section id="intro" style="text-shadow: 1px 1px #1976d2;"&amp;amp;amp;gt;
      &amp;amp;amp;lt;div class="hero-logo"&amp;amp;amp;gt;&amp;amp;amp;lt;/div&amp;amp;amp;gt;
      &amp;amp;amp;lt;div class="homepage-container"&amp;amp;amp;gt;
        &amp;amp;amp;lt;div class="hero-headline"&amp;amp;amp;gt;The modern web&amp;amp;amp;lt;br&amp;amp;amp;gt;developer's platform&amp;amp;amp;lt;/div&amp;amp;amp;gt;
      &amp;amp;amp;lt;/div&amp;amp;amp;gt;
    &amp;amp;amp;lt;/section&amp;amp;amp;gt;
    &amp;amp;amp;lt;h2 style="color: red; margin-top: 40px; position: relative; text-align: center; text-shadow: 1px 1px #fafafa; border-top: none;"&amp;amp;amp;gt;
      &amp;amp;amp;lt;b&amp;amp;amp;gt;&amp;amp;amp;lt;i&amp;amp;amp;gt;This website requires JavaScript.&amp;amp;amp;lt;/i&amp;amp;amp;gt;&amp;amp;amp;lt;/b&amp;amp;amp;gt;
    &amp;amp;amp;lt;/h2&amp;amp;amp;gt;
  </noscript>

<script src="../runtime.f679f380e8bb222c.js" type="module"></script><script src="../polyfills.47182b1b999e7c7d.js" type="module"></script>


<div class="cdk-live-announcer-element cdk-visually-hidden" aria-atomic="true" aria-live="polite"></div></body></html>