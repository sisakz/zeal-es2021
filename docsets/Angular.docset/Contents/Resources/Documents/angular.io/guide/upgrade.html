<html><!-- Online page at https://angular.io/guide/upgrade --><head><meta charset="utf-8"><title>Upgrading from AngularJS to Angular</title><link rel="stylesheet" href="../css_1.css" type="text/css"><link rel="stylesheet" href="../css_2.css" type="text/css"><link rel="stylesheet" href="../css_3.css" type="text/css"><link rel="stylesheet" href="../css_4.css" type="text/css"><link rel="stylesheet" href="../css_5.css" type="text/css"><link rel="stylesheet" href="../css_6.css" type="text/css"><link rel="stylesheet" href="../css_7.css" type="text/css"><link rel="stylesheet" href="../css_8.css" type="text/css"><link rel="stylesheet" href="../css_9.css" type="text/css"><script type="text/javascript" src="../js_1.js"></script><script type="text/javascript" src="../js_2.js"></script><script type="text/javascript" src="../js_3.js"></script><script type="text/javascript" src="../js_4.js"></script><script type="text/javascript" src="../js_5.js"></script><script type="text/javascript" src="../js_6.js"></script><script type="text/javascript" src="../js_7.js"></script></head><body>

  <aio-shell ng-version="13.2.2" class="aio-notification-hide folder-guide mode-stable page-guide-upgrade sidenav-closed view-SideNav"><div id="top-of-page"></div><aio-cookies-popup><div class="cookies-popup no-print ng-star-inserted"><h2 class="visually-hidden">Cookies concent notice</h2> This site uses cookies from Google to deliver its services and to analyze traffic. <div class="actions"><a mat-button="" href="https://policies.google.com/technologies/cookies" target="_blank" rel="noopener" class="mat-focus-indicator mat-button mat-button-base" tabindex="0" aria-disabled="false"><span class="mat-button-wrapper"> Learn more </span><span matripple="" class="mat-ripple mat-button-ripple"></span><span class="mat-button-focus-overlay"></span></a><button mat-button="" class="mat-focus-indicator mat-button mat-button-base"><span class="mat-button-wrapper"> OK, got it </span><span matripple="" class="mat-ripple mat-button-ripple"></span><span class="mat-button-focus-overlay"></span></button></div></div><!----></aio-cookies-popup><a href="#main-content" class="skip-to-content-link">Skip to main content</a><!----><mat-toolbar color="primary" class="mat-toolbar app-toolbar no-print mat-primary mat-toolbar-multiple-rows"><mat-toolbar-row class="mat-toolbar-row notification-container"><aio-notification notificationid="survey-january-2022" expirationdate="2022-02-01" class="ng-tns-c23-0 ng-trigger ng-trigger-hideAnimation ng-star-inserted" style="display: none; height: 0px;"><span class="content ng-tns-c23-0"><a href="https://stateofjs.com/" class="ng-tns-c23-0"><mat-icon role="img" svgicon="insert_comment" aria-label="Announcement" class="mat-icon notranslate icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="insert_comment"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path>
  <path d="M0 0h24v24H0z" fill="none"></path>
</svg></mat-icon><span class="message">Share your experience with Angular in <b>The State of JavaScript</b></span><span class="action-button">Go to survey</span></a></span><button mat-icon-button="" aria-label="Close" class="mat-focus-indicator close-button ng-tns-c23-0 mat-icon-button mat-button-base"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="close" aria-label="Dismiss notification" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="close"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
  <path d="M0 0h24v24H0z" fill="none"></path>
</svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></button></aio-notification></mat-toolbar-row><mat-toolbar-row class="mat-toolbar-row"><button mat-button="" title="Docs menu" class="mat-focus-indicator hamburger mat-button mat-button-base"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="menu" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="menu"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path>
</svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple"></span><span class="mat-button-focus-overlay"></span></button><a href="../../angular.io.html" class="nav-link home"><!----><img src="../assets/images/logos/angular/shield-large.svg" width="37" height="40" title="Home" alt="Home" class="ng-star-inserted"><!----></a><!----><aio-search-box class="search-container"><input type="search" aria-label="search" placeholder="Search"><!----></aio-search-box><aio-theme-toggle><button mat-icon-button="" type="button" class="mat-focus-indicator mat-icon-button mat-button-base" title="Switch to dark mode" aria-label="Switch to dark mode"><span class="mat-button-wrapper"><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color" aria-hidden="true" data-mat-icon-type="font"> dark_mode </mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></button></aio-theme-toggle><div class="toolbar-external-icons-container"><a mat-icon-button="" href="https://twitter.com/angular" title="Twitter" aria-label="Angular on twitter" class="mat-focus-indicator mat-icon-button mat-button-base" tabindex="0" aria-disabled="false"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="logos:twitter" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="twitter" data-mat-icon-namespace="logos"><svg focusable="false" viewBox="0 0 50 59" xmlns="http://www.w3.org/2000/svg">
  <path d="M50,9.3c-1.8,0.8-3.8,1.4-5.9,1.6c2.1-1.3,3.7-3.3,4.5-5.7c-2,1.2-4.2,2-6.5,2.5c-1.9-2-4.5-3.2-7.5-3.2
           c-5.7,0-10.3,4.6-10.3,10.3c0,0.8,0.1,1.6,0.3,2.3C16.1,16.7,8.5,12.6,3.5,6.4c-0.9,1.5-1.4,3.3-1.4,5.2c0,3.6,1.8,6.7,4.6,8.5
           C5,20,3.4,19.6,2,18.8c0,0,0,0.1,0,0.1c0,5,3.5,9.1,8.2,10.1c-0.9,0.2-1.8,0.4-2.7,0.4c-0.7,0-1.3-0.1-1.9-0.2
           c1.3,4.1,5.1,7,9.6,7.1c-3.5,2.8-7.9,4.4-12.7,4.4c-0.8,0-1.6,0-2.4-0.1c4.5,2.9,9.9,4.6,15.7,4.6c18.9,0,29.2-15.6,29.2-29.2
           c0-0.4,0-0.9,0-1.3C46.9,13.2,48.6,11.4,50,9.3z"></path>
</svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></a><a mat-icon-button="" href="https://github.com/angular/angular" title="GitHub" aria-label="Angular on github" class="mat-focus-indicator mat-icon-button mat-button-base" tabindex="0" aria-disabled="false"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="logos:github" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="github" data-mat-icon-namespace="logos"><svg focusable="false" viewBox="0 0 51.8 50.4" xmlns="http://www.w3.org/2000/svg">
  <path d="M25.9,0.2C11.8,0.2,0.3,11.7,0.3,25.8c0,11.3,7.3,20.9,17.5,24.3c1.3,0.2,1.7-0.6,1.7-1.2c0-0.6,0-2.6,0-4.8
           c-7.1,1.5-8.6-3-8.6-3c-1.2-3-2.8-3.7-2.8-3.7c-2.3-1.6,0.2-1.6,0.2-1.6c2.6,0.2,3.9,2.6,3.9,2.6c2.3,3.9,6,2.8,7.5,2.1
           c0.2-1.7,0.9-2.8,1.6-3.4c-5.7-0.6-11.7-2.8-11.7-12.7c0-2.8,1-5.1,2.6-6.9c-0.3-0.7-1.1-3.3,0.3-6.8c0,0,2.1-0.7,7,2.6
           c2-0.6,4.2-0.9,6.4-0.9c2.2,0,4.4,0.3,6.4,0.9c4.9-3.3,7-2.6,7-2.6c1.4,3.5,0.5,6.1,0.3,6.8c1.6,1.8,2.6,4.1,2.6,6.9
           c0,9.8-6,12-11.7,12.6c0.9,0.8,1.7,2.4,1.7,4.7c0,3.4,0,6.2,0,7c0,0.7,0.5,1.5,1.8,1.2c10.2-3.4,17.5-13,17.5-24.3
           C51.5,11.7,40.1,0.2,25.9,0.2z"></path>
</svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></a><a mat-icon-button="" href="https://youtube.com/angular" title="YouTube" aria-label="Angular on YouTube" class="mat-focus-indicator mat-icon-button mat-button-base" tabindex="0" aria-disabled="false"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="logos:youtube" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="youtube" data-mat-icon-namespace="logos"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77
           C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42
           c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"></path>
</svg></mat-icon></span><span matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></span><span class="mat-button-focus-overlay"></span></a></div></mat-toolbar-row></mat-toolbar><!----><mat-sidenav-container role="main" class="mat-drawer-container mat-sidenav-container sidenav-container"><div class="mat-drawer-backdrop ng-star-inserted"></div><!----><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav tabindex="-1" class="mat-drawer mat-sidenav sidenav ng-tns-c19-1 ng-trigger ng-trigger-transform collapsed mat-drawer-over ng-star-inserted" style="box-shadow: none; visibility: hidden;"><div cdkscrollable="" class="mat-drawer-inner-container ng-tns-c19-1"><aio-nav-menu class="ng-star-inserted" style=""><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="About Angular." aria-pressed="false"><span>About Angular</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="../features.html" title="Features."><span>Features</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="../resources.html" title="Resources."><span>Resources</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="../events.html" title="Events."><span>Events</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="https://blog.angular.io/" title="Blog."><span>Blog</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></aio-nav-menu><!----><aio-nav-menu class="ng-tns-c19-1"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed" href="../docs.html" title="Welcome to the Angular documentation set."><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Set up your environment and learn basic concepts" aria-pressed="false"><span>Getting Started</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./what-is-angular.html" title="A brief description of the Angular platform."><span>What is Angular?</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Examine and work with a ready-made sample app, with no setup." aria-pressed="false"><span>Try it</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../start.html" title="Take a look at Angular's component model, template syntax, and component communication."><span>Getting started</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../start/start-routing.html" title="Navigate among different page views using the browser's URL."><span>Adding navigation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../start/start-data.html" title="Use services and access external data via HTTP."><span>Managing Data</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../start/start-forms.html" title="Learn about fetching and managing data from users with forms."><span>Using Forms for User Input</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../start/start-deployment.html" title="Move to local development, or deploy your application to Firebase or your own server."><span>Deploying an application</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./setup-local.html" title="Setting up for local development with the Angular CLI."><span>Setup</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Learn the essential concepts to become a proficient Angular developer." aria-pressed="false"><span>Understanding Angular</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./understanding-angular-overview.html" title="Learn about the most common parts of an Angular application."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Learn more about how to use data binding to build dynamic views" aria-pressed="false"><span>Components</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./component-overview.html" title="Overview of how to create Angular components."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./lifecycle-hooks.html" title="Angular calls lifecycle hook methods on directives and components as it creates, changes, and destroys them."><span>Component Lifecycle</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./view-encapsulation.html" title="Describes how component CSS styles are encapsulated into a component's view."><span>View Encapsulation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./component-interaction.html" title="Share information between different directives and components."><span>Component Interaction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./component-styles.html" title="Add CSS styles that are specific to a component."><span>Component Styles</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./inputs-outputs.html" title="Introductory guide to sharing data between parent and child directives or components."><span>Sharing data between child and parent directives and components</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./content-projection.html" title="Learn how to create reusable components using Angular's content projection feature."><span>Content Projection</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./dynamic-component-loader.html" title="Load components dynamically."><span>Dynamic Components</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./elements.html" title="Convert components to Custom Elements."><span>Angular Elements</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Syntax to use in templates for binding, expressions, and directives." aria-pressed="false"><span>Templates</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./template-syntax.html" title="Introduction to writing templates that display data and consume user events with the help of data binding."><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./interpolation.html" title="An introduction to interpolation and expressions in HTML."><span>Text interpolation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./template-statements.html" title="Introductory guide to statements in templates that respond to events that components, directives, or elements raise."><span>Template statements</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./pipes.html" title="Pipes transform displayed values within a template."><span>Pipes</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./property-binding.html" title="Introductory guide to setting element or input properties."><span>Property binding</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./attribute-binding.html" title="Introductory guide to setting the value of HTML attributes."><span>Attribute, class, and style bindings</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./event-binding.html" title="Introductory guide to listening for user interaction."><span>Event binding</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./two-way-binding.html" title="Introductory guide to sharing data between a class and a template."><span>Two-way binding</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./template-reference-variables.html" title="Introductory guide to referring to DOM elements within a template."><span>Template reference variables</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./svg-in-templates.html" title="Learn how to use SVGs as templates for Angular applications."><span>SVG as templates</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Control the behavior of elements and the layout of your pages with directives." aria-pressed="false"><span>Directives</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./built-in-directives.html" title="Introductory guide to some of the most popular built-in directives."><span>Built-in directives</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./attribute-directives.html" title="Attribute directives attach behavior to elements."><span>Attribute Directives</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./structural-directives.html" title="Structural directives manipulate the layout of the page."><span>Structural Directives</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Dependency Injection: creating and injecting services" aria-pressed="false"><span>Dependency Injection</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./dependency-injection.html" title="Angular's dependency injection system creates and delivers dependent services to Angular-created classes."><span>Angular Dependency Injection</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./dependency-injection-providers.html" title="More about the different kinds of providers."><span>DI Providers</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Learn more about how to use Angular to build your applications." aria-pressed="false"><span>Developer guides</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./developer-guide-overview.html" title="A list of developer guides for building Angular applications."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Learn how to use Angular Router to build in-app navigation between views." aria-pressed="false"><span>Routing and Navigation</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./routing-overview.html" title="Introduces the Angular Router and lists topics that teach you how to add the router to your applications."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./router.html" title="Task-based content on many of the common tasks associated with Angular routing, such as defining routs, setting up wildcard routes, and redirects."><span>Common routing tasks</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./router-tutorial.html" title="A tutorial that covers many patterns associated with Angular routing."><span>Tutorial: Routing in Single-page Applications</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./routing-with-urlmatcher.html" title="Learn how to create a custom URL matcher with the Angular router."><span>Tutorial: Creating custom route matches</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./router-tutorial-toh.html" title="Explore how to use Angular's router. Based on the Tour of Heroes example."><span>Tutorial: Adding routing to Tour of Heroes</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./router-reference.html" title="Describes highlight some core router API concepts."><span>Router reference</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Forms creates a cohesive, effective, and compelling data entry experience." aria-pressed="false"><span>Forms</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./forms-overview.html" title="An Angular form coordinates a set of data-bound user controls, tracks changes, validates input, and presents errors."><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./reactive-forms.html" title="Create a reactive form using FormBuilder, groups, and arrays."><span>Reactive Forms</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./form-validation.html" title="Validate user's form entries."><span>Validate form input</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./dynamic-form.html" title="Create dynamic form templates using FormGroup."><span>Building Dynamic Forms</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./http.html" title="Use HTTP to talk to a remote server."><span>HTTP Client</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Testing your Angular apps." aria-pressed="false"><span>Testing</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing.html" title="Introduction to testing an Angular app."><span>Intro to Testing</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-code-coverage.html" title="Determine how much of your code is tested."><span>Code Coverage</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-services.html" title="How to test services."><span>Testing Services</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-components-basics.html" title="The fundamentals of how to test components."><span>Basics of Testing Components</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-components-scenarios.html" title="Use cases for testing components."><span>Component Testing Scenarios</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-attribute-directives.html" title="How to test attribute directives."><span>Testing Attribute Directives</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-pipes.html" title="Writing tests for pipes."><span>Testing Pipes</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./test-debugging.html" title="How to debug tests."><span>Debugging Tests</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./testing-utility-apis.html" title="Features of the Angular testing utilities."><span>Testing Utility APIs</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Translate the text of your application text into multiple languages" aria-pressed="false"><span>Internationalization</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./i18n-overview.html" title="Introduces the Angular internationalization and lists topics that teach you how to localize your applications"><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Task-based content on many of the common tasks associated with Angular internationalization, such as adding the locale package and formatting data for a locale" aria-pressed="false"><span>Common internationalization tasks</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-overview.html" title="Introduces the common Angular internationalization tasks and lists topics that teach you how to localize your applications"><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-add-package.html" title="Add the Angular localize package"><span>Add the localize package</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-locale-id.html" title="Reference using locale IDs"><span>Refer to locales by ID</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-format-data-locale.html" title="Format data based on locale"><span>Format data based on locale</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-prepare.html" title="Prepare component for translation"><span>Prepare component for translation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-translation-files.html" title="Work with translation files"><span>Work with translation files</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-merge.html" title="Merge translations into your app"><span>Merge translations into the app</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-common-deploy.html" title="Deploy multiple locale for your app"><span>Deploy multiple locales</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./i18n-example.html" title="Example of a translated Angular application"><span>Example Angular application</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Task-based content on many of the optional pratices associated with Angular internationalization" aria-pressed="false"><span>Optional internationalization practices</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-optional-overview.html" title="Introduces the optional Angular internationalization tasks and lists topics that teach you how to manually configure localization settings for your applications"><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-optional-manual-runtime-locale.html" title="Set the runtime locale manually"><span>Set the runtime locale manually</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-optional-import-global-variants.html" title="Import global variants of the locale data"><span>Import global variants of the locale data</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./i18n-optional-manage-marked-text.html" title="Manage marked text with custom IDs"><span>Manage marked text with custom IDs</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Enhance the user experience with animation." aria-pressed="false"><span>Animations</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./animations.html" title="Basic techniques in Angular animations."><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./transition-and-triggers.html" title="Advanced techniques in transition and triggers."><span>Transition and Triggers</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./complex-animation-sequences.html" title="Complex Angular animation sequences."><span>Complex Sequences</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./reusable-animations.html" title="Creating reusable animations."><span>Reusable Animations</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./route-animations.html" title="Animate route transitions."><span>Route Transition Animations</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Angular service workers: Controlling caching of application resources." aria-pressed="false"><span>Service Workers &amp; PWA</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-intro.html" title="Angular's implementation of service workers improves user experience with slow or unreliable network connectivity."><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-getting-started.html" title="Enabling the service worker in a CLI project and observing behavior in the browser."><span>Getting Started</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./app-shell.html" title="Render a portion of your app quickly to improve the startup experience."><span>App Shell</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-communications.html" title="Services that enable you to interact with an Angular service worker."><span>Service Worker Communication</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-notifications.html" title="Configuring service worker notification behavior."><span>Service Worker Notifications</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-devops.html" title="Running apps with service workers, managing app update, debugging, and killing apps."><span>Service Worker in Production</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./service-worker-config.html" title="Configuring service worker caching behavior."><span>Service Worker Configuration</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./web-worker.html" title="Using web workers for background processing."><span>Web Workers</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./universal.html" title="Render HTML server-side with Angular Universal."><span>Server-side Rendering</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./prerendering.html" title="Prerender HTML server-side with Angular Universal."><span>Prerendering</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Learn how to build robust, scalable applications." aria-pressed="false"><span>Best Practices</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./security.html" title="Developing for content security in Angular applications."><span>Security</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./accessibility.html" title="Design apps to be accessible to all users."><span>Accessibility</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./updating.html" title="Information about updating Angular applications and libraries to the latest version."><span>Keeping Up-to-Date</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./property-binding-best-practices.html" title="Use property binding efficiently."><span>Property Binding Best Practices</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./lazy-loading-ngmodules.html" title="Lazy load modules to speed up your apps."><span>Lazy Loading Feature Modules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./lightweight-injection-tokens.html" title="Optimize client app size by designing library services with lightweight injection tokens."><span>Lightweight Injection Tokens for Libraries</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Tools to help you build your Angular applications." aria-pressed="false"><span>Angular Tools</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Build, and deployment information." aria-pressed="false"><span>Dev Workflow</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./deployment.html" title="Learn how to deploy your Angular app."><span>Deploying applications</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Understanding ahead-of-time compilation." aria-pressed="false"><span>AOT Compiler</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./aot-compiler.html" title="Learn why and how to use the Ahead-of-Time (AOT) compiler."><span>Ahead-of-Time Compilation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./angular-compiler-options.html" title="Configuring AOT compilation."><span>Angular Compiler Options</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./aot-metadata-errors.html" title="Troubleshooting AOT compilation."><span>AOT Metadata Errors</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./template-typecheck.html" title="Template type-checking in Angular."><span>Template Type-checking</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./build.html" title="Building and serving Angular apps."><span>Building &amp; Serving</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./cli-builder.html" title="Using builders to customize Angular CLI."><span>CLI Builders</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./language-service.html" title="Use Angular Language Service to speed up dev time."><span>Language Service</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./devtools.html" title="DevTools"><span>DevTools</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Understanding schematics." aria-pressed="false"><span>Schematics</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./schematics.html" title="Extending CLI generation capabilities."><span>Schematics Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./schematics-authoring.html" title="Understand the structure of a schematic."><span>Authoring Schematics</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./schematics-for-libraries.html" title="Use schematics to integrate your library with the Angular CLI."><span>Schematics for Libraries</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="End-to-end tutorials for learning Angular concepts and patterns." aria-pressed="false"><span>Tutorials</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="The Tour of Heroes app is used as a reference point in many Angular examples." aria-pressed="false"><span>Tutorial: Tour of Heroes</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial.html" title="Introduction to the Tour of Heroes app and tutorial"><span>Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt0.html" title="Creating the application shell"><span>Create a Project</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt1.html" title="Part 1: Build a simple editor"><span>1. The Hero Editor</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt2.html" title="Part 2: Build a master/detail page with a list of heroes."><span>2. Display a List</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt3.html" title="Part 3: Refactor the master/detail views into separate components."><span>3. Create a Feature Component</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt4.html" title="Part 4: Create a reusable service to manage hero data."><span>4. Add Services</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt5.html" title="Part 5: Add the Angular router and navigate among the views."><span>5. Add Navigation</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../tutorial/toh-pt6.html" title="Part 6: Use HTTP to retrieve and save hero data."><span>6. Get Data from a Server</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./forms.html" title="Create a template-driven form using directives and Angular template syntax."><span>Building a Template-driven Form</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Extending Angular with shared libraries." aria-pressed="false"><span>Angular Libraries</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./libraries.html" title="Understand how and when to use or create libraries."><span>Libraries Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./using-libraries.html" title="Integrate published libraries into an app."><span>Using Published Libraries</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./creating-libraries.html" title="Extend Angular by creating, publishing, and using your own libraries."><span>Creating Libraries</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./angular-package-format.html" title="Information about the Angular Package Format."><span>Angular Package Format</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 expanded selected ng-star-inserted" title="Angular release practices, updating, and upgrading." aria-pressed="true"><span>Release Information</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 expanded selected"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./releases.html" title="Angular versioning, release, support, and deprecation policies and practices."><span>Release Practices</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./roadmap.html" title="Roadmap of the Angular team."><span>Roadmap</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./browser-support.html" title="Browser support and polyfills guide."><span>Browser Support</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./update-to-latest-version.html" title="Support to update your application to version 13"><span>Update to Version 13</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./deprecations.html" title="Summary of Angular APIs and features that are deprecated."><span>Deprecations</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 expanded selected ng-star-inserted" title="Incrementally upgrade an AngularJS application to Angular." aria-pressed="true"><span>Upgrading from AngularJS</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 expanded selected"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 expanded selected" href="./upgrade.html" title="Incrementally upgrade an AngularJS application to Angular."><span>Upgrading Instructions</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./upgrade-setup.html" title="Use code from the Angular QuickStart seed as part of upgrading from AngularJS."><span>Setup for Upgrading from AngularJS</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./upgrade-performance.html" title="Upgrade from AngularJS to Angular in a more flexible way."><span>Upgrading for Performance</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./ajs-quick-reference.html" title="Learn how AngularJS concepts and techniques map to Angular."><span>AngularJS-Angular Concepts</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Reference guides for Angular features and tools." aria-pressed="false"><span>Reference</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Reference documentation that explains how Angular features work." aria-pressed="false"><span>Conceptual Reference</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Introduction to basic concepts for Angular applications." aria-pressed="false"><span>Angular Concepts</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./architecture.html" title="Basic building blocks of Angular applications."><span>Intro to Basic Concepts</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./architecture-modules.html" title="About NgModules."><span>Intro to Modules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./architecture-components.html" title="About Components, Templates, and Views."><span>Intro to Components</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./architecture-services.html" title="About services and dependency injection."><span>Intro to Services and DI</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./architecture-next-steps.html" title="Beyond the basics."><span>Next Steps</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./binding-syntax.html" title="Introductory guide to coordinating app values."><span>Binding syntax</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./event-binding-concepts.html" title="About event binding."><span>How event binding works</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./template-reference-variables.html" title="Introductory guide to referring to DOM elements within a template."><span>Template variables</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Workspace and project file structure and configuration." aria-pressed="false"><span>Workspace and project structure</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./file-structure.html" title="How your Angular workspace looks on your filesystem."><span>Project File Structure</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./workspace-config.html" title="The &quot;angular.json&quot; file contains workspace and project configuration defaults for Angular CLI commands."><span>Workspace Configuration</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./npm-packages.html" title="Description of npm packages required at development time and at runtime."><span>npm Dependencies</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./typescript-configuration.html" title="TypeScript configuration for Angular developers."><span>TypeScript Configuration</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="NgModules." aria-pressed="false"><span>NgModules</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./ngmodules.html" title="Use NgModules to make your apps efficient."><span>NgModules Introduction</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./ngmodule-vs-jsmodule.html" title="Differentiate between JavaScript modules and NgModules."><span>JS Modules vs NgModules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./bootstrapping.html" title="Tell Angular how to construct and bootstrap the app in the root &quot;AppModule&quot;."><span>Launching Apps with a Root Module</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./frequent-ngmodules.html" title="Introduction to the most frequently used NgModules."><span>Frequently Used NgModules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./module-types.html" title="Description of the different types of feature modules."><span>Types of Feature Modules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./entry-components.html" title="All about entry components in Angular."><span>Entry Components</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./feature-modules.html" title="Create feature modules to organize your code."><span>Feature Modules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./providers.html" title="Providing dependencies to NgModules."><span>Providing Dependencies</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./singleton-services.html" title="Creating singleton services."><span>Singleton Services</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./sharing-ngmodules.html" title="Share NgModules to streamline your apps."><span>Sharing NgModules</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./ngmodule-api.html" title="Understand the details of NgModules."><span>NgModule API</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./ngmodule-faq.html" title="Answers to frequently asked questions about NgModules."><span>NgModule FAQs</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Using observables for message passing in Angular." aria-pressed="false"><span>Observables &amp; RxJS</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./observables.html" title="Using observables to pass values synchronously or asynchronously."><span>Observables Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./rx-library.html" title="A library for reactive programming using observables to compose asynchronous or callback-based code."><span>The RxJS Library</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./observables-in-angular.html" title="How Angular subsystems use and expect observables."><span>Observables in Angular</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./practical-observable-usage.html" title="Domains in which observables are particularly useful."><span>Practical Usage</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./comparing-observables.html" title="How observables compare to promises and other message passing techniques."><span>Compare to Other Techniques</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="Using dependency injection in Angular." aria-pressed="false"><span>Dependency injection</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./hierarchical-dependency-injection.html" title="An injector tree parallels the component tree and supports nested dependencies."><span>Hierarchical Injectors</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed" href="./dependency-injection-in-action.html" title="Techniques for dependency injection."><span>DI in Action</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Angular CLI command reference." aria-pressed="false"><span>CLI Command Reference</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli.html" title="An introduction to the CLI tool, commands, and syntax."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/cache.html" title="Details on the Angular CLI persistent disk cache."><span>Persistent Disk Cache</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/usage-analytics-gathering.html" title="For administrators, guide to gathering usage analytics from your users."><span>Usage Analytics</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/add.html" title="ng add."><span>ng add</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/analytics.html" title="ng analytics."><span>ng analytics</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/build.html" title="ng build."><span>ng build</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/config.html" title="ng config."><span>ng config</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/deploy.html" title="ng deploy."><span>ng deploy</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/doc.html" title="ng doc."><span>ng doc</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/e2e.html" title="ng e2e."><span>ng e2e</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/extract-i18n.html" title="ng extract-i18n."><span>ng extract-i18n</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/generate.html" title="ng generate."><span>ng generate</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/help.html" title="ng help."><span>ng help</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/lint.html" title="ng lint."><span>ng lint</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/new.html" title="ng new."><span>ng new</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/run.html" title="ng run."><span>ng run</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/serve.html" title="ng serve."><span>ng serve</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/test.html" title="ng test."><span>ng test</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/update.html" title="ng update."><span>ng update</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../cli/version.html" title="ng version."><span>ng version</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="../api.html" title="Details of the Angular packages, classes, interfaces, and other types."><span>API Reference</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Details of the errors that can be thrown by Angular." aria-pressed="false"><span>Error Reference</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0100.html" title="Expression Changed After Checked"><span>NG0100: Expression Changed After Checked</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0200.html" title="Circular Dependency in DI"><span>NG0200: Circular Dependency in DI</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0201.html" title="No Provider Found"><span>NG0201: No Provider Found</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0300.html" title="Selector Collision"><span>NG0300: Selector Collision</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0301.html" title="Export Not Found"><span>NG0301: Export Not Found</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG0302.html" title="Pipe Not Found"><span>NG0302: Pipe Not Found</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG1001.html" title="Argument Not Literal"><span>NG1001: Argument Not Literal</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG2003.html" title="Missing Token"><span>NG2003: Missing Token</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG2009.html" title="Invalid Shadow DOM selector"><span>NG2009: Invalid Shadow DOM selector</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG3003.html" title="Import Cycle Detected"><span>NG3003: Import Cycle Detected</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG6999.html" title="Invalid metadata"><span>NG6999: Invalid metadata</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG8001.html" title="Invalid Element"><span>NG8001: Invalid Element</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG8002.html" title="Invalid Attribute"><span>NG8002: Invalid Attribute</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../errors/NG8003.html" title="Missing Reference Target"><span>NG8003: Missing Reference Target</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Details of extended diagnostics that can be emitted by the Angular compiler" aria-pressed="false"><span>Extended Diagnostic Reference</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../extended-diagnostics.html" title="Overview of extended diagnostics, what they are, and how to configure them."><span>Extended Diagnostics Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../extended-diagnostics/NG8101.html" title="Invalid Banana-in-Box"><span>NG8101: Invalid Banana-in-Box</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="../extended-diagnostics/NG8102.html" title="Nullish coalescing not nullable"><span>NG8102: Nullish coalescing not nullable</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./example-apps-list.html" title="List of all of the example applications in the Angular documentation."><span>Example applications</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed" href="./glossary.html" title="Brief definitions of the most important words in the Angular vocabulary."><span>Angular Glossary</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Summaries of Angular syntax, coding, and doc styles." aria-pressed="false"><span>Angular Style and Usage</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./cheatsheet.html" title="A quick guide to common Angular coding techniques."><span>Quick Reference</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./styleguide.html" title="Guidelines for writing Angular code."><span>Coding Style Guide</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><!----><div class="ng-star-inserted"><!----><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Describes how to contribute to the Angular documentation." aria-pressed="false"><span>Content Contributor's Guide</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./contributors-guide-overview.html" title="Provides an overview of how to contribute to Angular's documentation."><span>Overview</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./reviewing-content.html" title="Keep Angular content up-to-date by reviewing topics for accuracy."><span>Reviewing content</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./updating-search-keywords.html" title="Help users find the content they need by adding additional search keywords."><span>Updating search keywords</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./updating-content-github-ui.html" title="Update topics in the browser through the GitHub user interface."><span>Updating content using GitHub UI</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./docs-style-guide.html" title="Style guide for documentation authors."><span>Documentation Style Guide</span></a></div><!----><!----></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed" href="./localizing-angular.html" title="Learn about the guidelines for localizing Angular documentation."><span>Angular doc localization guidelines</span></a></div><!----><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></div></div><!----></aio-nav-item><!----></aio-nav-menu><div class="doc-version ng-tns-c19-1"><aio-select><div class="form-select-menu"><button class="form-select-button"><span><strong></strong></span><!----><span>stable (v13.2.3)</span></button><!----></div></aio-select></div></div></mat-sidenav><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav-content class="mat-drawer-content mat-sidenav-content ng-star-inserted"><section class="sidenav-content-container"><main role="main" class="sidenav-content" id="guide-upgrade"><div id="main-content" tabindex="-1"></div><aio-mode-banner><!----></aio-mode-banner><aio-doc-viewer class=""><div style="opacity: 1;">


<div class="github-links">
  <a href="https://github.com/angular/angular/edit/master/aio/content/guide/upgrade.md?message=docs%3A%20describe%20your%20change..." aria-label="Suggest Edits" title="Suggest Edits"><i class="material-icons" aria-hidden="true" role="img">mode_edit</i></a>
</div>


<div class="content">
  <h1 id="upgrading-from-angularjs-to-angular">Upgrading from AngularJS to Angular</h1><aio-toc class="embedded" ng-version="13.2.2"><div class="toc-inner no-print collapsed ng-star-inserted"><!----><button type="button" title="Expand/collapse contents" aria-label="Expand/collapse contents" class="toc-heading embedded secondary ng-star-inserted" aria-pressed="false"> Contents <mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon collapsed mat-icon-no-color" aria-hidden="true" data-mat-icon-type="svg" data-mat-icon-name="keyboard_arrow_right"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path>
</svg></mat-icon></button><!----><ul class="toc-list embedded"><!----><!----><li class="h2 ng-star-inserted" title="Preparation"><a href="./upgrade.html#preparation">Preparation</a></li><!----><!----><li class="h3 ng-star-inserted" title="Follow the AngularJS Style Guide"><a href="./upgrade.html#follow-the-angularjs-style-guide">Follow the AngularJS Style Guide</a></li><!----><!----><li class="h3 ng-star-inserted" title="Using a Module Loader"><a href="./upgrade.html#using-a-module-loader">Using a Module Loader</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Migrating to TypeScript"><a href="./upgrade.html#migrating-to-typescript">Migrating to TypeScript</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Using Component Directives"><a href="./upgrade.html#using-component-directives">Using Component Directives</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Upgrading with ngUpgrade"><a href="./upgrade.html#upgrading-with-ngupgrade">Upgrading with ngUpgrade</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="How ngUpgrade Works"><a href="./upgrade.html#how-ngupgrade-works">How ngUpgrade Works</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Using UpgradeModule with Angular NgModules"><a href="./upgrade.html#using-upgrademodule-with-angular-ngmodules">Using UpgradeModule with Angular <em>NgModules</em></a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Bootstrapping hybrid applications"><a href="./upgrade.html#bootstrapping-hybrid-applications">Bootstrapping hybrid applications</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Using Angular Components from AngularJS Code"><a href="./upgrade.html#using-angular-components-from-angularjs-code">Using Angular Components from AngularJS Code</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Using AngularJS Component Directives from Angular Code"><a href="./upgrade.html#using-angularjs-component-directives-from-angular-code">Using AngularJS Component Directives from Angular Code</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Projecting AngularJS Content into Angular Components"><a href="./upgrade.html#projecting-angularjs-content-into-angular-components">Projecting AngularJS Content into Angular Components</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Transcluding Angular Content into AngularJS Component Directives"><a href="./upgrade.html#transcluding-angular-content-into-angularjs-component-directives">Transcluding Angular Content into AngularJS Component Directives</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Making AngularJS Dependencies Injectable to Angular"><a href="./upgrade.html#making-angularjs-dependencies-injectable-to-angular">Making AngularJS Dependencies Injectable to Angular</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Making Angular Dependencies Injectable to AngularJS"><a href="./upgrade.html#making-angular-dependencies-injectable-to-angularjs">Making Angular Dependencies Injectable to AngularJS</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Lazy Loading AngularJS"><a href="./upgrade.html#lazy-loading-angularjs">Lazy Loading AngularJS</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Create a service to lazy load AngularJS"><a href="./upgrade.html#create-a-service-to-lazy-load-angularjs">Create a service to lazy load AngularJS</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Create a component to render AngularJS content"><a href="./upgrade.html#create-a-component-to-render-angularjs-content">Create a component to render AngularJS content</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Configure a custom route matcher for AngularJS routes"><a href="./upgrade.html#configure-a-custom-route-matcher-for-angularjs-routes">Configure a custom route matcher for AngularJS routes</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Using the Unified Angular Location Service"><a href="./upgrade.html#using-the-unified-angular-location-service">Using the Unified Angular Location Service</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="PhoneCat Upgrade Tutorial"><a href="./upgrade.html#phonecat-upgrade-tutorial">PhoneCat Upgrade Tutorial</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Switching to TypeScript"><a href="./upgrade.html#switching-to-typescript">Switching to TypeScript</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Installing Angular"><a href="./upgrade.html#installing-angular">Installing Angular</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Creating the AppModule"><a href="./upgrade.html#creating-the-appmodule">Creating the <em>AppModule</em></a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Bootstrapping a hybrid PhoneCat"><a href="./upgrade.html#bootstrapping-a-hybrid-phonecat">Bootstrapping a hybrid PhoneCat</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Upgrading the Phone service"><a href="./upgrade.html#upgrading-the-phone-service">Upgrading the Phone service</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Upgrading Components"><a href="./upgrade.html#upgrading-components">Upgrading Components</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="AOT compile the hybrid app"><a href="./upgrade.html#aot-compile-the-hybrid-app">AOT compile the hybrid app</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Adding The Angular Router And Bootstrap"><a href="./upgrade.html#adding-the-angular-router-and-bootstrap">Adding The Angular Router And Bootstrap</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Say Goodbye to AngularJS"><a href="./upgrade.html#say-goodbye-to-angularjs">Say Goodbye to AngularJS</a></li><!----><!----><li class="h2 secondary ng-star-inserted" title="Appendix: Upgrading PhoneCat Tests"><a href="./upgrade.html#appendix-upgrading-phonecat-tests">Appendix: Upgrading PhoneCat Tests</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="E2E Tests"><a href="./upgrade.html#e2e-tests">E2E Tests</a></li><!----><!----><li class="h3 secondary ng-star-inserted" title="Unit Tests"><a href="./upgrade.html#unit-tests">Unit Tests</a></li><!----><!----><!----></ul><button type="button" title="Expand/collapse contents" aria-label="Expand/collapse contents" class="toc-more-items embedded material-icons collapsed ng-star-inserted" aria-pressed="false"></button><!----></div><!----></aio-toc>
<p><em>Angular</em> is the name for the Angular of today and tomorrow.</p>
<p><em>AngularJS</em> is the name for all 1.x versions of Angular.</p>
<p>AngularJS applications are great.
Always consider the business case before moving to Angular.
An important part of that case is the time and effort to get there.
This guide describes the built-in tools for efficiently migrating AngularJS projects over to the Angular platform, a piece at a time.</p>
<p>Some applications will be easier to upgrade than others, and there are many ways to make it easier for yourself.
It is possible to prepare and align AngularJS applications with Angular even before beginning the upgrade process.
These preparation steps are all about making the code more decoupled, more maintainable, and better aligned with modern development tools.
That means in addition to making the upgrade easier, you will also improve the existing AngularJS applications.</p>
<p>One of the keys to a successful upgrade is to do it incrementally, by running the two frameworks side by side in the same application, and porting AngularJS components to Angular one by one.
This makes it possible to upgrade even large and complex applications without disrupting other business, because the work can be done collaboratively and spread over a period of time.
The <code>upgrade</code> module in Angular has been designed to make incremental upgrading seamless.</p>
<a class="dashAnchor" name="//apple_ref/Section/Preparation"></a><h2 id="preparation">Preparation</h2>
<p>There are many ways to structure AngularJS applications.
When you begin to upgrade these applications to Angular, some will turn out to be much more easy to work with than others.
There are a few key techniques and patterns that you can apply to future proof applications even before you begin the migration.</p>
<h3 id="follow-the-angularjs-style-guide">Follow the AngularJS Style Guide</h3>
<p>The <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md" title="Angular 1 Style Guide | johnpapa/angular-styleguide | GitHub">AngularJS Style Guide</a> collects patterns and practices that have been proven to result in cleaner and more maintainable AngularJS applications.
It contains a wealth of information about how to write and organize AngularJS code —and equally importantly— how <strong>not</strong> to write and organize AngularJS code.</p>
<p>Angular is a reimagined version of the best parts of AngularJS.
In that sense, its goals are the same as the Style Guide for AngularJS:
To preserve the good parts of AngularJS, and to avoid the bad parts.
There is a lot more to Angular than that of course, but this does mean that <em>following the style guide helps make your AngularJS application more closely aligned with Angular</em>.</p>
<p>There are a few rules in particular that will make it much easier to do <em>an incremental upgrade</em> using the Angular <code><a href="../api/upgrade/static.html" class="code-anchor">upgrade/static</a></code> module:</p>
<ul>
<li>
<p>The <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#single-responsibility" title="Single Responsibility - Angular 1 Style Guide | johnpapa/angular-styleguide | GitHub">Rule of 1</a> states that there should be one component per file.
This not only makes components easy to navigate and find, but will also allow us to migrate them between languages and frameworks one at a time.
In this example application, each controller, component, service, and filter is in its own source file.</p>
</li>
<li>
<p>The <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#folders-by-feature-structure" title="Folders-by-Feature Structure - Angular 1 Style Guide | johnpapa/angular-styleguide | GitHub">Folders-by-Feature Structure</a> and <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#modularity" title="Modularity - Angular 1 Style Guide | johnpapa/angular-styleguide | GitHub">Modularity</a> rules define similar principles on a higher level of abstraction:
Different parts of the application should reside in different directories and NgModules.</p>
</li>
</ul>
<p>When an application is laid out feature per feature in this way, it can also be migrated one feature at a time.
For applications that don't already look like this, applying the rules in the AngularJS style guide is a highly recommended preparation step.
And this is not just for the sake of the upgrade - it is just solid advice in general!</p>
<h3 id="using-a-module-loader">Using a Module Loader</h3>
<p>When you break application code down into one component per file, you often end up with a project structure with a large number of relatively small files.
This is a much neater way to organize things than a small number of large files, but it doesn't work that well if you have to load all those files to the HTML page with <code>&lt;script&gt;</code> tags.
Especially when you also have to maintain those tags in the correct order.
That is why it is a good idea to start using a <em>module loader</em>.</p>
<p>Using a module loader such as <a href="https://github.com/systemjs/systemjs" title="systemjs/systemjs | GitHub">SystemJS</a>, <a href="https://webpack.github.io/" title="webpack module bundler | GitHub">Webpack</a>, or <a href="http://browserify.org/" title="Browserify">Browserify</a> allows us to use the built-in module systems of TypeScript or ES2015.
You can use the <code>import</code> and <code>export</code> features that explicitly specify what code can and will be shared between different parts of the application.
For ES5 applications you can use CommonJS style <code>require</code> and <code>module.exports</code> features.
In both cases, the module loader will then take care of loading all the code the application needs in the correct order.</p>
<p>When moving applications into production, module loaders also make it easier to package them all up into production bundles with batteries included.</p>
<h3 id="migrating-to-typescript">Migrating to TypeScript</h3>
<p>If part of the Angular upgrade plan is to also take TypeScript into use, it makes sense to bring in the TypeScript compiler even before the upgrade itself begins.
This means there is one less thing to learn and think about during the actual upgrade.
It also means you can start using TypeScript features in your AngularJS code.</p>
<p>Since TypeScript is a superset of ECMAScript 2015, which in turn is a superset of ECMAScript 5, "switching" to TypeScript doesn't necessarily require anything more than installing the TypeScript compiler and renaming files from <code>*.js</code> to <code>*.ts</code>.
But just doing that is not hugely useful or exciting, of course.
Additional steps like the following can give us much more bang for the buck:</p>
<ul>
<li>For applications that use a module loader, TypeScript imports and exports (which are really ECMAScript 2015 imports and exports) can be used to organize code into modules.</li>
<li>Type annotations can be gradually added to existing functions and variables to pin down their types and get benefits like build-time error checking, great autocompletion support and inline documentation.</li>
<li>JavaScript features new to ES2015, like arrow functions, <code>let</code>s and <code>const</code>s, default function parameters, and destructuring assignments can also be gradually added to make the code more expressive.</li>
<li>Services and controllers can be turned into <em>classes</em>.
That way they'll be a step closer to becoming Angular service and component classes, which will make life easier after the upgrade.</li>
</ul>
<h3 id="using-component-directives">Using Component Directives</h3>
<p>In Angular, components are the main primitive from which user interfaces are built.
You define the different portions of the UI as components and compose them into a full user experience.</p>
<p>You can also do this in AngularJS, using <em>component directives</em>.
These are directives that define their own templates, controllers, and input/output bindings - the same things that Angular components define.
Applications built with component directives are much easier to migrate to Angular than applications built with lower-level features like <code>ng-controller</code>,  <code>ng-include</code>, and scope inheritance.</p>
<p>To be Angular compatible, an AngularJS component directive should configure these attributes:</p>
<ul>
<li>
<p><code>restrict: 'E'</code>
Components are usually used as elements.</p>
</li>
<li>
<p><code>scope: {}</code> - an isolate scope.
In Angular, components are always isolated from their surroundings, and you should do this in AngularJS too.</p>
</li>
<li>
<p><code>bindToController: {}</code>.
Component inputs and outputs should be bound to the controller instead of using the <code>$scope</code>.</p>
</li>
<li>
<p><code>controller</code> and <code>controllerAs</code>.
Components have their own controllers.</p>
</li>
<li>
<p><code>template</code> or <code>templateUrl</code>.
Components have their own templates.</p>
</li>
</ul>
<p>Component directives may also use the following attributes:</p>
<ul>
<li><code>transclude: true/{}</code>, if the component needs to transclude content from elsewhere.</li>
<li><code>require</code>, if the component needs to communicate with the controller of some parent component.</li>
</ul>
<p>Component directives <strong>should not</strong> use the following attributes:</p>
<ul>
<li>
<p><code>compile</code>.
This will not be supported in Angular.</p>
</li>
<li>
<p><code>replace: true</code>.
Angular never replaces a component element with the component template.
This attribute is also deprecated in AngularJS.</p>
</li>
<li>
<p><code>priority</code> and <code>terminal</code>.
While AngularJS components may use these, they are not used in Angular and it is better not to write code that relies on them.</p>
</li>
</ul>
<p>An AngularJS component directive that is fully aligned with the Angular architecture may look something like this:</p>
<code-example path="upgrade-module/src/app/hero-detail.directive.ts" header="hero-detail.directive.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.directive.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.directive.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> heroDetailDirective</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">restrict</span><span class="pun">:</span><span class="pln"> </span><span class="str">'E'</span><span class="pun">,</span><span class="pln">
    scope</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{},</span><span class="pln">
    bindToController</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      hero</span><span class="pun">:</span><span class="pln"> </span><span class="str">'='</span><span class="pun">,</span><span class="pln">
      deleted</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
      &lt;h2&gt;{{$ctrl.hero.name}} details!&lt;/h2&gt;
      &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{$ctrl.hero.id}}&lt;/div&gt;
      &lt;button type="button" ng-click="$ctrl.onDelete()"&gt;Delete&lt;/button&gt;
    `</span><span class="pun">,</span><span class="pln">
    controller</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">HeroDetailController</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">onDelete </span><span class="pun">=</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">deleted</span><span class="pun">({</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero</span><span class="pun">});</span><span class="pln">
      </span><span class="pun">};</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    controllerAs</span><span class="pun">:</span><span class="pln"> </span><span class="str">'$ctrl'</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>AngularJS 1.5 introduces the <a href="https://docs.angularjs.org/api/ng/type/angular.Module#component" title="component(name, options); - angular.Module | API | AngularJS">component API</a> that makes it easier to define component directives like these.
It is a good idea to use this API for component directives for several reasons:</p>
<ul>
<li>It requires less boilerplate code.</li>
<li>It enforces the use of component best practices like <code>controllerAs</code>.</li>
<li>It has good default values for directive attributes like <code>scope</code> and <code>restrict</code>.</li>
</ul>
<p>The component directive example from above looks like this when expressed using the component API:</p>
<code-example path="upgrade-module/src/app/upgrade-io/hero-detail.component.ts" region="hero-detail-io" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroDetail </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  bindings</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    hero</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&lt;'</span><span class="pun">,</span><span class="pln">
    deleted</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{$ctrl.hero.name}} details!&lt;/h2&gt;
    &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{$ctrl.hero.id}}&lt;/div&gt;
    &lt;button type="button" ng-click="$ctrl.onDelete()"&gt;Delete&lt;/button&gt;
  `</span><span class="pun">,</span><span class="pln">
  controller</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">HeroDetailController</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">onDelete </span><span class="pun">=</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">deleted</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example>
<p>Controller lifecycle hook methods <code>$onInit()</code>, <code>$onDestroy()</code>, and <code>$onChanges()</code> are another convenient feature that AngularJS 1.5 introduces.
They all have nearly exact <a href="./lifecycle-hooks.html" title="Lifecycle hooks | Angular">equivalents in Angular</a>, so organizing component lifecycle logic around them will ease the eventual Angular upgrade process.</p>
<a class="dashAnchor" name="//apple_ref/Section/Upgrading%20with%20ngUpgrade"></a><h2 id="upgrading-with-ngupgrade">Upgrading with ngUpgrade</h2>
<p>The ngUpgrade library in Angular is a very useful tool for upgrading anything but the smallest of applications.
With it you can mix and match AngularJS and Angular components in the same application and have them interoperate seamlessly.
That means you don't have to do the upgrade work all at once, since there is a natural coexistence between the two frameworks during the transition period.</p>
<div class="alert is-helpful">
<p>The <a href="https://blog.angular.io/finding-a-path-forward-with-angularjs-7e186fdd4429" title="Finding a Path Forward with AngularJS | Angular Blog">end of life of AngularJS</a> is December 31st, 2021.
With this event, ngUpgrade is now in a feature complete state.
We will continue publishing security and bug fixes for ngUpgrade at least until December 31st, 2023.</p>
</div>
<h3 id="how-ngupgrade-works">How ngUpgrade Works</h3>
<p>One of the primary tools provided by ngUpgrade is called the <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code>.
This is a module that contains utilities for bootstrapping and managing hybrid applications that support both Angular and AngularJS code.</p>
<p>When you use ngUpgrade, what you're really doing is <em>running both AngularJS and Angular at the same time</em>.
All Angular code is running in the Angular framework, and AngularJS code in the AngularJS framework.
Both of these are the actual, fully featured versions of the frameworks.
There is no emulation going on, so you can expect to have all the features and natural behavior of both frameworks.</p>
<p>What happens on top of this is that components and services managed by one framework can interoperate with those from the other framework.
This happens in three main areas:
Dependency injection, the DOM, and change detection.</p>
<h4 id="dependency-injection">Dependency Injection</h4>
<p>Dependency injection is front and center in both AngularJS and Angular, but there are some key differences between the two frameworks in how it actually works.</p>
<table>
<thead>
<tr>
<th align="left">AngularJS</th>
<th align="left">Angular</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Dependency injection tokens are always strings</td>
<td align="left">Tokens <a href="./dependency-injection.html" title="Dependency injection in Angular | Angular">can have different types</a>.<br>They are often classes.<br>They may also be strings.</td>
</tr>
<tr>
<td align="left">There is exactly one injector.<br>Even in multi-module applications, everything is poured into one big namespace.</td>
<td align="left">There is a <a href="./hierarchical-dependency-injection.html" title="Hierarchical injectors | Angular">tree hierarchy of injectors</a>, with a root injector and an additional injector for each component.</td>
</tr>
</tbody>
</table>
<p>Even accounting for these differences you can still have dependency injection interoperability.
<code><a href="../api/upgrade/static.html" class="code-anchor">upgrade/static</a></code> resolves the differences and makes everything work seamlessly:</p>
<ul>
<li>
<p>You can make AngularJS services available for injection to Angular code by <em>upgrading</em> them.
The same singleton instance of each service is shared between the frameworks.
In Angular these services will always be in the <em>root injector</em> and available to all components.</p>
</li>
<li>
<p>You can also make Angular services available for injection to AngularJS code by <em>downgrading</em> them.
Only services from the Angular root injector can be downgraded.
Again, the same singleton instances are shared between the frameworks.
When you register a downgraded service, you must explicitly specify a <em>string token</em> that you want to use in AngularJS.</p>
</li>
</ul>
<div class="lightbox">
<img src="../generated/images/guide/upgrade/injectors.png" alt="The two injectors in a hybrid application" width="700" height="262">
</div>
<h4 id="components-and-the-dom">Components and the DOM</h4>
<p>In the DOM of a hybrid ngUpgrade application are components and directives from both AngularJS and Angular.
These components communicate with each other by using the input and output bindings of their respective frameworks, which ngUpgrade bridges together.
They may also communicate through shared injected dependencies, as described above.</p>
<p>The key thing to understand about a hybrid application is that every element in the DOM is owned by exactly one of the two frameworks.
The other framework ignores it.
If an element is owned by AngularJS, Angular treats it as if it didn't exist, and vice versa.</p>
<p>So normally a hybrid application begins life as an AngularJS application, and it is AngularJS that processes the root template, for example, the index.html.
Angular then steps into the picture when an Angular component is used somewhere in an AngularJS template.
The template of that component will then be managed by Angular, and it may contain any number of Angular components and directives.</p>
<p>Beyond that, you may interleave the two frameworks.
You always cross the boundary between the two frameworks by one of two ways:</p>
<ol>
<li>
<p>By using a component from the other framework:
An AngularJS template using an Angular component, or an Angular template using an AngularJS component.</p>
</li>
<li>
<p>By transcluding or projecting content from the other framework.
ngUpgrade bridges the related concepts of AngularJS transclusion and Angular content projection together.</p>
</li>
</ol>
<div class="lightbox">
<img src="../generated/images/guide/upgrade/dom.png" alt="DOM element ownership in a hybrid application" width="500" height="294">
</div>
<p>Whenever you use a component that belongs to the other framework, a switch between framework boundaries occurs.
However, that switch only happens to the elements in the template of that component.
Consider a situation where you use an Angular component from AngularJS like this:</p>
<code-example language="html" escape="html" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-html prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;a-component&gt;&lt;/a-component&gt;</span></code>
    </pre></aio-code></code-example>
<p>The DOM element <code>&lt;a-component&gt;</code> will remain to be an AngularJS managed element, because it is defined in an AngularJS template.
That also means you can apply additional AngularJS directives to it, but <em>not</em> Angular directives.
It is only in the template of the <code>&lt;a-component&gt;</code> where Angular steps in.
This same rule also applies when you use AngularJS component directives from Angular.</p>
<h4 id="change-detection">Change Detection</h4>
<p>The <code>scope.$apply()</code> is how AngularJS detects changes and updates data bindings.
After every event that occurs, <code>scope.$apply()</code> gets called.
This is done either automatically by the framework, or manually by you.</p>
<p>In Angular things are different.
While change detection still occurs after every event, no one needs to call <code>scope.$apply()</code> for that to happen.
This is because all Angular code runs inside something called the <a href="../api/core/NgZone.html" title="NgZone | Core - API | Angular">Angular zone</a>.
Angular always knows when the code finishes, so it also knows when it should kick off change detection.
The code itself doesn't have to call <code>scope.$apply()</code> or anything like it.</p>
<p>In the case of hybrid applications, the <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> bridges the AngularJS and Angular approaches.
Here is what happens:</p>
<ul>
<li>
<p>Everything that happens in the application runs inside the Angular zone.
This is true whether the event originated in AngularJS or Angular code.
The zone triggers Angular change detection after every event.</p>
</li>
<li>
<p>The <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> will invoke the AngularJS <code>$rootScope.$apply()</code> after every turn of the Angular zone.
This also triggers AngularJS change detection after every event.</p>
</li>
</ul>
<div class="lightbox">
<img src="../generated/images/guide/upgrade/change_detection.png" alt="Change detection in a hybrid application" width="600" height="163">
</div>
<p>In practice, you do not need to call <code>$apply()</code>, regardless of whether it is in AngularJS or Angular.
The <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> does it for us.
You <em>can</em> still call <code>$apply()</code> so there is no need to remove such calls from existing code.
Those calls just trigger additional AngularJS change detection checks in a hybrid application.</p>
<p>When you downgrade an Angular component and then use it from AngularJS, the inputs of the component will be watched using AngularJS change detection.
When those inputs change, the corresponding properties in the component are set.
You can also hook into the changes by implementing the <a href="../api/core/OnChanges.html" title="OnChanges | Core - API | Angular">OnChanges</a> interface in the component, just like you could if it hadn't been downgraded.</p>
<p>Correspondingly, when you upgrade an AngularJS component and use it from Angular, all the bindings defined for <code>scope</code> (or <code>bindToController</code>) of the component directive will be hooked into Angular change detection.
They will be treated as regular Angular inputs.
Their values will be written to the scope (or controller) of the upgraded component when they change.</p>
<h3 id="using-upgrademodule-with-angular-ngmodules">Using UpgradeModule with Angular <em>NgModules</em></h3>
<p>Both AngularJS and Angular have their own concept of modules to help organize an application into cohesive blocks of functionality.</p>
<p>Their details are quite different in architecture and implementation.
In AngularJS, you add Angular assets to the <code>angular.module</code> property.
In Angular, you create one or more classes adorned with an <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> decorator that describes Angular assets in metadata.
The differences blossom from there.</p>
<p>In a hybrid application you run both versions of Angular at the same time.
That means that you need at least one module each from both AngularJS and Angular.
You will import <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> inside the NgModule, and then use it for bootstrapping the AngularJS module.</p>
<div class="alert is-helpful">
<p>For more information, see <a href="./ngmodules.html" title="NgModules | Angular">NgModules</a>.</p>
</div>
<h3 id="bootstrapping-hybrid-applications">Bootstrapping hybrid applications</h3>
<p>To bootstrap a hybrid application, you must bootstrap each of the Angular and
AngularJS parts of the application.
You must bootstrap the Angular bits first and then ask the <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> to bootstrap the AngularJS bits next.</p>
<p>In an AngularJS application you have a root AngularJS module, which will also be used to bootstrap the AngularJS application.</p>
<code-example path="upgrade-module/src/app/ajs-bootstrap/app.module.ts" region="ng1module" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'heroApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">controller</span><span class="pun">(</span><span class="str">'MainCtrl'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">message </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Hello world'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>Pure AngularJS applications can be automatically bootstrapped by using an <code>ng-app</code> directive somewhere on the HTML page.
But for hybrid applications, you manually bootstrap using the <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code>.
Therefore, it is a good preliminary step to switch AngularJS applications to use the manual JavaScript <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap" title="angular.bootstrap | API | AngularJS"><code>angular.bootstrap</code></a> method even before switching them to hybrid mode.</p>
<p>Say you have an <code>ng-app</code> driven bootstrap such as this one:</p>
<code-example path="upgrade-module/src/index-ng-app.html" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="dec">&lt;!DOCTYPE HTML&gt;</span><span class="pln">
</span><span class="tag">&lt;html</span><span class="pln"> </span><span class="atn">lang</span><span class="pun">=</span><span class="atv">"en"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;head&gt;</span><span class="pln">
    </span><span class="tag">&lt;base</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"app/ajs-ng-app/app.module.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
  </span><span class="tag">&lt;/head&gt;</span><span class="pln">

  </span><span class="tag">&lt;body</span><span class="pln"> </span><span class="atn">ng-app</span><span class="pun">=</span><span class="atv">"heroApp"</span><span class="pln"> </span><span class="atn">ng-strict-di</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"message"</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MainCtrl as mainCtrl"</span><span class="tag">&gt;</span><span class="pln">
      {{ mainCtrl.message }}
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code>
    </pre></aio-code></code-example>
<p>You can remove the <code>ng-app</code> and <code>ng-strict-di</code> directives from the HTML and instead switch to calling <code>angular.bootstrap</code> from JavaScript, which will result in the same thing:</p>
<code-example path="upgrade-module/src/app/ajs-bootstrap/app.module.ts" region="bootstrap" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">angular</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>To begin converting your AngularJS application to a hybrid, you need to load the Angular framework.
You can see how this can be done with SystemJS by following the instructions in <a href="./upgrade-setup.html" title="Setup for upgrading from AngularJS | Angular">Setup for Upgrading to AngularJS</a> for selectively copying code from the <a href="https://github.com/angular/quickstart" title="angular/quickstart | GitHub">QuickStart github repository</a>.</p>
<p>You also need to install the <code>@angular/upgrade</code> package using <code>npm install @angular/upgrade --save</code> and add a mapping for the <code>@angular/upgrade/<a href="../api/upgrade/static.html" class="code-anchor">static</a></code> package:</p>
<code-example path="upgrade-module/src/systemjs.config.1.js" region="upgrade-static-package" header="systemjs.config.js (map)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">systemjs.config.js (map)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from systemjs.config.js (map)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/upgrade/fesm2015/static.mjs'</span><span class="pun">,</span></code>
    </pre></aio-code></code-example>
<p>Next, create an <code>app.module.ts</code> file and add the following <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> class:</p>
<code-example path="upgrade-module/src/app/ajs-a-hybrid-bootstrap/app.module.ts" region="ngmodule" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>This bare minimum <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> imports <code><a href="../api/platform-browser/BrowserModule.html" class="code-anchor">BrowserModule</a></code>, the module every Angular browser-based application must have.
It also imports <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> from <code>@angular/upgrade/<a href="../api/upgrade/static.html" class="code-anchor">static</a></code>, which exports providers that will be used for upgrading and downgrading services and components.</p>
<p>In the constructor of the <code>AppModule</code>, use dependency injection to get a hold of the <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> instance, and use it to bootstrap the AngularJS application in the <code>AppModule.ngDoBootstrap</code> method.
The <code>upgrade.bootstrap</code> method takes the exact same arguments as <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap" title="angular.bootstrap | API | AngularJS">angular.bootstrap</a>:</p>
<div class="alert is-helpful">
<p><strong>NOTE</strong>:
You do not add a <code>bootstrap</code> declaration to the <code>@<a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> decorator, since AngularJS will own the root template of the application.</p>
</div>
<p>Now you can bootstrap <code>AppModule</code> using the <code>platformBrowserDynamic.bootstrapModule</code> method.</p>
<code-example path="upgrade-module/src/app/ajs-a-hybrid-bootstrap/app.module.ts" region="bootstrap" header="app.module.ts'" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts'</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts'">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser-dynamic/platformBrowserDynamic.html" class="code-anchor"><span class="pln">platformBrowserDynamic</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser-dynamic'</span><span class="pun">;</span><span class="pln">

</span><a href="../api/platform-browser-dynamic/platformBrowserDynamic.html" class="code-anchor"><span class="pln">platformBrowserDynamic</span></a><span class="pun">().</span><span class="pln">bootstrapModule</span><span class="pun">(</span><span class="typ">AppModule</span><span class="pun">);</span></code>
    </pre></aio-code></code-example>
<p>Congratulations!
You're running a hybrid application!
The existing AngularJS code works as before <em>and</em> you're ready to start adding Angular code.</p>
<h3 id="using-angular-components-from-angularjs-code">Using Angular Components from AngularJS Code</h3>
<div class="lightbox">
<img src="../generated/images/guide/upgrade/ajs-to-a.png" alt="Using an Angular component from AngularJS code" class="left" width="250" height="44">
</div>
<p>Once you're running a hybrid app, you can start the gradual process of upgrading code.
One of the more common patterns for doing that is to use an Angular component in an AngularJS context.
This could be a completely new component or one that was previously AngularJS but has been rewritten for Angular.</p>
<p>Say you have an Angular component that shows information about a hero:</p>
<code-example path="upgrade-module/src/app/downgrade-static/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;Windstorm details!&lt;/h2&gt;
    &lt;div&gt;id: 1&lt;/div&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>If you want to use this component from AngularJS, you need to <em>downgrade</em> it using the <code><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor">downgradeComponent</a>()</code> method.
The result is an AngularJS <em>directive</em>, which you can then register in the AngularJS module:</p>
<code-example path="upgrade-module/src/app/downgrade-static/app.module.ts" region="downgradecomponent" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="com">/* . . . */</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor"><span class="pln">downgradeComponent</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'heroApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="pln">
    </span><span class="str">'heroDetail'</span><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor"><span class="pln">downgradeComponent</span></a><span class="pun">({</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IDirectiveFactory</span><span class="pln">
  </span><span class="pun">);</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>By default, Angular change detection will also run on the component for everyAngularJS <code>$digest</code> cycle.
If you want to only have change detection run whenthe inputs change, you can set <code>propagateDigest</code> to <code>false</code> when calling<code><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor">downgradeComponent</a>()</code>.</p>
</div>
<p>Because <code>HeroDetailComponent</code> is an Angular component, you must also add it to the <code>declarations</code> in the <code>AppModule</code>.</p>
<code-example path="upgrade-module/src/app/downgrade-static/app.module.ts" region="ngmodule" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">HeroDetailComponent</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>All Angular components, directives and pipes must be declared in an NgModule.</p>
</div>
<p>The net result is an AngularJS directive called <code>heroDetail</code>, that you can use like any other directive in AngularJS templates.</p>
<code-example path="upgrade-module/src/index-downgrade-static.html" region="usecomponent" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;hero-detail&gt;&lt;/hero-detail&gt;</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p><strong>NOTE</strong>:
This AngularJS is an element directive (<code>restrict: 'E'</code>) called <code>heroDetail</code>.
An AngularJS element directive is matched based on its <em>name</em>.
<em>The <code>selector</code> metadata of the downgraded Angular component is ignored.</em></p>
</div>
<p>Most components are not quite this simple, of course.
Many of them have <em>inputs and outputs</em> that connect them to the outside world.
An Angular hero detail component with inputs and outputs might look like this:</p>
<code-example path="upgrade-module/src/app/downgrade-io/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/EventEmitter.html" class="code-anchor"><span class="typ">EventEmitter</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/Input.html" class="code-anchor"><span class="typ">Input</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/Output.html" class="code-anchor"><span class="typ">Output</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln">&nbsp;</span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{hero.name}} details!&lt;/h2&gt;
    &lt;div&gt;id: {{hero.id}}&lt;/div&gt;
    &lt;button type="button" (click)="onDelete()"&gt;Delete&lt;/button&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="lit">@</span><a href="../api/core/Input.html" class="code-anchor"><span class="lit">Input</span></a><span class="pun">()</span><span class="pln"> hero</span><span class="pun">!:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">;</span><span class="pln">
  </span><span class="lit">@</span><a href="../api/core/Output.html" class="code-anchor"><span class="lit">Output</span></a><span class="pun">()</span><span class="pln"> deleted </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><a href="../api/core/EventEmitter.html" class="code-anchor"><span class="typ">EventEmitter</span></a><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;();</span><span class="pln">
  onDelete</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">deleted</span><span class="pun">.</span><span class="pln">emit</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>These inputs and outputs can be supplied from the AngularJS template, and the <code><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor">downgradeComponent</a>()</code> method takes care of wiring them up:</p>
<code-example path="upgrade-module/src/index-downgrade-io.html" region="usecomponent" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MainController as mainCtrl"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;hero-detail</span><span class="pln"> [</span><span class="atn">hero</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"mainCtrl.hero"</span><span class="pln">
               (</span><span class="atn">deleted</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"mainCtrl.onDelete($event)"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/hero-detail&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example>
<p>Even though you are in an AngularJS template, <strong>you are using Angular attribute syntax to bind the inputs and outputs</strong>.
This is a requirement for downgraded components.
The expressions themselves are still regular AngularJS expressions.</p>
<div class="callout is-important">
<header>Use kebab-case for downgraded component attributes</header>
<p>There is one notable exception to the rule of using Angular attribute syntax for downgraded components.
It has to do with input or output names that consist of multiple words.
In Angular, you would bind these attributes using camelCase:</p>
<code-example language="html" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-html prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">[myHero]="hero"
(heroDeleted)="handleHeroDeleted($event)"</span></code>
    </pre></aio-code></code-example>
<p>But when using them from AngularJS templates, you must use kebab-case:</p>
<code-example language="html" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-html prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">[my-hero]="hero"
(hero-deleted)="handleHeroDeleted($event)"</span></code>
    </pre></aio-code></code-example>
</div>
<p>The <code>$event</code> variable can be used in outputs to gain access to the object that was emitted.
In this case it will be the <code>Hero</code> object, because that is what was passed to <code>this.deleted.emit()</code>.</p>
<p>Since this is an AngularJS template, you can still use other AngularJS directives on the element, even though it has Angular binding attributes on it.
For example, you can easily make multiple copies of the component using <code>ng-repeat</code>:</p>
<code-example path="upgrade-module/src/index-downgrade-io.html" region="userepeatedcomponent" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MainController as mainCtrl"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;hero-detail</span><span class="pln"> [</span><span class="atn">hero</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"hero"</span><span class="pln">
               (</span><span class="atn">deleted</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"mainCtrl.onDelete($event)"</span><span class="pln">
               </span><span class="atn">ng-repeat</span><span class="pun">=</span><span class="atv">"hero in mainCtrl.heroes"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;/hero-detail&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example>
<h3 id="using-angularjs-component-directives-from-angular-code">Using AngularJS Component Directives from Angular Code</h3>
<div class="lightbox">
<img src="../generated/images/guide/upgrade/a-to-ajs.png" alt="Using an AngularJS component from Angular code" class="left" width="250" height="44">
</div>
<p>So, you can write an Angular component and then use it from AngularJS code.
This is useful when you start to migrate from lower-level components and work your way up.
But in some cases it is more convenient to do things in the opposite order:
To start with higher-level components and work your way down.
This too can be done using the <code><a href="../api/upgrade/static.html" class="code-anchor">upgrade/static</a></code>.
You can <em>upgrade</em> AngularJS component directives and then use them from Angular.</p>
<p>Not all kinds of AngularJS directives can be upgraded.
The directive really has to be a <em>component directive</em>, with the characteristics <a href="./upgrade.html#using-component-directives" title="Using Component Directives - Upgrading from AngularJS to Angular | Angular">described in the preparation guide above</a>.
The safest bet for ensuring compatibility is using the <a href="https://docs.angularjs.org/api/ng/type/angular.Module" title="angular.Module | API | AngularJS">component API</a> introduced in AngularJS 1.5.</p>
<p>An example of an upgradeable component is one that just has a template and a controller:</p>
<code-example path="upgrade-module/src/app/upgrade-static/hero-detail.component.ts" region="hero-detail" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroDetail </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;Windstorm details!&lt;/h2&gt;
    &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;1&lt;/div&gt;
  `</span><span class="pun">,</span><span class="pln">
  controller</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">HeroDetailController</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example>
<p>You can <em>upgrade</em> this component to Angular using the <code><a href="../api/upgrade/static/UpgradeComponent.html" class="code-anchor">UpgradeComponent</a></code> class.
By creating a new Angular <strong>directive</strong> that extends <code><a href="../api/upgrade/static/UpgradeComponent.html" class="code-anchor">UpgradeComponent</a></code> and doing a <code>super</code> call inside its constructor, you have a fully upgraded AngularJS component to be used inside Angular.
All that is left is to add it to the <code>declarations</code> array of <code>AppModule</code>.</p>
<code-example path="upgrade-module/src/app/upgrade-static/hero-detail.component.ts" region="hero-detail-upgrade" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Directive.html" class="code-anchor"><span class="typ">Directive</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/ElementRef.html" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/Injector.html" class="code-anchor"><span class="typ">Injector</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/SimpleChanges.html" class="code-anchor"><span class="typ">SimpleChanges</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeComponent.html" class="code-anchor"><span class="typ">UpgradeComponent</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Directive.html" class="code-anchor"><span class="lit">Directive</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailDirective</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeComponent.html" class="code-anchor"><span class="typ">UpgradeComponent</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">elementRef</span><span class="pun">:</span><span class="pln"> </span><a href="../api/core/ElementRef.html" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pun">,</span><span class="pln"> injector</span><span class="pun">:</span><span class="pln"> </span><a href="../api/core/Injector.html" class="code-anchor"><span class="typ">Injector</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">super</span><span class="pun">(</span><span class="str">'heroDetail'</span><span class="pun">,</span><span class="pln"> elementRef</span><span class="pun">,</span><span class="pln"> injector</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<code-example path="upgrade-module/src/app/upgrade-static/app.module.ts" region="hero-detail-upgrade" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">HeroDetailDirective</span><span class="pun">,</span><span class="pln">
  </span><span class="com">/* . . . */</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>Upgraded components are Angular <strong>directives</strong>, instead of <strong>components</strong>, because Angular is unaware that AngularJS will create elements under it.
As far as Angular knows, the upgraded component is just a directive —a tag— and Angular doesn't have to concern itself with its children.</p>
</div>
<p>An upgraded component may also have inputs and outputs, as defined by the scope/controller bindings of the original AngularJS component directive.
When you use the component from an Angular template, provide the inputs and outputs using <strong>Angular template syntax</strong>, observing the following rules:</p>
<table>
<thead>
<tr>
<th align="left"></th>
<th align="left">Binding definition</th>
<th align="left">Template syntax</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Attribute binding</td>
<td align="left"><code>myAttribute: '@myAttribute'</code></td>
<td align="left"><code>&lt;my-component myAttribute="value"&gt;</code></td>
</tr>
<tr>
<td align="left">Expression binding</td>
<td align="left"><code>myOutput: '&amp;myOutput'</code></td>
<td align="left"><code>&lt;my-component (myOutput)="action()"&gt;</code></td>
</tr>
<tr>
<td align="left">One-way binding</td>
<td align="left"><code>myValue: '&lt;myValue'</code></td>
<td align="left"><code>&lt;my-component [myValue]="anExpression"&gt;</code></td>
</tr>
<tr>
<td align="left">Two-way binding</td>
<td align="left"><code>myValue: '=myValue'</code></td>
<td align="left">As a two-way binding:<br><code>&lt;my-component [(myValue)]="anExpression"&gt;</code><br>Since most AngularJS two-way bindings actually only need a one-way binding in practice, <code>&lt;my-component [myValue]="anExpression"&gt;</code> is often enough.</td>
</tr>
</tbody>
</table>
<p>For example, imagine a hero detail AngularJS component directive with one input and one output:</p>
<code-example path="upgrade-module/src/app/upgrade-io/hero-detail.component.ts" region="hero-detail-io" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroDetail </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  bindings</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    hero</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&lt;'</span><span class="pun">,</span><span class="pln">
    deleted</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&amp;'</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{$ctrl.hero.name}} details!&lt;/h2&gt;
    &lt;div&gt;&lt;label&gt;id: &lt;/label&gt;{{$ctrl.hero.id}}&lt;/div&gt;
    &lt;button type="button" ng-click="$ctrl.onDelete()"&gt;Delete&lt;/button&gt;
  `</span><span class="pun">,</span><span class="pln">
  controller</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="typ">HeroDetailController</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">onDelete </span><span class="pun">=</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">deleted</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example>
<p>You can upgrade this component to Angular, annotate inputs and outputs in the upgrade directive, and then provide the input and output using Angular template syntax:</p>
<code-example path="upgrade-module/src/app/upgrade-io/hero-detail.component.ts" region="hero-detail-io-upgrade" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Directive.html" class="code-anchor"><span class="typ">Directive</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/ElementRef.html" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/Injector.html" class="code-anchor"><span class="typ">Injector</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/Input.html" class="code-anchor"><span class="typ">Input</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/Output.html" class="code-anchor"><span class="typ">Output</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/EventEmitter.html" class="code-anchor"><span class="typ">EventEmitter</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeComponent.html" class="code-anchor"><span class="typ">UpgradeComponent</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Directive.html" class="code-anchor"><span class="lit">Directive</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailDirective</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeComponent.html" class="code-anchor"><span class="typ">UpgradeComponent</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="lit">@</span><a href="../api/core/Input.html" class="code-anchor"><span class="lit">Input</span></a><span class="pun">()</span><span class="pln"> hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">;</span><span class="pln">
  </span><span class="lit">@</span><a href="../api/core/Output.html" class="code-anchor"><span class="lit">Output</span></a><span class="pun">()</span><span class="pln"> deleted</span><span class="pun">:</span><span class="pln"> </span><a href="../api/core/EventEmitter.html" class="code-anchor"><span class="typ">EventEmitter</span></a><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;;</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">elementRef</span><span class="pun">:</span><span class="pln"> </span><a href="../api/core/ElementRef.html" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pun">,</span><span class="pln"> injector</span><span class="pun">:</span><span class="pln"> </span><a href="../api/core/Injector.html" class="code-anchor"><span class="typ">Injector</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">super</span><span class="pun">(</span><span class="str">'heroDetail'</span><span class="pun">,</span><span class="pln"> elementRef</span><span class="pun">,</span><span class="pln"> injector</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<code-example path="upgrade-module/src/app/upgrade-io/container.component.ts" header="container.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">container.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from container.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-container'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h1&gt;Tour of Heroes&lt;/h1&gt;
    &lt;hero-detail [hero]="hero"
                 (deleted)="heroDeleted($event)"&gt;
    &lt;/hero-detail&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ContainerComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  hero </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Windstorm'</span><span class="pun">);</span><span class="pln">
  heroDeleted</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    hero</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Ex-'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> hero</span><span class="pun">.</span><span class="pln">name</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<h3 id="projecting-angularjs-content-into-angular-components">Projecting AngularJS Content into Angular Components</h3>
<div class="lightbox">
<img src="../generated/images/guide/upgrade/ajs-to-a-with-projection.png" alt="Projecting AngularJS content into Angular" class="left" width="250" height="48">
</div>
<p>When you are using a downgraded Angular component from an AngularJS template, the need may arise to <em>transclude</em> some content into it.
This is also possible.
While there is no such thing as transclusion in Angular, there is a very similar concept called <em>content projection</em>.
<code><a href="../api/upgrade/static.html" class="code-anchor">upgrade/static</a></code> is able to make these two features interoperate.</p>
<p>Angular components that support content projection make use of an <code><a href="../api/core/ng-content.html" class="code-anchor">&lt;ng-content&gt;</a></code> tag within them.
Here is an example of such a component:</p>
<code-example path="upgrade-module/src/app/ajs-to-a-projection/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/Input.html" class="code-anchor"><span class="typ">Input</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{hero.name}}&lt;/h2&gt;
    &lt;div&gt;
      &lt;ng-content&gt;&lt;/ng-content&gt;
    &lt;/div&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="lit">@</span><a href="../api/core/Input.html" class="code-anchor"><span class="lit">Input</span></a><span class="pun">()</span><span class="pln"> hero</span><span class="pun">!:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>When using the component from AngularJS, you can supply contents for it.
Just like they would be transcluded in AngularJS, they get projected to the location of the <code><a href="../api/core/ng-content.html" class="code-anchor">&lt;ng-content&gt;</a></code> tag in Angular:</p>
<code-example path="upgrade-module/src/index-ajs-to-a-projection.html" region="usecomponent" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-controller</span><span class="pun">=</span><span class="atv">"MainController as mainCtrl"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;hero-detail</span><span class="pln"> [</span><span class="atn">hero</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"mainCtrl.hero"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="com">&lt;!-- Everything here will get projected --&gt;</span><span class="pln">
    </span><span class="tag">&lt;p&gt;</span><span class="pln">{{mainCtrl.hero.description}}</span><span class="tag">&lt;/p&gt;</span><span class="pln">
  </span><span class="tag">&lt;/hero-detail&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>When AngularJS content gets projected inside an Angular component, it still remains in "AngularJS land" and is managed by the AngularJS framework.</p>
</div>
<h3 id="transcluding-angular-content-into-angularjs-component-directives">Transcluding Angular Content into AngularJS Component Directives</h3>
<div class="lightbox">
<img src="../generated/images/guide/upgrade/a-to-ajs-with-transclusion.png" alt="Projecting Angular content into AngularJS" class="left" width="250" height="48">
</div>
<p>Just as you can project AngularJS content into Angular components, you can <em>transclude</em> Angular content into AngularJS components, whenever you are using upgraded versions from them.</p>
<p>When an AngularJS component directive supports transclusion, it may use the <code>ng-transclude</code> directive in its template to mark the transclusion point:</p>
<code-example path="upgrade-module/src/app/a-to-ajs-transclusion/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroDetail </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  bindings</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    hero</span><span class="pun">:</span><span class="pln"> </span><span class="str">'='</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{$ctrl.hero.name}}&lt;/h2&gt;
    &lt;div&gt;
      &lt;ng-transclude&gt;&lt;/ng-transclude&gt;
    &lt;/div&gt;
  `</span><span class="pun">,</span><span class="pln">
  transclude</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example>
<p>If you upgrade this component and use it from Angular, you can populate the component tag with contents that will then get transcluded:</p>
<code-example path="upgrade-module/src/app/a-to-ajs-transclusion/container.component.ts" header="container.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">container.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from container.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'my-container'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;hero-detail [hero]="hero"&gt;
      &lt;!-- Everything here will get transcluded --&gt;
      &lt;p&gt;{{hero.description}}&lt;/p&gt;
    &lt;/hero-detail&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ContainerComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  hero </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Windstorm'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Specific powers of controlling winds'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<h3 id="making-angularjs-dependencies-injectable-to-angular">Making AngularJS Dependencies Injectable to Angular</h3>
<p>When running a hybrid app, you may encounter situations where you need to inject some AngularJS dependencies into your Angular code.
Maybe you have some business logic still in AngularJS services.
Maybe you want access to built-in services of AngularJS like <code>$location</code> or <code>$timeout</code>.</p>
<p>In these situations, it is possible to <em>upgrade</em> an AngularJS provider to Angular.
This makes it possible to then inject it somewhere in Angular code.
For example, you might have a service called <code>HeroesService</code> in AngularJS:</p>
<code-example path="upgrade-module/src/app/ajs-to-a-providers/heroes.service.ts" header="heroes.service.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">heroes.service.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from heroes.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln">&nbsp;</span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroesService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">get</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Windstorm'</span><span class="pun">),</span><span class="pln">
      </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Spiderman'</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>You can upgrade the service using a Angular <a href="./dependency-injection-providers.html#factory-providers" title="Using factory providers - Dependency providers | Angular">factory provider</a> that requests the service from the AngularJS <code>$injector</code>.</p>
<p>Many developers prefer to declare the factory provider in a separate <code>ajs-upgraded-providers.ts</code> file so that they are all together, making it easier to reference them, create new ones and delete them once the upgrade is over.</p>
<p>It is also recommended to export the <code>heroesServiceFactory</code> function so that Ahead-of-Time compilation can pick it up.</p>
<div class="alert is-helpful">
<p><strong>NOTE</strong>:
The 'heroes' string inside the factory refers to the AngularJS <code>HeroesService</code>.
It is common in AngularJS applications to choose a service name for the token, for example "heroes", and append the "Service" suffix to create the class name.</p>
</div>
<code-example path="upgrade-module/src/app/ajs-to-a-providers/ajs-upgraded-providers.ts" header="ajs-upgraded-providers.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">ajs-upgraded-providers.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from ajs-upgraded-providers.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes.service'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> heroesServiceFactory</span><span class="pun">(</span><span class="pln">i</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> i</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'heroes'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroesServiceProvider </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  provide</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroesService</span><span class="pun">,</span><span class="pln">
  useFactory</span><span class="pun">:</span><span class="pln"> heroesServiceFactory</span><span class="pun">,</span><span class="pln">
  deps</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$injector'</span><span class="pun">]</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example>
<p>You can then provide the service to Angular by adding it to the <code>@<a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code>:</p>
<code-example path="upgrade-module/src/app/ajs-to-a-providers/app.module.ts" region="register" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> heroesServiceProvider </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./ajs-upgraded-providers'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    heroesServiceProvider
  </span><span class="pun">],</span><span class="pln">
</span><span class="com">/* . . . */</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Then use the service inside your component by injecting it in the component constructor using its class as a type annotation:</p>
<code-example path="upgrade-module/src/app/ajs-to-a-providers/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroesService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes.service'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'hero-detail'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{hero.id}}: {{hero.name}}&lt;/h2&gt;
  `</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroDetailComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">heroes</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroesService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero </span><span class="pun">=</span><span class="pln"> heroes</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">()[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>In this example you upgraded a service class.
You can use a TypeScript type annotation when you inject it.
While it doesn't affect how the dependency is handled, it enables the benefits of static type checking.
This is not required though, and any AngularJS service, factory, or provider can be upgraded.</p>
</div>
<h3 id="making-angular-dependencies-injectable-to-angularjs">Making Angular Dependencies Injectable to AngularJS</h3>
<p>In addition to upgrading AngularJS dependencies, you can also <em>downgrade</em> Angular dependencies, so that you can use them from AngularJS.
This can be useful when you start migrating services to Angular or creating new services in Angular while retaining components written in AngularJS.</p>
<p>For example, you might have an Angular service called <code>Heroes</code>:</p>
<code-example path="upgrade-module/src/app/a-to-ajs-providers/heroes.ts" header="heroes.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">heroes.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from heroes.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln">&nbsp;</span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">()</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Heroes</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">get</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Windstorm'</span><span class="pun">),</span><span class="pln">
      </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Spiderman'</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">];</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Again, as with Angular components, register the provider with the <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> by adding it to the <code>providers</code> list of the module.</p>
<code-example path="upgrade-module/src/app/a-to-ajs-providers/app.module.ts" region="ngmodule" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Heroes</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">Heroes</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroApp'</span><span class="pun">],</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> strictDi</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Now wrap the Angular <code>Heroes</code> in an <em>AngularJS factory function</em> using <code><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor">downgradeInjectable</a>()</code> and plug the factory into an AngularJS module.
The name of the AngularJS dependency is up to you:</p>
<code-example path="upgrade-module/src/app/a-to-ajs-providers/app.module.ts" region="register" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Heroes</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./heroes'</span><span class="pun">;</span><span class="pln">
</span><span class="com">/* . . . */</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'heroApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[])</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pun">(</span><span class="typ">Heroes</span><span class="pun">))</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">component</span><span class="pun">(</span><span class="str">'heroDetail'</span><span class="pun">,</span><span class="pln"> heroDetailComponent</span><span class="pun">);</span></code>
    </pre></aio-code></code-example>
<p>After this, the service is injectable anywhere in AngularJS code:</p>
<code-example path="upgrade-module/src/app/a-to-ajs-providers/hero-detail.component.ts" header="hero-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">hero-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> heroDetailComponent </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
    &lt;h2&gt;{{$ctrl.hero.id}}: {{$ctrl.hero.name}}&lt;/h2&gt;
  `</span><span class="pun">,</span><span class="pln">
  controller</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'heroes'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">heroes</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Heroes</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero </span><span class="pun">=</span><span class="pln"> heroes</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">()[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
  </span><span class="pun">}]</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example>
<a class="dashAnchor" name="//apple_ref/Section/Lazy%20Loading%20AngularJS"></a><h2 id="lazy-loading-angularjs">Lazy Loading AngularJS</h2>
<p>When building applications, you want to ensure that only the required resources are loaded when necessary.
Whether that be loading of assets or code, making sure everything that can be deferred until needed keeps your application running efficiently.
This is especially true when running different frameworks in the same application.</p>
<p><a href="./glossary.html#lazy-loading" title="lazy loading - Glossary | Angular">Lazy loading</a> is a technique that defers the loading of required assets and code resources until they are actually used.
This reduces startup time and increases efficiency, especially when running different frameworks in the same application.</p>
<p>When migrating large applications from AngularJS to Angular using a hybrid approach, you want to migrate some of the most commonly used features first, and only use the less commonly used features if needed.
Doing so helps you ensure that the application is still providing a seamless experience for your users while you are migrating.</p>
<p>In most environments where both Angular and AngularJS are used to render the application, both frameworks are loaded in the initial bundle being sent to the client.
This results in both increased bundle size and possible reduced performance.</p>
<p>Overall application performance is affected in cases where the user stays on Angular-rendered pages because the AngularJS framework and application are still loaded and running, even if they are never accessed.</p>
<p>You can take steps to mitigate both bundle size and performance issues.
By isolating your AngularJS application to a separate bundle, you can take advantage of <a href="./glossary.html#lazy-loading" title="lazy loading - Glossary | Angular">lazy loading</a> to load, bootstrap, and render the AngularJS application only when needed.
This strategy reduces your initial bundle size, defers any potential impact from loading both frameworks until absolutely necessary, and keeps your application running as efficiently as possible.</p>
<p>The steps below show you how to do the following:</p>
<ul>
<li>Setup a callback function for your AngularJS bundle.</li>
<li>Create a service that lazy loads and bootstraps your AngularJS app.</li>
<li>Create a routable component for AngularJS content</li>
<li>Create a custom <code>matcher</code> function for AngularJS-specific URLs and configure the Angular <code><a href="../api/router/Router.html" class="code-anchor">Router</a></code> with the custom matcher for AngularJS routes.</li>
</ul>
<h3 id="create-a-service-to-lazy-load-angularjs">Create a service to lazy load AngularJS</h3>
<p>As of Angular version 8, lazy loading code can be accomplished by using the dynamic import syntax <code>import('...')</code>.
In your application, you create a new service that uses dynamic imports to lazy load AngularJS.</p>
<code-example path="upgrade-lazy-load-ajs/src/app/lazy-loader.service.ts" header="src/app/lazy-loader.service.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/lazy-loader.service.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/lazy-loader.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> angular </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'angular'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">LazyLoaderService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> app</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">auto</span><span class="pun">.</span><span class="typ">IInjectorService</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">;</span><span class="pln">

  load</span><span class="pun">(</span><span class="pln">el</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HTMLElement</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">import</span><span class="pun">(</span><span class="str">'./angularjs-app'</span><span class="pun">).</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">app </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">app </span><span class="pun">=</span><span class="pln"> app</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">el</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        console</span><span class="pun">.</span><span class="pln">error</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln">
      </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  destroy</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">app</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">app</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'$rootScope'</span><span class="pun">).</span><span class="pln">$destroy</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The service uses the <code>import()</code> method to load your bundled AngularJS application lazily.
This decreases the initial bundle size of your application as you're not loading code your user doesn't need yet.
You also need to provide a way to <em>bootstrap</em> the application manually after it has been loaded.
AngularJS provides a way to manually bootstrap an application using the <a href="https://docs.angularjs.org/api/ng/function/angular.bootstrap" title="angular.bootstrap | API | AngularJS">angular.bootstrap()</a> method with a provided HTML element.
Your AngularJS application should also expose a <code>bootstrap</code> method that bootstraps the AngularJS app.</p>
<p>To ensure any necessary teardown is triggered in the AngularJS app, such as removal of global listeners, you also implement a method to call the <code>$rootScope.destroy()</code> method.</p>
<code-example path="upgrade-lazy-load-ajs/src/app/angularjs-app/index.ts" header="angularjs-app" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">angularjs-app</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from angularjs-app">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> angular </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'angular'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="str">'angular-route'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> appModule </span><span class="pun">=</span><span class="pln"> angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'myApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="str">'ngRoute'</span><span class="pln">
</span><span class="pun">])</span><span class="pln">
</span><span class="pun">.</span><span class="pln">config</span><span class="pun">([</span><span class="str">'$routeProvider'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'$locationProvider'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">function</span><span class="pln"> config</span><span class="pun">(</span><span class="pln">$routeProvider</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="typ">IRouteProvider</span><span class="pun">,</span><span class="pln">
                  $locationProvider</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">ILocationProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    $locationProvider</span><span class="pun">.</span><span class="pln">html5Mode</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">

    $routeProvider</span><span class="pun">.</span><span class="pln">
      </span><span class="kwd">when</span><span class="pun">(</span><span class="str">'/users'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">`
          &lt;p&gt;
            Users Page
          &lt;/p&gt;
        `</span><span class="pln">
      </span><span class="pun">}).</span><span class="pln">
      otherwise</span><span class="pun">({</span><span class="pln">
        </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}]</span><span class="pln">
</span><span class="pun">);</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> bootstrap</span><span class="pun">(</span><span class="pln">el</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HTMLElement</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">el</span><span class="pun">,</span><span class="pln">  </span><span class="pun">[</span><span class="pln">appModule</span><span class="pun">.</span><span class="pln">name</span><span class="pun">]);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Your AngularJS application is configured with only the routes it needs to render content.
The remaining routes in your application are handled by the Angular Router.
The exposed <code>bootstrap</code> method is called in your Angular application to bootstrap the AngularJS application after the bundle is loaded.</p>
<div class="alert is-important">
<p><strong>NOTE</strong>:
After AngularJS is loaded and bootstrapped, listeners such as those wired up in your route configuration will continue to listen for route changes.
To ensure listeners are shut down when AngularJS isn't being displayed, configure an <code>otherwise</code> option with the <a href="https://docs.angularjs.org/api/ngRoute/provider/$routeProvider" title="$routeProvider | API | AngularJS">$routeProvider</a> that renders an empty template.
This assumes all other routes will be handled by Angular.</p>
</div>
<h3 id="create-a-component-to-render-angularjs-content">Create a component to render AngularJS content</h3>
<p>In your Angular application, you need a component as a placeholder for your AngularJS content.
This component uses the service you create to load and bootstrap your AngularJS application after the component is initialized.</p>
<code-example path="upgrade-lazy-load-ajs/src/app/angular-js/angular-js.component.ts" header="src/app/angular-js/angular-js.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/angular-js/angular-js.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/angular-js/angular-js.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/OnInit.html" class="code-anchor"><span class="typ">OnInit</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/OnDestroy.html" class="code-anchor"><span class="typ">OnDestroy</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/ElementRef.html" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">LazyLoaderService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../lazy-loader.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app-angular-js'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&lt;div ng-view&gt;&lt;/div&gt;'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AngularJSComponent</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/OnInit.html" class="code-anchor"><span class="typ">OnInit</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/OnDestroy.html" class="code-anchor"><span class="typ">OnDestroy</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> lazyLoader</span><span class="pun">:</span><span class="pln"> </span><span class="typ">LazyLoaderService</span><span class="pun">,</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> elRef</span><span class="pun">:</span><span class="pln"> </span><a href="../api/core/ElementRef.html" class="code-anchor"><span class="typ">ElementRef</span></a><span class="pln">
  </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  ngOnInit</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lazyLoader</span><span class="pun">.</span><span class="pln">load</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">elRef</span><span class="pun">.</span><span class="pln">nativeElement</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">


  ngOnDestroy</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">lazyLoader</span><span class="pun">.</span><span class="pln">destroy</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>When the Angular Router matches a route that uses AngularJS, the <code>AngularJSComponent</code> is rendered, and the content is rendered within the AngularJS <a href="https://docs.angularjs.org/api/ngRoute/directive/ngView" title="ngView | API | AngularJS"><code>ng-view</code></a> directive.
When the user navigates away from the route, the <code>$rootScope</code> is destroyed on the AngularJS application.</p>
<h3 id="configure-a-custom-route-matcher-for-angularjs-routes">Configure a custom route matcher for AngularJS routes</h3>
<p>To configure the Angular Router, you must define a route for AngularJS URLs.
To match those URLs, you add a route configuration that uses the <code>matcher</code> property.
The <code>matcher</code> allows you to use custom pattern matching for URL paths.
The Angular Router tries to match on more specific routes such as static and variable routes first.
When it doesn't find a match, it then looks at custom matchers defined in your route configuration.
If the custom matchers don't match a route, it then goes to catch-all routes, such as a 404 page.</p>
<p>The following example defines a custom matcher function for AngularJS routes.</p>
<code-example path="upgrade-lazy-load-ajs/src/app/app-routing.module.ts" header="src/app/app-routing.module.ts" region="matcher" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app-routing.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> isAngularJSUrl</span><span class="pun">(</span><span class="pln">url</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/UrlSegment.html" class="code-anchor"><span class="typ">UrlSegment</span></a><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> url</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> url</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">path</span><span class="pun">.</span><span class="pln">startsWith</span><span class="pun">(</span><span class="str">'users'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">({</span><span class="pln">consumed</span><span class="pun">:</span><span class="pln"> url</span><span class="pun">})</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The following code adds a route object to your routing configuration using the <code>matcher</code> property and custom matcher, and the <code>component</code> property with <code>AngularJSComponent</code>.</p>
<code-example path="upgrade-lazy-load-ajs/src/app/app-routing.module.ts" header="src/app/app-routing.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">src/app/app-routing.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app-routing.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/UrlSegment.html" class="code-anchor"><span class="typ">UrlSegment</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AngularJSComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./angular-js/angular-js.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HomeComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./home/home.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">App404Component</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app404/app404.component'</span><span class="pun">;</span><span class="pln">

</span><span class="com">// Match any URL that starts with `users`</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> isAngularJSUrl</span><span class="pun">(</span><span class="pln">url</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/UrlSegment.html" class="code-anchor"><span class="typ">UrlSegment</span></a><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> url</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> url</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">path</span><span class="pun">.</span><span class="pln">startsWith</span><span class="pun">(</span><span class="str">'users'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="pun">({</span><span class="pln">consumed</span><span class="pun">:</span><span class="pln"> url</span><span class="pun">})</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> routes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="com">// </span><a href="../api/router/Routes.html" class="code-anchor"><span class="com">Routes</span></a><span class="com"> rendered by Angular</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HomeComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">

  </span><span class="com">// AngularJS routes</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> matcher</span><span class="pun">:</span><span class="pln"> isAngularJSUrl</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">AngularJSComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">

  </span><span class="com">// Catch-all route</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'**'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">App404Component</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">routes</span><span class="pun">)],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>When your application matches a route that needs AngularJS, the AngularJS application is loaded and bootstrapped, the AngularJS routes match the necessary URL to render their content, and your application continues to run with both AngularJS and Angular frameworks.</p>
<a class="dashAnchor" name="//apple_ref/Section/Using%20the%20Unified%20Angular%20Location%20Service"></a><h2 id="using-the-unified-angular-location-service">Using the Unified Angular Location Service</h2>
<p>In AngularJS, the <a href="https://docs.angularjs.org/api/ng/service/$location" title="$location | API | AngularJS">$location service</a> handles all routing configuration and navigation, encoding and decoding of URLS, redirects, and interactions with browser APIs.
Angular uses its own underlying <code><a href="../api/common/Location.html" class="code-anchor">Location</a></code> service for all of these tasks.</p>
<p>When you migrate from AngularJS to Angular you will want to move as much responsibility as possible to Angular, so that you can take advantage of new APIs.
To help with the transition, Angular provides the <code><a href="../api/common/upgrade/LocationUpgradeModule.html" class="code-anchor">LocationUpgradeModule</a></code>.
This module enables a <em>unified</em> location service that shifts responsibilities from the AngularJS <code>$location</code> service to the Angular <code><a href="../api/common/Location.html" class="code-anchor">Location</a></code> service.</p>
<p>To use the <code><a href="../api/common/upgrade/LocationUpgradeModule.html" class="code-anchor">LocationUpgradeModule</a></code>, import the symbol from <code>@angular/common/upgrade</code> and add it to your <code>AppModule</code> imports using the static <code><a href="../api/common/upgrade/LocationUpgradeModule.html#config" class="code-anchor">LocationUpgradeModule.config()</a></code> method.</p>
<code-example language="typescript" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-typescript prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="com">// Other imports ...</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/common/upgrade/LocationUpgradeModule.html" class="code-anchor"><span class="typ">LocationUpgradeModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> from </span><span class="str">'@angular/common/upgrade'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="com">// Other </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="com">NgModule</span></a><span class="com"> imports...</span><span class="pln">
    </span><span class="typ">LocationUpgradeModule</span><span class="pun">.</span><span class="pln">config</span><span class="pun">()</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<p>The <code><a href="../api/common/upgrade/LocationUpgradeModule.html#config" class="code-anchor">LocationUpgradeModule.config()</a></code> method accepts a configuration object that allows you to configure options including the <code><a href="../api/common/LocationStrategy.html" class="code-anchor">LocationStrategy</a></code> with the <code>useHash</code> property, and the URL prefix with the <code>hashPrefix</code> property.</p>
<p>The <code>useHash</code> property defaults to <code>false</code>, and the <code>hashPrefix</code> defaults to an empty <code>string</code>.
Pass the configuration object to override the defaults.</p>
<code-example language="typescript" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-typescript prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="typ">LocationUpgradeModule</span><span class="pun">.</span><span class="pln">config</span><span class="pun">({</span><span class="pln">
  useHash</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
  hashPrefix</span><span class="pun">:</span><span class="pln"> </span><span class="str">'!'</span><span class="pln">
</span><span class="pun">})</span></code>
    </pre></aio-code></code-example>
<div class="alert is-important">
<p><strong>NOTE</strong>:
See the <code><a href="../api/common/upgrade/LocationUpgradeConfig.html" class="code-anchor">LocationUpgradeConfig</a></code> for more configuration options available to the <code><a href="../api/common/upgrade/LocationUpgradeModule.html#config" class="code-anchor">LocationUpgradeModule.config()</a></code> method.</p>
</div>
<p>This registers a drop-in replacement for the <code>$location</code> provider in AngularJS.
Once registered, all navigation, routing broadcast messages, and any necessary digest cycles in AngularJS triggered during navigation are handled by Angular.
This gives you a single way to navigate within both sides of your hybrid application consistently.</p>
<p>For usage of the <code>$location</code> service as a provider in AngularJS, you need to downgrade the <code><a href="../api/common/upgrade/$locationShim.html" class="code-anchor">$locationShim</a></code> using a factory provider.</p>
<code-example language="typescript" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-typescript prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="com">// Other imports ...</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> $locationShim </span><span class="pun">}</span><span class="pln"> from </span><span class="str">'@angular/common/upgrade'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> from </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

angular</span><span class="pun">.</span><span class="pln">module</span><span class="pun">(</span><span class="str">'myHybridApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[...])</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'$location'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pun">(</span><span class="pln">$locationShim</span><span class="pun">));</span></code>
    </pre></aio-code></code-example>
<p>Once you introduce the Angular Router, using the Angular Router triggers navigations through the unified location service, still providing a single source for navigating with AngularJS and Angular.</p>
<!--TODO:
Correctly document how to use AOT with SystemJS-based `ngUpgrade` apps (or better yet update the `ngUpgrade` examples/guides to use `@angular/cli`).
See [https://github.com/angular/angular/issues/35989][GithubAngularAngularIssues35989].

## Using Ahead-of-time compilation with hybrid apps

You can take advantage of Ahead-of-time (AOT) compilation on hybrid apps just like on any other Angular application.
The setup for a hybrid app is mostly the same as described in the [Ahead-of-time Compilation chapter][AioGuideAotCompiler] save for differences in `index.html` and `main-aot.ts`

The `index.html` will likely have script tags loading AngularJS files, so the `index.html` for AOT must also load those files.
An easy way to copy them is by adding each to the `copy-dist-files.js` file.

You'll need to use the generated `AppModuleFactory`, instead of the original `AppModule` to bootstrap the hybrid app:

<code-example path="upgrade-phonecat-2-hybrid/app/main-aot.ts" header="app/main-aot.ts">
import { platformBrowser } from &#39;@angular/platform-browser&#39;;

import { AppModule } from &#39;./app.module&#39;;

platformBrowser().bootstrapModule(AppModule);


</code-example>

And that s all you need do to get the full benefit of AOT for Angular apps!
-->
<a class="dashAnchor" name="//apple_ref/Section/PhoneCat%20Upgrade%20Tutorial"></a><h2 id="phonecat-upgrade-tutorial">PhoneCat Upgrade Tutorial</h2>
<p>In this section, you'll learn to prepare and upgrade an application with <code>ngUpgrade</code>.
The example application is <a href="https://github.com/angular/angular-phonecat" title="angular/angular-phonecat | GitHub">Angular PhoneCat</a> from <a href="https://docs.angularjs.org/tutorial" title="PhoneCat Tutorial App | Tutorial | AngularJS">the original AngularJS tutorial</a>, which is where many of us began our Angular adventures.
Now you'll see how to bring that application to the brave new world of Angular.</p>
<p>During the process you'll learn how to apply the steps outlined in the <a href="./upgrade.html#preparation" title="Preparation - Upgrading from AngularJS to Angular | Angular">preparation guide</a>.
You'll align the application with Angular and also start writing in TypeScript.</p>
<p>This tutorial is based on the 1.5.x version of the <code>angular-phonecat</code> tutorial, which is preserved in the <a href="https://github.com/angular/angular-phonecat/commits/1.5-snapshot" title="angular/angular-phonecat v1.5 | GitHub">1.5-snapshot</a> branch of the repository.
To follow along, clone the <a href="https://github.com/angular/angular-phonecat" title="angular/angular-phonecat | GitHub">angular-phonecat</a> repository, check out the <code>1.5-snapshot</code> branch and apply the steps as you go.</p>
<p>In terms of project structure, this is where the work begins:</p>
<div class="filetree">
  <div class="file">
    angular-phonecat
  </div>
  <div class="children">
    <div class="file">
      bower.json
    </div>
    <div class="file">
      karma.conf.js
    </div>
    <div class="file">
      package.json
    </div>
    <div class="file">
      app
    </div>
    <div class="children">
      <div class="file">
        core
      </div>
      <div class="children">
        <div class="file">
          checkmark
        </div>
        <div class="children">
          <div class="file">
            checkmark.filter.js
          </div>
          <div class="file">
            checkmark.filter.spec.js
          </div>
        </div>
        <div class="file">
          phone
        </div>
        <div class="children">
          <div class="file">
            phone.module.js
          </div>
          <div class="file">
            phone.service.js
          </div>
          <div class="file">
            phone.service.spec.js
          </div>
        </div>
        <div class="file">
          core.module.js
        </div>
      </div>
      <div class="file">
        phone-detail
      </div>
      <div class="children">
        <div class="file">
          phone-detail.component.js
        </div>
        <div class="file">
          phone-detail.component.spec.js
        </div>
        <div class="file">
          phone-detail.module.js
        </div>
        <div class="file">
          phone-detail.template.html
        </div>
      </div>
      <div class="file">
        phone-list
      </div>
      <div class="children">
        <div class="file">
          phone-list.component.js
        </div>
        <div class="file">
          phone-list.component.spec.js
        </div>
        <div class="file">
          phone-list.module.js
        </div>
        <div class="file">
          phone-list.template.html
        </div>
      </div>
      <div class="file">
        img
      </div>
      <div class="children">
        <div class="file">
           ...
        </div>
      </div>
      <div class="file">
        phones
      </div>
      <div class="children">
        <div class="file">
           ...
        </div>
      </div>
      <div class="file">
        app.animations.js
      </div>
      <div class="file">
        app.config.js
      </div>
      <div class="file">
        app.css
      </div>
      <div class="file">
        app.module.js
      </div>
      <div class="file">
        index.html
      </div>
    </div>
    <div class="file">
      e2e-tests
    </div>
    <div class="children">
      <div class="file">
        protractor-conf.js
      </div>
      <div class="file">
        scenarios.js
      </div>
    </div>
  </div>
</div>
<p>This is actually a pretty good starting point.
The code uses the AngularJS 1.5 component API and the organization follows the <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md" title="Angular 1 Style Guide | johnpapa/angular-styleguide | GitHub">AngularJS Style Guide</a>, which is an important <a href="./upgrade.html#follow-the-angularjs-style-guide" title="Follow the AngularJS Style Guide - Upgrading from AngularJS to Angular | Angular">preparation step</a> before a successful upgrade.</p>
<ul>
<li>
<p>Each component, service, and filter is in its own source file, as per the
<a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#single-responsibility" title="Single Responsibility - Angular 1 Style Guide | johnpapa/angular-styleguide | GitHub">Rule of 1</a>.</p>
</li>
<li>
<p>The <code>core</code>, <code>phone-detail</code>, and <code>phone-list</code> modules are each in their own subdirectory.
Those subdirectories contain the JavaScript code as well as the HTML templates that go with each particular feature.
This is in line with the <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#folders-by-feature-structure" title="Folders-by-Feature Structure - Angular 1 Style Guide | johnpapa/angular-styleguide | GitHub">Folders-by-Feature Structure</a> and <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#modularity" title="Modularity - Angular 1 Style Guide | johnpapa/angular-styleguide | GitHub">Modularity</a> rules.</p>
</li>
<li>
<p>Unit tests are located side-by-side with application code where they are easily found, as described in the rules for <a href="https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#organizing-tests" title="Organizing Tests - Angular 1 Style Guide | johnpapa/angular-styleguide | GitHub">Organizing Tests</a>.</p>
</li>
</ul>
<h3 id="switching-to-typescript">Switching to TypeScript</h3>
<p>Since you're going to be writing Angular code in TypeScript, it makes sense to bring in the TypeScript compiler even before you begin upgrading.</p>
<p>You'll also start to gradually phase out the Bower package manager in favor of NPM, installing all new dependencies using NPM, and eventually removing Bower from the project.</p>
<p>Begin by installing TypeScript to the project.</p>
<code-example language="shell" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-shell prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">npm i typescript </span><span class="pun">--</span><span class="pln">save</span><span class="pun">-</span><span class="pln">dev</span></code>
    </pre></aio-code></code-example>
<p>Install type definitions for the existing libraries that you're using but that don't come with prepackaged types:
AngularJS, AngularJS Material, and the Jasmine unit test framework.</p>
<p>For the PhoneCat app, we can install the necessary type definitions by running the following command:</p>
<code-example language="shell" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-shell prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">npm install </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">jasmine </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">animate </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">aria </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">cookies </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">mocks </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">resource </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">route </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">sanitize </span><span class="pun">--</span><span class="pln">save</span><span class="pun">-</span><span class="pln">dev</span></code>
    </pre></aio-code></code-example>
<p>If you are using AngularJS Material, you can install the type definitions via:</p>
<code-example language="shell" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-shell prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">npm install </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">material </span><span class="pun">--</span><span class="pln">save</span><span class="pun">-</span><span class="pln">dev</span></code>
    </pre></aio-code></code-example>
<p>You should also configure the TypeScript compiler with a <code>tsconfig.json</code> in the project directory as described in the <a href="./typescript-configuration.html" title="TypeScript configuration | Angular">TypeScript Configuration</a> guide.
The <code>tsconfig.json</code> file tells the TypeScript compiler how to turn your TypeScript files into ES5 code bundled into CommonJS modules.</p>
<p>Finally, you should add some npm scripts in <code>package.json</code> to compile the TypeScript files to JavaScript (based on the <code>tsconfig.json</code> configuration file):</p>
<code-example language="shell" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-shell prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="str">"scripts"</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="str">"tsc"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"tsc"</span><span class="pun">,</span><span class="pln">
  </span><span class="str">"tsc:w"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"tsc -w"</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">...</span></code>
    </pre></aio-code></code-example>
<p>Now launch the TypeScript compiler from the command line in watch mode:</p>
<code-example language="shell" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-shell prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">npm run tsc</span><span class="pun">:</span><span class="pln">w</span></code>
    </pre></aio-code></code-example>
<p>Keep this process running in the background, watching and recompiling as you make changes.</p>
<p>Next, convert your current JavaScript files into TypeScript.
Since TypeScript is a super-set of ECMAScript 2015, which in turn is a super-set of ECMAScript 5, you can switch the file extensions from <code>.js</code> to <code>.ts</code> and everything will work just like it did before.
As the TypeScript compiler runs, it emits the corresponding <code>.js</code> file for every <code>.ts</code> file and the compiled JavaScript is what actually gets executed.
If you start the project HTTP server with <code>npm start</code>, you should see the fully functional application in your browser.</p>
<p>Now that you have TypeScript though, you can start benefiting from some of its features.
There is a lot of value the language can provide to AngularJS applications.</p>
<p>For one thing, TypeScript is a superset of ES2015.
Any application that has previously been written in ES5 —like the PhoneCat example has— can with TypeScript start incorporating all of the JavaScript features that are new to ES2015.
These include things like <code>let</code>s and <code>const</code>s, arrow functions, default function parameters, and destructuring assignments.</p>
<p>Another thing you can do is start adding <em>type safety</em> to your code.
This has actually partially already happened because of the AngularJS typings you installed.
TypeScript are checking that you are calling AngularJS APIs correctly when you do things like register components to Angular modules.</p>
<p>But you can also start adding <em>type annotations</em> to get even more out of type system of TypeScript.
For instance, you can annotate the checkmark filter so that it explicitly expects booleans as arguments.
This makes it clearer what the filter is supposed to do.</p>
<code-example path="upgrade-phonecat-1-typescript/app/core/checkmark/checkmark.filter.ts" header="app/core/checkmark/checkmark.filter.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/core/checkmark/checkmark.filter.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/core/checkmark/checkmark.filter.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">angular</span><span class="pun">.</span><span class="pln">
  </span><span class="kwd">module</span><span class="pun">(</span><span class="str">'core'</span><span class="pun">).</span><span class="pln">
  filter</span><span class="pun">(</span><span class="str">'checkmark'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">input</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> input </span><span class="pun">?</span><span class="pln"> </span><span class="str">'\u2713'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">'\u2718'</span><span class="pun">);</span></code>
    </pre></aio-code></code-example>
<p>In the <code>Phone</code> service, you can explicitly annotate the <code>$resource</code> service dependency as an <code>angular.resource.IResourceService</code> - a type defined by the AngularJS typings.</p>
<code-example path="upgrade-phonecat-1-typescript/app/core/phone/phone.service.ts" header="app/core/phone/phone.service.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/core/phone/phone.service.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/core/phone/phone.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">angular</span><span class="pun">.</span><span class="pln">
  </span><span class="kwd">module</span><span class="pun">(</span><span class="str">'core.phone'</span><span class="pun">).</span><span class="pln">
  factory</span><span class="pun">(</span><span class="str">'Phone'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$resource'</span><span class="pun">,</span><span class="pln">
    </span><span class="pun">(</span><span class="pln">$resource</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">resource</span><span class="pun">.</span><span class="typ">IResourceService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln">
      $resource</span><span class="pun">(</span><span class="str">'phones/:phoneId.json'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          method</span><span class="pun">:</span><span class="pln"> </span><span class="str">'GET'</span><span class="pun">,</span><span class="pln">
          </span><span class="kwd">params</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">phoneId</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phones'</span><span class="pun">},</span><span class="pln">
          isArray</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">})</span><span class="pln">
  </span><span class="pun">]);</span></code>
    </pre></aio-code></code-example>
<p>You can apply the same trick to the route configuration file of the application in <code>app.config.ts</code>, where you are using the location and route services.
By annotating them accordingly TypeScript can verify you're calling their APIs with the correct kinds of arguments.</p>
<code-example path="upgrade-phonecat-1-typescript/app/app.config.ts" header="app/app.config.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/app.config.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/app.config.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">angular</span><span class="pun">.</span><span class="pln">
  </span><span class="kwd">module</span><span class="pun">(</span><span class="str">'phonecatApp'</span><span class="pun">).</span><span class="pln">
  config</span><span class="pun">([</span><span class="str">'$locationProvider'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'$routeProvider'</span><span class="pun">,</span><span class="pln">
    </span><span class="kwd">function</span><span class="pln"> config</span><span class="pun">(</span><span class="pln">$locationProvider</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">ILocationProvider</span><span class="pun">,</span><span class="pln">
                    $routeProvider</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="typ">IRouteProvider</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $locationProvider</span><span class="pun">.</span><span class="pln">hashPrefix</span><span class="pun">(</span><span class="str">'!'</span><span class="pun">);</span><span class="pln">

      $routeProvider</span><span class="pun">.</span><span class="pln">
        </span><span class="kwd">when</span><span class="pun">(</span><span class="str">'/phones'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&lt;phone-list&gt;&lt;/phone-list&gt;'</span><span class="pln">
        </span><span class="pun">}).</span><span class="pln">
        </span><span class="kwd">when</span><span class="pun">(</span><span class="str">'/phones/:phoneId'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&lt;phone-detail&gt;&lt;/phone-detail&gt;'</span><span class="pln">
        </span><span class="pun">}).</span><span class="pln">
        otherwise</span><span class="pun">(</span><span class="str">'/phones'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
  </span><span class="pun">]);</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>The <a href="https://www.npmjs.com/package/@types/angular" title="@types/angular | npm">AngularJS 1.x type definitions</a> you installed are not officially maintained by the Angular team, but are quite comprehensive.
It is possible to make an AngularJS 1.x application fully type-annotated with the help of these definitions.</p>
<p>If this is something you wanted to do, it would be a good idea to enable the <code>noImplicitAny</code> configuration option in <code>tsconfig.json</code>.
This would cause the TypeScript compiler to display a warning when there is any code that does not yet have type annotations.
You could use it as a guide to inform us about how close you are to having a fully annotated project.</p>
</div>
<p>Another TypeScript feature you can make use of is <em>classes</em>.
In particular, you can turn component controllers into classes.
That way they'll be a step closer to becoming Angular component classes, which will make life easier once you upgrade.</p>
<p>AngularJS expects controllers to be constructor functions.
That is exactly what ES2015/TypeScript classes are under the hood, so that means you can just plug in a class as a component controller and AngularJS will happily use it.</p>
<p>Here is what the new class for the phone list component controller looks like:</p>
<code-example path="upgrade-phonecat-1-typescript/app/phone-list/phone-list.component.ts" header="app/phone-list/phone-list.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-list/phone-list.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-list/phone-list.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">class</span><span class="pln"> </span><span class="typ">PhoneListController</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  phones</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">[];</span><span class="pln">
  orderProp</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">
  </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">

  </span><a href="../api/upgrade/static.html" class="code-anchor"><span class="kwd">static</span></a><span class="pln"> $inject </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'Phone'</span><span class="pun">];</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="typ">Phone</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">phones </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">.</span><span class="pln">query</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">orderProp </span><span class="pun">=</span><span class="pln"> </span><span class="str">'age'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span><span class="pln">

angular</span><span class="pun">.</span><span class="pln">
  </span><span class="kwd">module</span><span class="pun">(</span><span class="str">'phoneList'</span><span class="pun">).</span><span class="pln">
  component</span><span class="pun">(</span><span class="str">'phoneList'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phone-list/phone-list.template.html'</span><span class="pun">,</span><span class="pln">
    controller</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneListController</span><span class="pln">
  </span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>What was previously done in the controller function is now done in the class constructor function.
The dependency injection annotations are attached to the class using a static property <code>$inject</code>.
At runtime this becomes the <code>PhoneListController.$inject</code> property.</p>
<p>The class additionally declares three members:
The array of phones, the name of the current sort key, and the search query.
These are all things you have already been attaching to the controller but that weren't explicitly declared anywhere.
The last one of these isn't actually used in the TypeScript code since it is only referred to in the template, but for the sake of clarity you should define all of the controller members.</p>
<p>In the Phone detail controller, you'll have two members:
One for the phone that the user is looking at and another for the URL of the currently displayed image:</p>
<code-example path="upgrade-phonecat-1-typescript/app/phone-detail/phone-detail.component.ts" header="app/phone-detail/phone-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-detail/phone-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-detail/phone-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">class</span><span class="pln"> </span><span class="typ">PhoneDetailController</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  phone</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">;</span><span class="pln">
  mainImageUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">

  </span><a href="../api/upgrade/static.html" class="code-anchor"><span class="kwd">static</span></a><span class="pln"> $inject </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$routeParams'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'Phone'</span><span class="pun">];</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">$routeParams</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="typ">IRouteParamsService</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> phoneId </span><span class="pun">=</span><span class="pln"> $routeParams</span><span class="pun">.</span><span class="pln">phoneId</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">phone </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">({</span><span class="pln">phoneId</span><span class="pun">},</span><span class="pln"> </span><span class="pun">(</span><span class="pln">phone</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">setImage</span><span class="pun">(</span><span class="pln">phone</span><span class="pun">.</span><span class="pln">images</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  setImage</span><span class="pun">(</span><span class="pln">imageUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">mainImageUrl </span><span class="pun">=</span><span class="pln"> imageUrl</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

angular</span><span class="pun">.</span><span class="pln">
  </span><span class="kwd">module</span><span class="pun">(</span><span class="str">'phoneDetail'</span><span class="pun">).</span><span class="pln">
  component</span><span class="pun">(</span><span class="str">'phoneDetail'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phone-detail/phone-detail.template.html'</span><span class="pun">,</span><span class="pln">
    controller</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneDetailController</span><span class="pln">
  </span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>This makes the controller code look a lot more like Angular already.
You're all set to actually introduce Angular into the project.</p>
<p>If you had any AngularJS services in the project, those would also be a good candidate for converting to classes, since like controllers, they're also constructor functions.
But you only have the <code>Phone</code> factory in this project, and that is a bit special since it is an <code>ngResource</code> factory.
So you won't be doing anything to it in the preparation stage.
You'll instead turn it directly into an Angular service.</p>
<h3 id="installing-angular">Installing Angular</h3>
<p>Having completed the preparation work, get going with the Angular upgrade of PhoneCat.
You'll do this incrementally with the help of <a href="./upgrade.html#upgrading-with-ngupgrade" title="Upgrading with ngUpgrade - Upgrading from AngularJS to Angular | Angular">ngUpgrade</a> that comes with Angular.
By the time you're done, you'll be able to remove AngularJS from the project completely, but the key is to do this piece by piece without breaking the application.</p>
<div class="alert is-important">
<p>The project also contains some animations.
You won't upgrade them in this version of the guide.
Turn to the <a href="./animations.html" title="Introduction to Angular animations | Angular">Angular animations</a> guide to learn about that.</p>
</div>
<p>Install Angular into the project, along with the SystemJS module loader.
Take a look at the results of the <a href="./upgrade-setup.html" title="Setup for upgrading from AngularJS | Angular">upgrade setup instructions</a> and get the following configurations from there:</p>
<ul>
<li>Add Angular and the other new dependencies to <code>package.json</code></li>
<li>The SystemJS configuration file <code>systemjs.config.js</code> to the project root directory.</li>
</ul>
<p>Once these are done, run:</p>
<code-example language="shell" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-shell prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">npm install</span></code>
    </pre></aio-code></code-example>
<p>Soon you can load Angular dependencies into the application inside <code>index.html</code>, but first you need to do some directory path adjustments.
You'll need to load files from <code>node_modules</code> and the project root instead of from the <code>/app</code> directory as you've been doing to this point.</p>
<p>Move the <code>app/index.html</code> file to the project root directory.
Then change the development server root path in <code>package.json</code> to also point to the project root instead of <code>app</code>:</p>
<code-example language="json" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-json prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="str">"start"</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http-server ./ -a localhost -p 8000 -c-1"</span><span class="pun">,</span></code>
    </pre></aio-code></code-example>
<p>Now you're able to serve everything from the project root to the web browser.
But you do <em>not</em> want to have to change all the image and data paths used in the application code to match the development setup.
For that reason, you'll add a <code>&lt;base&gt;</code> tag to <code>index.html</code>, which will cause relative URLs to be resolved back to the <code>/app</code> directory:</p>
<code-example path="upgrade-phonecat-2-hybrid/index.html" region="base" header="index.html" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">index.html</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from index.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;base</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/app/"</span><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example>
<p>Now you can load Angular using SystemJS.
You'll add the Angular polyfills and the SystemJS configuration to the end of the <code>&lt;head&gt;</code> section, and then you'll use <code>System.import</code> to load the actual application:</p>
<code-example path="upgrade-phonecat-2-hybrid/index.html" region="angular" header="index.html" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">index.html</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from index.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/node_modules/core-js/client/shim.min.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
</span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/node_modules/zone.js/bundles/zone.umd.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
</span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/node_modules/systemjs/dist/system.src.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
</span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/systemjs.config.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
</span><span class="tag">&lt;script&gt;</span><span class="pln">
  </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">import</span><span class="pun">(</span><span class="str">'/app'</span><span class="pun">);</span><span class="pln">
</span><span class="tag">&lt;/script&gt;</span></code>
    </pre></aio-code></code-example>
<p>You also need to make a couple of adjustments to the <code>systemjs.config.js</code> file installed during <a href="./upgrade-setup.html" title="Setup for upgrading from AngularJS | Angular">upgrade setup</a>.</p>
<p>Point the browser to the project root when loading things through SystemJS, instead of using the <code>&lt;base&gt;</code> URL.</p>
<p>Install the <code>upgrade</code> package using <code>npm install @angular/upgrade --save</code> and add a mapping for the <code>@angular/upgrade/<a href="../api/upgrade/static.html" class="code-anchor">static</a></code> package.</p>
<code-example path="upgrade-phonecat-2-hybrid/systemjs.config.1.js" region="paths" header="systemjs.config.js" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">systemjs.config.js</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from systemjs.config.js">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="typ">System</span><span class="pun">.</span><span class="pln">config</span><span class="pun">({</span><span class="pln">
  paths</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// paths serve as alias</span><span class="pln">
    </span><span class="str">'npm:'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/node_modules/'</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
  map</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">'ng-loader'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'../src/systemjs-angular-loader.js'</span><span class="pun">,</span><span class="pln">
    app</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/app'</span><span class="pun">,</span><span class="pln">
    </span><span class="com">/* . . . */</span><span class="pln">
    </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/upgrade/fesm2015/static.mjs'</span><span class="pun">,</span><span class="pln">
    </span><span class="com">/* . . . */</span><span class="pln">
  </span><span class="pun">},</span></code>
    </pre></aio-code></code-example>
<h3 id="creating-the-appmodule">Creating the <em>AppModule</em></h3>
<p>Now create the root <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> class called <code>AppModule</code>.
There is already a file named <code>app.module.ts</code> that holds the AngularJS module.
Rename it to <code>app.module.ajs.ts</code> and update the corresponding script name in the <code>index.html</code> as well.
The file contents remain:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/app.module.ajs.ts" header="app.module.ajs.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ajs.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ajs.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="com">// Define the `phonecatApp` AngularJS module</span><span class="pln">
angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'phonecatApp'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="str">'ngAnimate'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'ngRoute'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'core'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'phoneDetail'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'phoneList'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">]);</span></code>
    </pre></aio-code></code-example>
<p>Now create a new <code>app.module.ts</code> with the minimum <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> class:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/app.module.ts" region="bare" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<h3 id="bootstrapping-a-hybrid-phonecat">Bootstrapping a hybrid PhoneCat</h3>
<p>Next, you'll bootstrap the application as a <em>hybrid application</em> that supports both AngularJS and Angular components.
After that, you can start converting the individual pieces to Angular.</p>
<p>The application is currently bootstrapped using the AngularJS <code>ng-app</code> directive attached to the <code>&lt;html&gt;</code> element of the host page.
This will no longer work in the hybrid application.
Switch to the <a href="./upgrade.html#bootstrapping-hybrid-applications" title="Bootstrapping hybrid applications - Upgrading from AngularJS to Angular | Angular">ngUpgrade bootstrap</a> method instead.</p>
<p>First, remove the <code>ng-app</code> attribute from <code>index.html</code>.
Then import <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> in the <code>AppModule</code>, and override its <code>ngDoBootstrap</code> method:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/app.module.ts" region="upgrademodule" header="app/app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">documentElement</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'phonecatApp'</span><span class="pun">]);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>You are bootstrapping the AngularJS module from inside <code>ngDoBootstrap</code>.
The arguments are the same as you would pass to <code>angular.bootstrap</code> if you were manually bootstrapping AngularJS:
the root element of the application; and an array of the AngularJS 1.x modules that you want to load.</p>
<p>Finally, bootstrap the <code>AppModule</code> in <code>app/main.ts</code>.
This file has been configured as the application entrypoint in <code>systemjs.config.js</code>, so it is already being loaded by the browser.</p>
<code-example path="upgrade-phonecat-2-hybrid/app/main.ts" region="bootstrap" header="app/main.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/main.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/main.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser-dynamic/platformBrowserDynamic.html" class="code-anchor"><span class="pln">platformBrowserDynamic</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser-dynamic'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.module'</span><span class="pun">;</span><span class="pln">

</span><a href="../api/platform-browser-dynamic/platformBrowserDynamic.html" class="code-anchor"><span class="pln">platformBrowserDynamic</span></a><span class="pun">().</span><span class="pln">bootstrapModule</span><span class="pun">(</span><span class="typ">AppModule</span><span class="pun">);</span></code>
    </pre></aio-code></code-example>
<p>Now you're running both AngularJS and Angular at the same time.
That is pretty exciting!
You're not running any actual Angular components yet.
That is next.</p>
<div class="alert is-helpful">
<header>Why declare *angular* as *angular.IAngularStatic*?</header>
<p><code>@types/angular</code> is declared as a UMD module, and due to the way <a href="https://github.com/Microsoft/TypeScript/wiki/What's-new-in-TypeScript#support-for-umd-module-definitions" title="Support for UMD module definitions - What's new in TypeScript | microsoft/TypeScript | GitHub">UMD typings</a> work, once you have an ES6 <code>import</code> statement in a file all UMD typed modules must also be imported using <code>import</code> statements instead of being globally available.</p>
<p>AngularJS is currently loaded by a script tag in <code>index.html</code>, which means that the whole app has access to it as a global and uses the same instance of the <code>angular</code> variable.
If you used <code>import * as angular from 'angular'</code> instead, you'd also have to load every file in the AngularJS application to use ES2015 modules in order to ensure AngularJS was being loaded correctly.</p>
<p>This is a considerable effort and it often isn't worth it, especially since you are in the process of moving your code to Angular.
Instead, declare <code>angular</code> as <code>angular.IAngularStatic</code> to indicate it is a global variable and still have full typing support.</p>
<div class="alert is-important">
<header>Manually create a UMD bundle for your Angular application</header>
<p>Starting with Angular version 13, the <a href="https://github.com/angular/angular/issues/38366" title=" Issue 38366: RFC: Ivy Library Distribution| angular/angular | GitHub">distribution format</a> no longer includes UMD bundles.</p>
<p>If your use case requires the UMD format, use <a href="https://rollupjs.org/" title="rollup.js"><code>rollup</code></a> to manually produce a bundle from the flat ES module files.</p>
<ol>
<li>
<p>Use <code>npm</code> to globally install <code>rollup</code></p>
<code-example language="shell" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-shell prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">npm i </span><span class="pun">-</span><span class="pln">g rollup</span></code>
    </pre></aio-code></code-example>
</li>
<li>
<p>Output the version of <code>rollup</code> and verify the installation was successful</p>
<code-example language="shell" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-shell prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">rollup </span><span class="pun">-</span><span class="pln">v</span></code>
    </pre></aio-code></code-example>
</li>
<li>
<p>Create the <code>rollup.config.js</code> configuration file for <code>rollup</code> to use the global <code>ng</code> command to reference all of the Angular framework exports.</p>
<ol>
<li>
<p>Create a file named <code>rollup.config.js</code></p>
</li>
<li>
<p>Copy the following content into <code>rollup.config.js</code></p>
<code-example language="javascript" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-javascript prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">default</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  input</span><span class="pun">:</span><span class="pln"> </span><span class="str">'node_modules/@angular/core/fesm2015/core.js'</span><span class="pun">,</span><span class="pln">
  output</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    file</span><span class="pun">:</span><span class="pln"> </span><span class="str">'bundle.js'</span><span class="pun">,</span><span class="pln">
    format</span><span class="pun">:</span><span class="pln"> </span><span class="str">'umd'</span><span class="pun">,</span><span class="pln">
    name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'ng'</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
</li>
</ol>
</li>
<li>
<p>Use <code>rollup</code> to create the <code>bundle.js</code> UMD bundle using settings in <code>rollup.config.js</code></p>
<code-example language="shell" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-shell prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">rollup </span><span class="pun">-</span><span class="pln">c rollup</span><span class="pun">.</span><span class="pln">config</span><span class="pun">.</span><span class="pln">js</span></code>
    </pre></aio-code></code-example>
</li>
</ol>
<p>The <code>bundle.js</code> file contains your UMD bundle.
For an example on GitHub, see <a href="https://github.com/mgechev/angular-umd-bundle" title="UMD Angular bundle | mgechev/angular-umd-bundle | GitHub">UMD Angular bundle</a>.</p>
</div>
</div>
<h3 id="upgrading-the-phone-service">Upgrading the Phone service</h3>
<p>The first piece you'll port over to Angular is the <code>Phone</code> service, which resides in <code>app/core/phone/phone.service.ts</code> and makes it possible for components to load phone information from the server.
Right now it is implemented with ngResource and you're using it for two things:</p>
<ul>
<li>For loading the list of all phones into the phone list component.</li>
<li>For loading the details of a single phone into the phone detail component.</li>
</ul>
<p>You can replace this implementation with an Angular service class, while keeping the controllers in AngularJS land.</p>
<p>In the new version, you import the Angular HTTP module and call its <code><a href="../api/common/http/HttpClient.html" class="code-anchor">HttpClient</a></code> service instead of <code>ngResource</code>.</p>
<p>Re-open the <code>app.module.ts</code> file, import and add <code><a href="../api/common/http/HttpClientModule.html" class="code-anchor">HttpClientModule</a></code> to the <code>imports</code> array of the <code>AppModule</code>:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/app.module.ts" region="httpclientmodule" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/common/http/HttpClientModule.html" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common/</span><a href="../api/common/http.html" class="code-anchor"><span class="str">http</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/common/http/HttpClientModule.html" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">documentElement</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'phonecatApp'</span><span class="pun">]);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Now you're ready to upgrade the Phone service itself.
Replace the ngResource-based service in <code>phone.service.ts</code> with a TypeScript class decorated as <code>@<a href="../api/core/Injectable.html" class="code-anchor">Injectable</a></code>:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/core/phone/phone.service.ts" region="classdef" header="app/core/phone/phone.service.ts (skeleton)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/core/phone/phone.service.ts (skeleton)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/core/phone/phone.service.ts (skeleton)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">()</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Phone</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="com">/* . . . */</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The <code>@<a href="../api/core/Injectable.html" class="code-anchor">Injectable</a></code> decorator will attach some dependency injection metadata to the class, letting Angular know about its dependencies.
As described by the <a href="./dependency-injection.html" title="Dependency injection in Angular | Angular">Dependency Injection Guide</a>, this is a marker decorator you need to use for classes that have no other Angular decorators but still need to have their dependencies injected.</p>
<p>In its constructor the class expects to get the <code><a href="../api/common/http/HttpClient.html" class="code-anchor">HttpClient</a></code> service.
It will be injected to it and it is stored as a private field.
The service is then used in the two instance methods, one of which loads the list of all phones, and the other loads the details of a specified phone:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/core/phone/phone.service.ts" region="fullclass" header="app/core/phone/phone.service.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/core/phone/phone.service.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/core/phone/phone.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">()</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Phone</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> </span><a href="../api/common/http.html" class="code-anchor"><span class="pln">http</span></a><span class="pun">:</span><span class="pln"> </span><a href="../api/common/http/HttpClient.html" class="code-anchor"><span class="typ">HttpClient</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">PhoneData</span><span class="pun">[]&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">PhoneData</span><span class="pun">[]&gt;(</span><span class="str">`phones/phones.json`</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">get</span><span class="pun">(</span><span class="pln">id</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">PhoneData</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">PhoneData</span><span class="pun">&gt;(</span><span class="str">`phones/${id}.json`</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The methods now return observables of type <code>PhoneData</code> and <code>PhoneData[]</code>.
This is a type you don't have yet.
Add a simple interface for it:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/core/phone/phone.service.ts" region="phonedata-interface" header="app/core/phone/phone.service.ts (interface)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/core/phone/phone.service.ts (interface)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/core/phone/phone.service.ts (interface)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  name</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">
  snippet</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">
  images</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">[];</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p><code>@angular/upgrade/<a href="../api/upgrade/static.html" class="code-anchor">static</a></code> has a <code><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor">downgradeInjectable</a></code> method for the purpose of making Angular services available to AngularJS code.
Use it to plug in the <code>Phone</code> service:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/core/phone/phone.service.ts" region="downgrade-injectable" header="app/core/phone/phone.service.ts (downgrade)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/core/phone/phone.service.ts (downgrade)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/core/phone/phone.service.ts (downgrade)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">declare </span><span class="kwd">const</span><span class="pln"> angular</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IAngularStatic</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">
</span><span class="com">/* . . . */</span><span class="pln">
</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">()</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Phone</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
</span><span class="com">/* . . . */</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'core.phone'</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'phone'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pun">(</span><span class="typ">Phone</span><span class="pun">));</span></code>
    </pre></aio-code></code-example>
<p>Here is the full, final code for the service:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/core/phone/phone.service.ts" header="app/core/phone/phone.service.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/core/phone/phone.service.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/core/phone/phone.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Injectable.html" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/common/http/HttpClient.html" class="code-anchor"><span class="typ">HttpClient</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common/</span><a href="../api/common/http.html" class="code-anchor"><span class="str">http</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

declare </span><span class="kwd">const</span><span class="pln"> angular</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IAngularStatic</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  name</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">
  snippet</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">
  images</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">[];</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Injectable.html" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">()</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Phone</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> </span><a href="../api/common/http.html" class="code-anchor"><span class="pln">http</span></a><span class="pun">:</span><span class="pln"> </span><a href="../api/common/http/HttpClient.html" class="code-anchor"><span class="typ">HttpClient</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">PhoneData</span><span class="pun">[]&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">PhoneData</span><span class="pun">[]&gt;(</span><span class="str">`phones/phones.json`</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">get</span><span class="pun">(</span><span class="pln">id</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">PhoneData</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">PhoneData</span><span class="pun">&gt;(</span><span class="str">`phones/${id}.json`</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'core.phone'</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">factory</span><span class="pun">(</span><span class="str">'phone'</span><span class="pun">,</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor"><span class="pln">downgradeInjectable</span></a><span class="pun">(</span><span class="typ">Phone</span><span class="pun">));</span></code>
    </pre></aio-code></code-example>
<p>Notice that you're importing the <code>map</code> operator of the RxJS <code>Observable</code> separately.
Do this for every RxJS operator.</p>
<p>The new <code>Phone</code> service has the same features as the original, <code>ngResource</code>-based service.
Because it is an Angular service, you register it with the <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> providers:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/app.module.ts" region="phone" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Phone</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./core/phone/phone.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/common/http/HttpClientModule.html" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">documentElement</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'phonecatApp'</span><span class="pun">]);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Now that you are loading <code>phone.service.ts</code> through an import that is resolved by SystemJS, you should <strong>remove the &lt;script&gt; tag</strong> for the service from <code>index.html</code>.
This is something you'll do to all components as you upgrade them.
Simultaneously with the AngularJS to Angular upgrade you're also migrating code from scripts to modules.</p>
<p>At this point, you can switch the two components to use the new service instead of the old one.
While you <code>$inject</code> it as the downgraded <code>phone</code> factory, it is really an instance of the <code>Phone</code> class and you annotate its type accordingly:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-list/phone-list.component.ajs.ts" header="app/phone-list/phone-list.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-list/phone-list.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-list/phone-list.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">declare </span><span class="kwd">const</span><span class="pln"> angular</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IAngularStatic</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../core/phone/phone.service'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">PhoneListController</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  phones</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">[];</span><span class="pln">
  orderProp</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">

  </span><a href="../api/upgrade/static.html" class="code-anchor"><span class="kwd">static</span></a><span class="pln"> $inject </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'phone'</span><span class="pun">];</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">phone</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    phone</span><span class="pun">.</span><span class="pln">query</span><span class="pun">().</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">phones </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">phones </span><span class="pun">=</span><span class="pln"> phones</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">orderProp </span><span class="pun">=</span><span class="pln"> </span><span class="str">'age'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span><span class="pln">

angular</span><span class="pun">.</span><span class="pln">
  </span><span class="kwd">module</span><span class="pun">(</span><span class="str">'phoneList'</span><span class="pun">).</span><span class="pln">
  component</span><span class="pun">(</span><span class="str">'phoneList'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app/phone-list/phone-list.template.html'</span><span class="pun">,</span><span class="pln">
    controller</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneListController</span><span class="pln">
  </span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-detail/phone-detail.component.ajs.ts" header="app/phone-detail/phone-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-detail/phone-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-detail/phone-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">declare </span><span class="kwd">const</span><span class="pln"> angular</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IAngularStatic</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../core/phone/phone.service'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">PhoneDetailController</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  phone</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">;</span><span class="pln">
  mainImageUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">

  </span><a href="../api/upgrade/static.html" class="code-anchor"><span class="kwd">static</span></a><span class="pln"> $inject </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$routeParams'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'phone'</span><span class="pun">];</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">$routeParams</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="typ">IRouteParamsService</span><span class="pun">,</span><span class="pln"> phone</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> phoneId </span><span class="pun">=</span><span class="pln"> $routeParams</span><span class="pun">.</span><span class="pln">phoneId</span><span class="pun">;</span><span class="pln">
    phone</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">phoneId</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">data </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">phone </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">setImage</span><span class="pun">(</span><span class="pln">data</span><span class="pun">.</span><span class="pln">images</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  setImage</span><span class="pun">(</span><span class="pln">imageUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">mainImageUrl </span><span class="pun">=</span><span class="pln"> imageUrl</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

angular</span><span class="pun">.</span><span class="pln">
  </span><span class="kwd">module</span><span class="pun">(</span><span class="str">'phoneDetail'</span><span class="pun">).</span><span class="pln">
  component</span><span class="pun">(</span><span class="str">'phoneDetail'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phone-detail/phone-detail.template.html'</span><span class="pun">,</span><span class="pln">
    controller</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneDetailController</span><span class="pln">
  </span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>Now there are two AngularJS components using an Angular service!
The components don't need to be aware of this, though the fact that the service returns observables and not promises is a bit of a giveaway.
In any case, what you've achieved is a migration of a service to Angular without having to yet migrate the components that use it.</p>
<div class="alert is-helpful">
<p>You could use the <code>toPromise</code> method of <code>Observable</code> to turn those observables into promises in the service.
In many cases that reduce the number of changes to the component controllers.</p>
</div>
<h3 id="upgrading-components">Upgrading Components</h3>
<p>Upgrade the AngularJS components to Angular components next.
Do it one component at a time while still keeping the application in hybrid mode.
As you make these conversions, you'll also define your first Angular <em>pipes</em>.</p>
<p>Look at the phone list component first.
Right now it contains a TypeScript controller class and a component definition object.
You can morph this into an Angular component by just renaming the controller class and turning the AngularJS component definition object into an Angular <code>@<a href="../api/core/Component.html" class="code-anchor">Component</a></code> decorator.
You can then also remove the static <code>$inject</code> property from the class:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-list/phone-list.component.ts" region="initialclass" header="app/phone-list/phone-list.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-list/phone-list.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-list/phone-list.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../core/phone/phone.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phone-list'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./phone-list.template.html'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">PhoneListComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  phones</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">[];</span><span class="pln">
  </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">
  orderProp</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">phone</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    phone</span><span class="pun">.</span><span class="pln">query</span><span class="pun">().</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">phones </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">phones </span><span class="pun">=</span><span class="pln"> phones</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">orderProp </span><span class="pun">=</span><span class="pln"> </span><span class="str">'age'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="com">/* . . . */</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The <code>selector</code> attribute is a CSS selector that defines where on the page the component should go.
In AngularJS you do matching based on component names, but in Angular you have these explicit selectors.
This one will match elements with the name <code>phone-list</code>, just like the AngularJS version did.</p>
<p>Now convert the template of this component into Angular syntax.
The search controls replace the AngularJS <code>$ctrl</code> expressions with the two-way <code>[(<a href="../api/forms/NgModel.html" class="code-anchor">ngModel</a>)]</code> binding syntax of Angular:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-list/phone-list.template.html" region="controls" header="app/phone-list/phone-list.template.html (search controls)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-list/phone-list.template.html (search controls)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-list/phone-list.template.html (search controls)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;p&gt;</span><span class="pln">
  Search:
  </span><span class="tag">&lt;input</span><span class="pln"> [(</span><a href="../api/forms/NgModel.html" class="code-anchor"><span class="atn">ngModel</span></a><span class="pln">)]</span><span class="pun">=</span><span class="atv">"</span><a href="../api/animations/query.html" class="code-anchor"><span class="atv">query</span></a><span class="atv">"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
</span><span class="tag">&lt;/p&gt;</span><span class="pln">

</span><span class="tag">&lt;p&gt;</span><span class="pln">
  Sort by:
  </span><span class="tag">&lt;select</span><span class="pln"> [(</span><a href="../api/forms/NgModel.html" class="code-anchor"><span class="atn">ngModel</span></a><span class="pln">)]</span><span class="pun">=</span><span class="atv">"orderProp"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;option</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"name"</span><span class="tag">&gt;</span><span class="pln">Alphabetical</span><span class="tag">&lt;/option&gt;</span><span class="pln">
    </span><span class="tag">&lt;option</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"age"</span><span class="tag">&gt;</span><span class="pln">Newest</span><span class="tag">&lt;/option&gt;</span><span class="pln">
  </span><span class="tag">&lt;/select&gt;</span><span class="pln">
</span><span class="tag">&lt;/p&gt;</span></code>
    </pre></aio-code></code-example>
<p>Replace the <code>ng-repeat</code> of the list with an <code>*<a href="../api/common/NgForOf.html" class="code-anchor">ngFor</a></code> as <a href="./built-in-directives.html" title="Built-in directives | Angular">described in the Template Syntax page</a>.
Replace the <code>ng-src</code> of the image tag with a binding to the native <code>src</code> property.</p>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-list/phone-list.template.html" region="list" header="app/phone-list/phone-list.template.html (phones)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-list/phone-list.template.html (phones)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-list/phone-list.template.html (phones)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"phones"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;li</span><span class="pln"> *</span><a href="../api/common/NgForOf.html" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let phone of getPhones()"</span><span class="pln">
      </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"thumbnail phone-list-item"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/#!/phones/{{phone.id}}"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"thumb"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;img</span><span class="pln"> [</span><span class="atn">src</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"phone.imageUrl"</span><span class="pln"> [</span><span class="atn">alt</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"phone.name"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/#!/phones/{{phone.id}}"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"name"</span><span class="tag">&gt;</span><span class="pln">{{phone.name}}</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;p&gt;</span><span class="pln">{{phone.snippet}}</span><span class="tag">&lt;/p&gt;</span><span class="pln">
  </span><span class="tag">&lt;/li&gt;</span><span class="pln">
</span><span class="tag">&lt;/ul&gt;</span></code>
    </pre></aio-code></code-example>
<h4 id="no-angular-filter-or-orderby-filters">No Angular <em>filter</em> or <em>orderBy</em> filters</h4>
<p>The built-in AngularJS <code>filter</code> and <code>orderBy</code> filters do not exist in Angular, so you need to do the filtering and sorting yourself.</p>
<p>You replaced the <code>filter</code> and <code>orderBy</code> filters with bindings to the <code>getPhones()</code> controller method, which implements the filtering and ordering logic inside the component itself.</p>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-list/phone-list.component.ts" region="getphones" header="app/phone-list/phone-list.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-list/phone-list.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-list/phone-list.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">getPhones</span><span class="pun">():</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">sortPhones</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">filterPhones</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">phones</span><span class="pun">));</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pln"> filterPhones</span><span class="pun">(</span><span class="pln">phones</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">phones </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">query</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> phones</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">phone </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> name </span><span class="pun">=</span><span class="pln"> phone</span><span class="pun">.</span><span class="pln">name</span><span class="pun">.</span><span class="pln">toLowerCase</span><span class="pun">();</span><span class="pln">
      </span><span class="kwd">const</span><span class="pln"> snippet </span><span class="pun">=</span><span class="pln"> phone</span><span class="pun">.</span><span class="pln">snippet</span><span class="pun">.</span><span class="pln">toLowerCase</span><span class="pun">();</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> name</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">query</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> snippet</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">query</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> phones</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">private</span><span class="pln"> sortPhones</span><span class="pun">(</span><span class="pln">phones</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">[])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">phones </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">orderProp</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> phones
      </span><span class="pun">.</span><span class="pln">slice</span><span class="pun">(</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="com">// Make a copy</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">sort</span><span class="pun">((</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">a</span><span class="pun">[</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">orderProp</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> b</span><span class="pun">[</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">orderProp</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">([</span><span class="pln">b</span><span class="pun">[</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">orderProp</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> a</span><span class="pun">[</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">orderProp</span><span class="pun">]])</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> phones</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Now you need to downgrade the Angular component so you can use it in AngularJS.
Instead of registering a component, you register a <code>phoneList</code> <em>directive</em>, a downgraded version of the Angular component.</p>
<p>The <code>as angular.IDirectiveFactory</code> cast tells the TypeScript compiler that the return value of the <code><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor">downgradeComponent</a></code> method is a directive factory.</p>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-list/phone-list.component.ts" region="downgrade-component" header="app/phone-list/phone-list.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-list/phone-list.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-list/phone-list.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">declare </span><span class="kwd">const</span><span class="pln"> angular</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IAngularStatic</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor"><span class="pln">downgradeComponent</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="com">/* . . . */</span><span class="pln">
</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phone-list'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./phone-list.template.html'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">PhoneListComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">/* . . . */</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'phoneList'</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="pln">
    </span><span class="str">'phoneList'</span><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor"><span class="pln">downgradeComponent</span></a><span class="pun">({</span><span class="pln">component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneListComponent</span><span class="pun">})</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IDirectiveFactory</span><span class="pln">
  </span><span class="pun">);</span></code>
    </pre></aio-code></code-example>
<p>The new <code>PhoneListComponent</code> uses the Angular <code><a href="../api/forms/NgModel.html" class="code-anchor">ngModel</a></code> directive, located in the <code><a href="../api/forms/FormsModule.html" class="code-anchor">FormsModule</a></code>.
Add the <code><a href="../api/forms/FormsModule.html" class="code-anchor">FormsModule</a></code> to <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> imports and declare the new <code>PhoneListComponent</code> since you downgraded it:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/app.module.ts" region="phonelist" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PhoneListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-list/phone-list.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/common/http/HttpClientModule.html" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">PhoneListComponent</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">documentElement</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'phonecatApp'</span><span class="pun">]);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Remove the &lt;script&gt; tag for the phone list component from <code>index.html</code>.</p>
<p>Now set the remaining <code>phone-detail.component.ts</code> as follows:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-detail/phone-detail.component.ts" header="app/phone-detail/phone-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-detail/phone-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-detail/phone-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">declare </span><span class="kwd">const</span><span class="pln"> angular</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IAngularStatic</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor"><span class="pln">downgradeComponent</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/upgrade/</span><a href="../api/upgrade/static.html" class="code-anchor"><span class="str">static</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../core/phone/phone.service'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">RouteParams</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../ajs-upgraded-providers'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phone-detail'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./phone-detail.template.html'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  phone</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">;</span><span class="pln">
  mainImageUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">routeParams</span><span class="pun">:</span><span class="pln"> </span><span class="typ">RouteParams</span><span class="pun">,</span><span class="pln"> phone</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    phone</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">routeParams</span><span class="pun">.</span><span class="pln">phoneId</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">data </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">phone </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">;</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">setImage</span><span class="pun">(</span><span class="pln">data</span><span class="pun">.</span><span class="pln">images</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  setImage</span><span class="pun">(</span><span class="pln">imageUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">mainImageUrl </span><span class="pun">=</span><span class="pln"> imageUrl</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

angular</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'phoneDetail'</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">directive</span><span class="pun">(</span><span class="pln">
    </span><span class="str">'phoneDetail'</span><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor"><span class="pln">downgradeComponent</span></a><span class="pun">({</span><span class="pln">component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pun">})</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IDirectiveFactory</span><span class="pln">
  </span><span class="pun">);</span></code>
    </pre></aio-code></code-example>
<p>This is similar to the phone list component.
The new wrinkle is the <code>RouteParams</code> type annotation that identifies the <code>routeParams</code> dependency.</p>
<p>The AngularJS injector has an AngularJS router dependency called <code>$routeParams</code>, which was injected into <code>PhoneDetails</code> when it was still an AngularJS controller.
You intend to inject it into the new <code>PhoneDetailsComponent</code>.</p>
<p>Unfortunately, AngularJS dependencies are not automatically available to Angular components.
You must upgrade this service using a <a href="./upgrade.html#making-angularjs-dependencies-injectable-to-angular" title="Making AngularJS Dependencies Injectable to Angular - Upgrading from AngularJS to Angular | Angular">factory provider</a> to make <code>$routeParams</code> an Angular injectable.
Do that in a new file called <code>ajs-upgraded-providers.ts</code> and import it in <code>app.module.ts</code>:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/ajs-upgraded-providers.ts" header="app/ajs-upgraded-providers.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/ajs-upgraded-providers.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/ajs-upgraded-providers.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">export</span><span class="pln"> </span><span class="kwd">abstract</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">RouteParams</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">[</span><span class="pln">key</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">]:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> routeParamsFactory</span><span class="pun">(</span><span class="pln">i</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> i</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'$routeParams'</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> routeParamsProvider </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  provide</span><span class="pun">:</span><span class="pln"> </span><span class="typ">RouteParams</span><span class="pun">,</span><span class="pln">
  useFactory</span><span class="pun">:</span><span class="pln"> routeParamsFactory</span><span class="pun">,</span><span class="pln">
  deps</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'$injector'</span><span class="pun">]</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example>
<code-example path="upgrade-phonecat-2-hybrid/app/app.module.ts" region="routeparams" header="app/app.module.ts ($routeParams)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/app.module.ts ($routeParams)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/app.module.ts ($routeParams)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> routeParamsProvider </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./ajs-upgraded-providers'</span><span class="pun">;</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln">
    routeParamsProvider
  </span><span class="pun">]</span></code>
    </pre></aio-code></code-example>
<p>Convert the phone detail component template into Angular syntax as follows:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-detail/phone-detail.template.html" header="app/phone-detail/phone-detail.template.html" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-detail/phone-detail.template.html</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-detail/phone-detail.template.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> *</span><a href="../api/common/NgIf.html" class="code-anchor"><span class="atn">ngIf</span></a><span class="pun">=</span><span class="atv">"phone"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"phone-images"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;img</span><span class="pln"> [</span><span class="atn">src</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"img"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"phone"</span><span class="pln"> </span><span class="atn">alt</span><span class="pun">=</span><span class="atv">"Phone {{ phone.name }} - thumbnail {{ index }}"</span><span class="pln">
        [</span><a href="../api/common/NgClass.html" class="code-anchor"><span class="atn">ngClass</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"{'selected': img === mainImageUrl}"</span><span class="pln">
        *</span><a href="../api/common/NgForOf.html" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let img of phone.images; let index = index;"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">

  </span><span class="tag">&lt;h1&gt;</span><span class="pln">{{phone.name}}</span><span class="tag">&lt;/h1&gt;</span><span class="pln">

  </span><span class="tag">&lt;p&gt;</span><span class="pln">{{phone.description}}</span><span class="tag">&lt;/p&gt;</span><span class="pln">

  </span><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"phone-thumbs"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;li</span><span class="pln"> *</span><a href="../api/common/NgForOf.html" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let img of phone.images; let index = index"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;img</span><span class="pln"> [</span><span class="atn">src</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"img"</span><span class="pln"> (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"setImage(img)"</span><span class="pln"> </span><span class="atn">alt</span><span class="pun">=</span><span class="atv">"Phone {{ phone.name }} - thumbnail {{ index }}"</span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
  </span><span class="tag">&lt;/ul&gt;</span><span class="pln">

  </span><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"specs"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;li&gt;</span><span class="pln">
      </span><span class="tag">&lt;span&gt;</span><span class="pln">Availability and Networks</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;dl&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Availability</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd</span><span class="pln"> *</span><a href="../api/common/NgForOf.html" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let availability of phone.availability"</span><span class="tag">&gt;</span><span class="pln">{{availability}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
      </span><span class="tag">&lt;/dl&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
    </span><span class="tag">&lt;li&gt;</span><span class="pln">
      </span><span class="tag">&lt;span&gt;</span><span class="pln">Battery</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;dl&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><a href="../api/core/Type.html" class="code-anchor"><span class="pln">Type</span></a><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.battery?.type}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Talk </span><a href="../api/common/Time.html" class="code-anchor"><span class="pln">Time</span></a><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.battery?.talkTime}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Standby time (</span><a href="../api/forms/MaxValidator.html" class="code-anchor"><span class="pln">max</span></a><span class="pln">)</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.battery?.standbyTime}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
      </span><span class="tag">&lt;/dl&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
    </span><span class="tag">&lt;li&gt;</span><span class="pln">
      </span><span class="tag">&lt;span&gt;</span><span class="pln">Storage and Memory</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;dl&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">RAM</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.storage?.ram}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Internal Storage</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.storage?.flash}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
      </span><span class="tag">&lt;/dl&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
    </span><span class="tag">&lt;li&gt;</span><span class="pln">
      </span><span class="tag">&lt;span&gt;</span><span class="pln">Connectivity</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;dl&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Network Support</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.connectivity?.cell}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">WiFi</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.connectivity?.wifi}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Bluetooth</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.connectivity?.bluetooth}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Infrared</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.connectivity?.infrared | checkmark}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">GPS</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.connectivity?.gps | checkmark}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
      </span><span class="tag">&lt;/dl&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
    </span><span class="tag">&lt;li&gt;</span><span class="pln">
      </span><span class="tag">&lt;span&gt;</span><span class="pln">Android</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;dl&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">OS </span><a href="../api/core/Version.html" class="code-anchor"><span class="pln">Version</span></a><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.android?.os}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">UI</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.android?.ui}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
      </span><span class="tag">&lt;/dl&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
    </span><span class="tag">&lt;li&gt;</span><span class="pln">
      </span><span class="tag">&lt;span&gt;</span><span class="pln">Size and Weight</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;dl&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Dimensions</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd</span><span class="pln"> *</span><a href="../api/common/NgForOf.html" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let dim of phone.sizeAndWeight?.dimensions"</span><span class="tag">&gt;</span><span class="pln">{{dim}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Weight</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.sizeAndWeight?.weight}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
      </span><span class="tag">&lt;/dl&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
    </span><span class="tag">&lt;li&gt;</span><span class="pln">
      </span><span class="tag">&lt;span&gt;</span><span class="pln">Display</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;dl&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Screen size</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.display?.screenSize}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Screen resolution</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.display?.screenResolution}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Touch screen</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.display?.touchScreen | checkmark}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
      </span><span class="tag">&lt;/dl&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
    </span><span class="tag">&lt;li&gt;</span><span class="pln">
      </span><span class="tag">&lt;span&gt;</span><span class="pln">Hardware</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;dl&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">CPU</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.hardware?.cpu}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">USB</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.hardware?.usb}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Audio / headphone jack</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.hardware?.audioJack}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">FM Radio</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.hardware?.fmRadio | checkmark}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Accelerometer</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.hardware?.accelerometer | checkmark}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
      </span><span class="tag">&lt;/dl&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
    </span><span class="tag">&lt;li&gt;</span><span class="pln">
      </span><span class="tag">&lt;span&gt;</span><span class="pln">Camera</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;dl&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Primary</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.camera?.primary}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
        </span><span class="tag">&lt;dt&gt;</span><span class="pln">Features</span><span class="tag">&lt;/dt&gt;</span><span class="pln">
        </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.camera?.features?.join(', ')}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
      </span><span class="tag">&lt;/dl&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
    </span><span class="tag">&lt;li&gt;</span><span class="pln">
      </span><span class="tag">&lt;span&gt;</span><span class="pln">Additional Features</span><span class="tag">&lt;/span&gt;</span><span class="pln">
      </span><span class="tag">&lt;dd&gt;</span><span class="pln">{{phone.additionalFeatures}}</span><span class="tag">&lt;/dd&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
  </span><span class="tag">&lt;/ul&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example>
<p>There are several notable changes here:</p>
<ul>
<li>
<p>You've removed the <code>$ctrl.</code> prefix from all expressions.</p>
</li>
<li>
<p>You've replaced <code>ng-src</code> with property bindings for the standard <code>src</code> property.</p>
</li>
<li>
<p>You're using the property binding syntax around <code>ng-class</code>.
Though Angular does have a <a href="./built-in-directives.html" title="Built-in directives | Angular">very similar <code>ngClass</code></a> as AngularJS does, its value is not magically evaluated as an expression.
In Angular, you always specify in the template when the value of an attribute is a property expression, as opposed to a literal string.</p>
</li>
<li>
<p>You've replaced <code>ng-repeat</code>s with <code>*<a href="../api/common/NgForOf.html" class="code-anchor">ngFor</a></code>s.</p>
</li>
<li>
<p>You've replaced <code>ng-click</code> with an event binding for the standard <code>click</code>.</p>
</li>
<li>
<p>You've wrapped the whole template in an <code><a href="../api/common/NgIf.html" class="code-anchor">ngIf</a></code> that causes it only to be rendered when there is a phone present.
You need this because when the component first loads, you don't have <code>phone</code> yet and the expressions will refer to a non-existing value.
Unlike in AngularJS, Angular expressions do not fail silently when you try to refer to properties on undefined objects.
You need to be explicit about cases where this is expected.</p>
</li>
</ul>
<p>Add <code>PhoneDetailComponent</code> component to the <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> <em>declarations</em>:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/app.module.ts" region="phonedetail" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-detail/phone-detail.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/common/http/HttpClientModule.html" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">PhoneListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PhoneDetailComponent</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln">
    routeParamsProvider
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">documentElement</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'phonecatApp'</span><span class="pun">]);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>You should now also remove the phone detail component &lt;script&gt; tag from <code>index.html</code>.</p>
<h4 id="add-the-checkmarkpipe">Add the <em>CheckmarkPipe</em></h4>
<p>The AngularJS directive had a <code>checkmark</code> <em>filter</em>.
Turn that into an Angular <strong>pipe</strong>.</p>
<p>There is no upgrade method to convert filters into pipes.
You won't miss it.
It is easy to turn the filter function into an equivalent Pipe class.
The implementation is the same as before, repackaged in the <code>transform</code> method.
Rename the file to <code>checkmark.pipe.ts</code> to conform with Angular conventions:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/core/checkmark/checkmark.pipe.ts" header="app/core/checkmark/checkmark.pipe.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/core/checkmark/checkmark.pipe.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/core/checkmark/checkmark.pipe.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Pipe.html" class="code-anchor"><span class="typ">Pipe</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/PipeTransform.html" class="code-anchor"><span class="typ">PipeTransform</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Pipe.html" class="code-anchor"><span class="lit">Pipe</span></a><span class="pun">({</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'checkmark'</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">CheckmarkPipe</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/PipeTransform.html" class="code-anchor"><span class="typ">PipeTransform</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  transform</span><span class="pun">(</span><span class="pln">input</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">boolean</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> input </span><span class="pun">?</span><span class="pln"> </span><span class="str">'\u2713'</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">'\u2718'</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>Now import and declare the newly created pipe and remove the filter &lt;script&gt; tag from <code>index.html</code>:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/app.module.ts" region="checkmarkpipe" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CheckmarkPipe</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./core/checkmark/checkmark.pipe'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/common/http/HttpClientModule.html" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">PhoneListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PhoneDetailComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CheckmarkPipe</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln">
    routeParamsProvider
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="../api/core/DoBootstrap.html" class="code-anchor"><span class="typ">DoBootstrap</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> upgrade</span><span class="pun">:</span><span class="pln"> </span><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor"><span class="typ">UpgradeModule</span></a><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  ngDoBootstrap</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">upgrade</span><span class="pun">.</span><span class="pln">bootstrap</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">documentElement</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="str">'phonecatApp'</span><span class="pun">]);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<h3 id="aot-compile-the-hybrid-app">AOT compile the hybrid app</h3>
<p>To use AOT with a hybrid app, you have to first set it up like any other Angular application, as shown in the <a href="./aot-compiler.html" title="Ahead-of-time (AOT) compilation | Angular">Ahead-of-time Compilation chapter</a>.</p>
<p>Then change <code>main-aot.ts</code> to bootstrap the <code>AppComponentFactory</code> that was generated by the AOT compiler:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/main-aot.ts" header="app/main-aot.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/main-aot.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/main-aot.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/platformBrowser.html" class="code-anchor"><span class="pln">platformBrowser</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.module'</span><span class="pun">;</span><span class="pln">

</span><a href="../api/platform-browser/platformBrowser.html" class="code-anchor"><span class="pln">platformBrowser</span></a><span class="pun">().</span><span class="pln">bootstrapModule</span><span class="pun">(</span><span class="typ">AppModule</span><span class="pun">);</span></code>
    </pre></aio-code></code-example>
<p>You need to load all the AngularJS files you already use in <code>index.html</code> in <code>aot/index.html</code> as well:</p>
<code-example path="upgrade-phonecat-2-hybrid/aot/index.html" header="aot/index.html" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">aot/index.html</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from aot/index.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="dec">&lt;!doctype html&gt;</span><span class="pln">
</span><span class="tag">&lt;html</span><span class="pln"> </span><span class="atn">lang</span><span class="pun">=</span><span class="atv">"en"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;head&gt;</span><span class="pln">
    </span><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="tag">&gt;</span><span class="pln">

    </span><span class="tag">&lt;base</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/app/"</span><span class="tag">&gt;</span><span class="pln">

    </span><span class="tag">&lt;title&gt;</span><span class="pln">Google Phone Gallery</span><span class="tag">&lt;/title&gt;</span><span class="pln">
    </span><span class="tag">&lt;link</span><span class="pln"> </span><span class="atn">rel</span><span class="pun">=</span><span class="atv">"stylesheet"</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;link</span><span class="pln"> </span><span class="atn">rel</span><span class="pun">=</span><span class="atv">"stylesheet"</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"app.css"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;link</span><span class="pln"> </span><span class="atn">rel</span><span class="pun">=</span><span class="atv">"stylesheet"</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"app.animations.css"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">

    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"https://code.jquery.com/jquery-2.2.4.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"https://code.angularjs.org/1.5.5/angular.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"https://code.angularjs.org/1.5.5/angular-animate.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"https://code.angularjs.org/1.5.5/angular-resource.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"https://code.angularjs.org/1.5.5/angular-route.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">

    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"app.module.ajs.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"app.config.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"app.animations.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"core/core.module.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"core/phone/phone.module.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"phone-list/phone-list.module.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"phone-detail/phone-detail.module.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">

    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/node_modules/core-js/client/shim.min.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/node_modules/zone.js/bundles/zone.umd.min.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">

    </span><span class="tag">&lt;script&gt;</span><span class="pln">window</span><span class="pun">.</span><span class="pln">module </span><span class="pun">=</span><span class="pln"> </span><span class="str">'aot'</span><span class="pun">;</span><span class="tag">&lt;/script&gt;</span><span class="pln">
  </span><span class="tag">&lt;/head&gt;</span><span class="pln">

  </span><span class="tag">&lt;body&gt;</span><span class="pln">
    </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"view-container"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">ng-view</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"view-frame"</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
  </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/dist/build.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code>
    </pre></aio-code></code-example>
<p>These files need to be copied together with the polyfills.
The files the application needs at runtime, like the <code>.json</code> phone lists and images, also need to be copied.</p>
<p>Install <code>fs-extra</code> using <code>npm install fs-extra --save-dev</code> for better file copying, and change <code>copy-dist-files.js</code> to the following:</p>
<code-example path="upgrade-phonecat-2-hybrid/copy-dist-files.js" header="copy-dist-files.js" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">copy-dist-files.js</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from copy-dist-files.js">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">var</span><span class="pln"> fsExtra </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'fs-extra'</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">var</span><span class="pln"> resources </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="com">// polyfills</span><span class="pln">
  </span><span class="str">'node_modules/core-js/client/shim.min.js'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'node_modules/zone.js/bundles/zone.umd.min.js'</span><span class="pun">,</span><span class="pln">
  </span><span class="com">// css</span><span class="pln">
  </span><span class="str">'app/app.css'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'app/app.animations.css'</span><span class="pun">,</span><span class="pln">
  </span><span class="com">// images and json files</span><span class="pln">
  </span><span class="str">'app/img/'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'app/phones/'</span><span class="pun">,</span><span class="pln">
  </span><span class="com">// app files</span><span class="pln">
  </span><span class="str">'app/app.module.ajs.js'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'app/app.config.js'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'app/app.animations.js'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'app/core/core.module.js'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'app/core/phone/phone.module.js'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'app/phone-list/phone-list.module.js'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'app/phone-detail/phone-detail.module.js'</span><span class="pln">
</span><span class="pun">];</span><span class="pln">
resources</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">sourcePath</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// Need to rename zone.umd.min.js to zone.min.js</span><span class="pln">
  </span><span class="kwd">var</span><span class="pln"> destPath </span><span class="pun">=</span><span class="pln"> </span><span class="str">`aot/${sourcePath}`</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="str">'.umd.min.js'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'.min.js'</span><span class="pun">);</span><span class="pln">
  fsExtra</span><span class="pun">.</span><span class="pln">copySync</span><span class="pun">(</span><span class="pln">sourcePath</span><span class="pun">,</span><span class="pln"> destPath</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>And that is all you need to use AOT while upgrading your app!</p>
<h3 id="adding-the-angular-router-and-bootstrap">Adding The Angular Router And Bootstrap</h3>
<p>At this point, you've replaced all AngularJS application components with their Angular counterparts, even though you're still serving them from the AngularJS router.</p>
<h4 id="add-the-angular-router">Add the Angular router</h4>
<p>Angular has an <a href="./router.html" title="Common Routing Tasks | Angular">all-new router</a>.</p>
<p>Like all routers, it needs a place in the UI to display routed views.
For Angular that is the <code>&lt;<a href="../api/router/RouterOutlet.html" class="code-anchor">router-outlet</a>&gt;</code> and it belongs in a <em>root component</em> at the top of the applications component tree.</p>
<p>You don't yet have such a root component, because the application is still managed as an AngularJS app.
Create a new <code>app.component.ts</code> file with the following <code>AppComponent</code> class:</p>
<code-example path="upgrade-phonecat-3-final/app/app.component.ts" header="app/app.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/app.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/app.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phonecat-app'</span><span class="pun">,</span><span class="pln">
  </span><span class="kwd">template</span><span class="pun">:</span><span class="pln"> </span><span class="str">'&lt;</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="str">router-outlet</span></a><span class="str">&gt;&lt;/</span><a href="../api/router/RouterOutlet.html" class="code-anchor"><span class="str">router-outlet</span></a><span class="str">&gt;'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>It has a template that only includes the <code>&lt;<a href="../api/router/RouterOutlet.html" class="code-anchor">router-outlet</a>&gt;</code>.
This component just renders the contents of the active route and nothing else.</p>
<p>The selector tells Angular to plug this root component into the <code>&lt;phonecat-app&gt;</code> element on the host web page when the application launches.</p>
<p>Add this <code>&lt;phonecat-app&gt;</code> element to the <code>index.html</code>.
It replaces the old AngularJS <code>ng-view</code> directive:</p>
<code-example path="upgrade-phonecat-3-final/index.html" region="appcomponent" header="index.html (body)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">index.html (body)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from index.html (body)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;body&gt;</span><span class="pln">
  </span><span class="tag">&lt;phonecat-app&gt;&lt;/phonecat-app&gt;</span><span class="pln">
</span><span class="tag">&lt;/body&gt;</span></code>
    </pre></aio-code></code-example>
<h4 id="create-the-routing-module">Create the <em>Routing Module</em></h4>
<p>A router needs configuration whether it is the AngularJS or Angular or any other router.</p>
<p>The details of Angular router configuration are best left to the <a href="./router.html" title="Common Routing Tasks | Angular">Routing documentation</a> which recommends that you create a <code><a href="../api/core/NgModule.html" class="code-anchor">NgModule</a></code> dedicated to router configuration (called a <em>Routing Module</em>).</p>
<code-example path="upgrade-phonecat-3-final/app/app-routing.module.ts" header="app/app-routing.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/app-routing.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/app-routing.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/common/APP_BASE_HREF.html" class="code-anchor"><span class="pln">APP_BASE_HREF</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/common/HashLocationStrategy.html" class="code-anchor"><span class="typ">HashLocationStrategy</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/common/LocationStrategy.html" class="code-anchor"><span class="typ">LocationStrategy</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-detail/phone-detail.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PhoneListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-list/phone-list.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> routes</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/Routes.html" class="code-anchor"><span class="typ">Routes</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> redirectTo</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phones'</span><span class="pun">,</span><span class="pln"> pathMatch</span><span class="pun">:</span><span class="pln"> </span><span class="str">'full'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phones'</span><span class="pun">,</span><span class="pln">          component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneListComponent</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">{</span><span class="pln"> path</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phones/:phoneId'</span><span class="pun">,</span><span class="pln"> component</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">];</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">RouterModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">routes</span><span class="pun">)</span><span class="pln"> </span><span class="pun">],</span><span class="pln">
  exports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><a href="../api/router/RouterModule.html" class="code-anchor"><span class="typ">RouterModule</span></a><span class="pln"> </span><span class="pun">],</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">{</span><span class="pln"> provide</span><span class="pun">:</span><span class="pln"> </span><a href="../api/common/APP_BASE_HREF.html" class="code-anchor"><span class="pln">APP_BASE_HREF</span></a><span class="pun">,</span><span class="pln"> useValue</span><span class="pun">:</span><span class="pln"> </span><span class="str">'!'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln"> provide</span><span class="pun">:</span><span class="pln"> </span><a href="../api/common/LocationStrategy.html" class="code-anchor"><span class="typ">LocationStrategy</span></a><span class="pun">,</span><span class="pln"> useClass</span><span class="pun">:</span><span class="pln"> </span><a href="../api/common/HashLocationStrategy.html" class="code-anchor"><span class="typ">HashLocationStrategy</span></a><span class="pln"> </span><span class="pun">},</span><span class="pln">
  </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>This module defines a <code>routes</code> object with two routes to the two phone components and a default route for the empty path.
It passes the <code>routes</code> to the <code>RouterModule.forRoot</code> method which does the rest.</p>
<p>A couple of extra providers enable routing with "hash" URLs such as <code>#!/phones</code> instead of the default "push state" strategy.</p>
<p>Now update the <code>AppModule</code> to import this <code>AppRoutingModule</code> and also the declare the root <code>AppComponent</code> as the bootstrap component.
That tells Angular that it should bootstrap the application with the <em>root</em> <code>AppComponent</code> and insert its view into the host web page.</p>
<p>You must also remove the bootstrap of the AngularJS module from <code>ngDoBootstrap()</code> in <code>app.module.ts</code> and the <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> import.</p>
<code-example path="upgrade-phonecat-3-final/app/app.module.ts" header="app/app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/common/http/HttpClientModule.html" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common/</span><a href="../api/common/http.html" class="code-anchor"><span class="str">http</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CheckmarkPipe</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./core/checkmark/checkmark.pipe'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Phone</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./core/phone/phone.service'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-detail/phone-detail.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PhoneListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-list/phone-list.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/common/http/HttpClientModule.html" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PhoneListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CheckmarkPipe</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PhoneDetailComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">Phone</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<p>And since you are routing to <code>PhoneListComponent</code> and <code>PhoneDetailComponent</code> directly rather than using a route template with a <code>&lt;phone-list&gt;</code> or <code>&lt;phone-detail&gt;</code> tag, you can do away with their Angular selectors as well.</p>
<h4 id="generate-links-for-each-phone">Generate links for each phone</h4>
<p>You no longer have to hardcode the links to phone details in the phone list.
You can generate data bindings for the <code>id</code> of each phone to the <code><a href="../api/router/RouterLink.html" class="code-anchor">routerLink</a></code> directive and let that directive construct the appropriate URL to the <code>PhoneDetailComponent</code>:</p>
<code-example path="upgrade-phonecat-3-final/app/phone-list/phone-list.template.html" region="list" header="app/phone-list/phone-list.template.html (list with links)" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-list/phone-list.template.html (list with links)</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-list/phone-list.template.html (list with links)">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"phones"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;li</span><span class="pln"> *</span><a href="../api/common/NgForOf.html" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let phone of getPhones()"</span><span class="pln">
      </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"thumbnail phone-list-item"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> [</span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"['/phones', phone.id]"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"thumb"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;img</span><span class="pln"> [</span><span class="atn">src</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"phone.imageUrl"</span><span class="pln"> [</span><span class="atn">alt</span><span class="pln">]</span><span class="pun">=</span><span class="atv">"phone.name"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> [</span><a href="../api/router/RouterLink.html" class="code-anchor"><span class="atn">routerLink</span></a><span class="pln">]</span><span class="pun">=</span><span class="atv">"['/phones', phone.id]"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"name"</span><span class="tag">&gt;</span><span class="pln">{{phone.name}}</span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;p&gt;</span><span class="pln">{{phone.snippet}}</span><span class="tag">&lt;/p&gt;</span><span class="pln">
  </span><span class="tag">&lt;/li&gt;</span><span class="pln">
</span><span class="tag">&lt;/ul&gt;</span></code>
    </pre></aio-code></code-example>
<div class="alert is-helpful">
<p>See the <a href="./router.html" title="Common Routing Tasks | Angular">Routing</a> page for details.</p>
</div>
<h4 id="use-route-parameters">Use route parameters</h4>
<p>The Angular router passes route parameters differently.
Correct the <code>PhoneDetail</code> component constructor to expect an injected <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> object.
Extract the <code>phoneId</code> from the <code>ActivatedRoute.snapshot.params</code> and fetch the phone data as before:</p>
<code-example path="upgrade-phonecat-3-final/app/phone-detail/phone-detail.component.ts" header="app/phone-detail/phone-detail.component.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-detail/phone-detail.component.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-detail/phone-detail.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/Component.html" class="code-anchor"><span class="typ">Component</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../core/phone/phone.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/Component.html" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phone-detail'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./phone-detail.template.html'</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  phone</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">;</span><span class="pln">
  mainImageUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">activatedRoute</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln"> phone</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    phone</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="pln">activatedRoute</span><span class="pun">.</span><span class="pln">snapshot</span><span class="pun">.</span><span class="pln">paramMap</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'phoneId'</span><span class="pun">))</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">((</span><span class="pln">p</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">phone </span><span class="pun">=</span><span class="pln"> p</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">setImage</span><span class="pun">(</span><span class="pln">p</span><span class="pun">.</span><span class="pln">images</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span><span class="pln">
      </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  setImage</span><span class="pun">(</span><span class="pln">imageUrl</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">mainImageUrl </span><span class="pun">=</span><span class="pln"> imageUrl</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>You are now running a pure Angular application!</p>
<h3 id="say-goodbye-to-angularjs">Say Goodbye to AngularJS</h3>
<p>It is time to take off the training wheels and let the application begin its new life as a pure, shiny Angular app.
The remaining tasks all have to do with removing code - which of course is every programmer's favorite task!</p>
<p>The application is still bootstrapped as a hybrid app.
There is no need for that anymore.</p>
<p>Switch the bootstrap method of the application from the <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> to the Angular way.</p>
<code-example path="upgrade-phonecat-3-final/app/main.ts" header="main.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">main.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from main.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser-dynamic/platformBrowserDynamic.html" class="code-anchor"><span class="pln">platformBrowserDynamic</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser-dynamic'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.module'</span><span class="pun">;</span><span class="pln">

</span><a href="../api/platform-browser-dynamic/platformBrowserDynamic.html" class="code-anchor"><span class="pln">platformBrowserDynamic</span></a><span class="pun">().</span><span class="pln">bootstrapModule</span><span class="pun">(</span><span class="typ">AppModule</span><span class="pun">);</span></code>
    </pre></aio-code></code-example>
<p>If you haven't already, remove all references to the <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> from <code>app.module.ts</code>, as well as any <a href="./upgrade.html#making-angularjs-dependencies-injectable-to-angular" title="Making AngularJS Dependencies Injectable to Angular - Upgrading from AngularJS to Angular | Angular">factory provider</a> for AngularJS services, and the <code>app/ajs-upgraded-providers.ts</code> file.</p>
<p>Also remove any <code><a href="../api/upgrade/static/downgradeInjectable.html" class="code-anchor">downgradeInjectable</a>()</code> or <code><a href="../api/upgrade/static/downgradeComponent.html" class="code-anchor">downgradeComponent</a>()</code> you find, together with the associated AngularJS factory or directive declarations.</p>
<code-example path="upgrade-phonecat-3-final/app/app.module.ts" header="app.module.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app.module.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app.module.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/NgModule.html" class="code-anchor"><span class="typ">NgModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/platform-browser'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/forms'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/common/http/HttpClientModule.html" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common/</span><a href="../api/common/http.html" class="code-anchor"><span class="str">http</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppRoutingModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app-routing.module'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./app.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CheckmarkPipe</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./core/checkmark/checkmark.pipe'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Phone</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./core/phone/phone.service'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-detail/phone-detail.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PhoneListComponent</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-list/phone-list.component'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="../api/core/NgModule.html" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="../api/platform-browser/BrowserModule.html" class="code-anchor"><span class="typ">BrowserModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/forms/FormsModule.html" class="code-anchor"><span class="typ">FormsModule</span></a><span class="pun">,</span><span class="pln">
    </span><a href="../api/common/http/HttpClientModule.html" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pun">,</span><span class="pln">
    </span><span class="typ">AppRoutingModule</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">AppComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PhoneListComponent</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">CheckmarkPipe</span><span class="pun">,</span><span class="pln">
    </span><span class="typ">PhoneDetailComponent</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="typ">Phone</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
  bootstrap</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">AppComponent</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppModule</span><span class="pln"> </span><span class="pun">{}</span></code>
    </pre></aio-code></code-example>
<p>You may also completely remove the following files.
They are AngularJS module configuration files and not needed in Angular:</p>
<ul>
<li><code>app/app.module.ajs.ts</code></li>
<li><code>app/app.config.ts</code></li>
<li><code>app/core/core.module.ts</code></li>
<li><code>app/core/phone/phone.module.ts</code></li>
<li><code>app/phone-detail/phone-detail.module.ts</code></li>
<li><code>app/phone-list/phone-list.module.ts</code></li>
</ul>
<p>The external typings for AngularJS may be uninstalled as well.
The only ones you still need are for Jasmine and Angular polyfills.
The <code>@angular/upgrade</code> package and its mapping in <code>systemjs.config.js</code> can also go.</p>
<code-example language="shell" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-shell prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">npm uninstall </span><span class="lit">@angular</span><span class="pun">/</span><span class="pln">upgrade </span><span class="pun">--</span><span class="pln">save
npm uninstall </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">animate </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">cookies </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">mocks </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">resource </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">route </span><span class="lit">@types</span><span class="pun">/</span><span class="pln">angular</span><span class="pun">-</span><span class="pln">sanitize </span><span class="pun">--</span><span class="pln">save</span><span class="pun">-</span><span class="pln">dev</span></code>
    </pre></aio-code></code-example>
<p>Finally, from <code>index.html</code>, remove all references to AngularJS scripts and jQuery.
When you're done, this is what it should look like:</p>
<code-example path="upgrade-phonecat-3-final/index.html" region="full" header="index.html" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">index.html</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from index.html">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="dec">&lt;!doctype html&gt;</span><span class="pln">
</span><span class="tag">&lt;html</span><span class="pln"> </span><span class="atn">lang</span><span class="pun">=</span><span class="atv">"en"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;head&gt;</span><span class="pln">
    </span><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"utf-8"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;base</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"/app/"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;title&gt;</span><span class="pln">Google Phone Gallery</span><span class="tag">&lt;/title&gt;</span><span class="pln">
    </span><span class="tag">&lt;link</span><span class="pln"> </span><span class="atn">rel</span><span class="pun">=</span><span class="atv">"stylesheet"</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;link</span><span class="pln"> </span><span class="atn">rel</span><span class="pun">=</span><span class="atv">"stylesheet"</span><span class="pln"> </span><span class="atn">href</span><span class="pun">=</span><span class="atv">"app.css"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">

    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/node_modules/core-js/client/shim.min.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/node_modules/zone.js/bundles/zone.umd.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/node_modules/systemjs/dist/system.src.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"/systemjs.config.js"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln">
    </span><span class="tag">&lt;script&gt;</span><span class="pln">
      </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">import</span><span class="pun">(</span><span class="str">'/app'</span><span class="pun">);</span><span class="pln">
    </span><span class="tag">&lt;/script&gt;</span><span class="pln">
  </span><span class="tag">&lt;/head&gt;</span><span class="pln">
  </span><span class="tag">&lt;body&gt;</span><span class="pln">
    </span><span class="tag">&lt;phonecat-app&gt;&lt;/phonecat-app&gt;</span><span class="pln">
  </span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code>
    </pre></aio-code></code-example>
<p>That is the last you'll see of AngularJS!
It has served us well but now it is time to say goodbye.</p>
<a class="dashAnchor" name="//apple_ref/Section/Appendix%3A%20Upgrading%20PhoneCat%20Tests"></a><h2 id="appendix-upgrading-phonecat-tests">Appendix: Upgrading PhoneCat Tests</h2>
<p>Tests can not only be retained through an upgrade process, but they can also be used as a valuable safety measure when ensuring that the application does not break during the upgrade.
E2E tests are especially useful for this purpose.</p>
<h3 id="e2e-tests">E2E Tests</h3>
<p>The PhoneCat project has both E2E Protractor tests and some Karma unit tests in it.
Of these two, E2E tests can be dealt with much more easily:
By definition, E2E tests access the application from the <em>outside</em> by interacting with the various UI elements the application puts on the screen.
E2E tests aren't really that concerned with the internal structure of the application components.
That also means that, although you modify the project quite a bit during the upgrade, the E2E test suite should keep passing with just minor modifications.
You didn't change how the application behaves from the user's point of view.</p>
<p>During TypeScript conversion, there is nothing to do to keep E2E tests working.
But when you change the bootstrap to that of a Hybrid app, you must make a few changes.</p>
<p>Update the <code>protractor-conf.js</code> to sync with hybrid applications:</p>
<code-example language="javascript" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-javascript prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">ng12Hybrid</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span></code>
    </pre></aio-code></code-example>
<p>When you start to upgrade components and their templates to Angular, you'll make more changes because the E2E tests have matchers that are specific to AngularJS.
For PhoneCat you need to make the following changes in order to make things work with Angular:</p>
<table>
<thead>
<tr>
<th align="left">Previous code</th>
<th align="left">New code</th>
<th align="left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>by.repeater('phone in $ctrl.phones').column('phone.name')</code></td>
<td align="left"><code>by.css('.phones .name')</code></td>
<td align="left">The repeater matcher relies on AngularJS <code>ng-repeat</code></td>
</tr>
<tr>
<td align="left"><code>by.repeater('phone in $ctrl.phones')</code></td>
<td align="left"><code>by.css('.phones li')</code></td>
<td align="left">The repeater matcher relies on AngularJS <code>ng-repeat</code></td>
</tr>
<tr>
<td align="left"><code>by.model('$ctrl.query')</code></td>
<td align="left"><code>by.css('input')</code></td>
<td align="left">The model matcher relies on AngularJS <code>ng-model</code></td>
</tr>
<tr>
<td align="left"><code>by.model('$ctrl.orderProp')</code></td>
<td align="left"><code>by.css('select')</code></td>
<td align="left">The model matcher relies on AngularJS <code>ng-model</code></td>
</tr>
<tr>
<td align="left"><code>by.binding('$ctrl.phone.name')</code></td>
<td align="left"><code>by.css('h1')</code></td>
<td align="left">The binding matcher relies on AngularJS data binding</td>
</tr>
</tbody>
</table>
<p>When the bootstrap method is switched from that of <code><a href="../api/upgrade/static/UpgradeModule.html" class="code-anchor">UpgradeModule</a></code> to pure Angular, AngularJS ceases to exist on the page completely.
At this point, you need to tell Protractor that it should not be looking for an AngularJS application anymore, but instead it should find <em>Angular apps</em> from the page.</p>
<p>Replace the <code>ng12Hybrid</code> previously added with the following in <code>protractor-conf.js</code>:</p>
<code-example language="javascript" ng-version="13.2.2"><div style="display: none;"></div><!----><aio-code><pre class="lang-javascript prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">useAllAngular2AppRoots</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span></code>
    </pre></aio-code></code-example>
<p>Also, there are a couple of Protractor API calls in the PhoneCat test code that are using the AngularJS <code>$location</code> service under the hood.
As that service is no longer present after the upgrade, replace those calls with ones that use the generic URL APIs of WebDriver instead.
The first of these is the redirection spec:</p>
<code-example path="upgrade-phonecat-3-final/e2e-spec.ts" region="redirect" header="e2e-tests/scenarios.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">e2e-tests/scenarios.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from e2e-tests/scenarios.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">it</span><span class="pun">(</span><span class="str">'should redirect `index.html` to `index.html#!/phones'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">async</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">await</span><span class="pln"> browser</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">(</span><span class="str">'index.html'</span><span class="pun">);</span><span class="pln">
  </span><span class="kwd">await</span><span class="pln"> browser</span><span class="pun">.</span><span class="pln">waitForAngular</span><span class="pun">();</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">await</span><span class="pln"> browser</span><span class="pun">.</span><span class="pln">getCurrentUrl</span><span class="pun">();</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">url</span><span class="pun">.</span><span class="pln">endsWith</span><span class="pun">(</span><span class="str">'/phones'</span><span class="pun">)).</span><span class="pln">toBe</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>And the second is the phone links spec:</p>
<code-example path="upgrade-phonecat-3-final/e2e-spec.ts" region="links" header="e2e-tests/scenarios.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">e2e-tests/scenarios.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from e2e-tests/scenarios.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">it</span><span class="pun">(</span><span class="str">'should render phone specific links'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">async</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pln"> </span><span class="pun">=</span><span class="pln"> element</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">'input'</span><span class="pun">));</span><span class="pln">
  </span><span class="kwd">await</span><span class="pln"> query</span><span class="pun">.</span><span class="pln">sendKeys</span><span class="pun">(</span><span class="str">'nexus'</span><span class="pun">);</span><span class="pln">
  </span><span class="kwd">await</span><span class="pln"> element</span><span class="pun">.</span><span class="pln">all</span><span class="pun">(</span><span class="kwd">by</span><span class="pun">.</span><span class="pln">css</span><span class="pun">(</span><span class="str">'.phones li a'</span><span class="pun">)).</span><span class="pln">first</span><span class="pun">().</span><span class="pln">click</span><span class="pun">();</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">await</span><span class="pln"> browser</span><span class="pun">.</span><span class="pln">getCurrentUrl</span><span class="pun">();</span><span class="pln">
  expect</span><span class="pun">(</span><span class="pln">url</span><span class="pun">.</span><span class="pln">endsWith</span><span class="pun">(</span><span class="str">'/phones/nexus-s'</span><span class="pun">)).</span><span class="pln">toBe</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
</span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<h3 id="unit-tests">Unit Tests</h3>
<p>For unit tests, on the other hand, more conversion work is needed.
Effectively they need to be <em>upgraded</em> along with the production code.</p>
<p>During TypeScript conversion no changes are strictly necessary.
But it may bea good idea to convert the unit test code into TypeScript as well.</p>
<p>For instance, in the phone detail component spec, you can use ES2015 features like arrow functions and block-scoped variables and benefit from the type definitions of the AngularJS services you're consuming:</p>
<code-example path="upgrade-phonecat-1-typescript/app/phone-detail/phone-detail.component.spec.ts" header="app/phone-detail/phone-detail.component.spec.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-detail/phone-detail.component.spec.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-detail/phone-detail.component.spec.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">describe</span><span class="pun">(</span><span class="str">'phoneDetail'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="com">// Load the module that contains the `phoneDetail` component before each test</span><span class="pln">
  beforeEach</span><span class="pun">(</span><span class="pln">angular</span><span class="pun">.</span><span class="pln">mock</span><span class="pun">.</span><span class="kwd">module</span><span class="pun">(</span><span class="str">'phoneDetail'</span><span class="pun">));</span><span class="pln">

  </span><span class="com">// Test the controller</span><span class="pln">
  describe</span><span class="pun">(</span><span class="str">'PhoneDetailController'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> $httpBackend</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IHttpBackendService</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">let</span><span class="pln"> ctrl</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> xyzPhoneData </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phone xyz'</span><span class="pun">,</span><span class="pln">
      images</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'image/url1.png'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'image/url2.png'</span><span class="pun">]</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">

    beforeEach</span><span class="pun">(</span><span class="pln">inject</span><span class="pun">((</span><span class="pln">$componentController</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">,</span><span class="pln">
                       _$httpBackend_</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="typ">IHttpBackendService</span><span class="pun">,</span><span class="pln">
                       $routeParams</span><span class="pun">:</span><span class="pln"> angular</span><span class="pun">.</span><span class="pln">route</span><span class="pun">.</span><span class="typ">IRouteParamsService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      $httpBackend </span><span class="pun">=</span><span class="pln"> _$httpBackend_</span><span class="pun">;</span><span class="pln">
      $httpBackend</span><span class="pun">.</span><span class="pln">expectGET</span><span class="pun">(</span><span class="str">'phones/xyz.json'</span><span class="pun">).</span><span class="pln">respond</span><span class="pun">(</span><span class="pln">xyzPhoneData</span><span class="pun">);</span><span class="pln">

      $routeParams</span><span class="pun">.</span><span class="pln">phoneId </span><span class="pun">=</span><span class="pln"> </span><span class="str">'xyz'</span><span class="pun">;</span><span class="pln">

      ctrl </span><span class="pun">=</span><span class="pln"> $componentController</span><span class="pun">(</span><span class="str">'phoneDetail'</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}));</span><span class="pln">

    it</span><span class="pun">(</span><span class="str">'should fetch the phone details'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      jasmine</span><span class="pun">.</span><span class="pln">addCustomEqualityTester</span><span class="pun">(</span><span class="pln">angular</span><span class="pun">.</span><span class="pln">equals</span><span class="pun">);</span><span class="pln">

      expect</span><span class="pun">(</span><span class="pln">ctrl</span><span class="pun">.</span><span class="pln">phone</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">({});</span><span class="pln">

      $httpBackend</span><span class="pun">.</span><span class="pln">flush</span><span class="pun">();</span><span class="pln">
      expect</span><span class="pun">(</span><span class="pln">ctrl</span><span class="pun">.</span><span class="pln">phone</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="pln">xyzPhoneData</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">

  </span><span class="pun">});</span><span class="pln">

</span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>Once you start the upgrade process and bring in SystemJS, configuration changes are needed for Karma.
You need to let SystemJS load all the new Angular code, which can be done with the following kind of shim file:</p>
<code-example path="upgrade-phonecat-2-hybrid/karma-test-shim.1.js" header="karma-test-shim.js" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">karma-test-shim.js</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from karma-test-shim.js">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="com">// /*</span><a href="../api/core/global.html" class="code-anchor"><span class="com">global</span></a><span class="com"> jasmine, __karma__, window*/</span><span class="pln">
</span><span class="typ">Error</span><span class="pun">.</span><span class="pln">stackTraceLimit </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="com">// "No stacktrace"" is usually best for app testing.</span><span class="pln">

</span><span class="com">// Uncomment to get full stacktrace output. Sometimes helpful, usually not.</span><span class="pln">
</span><span class="com">// Error.stackTraceLimit = Infinity; //</span><span class="pln">

jasmine</span><span class="pun">.</span><span class="pln">DEFAULT_TIMEOUT_INTERVAL </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">var</span><span class="pln"> builtPath </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/base/app/'</span><span class="pun">;</span><span class="pln">

__karma__</span><span class="pun">.</span><span class="pln">loaded </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">};</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> isJsFile</span><span class="pun">(</span><span class="pln">path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> path</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">(-</span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'.js'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> isSpecFile</span><span class="pun">(</span><span class="pln">path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="str">/\.spec\.(.*\.)?js$/</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">path</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> isBuiltFile</span><span class="pun">(</span><span class="pln">path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> isJsFile</span><span class="pun">(</span><span class="pln">path</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">path</span><span class="pun">.</span><span class="pln">substr</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> builtPath</span><span class="pun">.</span><span class="pln">length</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> builtPath</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">var</span><span class="pln"> allSpecFiles </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">.</span><span class="pln">keys</span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">__karma__</span><span class="pun">.</span><span class="pln">files</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">isSpecFile</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">isBuiltFile</span><span class="pun">);</span><span class="pln">

</span><span class="typ">System</span><span class="pun">.</span><span class="pln">config</span><span class="pun">({</span><span class="pln">
  baseURL</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/base'</span><span class="pun">,</span><span class="pln">
  </span><span class="com">// Extend usual application package list with test folder</span><span class="pln">
  packages</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'testing'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> main</span><span class="pun">:</span><span class="pln"> </span><span class="str">'index.js'</span><span class="pun">,</span><span class="pln"> defaultExtension</span><span class="pun">:</span><span class="pln"> </span><span class="str">'js'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">},</span><span class="pln">

  </span><span class="com">// Assume npm: is set in `paths` in systemjs.config</span><span class="pln">
  </span><span class="com">// Map the angular testing bundles</span><span class="pln">
  map</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="str">'@angular/core/testing'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/core/fesm2015/testing.mjs'</span><span class="pun">,</span><span class="pln">
    </span><span class="str">'@angular/common/testing'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/common/fesm2015/testing.mjs'</span><span class="pun">,</span><span class="pln">
    </span><span class="str">'@angular/common/</span><a href="../api/common/http.html" class="code-anchor"><span class="str">http</span></a><span class="str">/testing'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/common/fesm2015/</span><a href="../api/common/http.html" class="code-anchor"><span class="str">http</span></a><span class="str">/testing.mjs'</span><span class="pun">,</span><span class="pln">
    </span><span class="str">'@angular/compiler/testing'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/compiler/fesm2015/testing.mjs'</span><span class="pun">,</span><span class="pln">
    </span><span class="str">'@angular/platform-browser/testing'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/platform-browser/fesm2015/testing.mjs'</span><span class="pun">,</span><span class="pln">
    </span><span class="str">'@angular/platform-browser-dynamic/testing'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/platform-browser-dynamic/fesm2015/testing.mjs'</span><span class="pun">,</span><span class="pln">
    </span><span class="str">'@angular/router/testing'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/router/fesm2015/testing.mjs'</span><span class="pun">,</span><span class="pln">
    </span><span class="str">'@angular/forms/testing'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'npm:@angular/forms/fesm2015/testing.mjs'</span><span class="pun">,</span><span class="pln">
  </span><span class="pun">},</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

</span><span class="typ">System</span><span class="pun">.</span><span class="kwd">import</span><span class="pun">(</span><span class="str">'systemjs.config.js'</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">importSystemJsExtras</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">initTestBed</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">initTesting</span><span class="pun">);</span><span class="pln">

</span><span class="com">/** </span><a href="../api/core/Optional.html" class="code-anchor"><span class="com">Optional</span></a><span class="com"> SystemJS configuration extras. Keep going w/o it */</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> importSystemJsExtras</span><span class="pun">(){</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">import</span><span class="pun">(</span><span class="str">'systemjs.config.extras.js'</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="kwd">catch</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">reason</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">
      </span><span class="str">'Warning: System.import could not load the optional "systemjs.config.extras.js". Did you omit it by accident? Continuing without it.'</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">reason</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> initTestBed</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">all</span><span class="pun">([</span><span class="pln">
    </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">import</span><span class="pun">(</span><span class="str">'@angular/core/testing'</span><span class="pun">),</span><span class="pln">
    </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">import</span><span class="pun">(</span><span class="str">'@angular/platform-browser-dynamic/testing'</span><span class="pun">)</span><span class="pln">
  </span><span class="pun">])</span><span class="pln">

  </span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">providers</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> coreTesting    </span><span class="pun">=</span><span class="pln"> providers</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">var</span><span class="pln"> browserTesting </span><span class="pun">=</span><span class="pln"> providers</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">

    coreTesting</span><span class="pun">.</span><span class="typ">TestBed</span><span class="pun">.</span><span class="pln">initTestEnvironment</span><span class="pun">(</span><span class="pln">
      browserTesting</span><span class="pun">.</span><span class="typ">BrowserDynamicTestingModule</span><span class="pun">,</span><span class="pln">
      browserTesting</span><span class="pun">.</span><span class="pln">platformBrowserDynamicTesting</span><span class="pun">());</span><span class="pln">
  </span><span class="pun">})</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="com">// Import all spec files and start karma</span><span class="pln">
</span><span class="kwd">function</span><span class="pln"> initTesting</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">Promise</span><span class="pun">.</span><span class="pln">all</span><span class="pun">(</span><span class="pln">
    allSpecFiles</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">moduleName</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">import</span><span class="pun">(</span><span class="pln">moduleName</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
  </span><span class="pun">)</span><span class="pln">
  </span><span class="pun">.</span><span class="kwd">then</span><span class="pun">(</span><span class="pln">__karma__</span><span class="pun">.</span><span class="pln">start</span><span class="pun">,</span><span class="pln"> __karma__</span><span class="pun">.</span><span class="pln">error</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example>
<p>The shim first loads the SystemJS configuration, then the test the support libraries of Angular, and then the spec files of the application themselves.</p>
<p>Karma configuration should then be changed so that it uses the application root dir as the base directory, instead of <code>app</code>.</p>
<code-example path="upgrade-phonecat-2-hybrid/karma.conf.ajs.js" region="basepath" header="karma.conf.js" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">karma.conf.js</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from karma.conf.js">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="pln">basePath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./'</span><span class="pun">,</span></code>
    </pre></aio-code></code-example>
<p>Once done, you can load SystemJS and other dependencies, and also switch the configuration for loading application files so that they are <em>not</em> included to the page by Karma.
You'll let the shim and SystemJS load them.</p>
<code-example path="upgrade-phonecat-2-hybrid/karma.conf.ajs.js" region="files" header="karma.conf.js" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">karma.conf.js</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from karma.conf.js">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="com">// System.js for module loading</span><span class="pln">
</span><span class="str">'node_modules/systemjs/dist/system.src.js'</span><span class="pun">,</span><span class="pln">

</span><span class="com">// Polyfills</span><span class="pln">
</span><span class="str">'node_modules/core-js/client/shim.js'</span><span class="pun">,</span><span class="pln">

</span><span class="com">// zone.js</span><span class="pln">
</span><span class="str">'node_modules/zone.js/bundles/zone.umd.js'</span><span class="pun">,</span><span class="pln">
</span><span class="str">'node_modules/zone.js/bundles/zone-testing.umd.js'</span><span class="pun">,</span><span class="pln">

</span><span class="com">// RxJs.</span><span class="pln">
</span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'node_modules/rxjs/**/*.js'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
</span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'node_modules/rxjs/**/*.js.map'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">},</span><span class="pln">

</span><span class="com">// Angular itself and the testing library</span><span class="pln">
</span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'node_modules/@angular/**/*.mjs'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
</span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'node_modules/@angular/**/*.mjs.map'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">},</span><span class="pln">

</span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'node_modules/tslib/tslib.js'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
</span><span class="pun">{</span><span class="pln"> </span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'node_modules/systemjs-plugin-babel/**/*.js'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">},</span><span class="pln">

</span><span class="pun">{</span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'systemjs.config.js'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">},</span><span class="pln">
</span><span class="str">'karma-test-shim.js'</span><span class="pun">,</span><span class="pln">

</span><span class="pun">{</span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'app/**/*.module.js'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span><span class="pln">
</span><span class="pun">{</span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'app/*!(.module|.spec).js'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span><span class="pln">
</span><span class="pun">{</span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'app/!(bower_components)/**/*!(.module|.spec).js'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span><span class="pln">
</span><span class="pun">{</span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'app/**/*.spec.js'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span><span class="pln">

</span><span class="pun">{</span><a href="../api/forms/PatternValidator.html" class="code-anchor"><span class="pln">pattern</span></a><span class="pun">:</span><span class="pln"> </span><span class="str">'**/*.html'</span><span class="pun">,</span><span class="pln"> included</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> watched</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">},</span></code>
    </pre></aio-code></code-example>
<p>Since the HTML templates of Angular components will be loaded as well, you must help Karma out a bit so that it can route them to the right paths:</p>
<code-example path="upgrade-phonecat-2-hybrid/karma.conf.ajs.js" region="html" header="karma.conf.js" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">karma.conf.js</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from karma.conf.js">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="com">// proxied base paths for loading assets</span><span class="pln">
proxies</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="com">// required for component assets fetched by Angular's compiler</span><span class="pln">
  </span><span class="str">'/phone-detail'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/base/app/phone-detail'</span><span class="pun">,</span><span class="pln">
  </span><span class="str">'/phone-list'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'/base/app/phone-list'</span><span class="pln">
</span><span class="pun">},</span></code>
    </pre></aio-code></code-example>
<p>The unit test files themselves also need to be switched to Angular when their production counterparts are switched.
The specs for the checkmark pipe are probably the most straightforward, as the pipe has no dependencies:</p>
<code-example path="upgrade-phonecat-2-hybrid/app/core/checkmark/checkmark.pipe.spec.ts" header="app/core/checkmark/checkmark.pipe.spec.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/core/checkmark/checkmark.pipe.spec.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/core/checkmark/checkmark.pipe.spec.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CheckmarkPipe</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./checkmark.pipe'</span><span class="pun">;</span><span class="pln">

describe</span><span class="pun">(</span><span class="str">'CheckmarkPipe'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  it</span><span class="pun">(</span><span class="str">'should convert boolean values to unicode checkmark or cross'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> checkmarkPipe </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">CheckmarkPipe</span><span class="pun">();</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">checkmarkPipe</span><span class="pun">.</span><span class="pln">transform</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">)).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'\u2713'</span><span class="pun">);</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">checkmarkPipe</span><span class="pun">.</span><span class="pln">transform</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">)).</span><span class="pln">toBe</span><span class="pun">(</span><span class="str">'\u2718'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>The unit test for the phone service is a bit more involved.
You need to switch from the mocked-out AngularJS <code>$httpBackend</code> to a mocked-out Angular Http backend.</p>
<code-example path="upgrade-phonecat-2-hybrid/app/core/phone/phone.service.spec.ts" header="app/core/phone/phone.service.spec.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/core/phone/phone.service.spec.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/core/phone/phone.service.spec.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> inject</span><span class="pun">,</span><span class="pln"> </span><a href="../api/core/testing/TestBed.html" class="code-anchor"><span class="typ">TestBed</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core/testing'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/common/http/testing/HttpClientTestingModule.html" class="code-anchor"><span class="typ">HttpClientTestingModule</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/common/http/testing/HttpTestingController.html" class="code-anchor"><span class="typ">HttpTestingController</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common/</span><a href="../api/common/http.html" class="code-anchor"><span class="str">http</span></a><span class="str">/testing'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone.service'</span><span class="pun">;</span><span class="pln">

describe</span><span class="pun">(</span><span class="str">'Phone'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">let</span><span class="pln"> phone</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> phonesData</span><span class="pun">:</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Phone X'</span><span class="pun">,</span><span class="pln"> snippet</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> images</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[]},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Phone Y'</span><span class="pun">,</span><span class="pln"> snippet</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> images</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[]},</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Phone Z'</span><span class="pun">,</span><span class="pln"> snippet</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> images</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[]}</span><span class="pln">
  </span><span class="pun">];</span><span class="pln">
  </span><span class="kwd">let</span><span class="pln"> httpMock</span><span class="pun">:</span><span class="pln"> </span><a href="../api/common/http/testing/HttpTestingController.html" class="code-anchor"><span class="typ">HttpTestingController</span></a><span class="pun">;</span><span class="pln">

  beforeEach</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">TestBed</span><span class="pun">.</span><span class="pln">configureTestingModule</span><span class="pun">({</span><span class="pln">
      imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><a href="../api/common/http/testing/HttpClientTestingModule.html" class="code-anchor"><span class="typ">HttpClientTestingModule</span></a><span class="pln">
      </span><span class="pun">],</span><span class="pln">
      providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln">
      </span><span class="pun">]</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

  beforeEach</span><span class="pun">(</span><span class="pln">inject</span><span class="pun">([</span><a href="../api/common/http/testing/HttpTestingController.html" class="code-anchor"><span class="typ">HttpTestingController</span></a><span class="pun">,</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">],</span><span class="pln"> </span><span class="pun">(</span><span class="pln">_httpMock_</span><span class="pun">:</span><span class="pln"> </span><a href="../api/common/http/testing/HttpTestingController.html" class="code-anchor"><span class="typ">HttpTestingController</span></a><span class="pun">,</span><span class="pln"> _phone_</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    httpMock </span><span class="pun">=</span><span class="pln"> _httpMock_</span><span class="pun">;</span><span class="pln">
    phone </span><span class="pun">=</span><span class="pln"> _phone_</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}));</span><span class="pln">

  afterEach</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    httpMock</span><span class="pun">.</span><span class="pln">verify</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

  it</span><span class="pun">(</span><span class="str">'should fetch the phones data from `/phones/phones.json`'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    phone</span><span class="pun">.</span><span class="pln">query</span><span class="pun">().</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">result </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      expect</span><span class="pun">(</span><span class="pln">result</span><span class="pun">).</span><span class="pln">toEqual</span><span class="pun">(</span><span class="pln">phonesData</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> req </span><span class="pun">=</span><span class="pln"> httpMock</span><span class="pun">.</span><span class="pln">expectOne</span><span class="pun">(</span><span class="str">`/phones/phones.json`</span><span class="pun">);</span><span class="pln">
    req</span><span class="pun">.</span><span class="pln">flush</span><span class="pun">(</span><span class="pln">phonesData</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

</span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>For the component specs, you can mock out the <code>Phone</code> service itself, and have it provide canned phone data.
You use the component unit testing APIs of Angular for both components.</p>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-detail/phone-detail.component.spec.ts" header="app/phone-detail/phone-detail.component.spec.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-detail/phone-detail.component.spec.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-detail/phone-detail.component.spec.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/testing/TestBed.html" class="code-anchor"><span class="typ">TestBed</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/testing/waitForAsync.html" class="code-anchor"><span class="pln">waitForAsync</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core/testing'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pln">&nbsp;</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-detail.component'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../core/phone/phone.service'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">CheckmarkPipe</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../core/checkmark/checkmark.pipe'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">function</span><span class="pln"> xyzPhoneData</span><span class="pun">():</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'phone xyz'</span><span class="pun">,</span><span class="pln"> snippet</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> images</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'image/url1.png'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'image/url2.png'</span><span class="pun">]};</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MockPhone</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">get</span><span class="pun">(</span><span class="pln">id</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">PhoneData</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="pln">xyzPhoneData</span><span class="pun">());</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">


</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ActivatedRouteMock</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">public</span><span class="pln"> snapshot</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">


describe</span><span class="pun">(</span><span class="str">'PhoneDetailComponent'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  beforeEach</span><span class="pun">(</span><a href="../api/core/testing/waitForAsync.html" class="code-anchor"><span class="pln">waitForAsync</span></a><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">TestBed</span><span class="pun">.</span><span class="pln">configureTestingModule</span><span class="pun">({</span><span class="pln">
      declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">CheckmarkPipe</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pln"> </span><span class="pun">],</span><span class="pln">
      providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><span class="pun">{</span><span class="pln"> provide</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> useClass</span><span class="pun">:</span><span class="pln"> </span><span class="typ">MockPhone</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
        </span><span class="pun">{</span><span class="pln"> provide</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln"> useValue</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ActivatedRouteMock</span><span class="pun">({</span><span class="pln"> </span><span class="kwd">params</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> phoneId</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">]</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">compileComponents</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">}));</span><span class="pln">

  it</span><span class="pun">(</span><span class="str">'should fetch phone detail'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> fixture </span><span class="pun">=</span><span class="pln"> </span><span class="typ">TestBed</span><span class="pun">.</span><span class="pln">createComponent</span><span class="pun">(</span><span class="typ">PhoneDetailComponent</span><span class="pun">);</span><span class="pln">
    fixture</span><span class="pun">.</span><span class="pln">detectChanges</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> compiled </span><span class="pun">=</span><span class="pln"> fixture</span><span class="pun">.</span><span class="pln">debugElement</span><span class="pun">.</span><span class="pln">nativeElement</span><span class="pun">;</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">compiled</span><span class="pun">.</span><span class="pln">querySelector</span><span class="pun">(</span><span class="str">'h1'</span><span class="pun">).</span><span class="pln">textContent</span><span class="pun">).</span><span class="pln">toContain</span><span class="pun">(</span><span class="pln">xyzPhoneData</span><span class="pun">().</span><span class="pln">name</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<code-example path="upgrade-phonecat-2-hybrid/app/phone-list/phone-list.component.spec.ts" header="app/phone-list/phone-list.component.spec.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-list/phone-list.component.spec.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-list/phone-list.component.spec.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><a href="../api/common/testing/SpyLocation.html" class="code-anchor"><span class="typ">SpyLocation</span></a><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common/testing'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><a href="../api/core/NO_ERRORS_SCHEMA.html" class="code-anchor"><span class="pln">NO_ERRORS_SCHEMA</span></a><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><a href="../api/core/testing/ComponentFixture.html" class="code-anchor"><span class="typ">ComponentFixture</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/testing/TestBed.html" class="code-anchor"><span class="typ">TestBed</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/testing/waitForAsync.html" class="code-anchor"><span class="pln">waitForAsync</span></a><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core/testing'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../core/phone/phone.service'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="typ">PhoneListComponent</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-list.component'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ActivatedRouteMock</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">public</span><span class="pln"> snapshot</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MockPhone</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><a href="../api/animations/query.html" class="code-anchor"><span class="pln">query</span></a><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">PhoneData</span><span class="pun">[]&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">([</span><span class="pln">
      </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Nexus S'</span><span class="pun">,</span><span class="pln"> snippet</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> images</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[]},</span><span class="pln"> </span><span class="pun">{</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Motorola DROID'</span><span class="pun">,</span><span class="pln"> snippet</span><span class="pun">:</span><span class="pln"> </span><span class="str">''</span><span class="pun">,</span><span class="pln"> images</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[]}</span><span class="pln">
    </span><span class="pun">]);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">let</span><span class="pln"> fixture</span><span class="pun">:</span><span class="pln"> </span><a href="../api/core/testing/ComponentFixture.html" class="code-anchor"><span class="typ">ComponentFixture</span></a><span class="pun">&lt;</span><span class="typ">PhoneListComponent</span><span class="pun">&gt;;</span><span class="pln">

describe</span><span class="pun">(</span><span class="str">'PhoneList'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  beforeEach</span><span class="pun">(</span><a href="../api/core/testing/waitForAsync.html" class="code-anchor"><span class="pln">waitForAsync</span></a><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><a href="../api/core/testing/TestBed.html" class="code-anchor"><span class="typ">TestBed</span></a><span class="pln">
        </span><span class="pun">.</span><span class="pln">configureTestingModule</span><span class="pun">({</span><span class="pln">
          declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">PhoneListComponent</span><span class="pun">],</span><span class="pln">
          providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">provide</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln"> useValue</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ActivatedRouteMock</span><span class="pun">({</span><span class="kwd">params</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">phoneId</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">}})},</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">provide</span><span class="pun">:</span><span class="pln"> </span><a href="../api/common/Location.html" class="code-anchor"><span class="typ">Location</span></a><span class="pun">,</span><span class="pln"> useClass</span><span class="pun">:</span><span class="pln"> </span><a href="../api/common/testing/SpyLocation.html" class="code-anchor"><span class="typ">SpyLocation</span></a><span class="pun">},</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">provide</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> useClass</span><span class="pun">:</span><span class="pln"> </span><span class="typ">MockPhone</span><span class="pun">},</span><span class="pln">
          </span><span class="pun">],</span><span class="pln">
          schemas</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><a href="../api/core/NO_ERRORS_SCHEMA.html" class="code-anchor"><span class="pln">NO_ERRORS_SCHEMA</span></a><span class="pun">]</span><span class="pln">
        </span><span class="pun">})</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">compileComponents</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">}));</span><span class="pln">

  beforeEach</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    fixture </span><span class="pun">=</span><span class="pln"> </span><span class="typ">TestBed</span><span class="pun">.</span><span class="pln">createComponent</span><span class="pun">(</span><span class="typ">PhoneListComponent</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

  it</span><span class="pun">(</span><span class="str">'should create "phones" model with 2 phones fetched from xhr'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    fixture</span><span class="pun">.</span><span class="pln">detectChanges</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> compiled </span><span class="pun">=</span><span class="pln"> fixture</span><span class="pun">.</span><span class="pln">debugElement</span><span class="pun">.</span><span class="pln">nativeElement</span><span class="pun">;</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">compiled</span><span class="pun">.</span><span class="pln">querySelectorAll</span><span class="pun">(</span><span class="str">'.phone-list-item'</span><span class="pun">).</span><span class="pln">length</span><span class="pun">).</span><span class="pln">toBe</span><span class="pun">(</span><span class="lit">2</span><span class="pun">);</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">compiled</span><span class="pun">.</span><span class="pln">querySelector</span><span class="pun">(</span><span class="str">'.phone-list-item:nth-child(1)'</span><span class="pun">).</span><span class="pln">textContent</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">toContain</span><span class="pun">(</span><span class="str">'Motorola DROID'</span><span class="pun">);</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">compiled</span><span class="pun">.</span><span class="pln">querySelector</span><span class="pun">(</span><span class="str">'.phone-list-item:nth-child(2)'</span><span class="pun">).</span><span class="pln">textContent</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">toContain</span><span class="pun">(</span><span class="str">'Nexus S'</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">

  xit</span><span class="pun">(</span><span class="str">'should set the default value of orderProp model'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    fixture</span><span class="pun">.</span><span class="pln">detectChanges</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> compiled </span><span class="pun">=</span><span class="pln"> fixture</span><span class="pun">.</span><span class="pln">debugElement</span><span class="pun">.</span><span class="pln">nativeElement</span><span class="pun">;</span><span class="pln">
    expect</span><span class="pun">(</span><span class="pln">compiled</span><span class="pun">.</span><span class="pln">querySelector</span><span class="pun">(</span><span class="str">'select option:last-child'</span><span class="pun">).</span><span class="pln">selected</span><span class="pun">).</span><span class="pln">toBe</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span><span class="pln">
</span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<p>Finally, revisit both of the component tests when you switch to the Angular router.
For the details component, provide a mock of Angular <code><a href="../api/router/ActivatedRoute.html" class="code-anchor">ActivatedRoute</a></code> object instead of using the AngularJS <code>$routeParams</code>.</p>
<code-example path="upgrade-phonecat-3-final/app/phone-detail/phone-detail.component.spec.ts" region="activatedroute" header="app/phone-detail/phone-detail.component.spec.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-detail/phone-detail.component.spec.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-detail/phone-detail.component.spec.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/core/testing/TestBed.html" class="code-anchor"><span class="typ">TestBed</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/testing/waitForAsync.html" class="code-anchor"><span class="pln">waitForAsync</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core/testing'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="com">/* . . . */</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ActivatedRouteMock</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">public</span><span class="pln"> snapshot</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

  </span><span class="com">/* . . . */</span><span class="pln">

  beforeEach</span><span class="pun">(</span><a href="../api/core/testing/waitForAsync.html" class="code-anchor"><span class="pln">waitForAsync</span></a><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="typ">TestBed</span><span class="pun">.</span><span class="pln">configureTestingModule</span><span class="pun">({</span><span class="pln">
      declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="typ">CheckmarkPipe</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneDetailComponent</span><span class="pln"> </span><span class="pun">],</span><span class="pln">
      providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
        </span><span class="pun">{</span><span class="pln"> provide</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> useClass</span><span class="pun">:</span><span class="pln"> </span><span class="typ">MockPhone</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
        </span><span class="pun">{</span><span class="pln"> provide</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln"> useValue</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ActivatedRouteMock</span><span class="pun">({</span><span class="pln"> </span><span class="kwd">params</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> phoneId</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">})</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
      </span><span class="pun">]</span><span class="pln">
    </span><span class="pun">})</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">compileComponents</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">}));</span></code>
    </pre></aio-code></code-example>
<p>And for the phone list component, a few adjustments to the router make the <code>RouteLink</code> directives work.</p>
<code-example path="upgrade-phonecat-3-final/app/phone-list/phone-list.component.spec.ts" region="routestuff" header="app/phone-list/phone-list.component.spec.ts" ng-version="13.2.2"><div style="display: none;"></div><header class="ng-star-inserted">app/phone-list/phone-list.component.spec.ts</header><!----><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from app/phone-list/phone-list.component.spec.ts">
        <span aria-hidden="true">content_copy</span>
      </button><!---->
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><a href="../api/common/testing/SpyLocation.html" class="code-anchor"><span class="typ">SpyLocation</span></a><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common/testing'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><a href="../api/core/NO_ERRORS_SCHEMA.html" class="code-anchor"><span class="pln">NO_ERRORS_SCHEMA</span></a><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><a href="../api/core/testing/ComponentFixture.html" class="code-anchor"><span class="typ">ComponentFixture</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/testing/TestBed.html" class="code-anchor"><span class="typ">TestBed</span></a><span class="pun">,</span><span class="pln"> </span><a href="../api/core/testing/waitForAsync.html" class="code-anchor"><span class="pln">waitForAsync</span></a><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core/testing'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/router'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> </span><span class="typ">PhoneData</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../core/phone/phone.service'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="typ">PhoneListComponent</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./phone-list.component'</span><span class="pun">;</span><span class="pln">

  </span><span class="com">/* . . . */</span><span class="pln">

  beforeEach</span><span class="pun">(</span><a href="../api/core/testing/waitForAsync.html" class="code-anchor"><span class="pln">waitForAsync</span></a><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><a href="../api/core/testing/TestBed.html" class="code-anchor"><span class="typ">TestBed</span></a><span class="pln">
        </span><span class="pun">.</span><span class="pln">configureTestingModule</span><span class="pun">({</span><span class="pln">
          declarations</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="typ">PhoneListComponent</span><span class="pun">],</span><span class="pln">
          providers</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">provide</span><span class="pun">:</span><span class="pln"> </span><a href="../api/router/ActivatedRoute.html" class="code-anchor"><span class="typ">ActivatedRoute</span></a><span class="pun">,</span><span class="pln"> useValue</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ActivatedRouteMock</span><span class="pun">({</span><span class="kwd">params</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">phoneId</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">}})},</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">provide</span><span class="pun">:</span><span class="pln"> </span><a href="../api/common/Location.html" class="code-anchor"><span class="typ">Location</span></a><span class="pun">,</span><span class="pln"> useClass</span><span class="pun">:</span><span class="pln"> </span><a href="../api/common/testing/SpyLocation.html" class="code-anchor"><span class="typ">SpyLocation</span></a><span class="pun">},</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">provide</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Phone</span><span class="pun">,</span><span class="pln"> useClass</span><span class="pun">:</span><span class="pln"> </span><span class="typ">MockPhone</span><span class="pun">},</span><span class="pln">
          </span><span class="pun">],</span><span class="pln">
          schemas</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><a href="../api/core/NO_ERRORS_SCHEMA.html" class="code-anchor"><span class="pln">NO_ERRORS_SCHEMA</span></a><span class="pun">]</span><span class="pln">
        </span><span class="pun">})</span><span class="pln">
        </span><span class="pun">.</span><span class="pln">compileComponents</span><span class="pun">();</span><span class="pln">
  </span><span class="pun">}));</span><span class="pln">

  beforeEach</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    fixture </span><span class="pun">=</span><span class="pln"> </span><span class="typ">TestBed</span><span class="pun">.</span><span class="pln">createComponent</span><span class="pun">(</span><span class="typ">PhoneListComponent</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">});</span></code>
    </pre></aio-code></code-example>
<!-- links -->
<!-- external links -->
<!-- end links -->

  <div class="reviewed">Last reviewed on Tue Nov 02 2021</div>
</div>

<!-- links to this doc:
 - api/common
 - api/common/upgrade
 - api/common/upgrade/$locationShim
 - api/common/upgrade/LocationUpgradeModule
 - api/upgrade/static/downgradeComponent
 - guide/deprecations
 - guide/releases
 - guide/updating
 - guide/upgrade-performance
 - guide/upgrade-setup
-->
<!-- links from this doc:
 - api/animations/query
 - api/common/APP_BASE_HREF
 - api/common/HashLocationStrategy
 - api/common/Location
 - api/common/LocationStrategy
 - api/common/NgClass
 - api/common/NgForOf
 - api/common/NgIf
 - api/common/Time
 - api/common/http
 - api/common/http/HttpClient
 - api/common/http/HttpClientModule
 - api/common/http/testing/HttpClientTestingModule
 - api/common/http/testing/HttpTestingController
 - api/common/testing/SpyLocation
 - api/common/upgrade/$locationShim
 - api/common/upgrade/LocationUpgradeConfig
 - api/common/upgrade/LocationUpgradeModule
 - api/common/upgrade/LocationUpgradeModule#config
 - api/core/Component
 - api/core/Directive
 - api/core/DoBootstrap
 - api/core/ElementRef
 - api/core/EventEmitter
 - api/core/Injectable
 - api/core/Injector
 - api/core/Input
 - api/core/NO_ERRORS_SCHEMA
 - api/core/NgModule
 - api/core/NgZone
 - api/core/OnChanges
 - api/core/OnDestroy
 - api/core/OnInit
 - api/core/Optional
 - api/core/Output
 - api/core/Pipe
 - api/core/PipeTransform
 - api/core/SimpleChanges
 - api/core/Type
 - api/core/Version
 - api/core/global
 - api/core/ng-content
 - api/core/testing/ComponentFixture
 - api/core/testing/TestBed
 - api/core/testing/waitForAsync
 - api/forms/FormsModule
 - api/forms/MaxValidator
 - api/forms/NgModel
 - api/forms/PatternValidator
 - api/platform-browser-dynamic/platformBrowserDynamic
 - api/platform-browser/BrowserModule
 - api/platform-browser/platformBrowser
 - api/router/ActivatedRoute
 - api/router/Router
 - api/router/RouterLink
 - api/router/RouterModule
 - api/router/RouterOutlet
 - api/router/Routes
 - api/router/UrlSegment
 - api/upgrade/static
 - api/upgrade/static/UpgradeComponent
 - api/upgrade/static/UpgradeModule
 - api/upgrade/static/downgradeComponent
 - api/upgrade/static/downgradeInjectable
 - guide/animations
 - guide/aot-compiler
 - guide/built-in-directives
 - guide/dependency-injection
 - guide/dependency-injection-providers#factory-providers
 - guide/glossary#lazy-loading
 - guide/hierarchical-dependency-injection
 - guide/lifecycle-hooks
 - guide/ngmodules
 - guide/router
 - guide/typescript-configuration
 - guide/upgrade#add-the-angular-router
 - guide/upgrade#add-the-checkmarkpipe
 - guide/upgrade#adding-the-angular-router-and-bootstrap
 - guide/upgrade#aot-compile-the-hybrid-app
 - guide/upgrade#appendix-upgrading-phonecat-tests
 - guide/upgrade#bootstrapping-a-hybrid-phonecat
 - guide/upgrade#bootstrapping-hybrid-applications
 - guide/upgrade#change-detection
 - guide/upgrade#components-and-the-dom
 - guide/upgrade#configure-a-custom-route-matcher-for-angularjs-routes
 - guide/upgrade#create-a-component-to-render-angularjs-content
 - guide/upgrade#create-a-service-to-lazy-load-angularjs
 - guide/upgrade#create-the-routing-module
 - guide/upgrade#creating-the-appmodule
 - guide/upgrade#dependency-injection
 - guide/upgrade#e2e-tests
 - guide/upgrade#follow-the-angularjs-style-guide
 - guide/upgrade#generate-links-for-each-phone
 - guide/upgrade#how-ngupgrade-works
 - guide/upgrade#installing-angular
 - guide/upgrade#lazy-loading-angularjs
 - guide/upgrade#making-angular-dependencies-injectable-to-angularjs
 - guide/upgrade#making-angularjs-dependencies-injectable-to-angular
 - guide/upgrade#migrating-to-typescript
 - guide/upgrade#no-angular-filter-or-orderby-filters
 - guide/upgrade#phonecat-upgrade-tutorial
 - guide/upgrade#preparation
 - guide/upgrade#projecting-angularjs-content-into-angular-components
 - guide/upgrade#say-goodbye-to-angularjs
 - guide/upgrade#switching-to-typescript
 - guide/upgrade#transcluding-angular-content-into-angularjs-component-directives
 - guide/upgrade#unit-tests
 - guide/upgrade#upgrading-components
 - guide/upgrade#upgrading-from-angularjs-to-angular
 - guide/upgrade#upgrading-the-phone-service
 - guide/upgrade#upgrading-with-ngupgrade
 - guide/upgrade#use-route-parameters
 - guide/upgrade#using-a-module-loader
 - guide/upgrade#using-angular-components-from-angularjs-code
 - guide/upgrade#using-angularjs-component-directives-from-angular-code
 - guide/upgrade#using-component-directives
 - guide/upgrade#using-the-unified-angular-location-service
 - guide/upgrade#using-upgrademodule-with-angular-ngmodules
 - guide/upgrade-setup
 - http://browserify.org
 - https://blog.angular.io/finding-a-path-forward-with-angularjs-7e186fdd4429
 - https://docs.angularjs.org/api/ng/function/angular.bootstrap
 - https://docs.angularjs.org/api/ng/service/$location
 - https://docs.angularjs.org/api/ng/type/angular.Module
 - https://docs.angularjs.org/api/ng/type/angular.Module#component
 - https://docs.angularjs.org/api/ngRoute/directive/ngView
 - https://docs.angularjs.org/api/ngRoute/provider/$routeProvider
 - https://docs.angularjs.org/tutorial
 - https://github.com/Microsoft/TypeScript/wiki/What's-new-in-TypeScript#support-for-umd-module-definitions
 - https://github.com/angular/angular-phonecat
 - https://github.com/angular/angular-phonecat/commits/1.5-snapshot
 - https://github.com/angular/angular/edit/master/aio/content/guide/upgrade.md?message=docs%3A%20describe%20your%20change...
 - https://github.com/angular/angular/issues/38366
 - https://github.com/angular/quickstart
 - https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md
 - https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#folders-by-feature-structure
 - https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#modularity
 - https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#organizing-tests
 - https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#single-responsibility
 - https://github.com/mgechev/angular-umd-bundle
 - https://github.com/systemjs/systemjs
 - https://rollupjs.org
 - https://webpack.github.io
 - https://www.npmjs.com/package/@types/angular
--></div></aio-doc-viewer><!----></main><!----></section><footer class="no-print"><aio-footer><div class="grid-fluid"><div class="footer-block ng-star-inserted"><h3>Resources</h3><ul><li class="ng-star-inserted"><a class="link" href="../about.html" title="Angular contributors.">About</a></li><li class="ng-star-inserted"><a class="link" href="../resources.html" title="Angular tools, training, and blogs from around the web.">Resource Listing</a></li><li class="ng-star-inserted"><a class="link" href="../presskit.html" title="Press contacts, logos, and branding.">Press Kit</a></li><li class="ng-star-inserted"><a class="link" href="https://blog.angular.io/" title="Angular Blog">Blog</a></li><li class="ng-star-inserted"><a class="link" href="../analytics.html" title="Angular Usage Analytics">Usage Analytics</a></li><!----></ul></div><div class="footer-block ng-star-inserted"><h3>Help</h3><ul><li class="ng-star-inserted"><a class="link" href="https://stackoverflow.com/questions/tagged/angular" title="Stack Overflow: where the community answers your technical Angular questions.">Stack Overflow</a></li><li class="ng-star-inserted"><a class="link" href="https://discord.gg/angular" title="Join the discussions at Angular Community Discord server.">Join Discord</a></li><li class="ng-star-inserted"><a class="link" href="https://gitter.im/angular/angular" title="Chat about Angular with other birds of a feather.">Gitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular/issues" title="Post issues and suggestions on github.">Report Issues</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/code-of-conduct/blob/master/CODE_OF_CONDUCT.md" title="Treating each other with respect.">Code of Conduct</a></li><!----></ul></div><div class="footer-block ng-star-inserted"><h3>Community</h3><ul><li class="ng-star-inserted"><a class="link" href="../events.html" title="Angular events around the world.">Events</a></li><li class="ng-star-inserted"><a class="link" href="https://www.meetup.com/topics/angularjs/" title="Attend a meetup and learn from fellow developers.">Meetups</a></li><li class="ng-star-inserted"><a class="link" href="https://twitter.com/angular" title="Twitter">Twitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular" title="GitHub">GitHub</a></li><li class="ng-star-inserted"><a class="link" href="../contribute.html" title="Contribute to Angular">Contribute</a></li><!----></ul></div><div class="footer-block ng-star-inserted"><h3>Languages</h3><ul><li class="ng-star-inserted"><a class="link" href="http://docs.angular.lat/" title="Español.">Español</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.cn/" title="简体中文版">简体中文版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.tw/" title="正體中文版">正體中文版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.jp/" title="日本語版">日本語版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.kr/" title="한국어">한국어</a></li><li class="ng-star-inserted"><a class="link" href="./localized-documentation.html" title="Complete language list.">Complete language list</a></li><!----></ul></div><!----></div><p> Super-powered by Google ©2010-2022.
</p><p> Code licensed under an <a href="../license.html" title="License text">MIT-style License</a>. Documentation licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.
</p><p> Version 13.2.4-local+sha.032276253f.
</p></aio-footer></footer></mat-sidenav-content><!----></mat-sidenav-container></aio-shell>

  <noscript>
    &amp;amp;amp;lt;div class="background-sky hero"&amp;amp;amp;gt;&amp;amp;amp;lt;/div&amp;amp;amp;gt;
    &amp;amp;amp;lt;section id="intro" style="text-shadow: 1px 1px #1976d2;"&amp;amp;amp;gt;
      &amp;amp;amp;lt;div class="hero-logo"&amp;amp;amp;gt;&amp;amp;amp;lt;/div&amp;amp;amp;gt;
      &amp;amp;amp;lt;div class="homepage-container"&amp;amp;amp;gt;
        &amp;amp;amp;lt;div class="hero-headline"&amp;amp;amp;gt;The modern web&amp;amp;amp;lt;br&amp;amp;amp;gt;developer's platform&amp;amp;amp;lt;/div&amp;amp;amp;gt;
      &amp;amp;amp;lt;/div&amp;amp;amp;gt;
    &amp;amp;amp;lt;/section&amp;amp;amp;gt;
    &amp;amp;amp;lt;h2 style="color: red; margin-top: 40px; position: relative; text-align: center; text-shadow: 1px 1px #fafafa; border-top: none;"&amp;amp;amp;gt;
      &amp;amp;amp;lt;b&amp;amp;amp;gt;&amp;amp;amp;lt;i&amp;amp;amp;gt;This website requires JavaScript.&amp;amp;amp;lt;/i&amp;amp;amp;gt;&amp;amp;amp;lt;/b&amp;amp;amp;gt;
    &amp;amp;amp;lt;/h2&amp;amp;amp;gt;
  </noscript>

<script src="../runtime.f679f380e8bb222c.js" type="module"></script><script src="../polyfills.47182b1b999e7c7d.js" type="module"></script>


<div class="cdk-live-announcer-element cdk-visually-hidden" aria-atomic="true" aria-live="polite"></div></body></html>