<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">


<!-- Mirrored from codex.wordpress.org/Migrating_Plugins_and_Themes_to_2.1 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:09:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');</script>
<!--
<meta property="fb:page_id" content="6427302910" />
-->
<link rel="dns-prefetch" href="http://s.w.org/" />
<link rel="dns-prefetch" href="../fonts.googleapis.com/index.html" />
<link rel="dns-prefetch" href="http://fonts.gstatic.com/" />
<link rel="dns-prefetch" href="http://www.googletagmanager.com/" />
<meta name="google-site-verification" content="7VWES_-rcHBcmaQis9mSYamPfNwE03f4vyTj4pfuAw0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Migrating Plugins and Themes to 2.1</title>
<link rel="canonical" href="Migrating_Plugins_and_Themes_to_2.html" />

<link rel="stylesheet" href="../s.w.org/style/codex-wp4.css?3" />
<meta name="referrer" content="always">

			<link href="../s.w.org/wp-includes/css/dashicons.min.css?20181204" rel="stylesheet" type="text/css" />
		<link href='../fonts.googleapis.com/css.css?family=Open+Sans:300italic,400italic,600italic,400,300,600&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="../s.w.org/style/wp4-2.css?92" />

<link rel="shortcut icon" href="../s.w.org/favicon.ico?2" type="image/x-icon" />
<script type="text/javascript" src="../s.w.org/wp-includes/js/jquery/jquery.js?v=1.11.1"></script>
<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>
<!--[if IE]>
    <script type="text/javascript" src="/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" />
<![endif]-->

<script type="text/javascript">wgBreakFrames=false;wgContentLanguage='en';</script>


</head>


<body id="wordpress-org" class="wporg-responsive wporg-codex">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="wporg-header">
	<div class="wrapper">
	<h1><a href="http://wordpress.org/">WordPress.org</a></h1>				<div id="head-search">
		<form action="http://wordpress.org/search/do-search.php" method="get">
			<label for="global-search" class="screen-reader-text">Search WordPress.org for:</label>
			<input id="global-search" class="text" name="search" type="text" value="" maxlength="150" placeholder="Search WordPress.org" />
			<button type="submit" class="button"><span class="screen-reader-text">Submit</span></button>
		</form>
		</div>
				<div style="clear:both"></div>
		<button id="mobile-menu-button" aria-expanded="false"><span class="screen-reader-text">Toggle Menu</span></button>
		
<nav aria-label="Main Menu">
<ul id="wporg-header-menu">
<li class="menu-item"><a href='http://wordpress.org/showcase/' data-title='See some of the sites built on WordPress.'>Showcase</a></li>
<li class="menu-item"><a href='http://learn.wordpress.org/' data-title='Resources to help you learn more about WordPress and teach it to others.'>Learn</a></li>
<li class="menu-item"><a href='http://wordpress.org/themes/' data-title='Find just the right look for your website.'>Themes</a></li>
<li class="menu-item"><a href='http://wordpress.org/plugins/' data-title='Plugins can extend WordPress to do almost anything you can imagine.'>Plugins</a></li>
<li class="menu-item"><a href='http://wordpress.org/mobile/' data-title='Take your website on the go!'>Mobile</a></li>
<li class="menu-item"><a href='http://wordpress.org/support/' data-title='Forums, documentation, help.' aria-current="true" class="current">Support</a><ul class="nav-submenu"><li><a href='http://wordpress.org/support/' title='Documentation, tutorials, best practices.'>Documentation</a></li><li><a href='http://wordpress.org/support/forums/' title='Support and discussion forums.'>Forums</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://make.wordpress.org/' data-title='Contribute your knowledge.'>Get Involved</a><ul class="nav-submenu"><li><a href='http://wordpress.org/five-for-the-future/' title='How five percent is powering the next generation of the web'>Five for the Future</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://wordpress.org/about/' data-title='About the WordPress Organization, and where we&#039;re going.'>About</a></li>
<li class="menu-item"><a href='http://wordpress.org/news/' data-title='Come here for the latest scoop.'>Blog</a></li>
<li class="menu-item"><a href='http://wordpress.org/hosting/' data-title='Find a home for your blog.'>Hosting</a></li>
<li id="download" class="button download-button menu-item"><a href='http://wordpress.org/download/' data-title='Get it. Got it? Good.'>Get WordPress</a></li>
</ul>
</nav>
		<div style="clear:both"></div>
	</div>
</div>



<div id="headline">
	<div class="wrapper">
		<h2><a href="index.html">Codex</a></h2>
		
		<div class="portlet" id="p-personal">
		  <p class="login">Codex tools:
		     <a href="https://codex.wordpress.org/index.php?title=Special:UserLogin&amp;returnto=Migrating+Plugins+and+Themes+to+2.1">Log in</a> 		  </p>
		</div>
	</div>
</div>

<div id="pagebody">
	<div class="wrapper">	
		<div class="col-10" id="bodyContent">
			<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><div style="clear:both; background-color:#e5f5fa; border-left:4px solid #00a0d2; padding:10px 12px 8px; margin:0.5em auto 1.5em auto;"><span class="dashicons dashicons-info" style="color:#00a0d2"></span> Interested in functions, hooks, classes, or methods? Check out the new <a rel="nofollow" class="external text" href="../developer.wordpress.org/reference/index.html">WordPress Code Reference</a>!</div>
</div></div>			<h2 class="pagetitle">Migrating Plugins and Themes to 2.1</h2>
									<!-- start content -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="Multilingual_Codex.html" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/プラグインとテーマの">2.1 への移行 日本語</a> 
 <small>(<a href="Multilingual_Codex.html#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div style="background-color:#FFFFFF; border:1px solid #FFFFFF; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;"><span style="float:left; margin:4px"><div class="floatleft"><a href="File_wp-alert.png" class="image"><img alt="wp-alert.png" src="images/9/9c/wp-alert.png" width="58" height="69" /></a></div></span><b>This article, written to accord with WordPress 2.1, is now obsolete. Please take caution when following its contents, as many things may have changed.</b></div>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Fixing_Up_Your_Theme_or_Plugin"><span class="tocnumber">2</span> <span class="toctext">Fixing Up Your Theme or Plugin</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Core_WordPress_Database_Changes"><span class="tocnumber">2.1</span> <span class="toctext">Core WordPress Database Changes</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Core_WordPress_File_Changes"><span class="tocnumber">2.2</span> <span class="toctext">Core WordPress File Changes</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Deprecated_Functions_and_Variables"><span class="tocnumber">2.3</span> <span class="toctext">Deprecated Functions and Variables</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Further_Reading"><span class="tocnumber">3</span> <span class="toctext">Further Reading</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>When a new major version of WordPress is released, such as WordPress 2.1 or 2.2, you may find that your Themes and Plugins no longer work the way you are used to. It could be that they are completely broken, because something in WordPress that was fundamental to them changed, but it's also possible that you can get them working again by updating some settings, or maybe just a small edit. 
</p><p>This article is part of a series on <a href="Migrating_Plugins_and_Themes.html" title="Migrating Plugins and Themes">Migrating Plugins and Themes</a>. It covers changes between WordPress Version 2.0 and <a rel="nofollow" class="external text" href="http://wordpress.org/development/2007/01/ella-21/">Version 2.1</a>, and what you need to do to Plugins and Themes to get them working in Version 2.1.
</p><p>If you are the author of your Theme or Plugin, or if you have modified or customized your Theme, then this article will help you upgrade your Theme/Plugin for 2.1. If your Theme or Plugin is distributed publicly, after getting it working you may want to add it to the Compatibility lists above, so your users will know it is working and which version they should be running.
</p>
<h2><span class="mw-headline" id="Fixing_Up_Your_Theme_or_Plugin">Fixing Up Your Theme or Plugin</span></h2>
<p>The starting point for upgrading your Theme or Plugin is to understand the changes to WordPress in Version 2.1. There is an overview of the changes in the <a rel="nofollow" class="external text" href="http://wordpress.org/development/2007/01/ella-21/">WordPress Development Blog article on the release of Version 2.1</a>. If your plugin or theme was relying on a feature that has changed, you may need to re-think it completely. 
</p>
<h3><span class="mw-headline" id="Core_WordPress_Database_Changes">Core WordPress Database Changes</span></h3>
<p>One fairly significant change in WordPress Version 2.1 is the WordPress database structure. The main change is that in version 2.1, the categories for links (i.e. blogroll) and posts have been combined into one table. So, if your plugin does something special with the link or post category tables, you may need to modify it. 
</p><p>Also, when a user upgrades from a previous version, the upgrade script will take their blogroll categories and merge them into the post category table. Since you cannot now have a post category and a blogroll category with the same ID numbers, the result is that the blogroll category ID numbers will all change during the update. So, if you have a Theme or Plugin that does something special with a particular blogroll category, by knowing its ID number, you will need to change the ID number(s) cited in the Theme or Plugin to the new ID numbers. To see what the current numbers are, go to the Categories section of the Manage panel in WordPress, and they will be listed in the table there. 
</p><p>Another database change is that the WordPress "posts" table now has a new field called "post_type", which you can use in your Plugin to distinguish better between Posts and Pages. This will not cause any compatibility problems, but you might want to use it in your Plugin to improve its logic.
</p>
<h3><span class="mw-headline" id="Core_WordPress_File_Changes">Core WordPress File Changes</span></h3>
<p>Many of the core WordPress files were either reorganized or had their names changed between Version 2.0.x and 2.1. For most Themes and Plugins, this is not a problem, but some Plugins that need access to a particular WordPress function may be loading a specific PHP file name, in order to make sure that that function is defined. If the function you are using is located in a new file now, you'll need to change the reference.
</p>
<h3><span class="mw-headline" id="Deprecated_Functions_and_Variables">Deprecated Functions and Variables</span></h3>
<p>Some Plugins and Themes may be using functions and global variables that are "deprecated", which means that they were present in previous versions of WordPress, but are being phased out. They could be deleted in a future version of WordPress, without warning, and then your Plugin or Theme would stop working.
</p><p>So, It is a good idea to check your Themes and Plugins for these functions, and make a substitution. Here is a (hopefully complete) list of deprecated functions (including ones deprecated in previous versions of WordPress). Replacement suggestions are also included (if they are missing and you know what they should be, feel free to jump in and edit!):
</p>
<ul><li> dropdown_cats</li>
<li> get_archives (use <a href="Template_Tags/wp_get_archives.html" title="Template Tags/wp get archives" class="mw-redirect">wp_get_archives</a>)</li>
<li> get_author_link (use get_author_posts_url)</li>
<li> get_autotoggle</li>
<li> get_linkobjects (use get_linkz)</li>
<li> get_linkobjectsbyname (use get_linkz)</li>
<li> get_linkswithrating</li>
<li> get_linksbyname</li>
<li> get_linksbyname_withrating</li>
<li> get_postdata (use get_post)</li>
<li> get_settings (use get_option as direct replacement)</li>
<li> link_pages (use <a href="Template_Tags/wp_link_pages.html" title="Template Tags/wp link pages" class="mw-redirect">wp_link_pages</a>)</li>
<li> list_authors</li>
<li> list_cats (use <a href="../developer.wordpress.org/reference/functions/wp_list_categories/index.html" title="Template Tags/wp list categories">wp_list_categories</a>)</li>
<li> next_post (use <a href="Template_Tags/next_post_link.html" title="Template Tags/next post link" class="mw-redirect">next_post_link</a>)</li>
<li> previous_post (use <a href="Template_Tags/previous_post_link.html" title="Template Tags/previous post link" class="mw-redirect">previous_post_link</a>)</li>
<li> start_wp</li>
<li> the_category_ID</li>
<li> the_category_head</li>
<li> tinymce_include (use wp_print_scripts or WP_Scripts)</li>
<li> user_can_create_draft (use current_user_can)</li>
<li> user_can_create_post (use current_user_can)</li>
<li> user_can_delete_post (use current_user_can)</li>
<li> user_can_delete_post_comments (use current_user_can)</li>
<li> user_can_edit_post (use current_user_can)</li>
<li> user_can_edit_post_comments (use current_user_can)</li>
<li> user_can_edit_post_date (use current_user_can)</li>
<li> user_can_edit_user (use current_user_can)</li>
<li> user_can_set_post_date (use current_user_can)</li>
<li> wp_get_linksbyname</li>
<li> wp_get_post_cats</li>
<li> wp_list_cats (use <a href="../developer.wordpress.org/reference/functions/wp_list_categories/index.html" title="Template Tags/wp list categories">wp_list_categories</a>)</li>
<li> wp_set_post_cats</li></ul>
<p>Also, the following global variables are deprecated:
</p>
<ul><li> $tableposts  (use $wpdb-&gt;posts)</li>
<li> $tableusers  (use $wpdb-&gt;users)</li>
<li> $tablecategories (use $wpdb-&gt;categories)</li>
<li> $tablepost2cat (use $wpdb-&gt;post2cat)(Gone in ver 2.3 $wpdb-&gt;terms)</li>
<li> $tablecomments (use $wpdb-&gt;comments)</li>
<li> $tablelinks (use $wpdb-&gt;links)</li>
<li> $tablelinkcategories (does not exist - all categories are in the main categories table now, and there is not a separate link categories table)</li>
<li> $tableoptions (use $wpdb-&gt;options)</li>
<li> $tablepostmeta (use $wpdb-&gt;postmeta)</li></ul>
<h2><span class="mw-headline" id="Further_Reading">Further Reading</span></h2>
<p>Here is a list of internal and external articles that may be of use in upgrading Themes or Plugins to Version 2.1 of WordPress:
</p>
<ul><li> <a rel="nofollow" class="external text" href="http://wordpress.org/development/2007/01/ella-21/">WordPress Development Blog article on the release of Version 2.1</a></li>
<li> <a href="https://wordpress.org/support/wordpress-version/version-2-1/" title="Version 2.1">WordPress Codex article on Version 2.1</a></li>
<li> <a rel="nofollow" class="external text" href="http://wordpress.org/development/2006/12/naughty-or-nice/">WordPress Blog article "Is Your Plugin Naughty or Nice"</a></li>
<li> <a href="Template_Tags.html" title="Template Tags">Template Tags</a> - list of Template Tags for using in Themes, including information on deprecated and new tags by WordPress version</li>
<li> <a rel="nofollow" class="external text" href="http://lorelle.wordpress.com/2007/01/26/wordpress-21-template-tag-and-function-changes/">Lorelle's article on Template Tag updates for 2.1</a></li>
<li> <a rel="nofollow" class="external text" href="http://lorelle.wordpress.com/2007/01/25/fear-not-wordpress-21-and-wordpress-plugins/">Lorelle's article on upgrading to 2.1</a></li>
<li> <a rel="nofollow" class="external text" href="http://lorelle.wordpress.com/2006/08/02/when-the-blog-breaks-fixing-your-broken-blog/">Lorelle's article on fixing a broken blog</a></li>
<li> <a rel="nofollow" class="external text" href="http://markjaquith.wordpress.com/2007/01/28/authorization-and-intentionorigination-verification-when-using-the-edit_post-hook/">Mark Jaquith's article on Authorization and intention/origination verification when using the edit_post hook</a> - affects editing plugins that do special things with tags or other Custom Fields</li></ul>

<!-- 
NewPP limit report
Cached time: 20210122091340
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.016 seconds
Real time usage: 0.019 seconds
Preprocessor visited node count: 64/1000000
Preprocessor generated node count: 265/1000000
Post‐expand include size: 1388/2097152 bytes
Template argument size: 471/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    5.948      1 - -total
 50.87%    3.026      1 - Template:Languages
 47.86%    2.847      1 - Template:Oldpage
 16.26%    0.967      1 - Template:Message
 16.04%    0.954      1 - Template:ja
 15.08%    0.897      1 - Template:en
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://codex.wordpress.org/index.php?title=Migrating_Plugins_and_Themes_to_2.1&amp;oldid=160415">https://codex.wordpress.org/index.php?title=Migrating_Plugins_and_Themes_to_2.1&amp;oldid=160415</a>"</div>
				<div id="catlinks"><div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://codex.wordpress.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="Category_Old_pages.html" title="Category:Old pages">Old pages</a></li><li><a href="Category_Advanced_Topics.html" title="Category:Advanced Topics">Advanced Topics</a></li><li><a href="Category_WordPress_Development.html" title="Category:WordPress Development">WordPress Development</a></li><li><a href="Category_Plugins.html" title="Category:Plugins">Plugins</a></li></ul></div></div></div>			<!-- end content -->
		</div>
		<div class="col-2">
			
						
			<ul class="submenu">
				<li id="n-mainpage"><a href="Main_Page.html">Home Page</a></li>	
				<li><a href="WordPress_Lessons.html">WordPress Lessons</a></li>
				<li><a href="Getting_Started_with_WordPress.html">Getting Started</a></li>
				<li><a href="Working_with_WordPress.html">Working with WordPress</a></li>
				<li><a href="Blog_Design_and_Layout.html">Design and Layout</a></li>
				<li><a href="Advanced_Topics.html">Advanced Topics</a></li>
				<li><a href="Troubleshooting.html">Troubleshooting</a></li>
				<li><a href="Developer_Documentation.html">Developer Docs</a></li>
				<li><a href="About_WordPress.html">About WordPress</a></li>
			</ul>

			<h3>Codex Resources</h3>
			<ul class="submenu">
				<li id="n-portal"><a href="https://codex.wordpress.org/Codex:Community_Portal">Community portal</a></li>	      
				<li id="n-currentevents"><a href="Current_events.html">Current events</a></li>	      
				<li id="n-recentchanges"><a href="https://codex.wordpress.org/Special:RecentChanges">Recent changes</a></li>	      
				<li id="n-randompage"><a href="https://codex.wordpress.org/Special:Random">Random page</a></li>	      
				<li id="n-help"><a href="https://codex.wordpress.org/Help:Contents">Help</a></li>	
			</ul>
			
		</div>
	</div>
</div>


<div id="wporg-footer">
	<div class="wrapper">
		<ul>
			<li><a href="http://wordpress.org/about/" title="An introduction to the WordPress project">About</a></li>
			<li><a href="http://wordpress.org/news/" title="News and Updates">Blog</a></li>
			<li><a href="http://wordpress.org/hosting/" title="Recommended web hosting providers">Hosting</a></li>
			<li><a href="https://wordpressfoundation.org/donate/" title="Donate to the WordPress Foundation">Donate</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/support/" title="Forums, documentation, and other resources">Support</a></li>
			<li><a href="../developer.wordpress.org/index.html" title="Resources for WordPress developers">Developers</a></li>
			<li><a href="http://make.wordpress.org/" title="Give back to WordPress through code, support, translation and more">Get Involved</a></li>
			<li><a href="http://learn.wordpress.org/" title="Workshops and training materials">Learn</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/showcase/" title="Some of the best WordPress sites on the Web">Showcase</a></li>
			<li><a href="http://wordpress.org/plugins/" title="Add extra functionality to WordPress">Plugins</a></li>
			<li><a href="http://wordpress.org/themes/" title="Make your WordPress pretty">Themes</a></li>
		</ul>

		<ul>
			<li><a href="http://central.wordcamp.org/" title="Find a WordPress event near you">WordCamp</a></li>
			<li><a href="http://wordpress.tv/" title="Videos, tutorials, and WordCamp sessions">WordPress.TV</a></li>
			<li><a href="http://buddypress.org/" title="A set of plugins to transform your WordPress into a social network">BuddyPress</a></li>
			<li><a href="http://bbpress.org/" title="Fast, slick forums built on WordPress">bbPress</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.com/?ref=wporg-footer" title="Hassle-free WordPress hosting">WordPress.com</a></li>
			<li><a href="http://ma.tt/" title="Co-founder of WordPress, an example of what WordPress can do">Matt</a></li>
			<li><a href="http://wordpress.org/about/privacy/" title="WordPress.org Privacy Policy">Privacy</a></li>
			<li><a href="https://publiccode.eu/" target="_blank">Public Code</a></li>
		</ul>

		<ul>
			<li><span class="dashicons dashicons-twitter"></span><a href="https://twitter.com/WordPress" title="Follow @WordPress on Twitter">@WordPress</a></li>
			<li><span class="dashicons dashicons-facebook"></span><a href="https://www.facebook.com/WordPress/" title="Like WordPress on Facebook">WordPress</a></li>
		</ul>
	</div>

		<p class="cip cip-image">Code is Poetry.</p>
</div>

<script src="../s.w.org/style/js/navigation.min.js?20190128"></script>

</body>
<!-- Cached 20210122091340 -->

<!-- Mirrored from codex.wordpress.org/Migrating_Plugins_and_Themes_to_2.1 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:09:00 GMT -->
</html>
