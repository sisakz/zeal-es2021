<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">


<!-- Mirrored from codex.wordpress.org/Создание_страниц_настройки by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:09:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');</script>
<!--
<meta property="fb:page_id" content="6427302910" />
-->
<link rel="dns-prefetch" href="http://s.w.org/" />
<link rel="dns-prefetch" href="../fonts.googleapis.com/index.html" />
<link rel="dns-prefetch" href="http://fonts.gstatic.com/" />
<link rel="dns-prefetch" href="http://www.googletagmanager.com/" />
<meta name="google-site-verification" content="7VWES_-rcHBcmaQis9mSYamPfNwE03f4vyTj4pfuAw0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Создание страниц настройки</title>
<link rel="canonical" href="%d0%a1%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5_%d1%81%d1%82%d1%80%d0%b0%d0%bd%d0%b8%d1%86_%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b8.html" />

<link rel="stylesheet" href="../s.w.org/style/codex-wp4.css?3" />
<meta name="referrer" content="always">

			<link href="../s.w.org/wp-includes/css/dashicons.min.css?20181204" rel="stylesheet" type="text/css" />
		<link href='../fonts.googleapis.com/css.css?family=Open+Sans:300italic,400italic,600italic,400,300,600&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="../s.w.org/style/wp4-2.css?92" />

<link rel="shortcut icon" href="../s.w.org/favicon.ico?2" type="image/x-icon" />
<script type="text/javascript" src="../s.w.org/wp-includes/js/jquery/jquery.js?v=1.11.1"></script>
<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>
<!--[if IE]>
    <script type="text/javascript" src="/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" />
<![endif]-->

<script type="text/javascript">wgBreakFrames=false;wgContentLanguage='en';</script>


</head>


<body id="wordpress-org" class="wporg-responsive wporg-codex">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="wporg-header">
	<div class="wrapper">
	<h1><a href="http://wordpress.org/">WordPress.org</a></h1>				<div id="head-search">
		<form action="http://wordpress.org/search/do-search.php" method="get">
			<label for="global-search" class="screen-reader-text">Search WordPress.org for:</label>
			<input id="global-search" class="text" name="search" type="text" value="" maxlength="150" placeholder="Search WordPress.org" />
			<button type="submit" class="button"><span class="screen-reader-text">Submit</span></button>
		</form>
		</div>
				<div style="clear:both"></div>
		<button id="mobile-menu-button" aria-expanded="false"><span class="screen-reader-text">Toggle Menu</span></button>
		
<nav aria-label="Main Menu">
<ul id="wporg-header-menu">
<li class="menu-item"><a href='http://wordpress.org/showcase/' data-title='See some of the sites built on WordPress.'>Showcase</a></li>
<li class="menu-item"><a href='http://learn.wordpress.org/' data-title='Resources to help you learn more about WordPress and teach it to others.'>Learn</a></li>
<li class="menu-item"><a href='http://wordpress.org/themes/' data-title='Find just the right look for your website.'>Themes</a></li>
<li class="menu-item"><a href='http://wordpress.org/plugins/' data-title='Plugins can extend WordPress to do almost anything you can imagine.'>Plugins</a></li>
<li class="menu-item"><a href='http://wordpress.org/mobile/' data-title='Take your website on the go!'>Mobile</a></li>
<li class="menu-item"><a href='http://wordpress.org/support/' data-title='Forums, documentation, help.' aria-current="true" class="current">Support</a><ul class="nav-submenu"><li><a href='http://wordpress.org/support/' title='Documentation, tutorials, best practices.'>Documentation</a></li><li><a href='http://wordpress.org/support/forums/' title='Support and discussion forums.'>Forums</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://make.wordpress.org/' data-title='Contribute your knowledge.'>Get Involved</a><ul class="nav-submenu"><li><a href='http://wordpress.org/five-for-the-future/' title='How five percent is powering the next generation of the web'>Five for the Future</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://wordpress.org/about/' data-title='About the WordPress Organization, and where we&#039;re going.'>About</a></li>
<li class="menu-item"><a href='http://wordpress.org/news/' data-title='Come here for the latest scoop.'>Blog</a></li>
<li class="menu-item"><a href='http://wordpress.org/hosting/' data-title='Find a home for your blog.'>Hosting</a></li>
<li id="download" class="button download-button menu-item"><a href='http://wordpress.org/download/' data-title='Get it. Got it? Good.'>Get WordPress</a></li>
</ul>
</nav>
		<div style="clear:both"></div>
	</div>
</div>



<div id="headline">
	<div class="wrapper">
		<h2><a href="index.html">Codex</a></h2>
		
		<div class="portlet" id="p-personal">
		  <p class="login">Codex tools:
		     <a href="https://codex.wordpress.org/index.php?title=Special:UserLogin&amp;returnto=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5+%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86+%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8">Log in</a> 		  </p>
		</div>
	</div>
</div>

<div id="pagebody">
	<div class="wrapper">	
		<div class="col-10" id="bodyContent">
			<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><div style="clear:both; background-color:#e5f5fa; border-left:4px solid #00a0d2; padding:10px 12px 8px; margin:0.5em auto 1.5em auto;"><span class="dashicons dashicons-info" style="color:#00a0d2"></span> Interested in functions, hooks, classes, or methods? Check out the new <a rel="nofollow" class="external text" href="../developer.wordpress.org/reference/index.html">WordPress Code Reference</a>!</div>
</div></div>			<h2 class="pagetitle">Создание страниц настройки</h2>
									<!-- start content -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="Multilingual_Codex.html" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="Creating_Options_Pages.html" title="Creating Options Pages">English</a> • 
<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/Creating">Options Pages 日本語</a> 
<strong class="selflink">Русский</strong> • 

 <small>(<a href="Multilingual_Codex.html#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"><span class="tocnumber">1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.9E.D1.82.D0.BA.D1.80.D1.8B.D1.82.D0.B8.D0.B5_.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D1.8B"><span class="tocnumber">2</span> <span class="toctext">Открытие страницы</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.D0.A2.D0.B5.D0.B3_.D1.84.D0.BE.D1.80.D0.BC.D1.8B"><span class="tocnumber">3</span> <span class="toctext">Тег формы</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#.D0.9C.D0.B0.D0.B3.D0.B8.D1.8F_nonce"><span class="tocnumber">4</span> <span class="toctext">Магия nonce</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#.D0.A4.D0.BE.D1.80.D0.BC.D0.B0_.D1.82.D0.B0.D0.B1.D0.BB.D0.B8.D1.86.D1.8B"><span class="tocnumber">5</span> <span class="toctext">Форма таблицы</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#.D0.9F.D0.BE.D0.BB.D0.B5_action"><span class="tocnumber">6</span> <span class="toctext">Поле action</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#.D0.9F.D0.BE.D0.BB.D0.B5_page_options"><span class="tocnumber">7</span> <span class="toctext">Поле page_options</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#.D0.97.D0.B0.D0.BA.D1.80.D1.8B.D0.B2.D0.B0.D0.B5.D0.BC_.D1.82.D0.B5.D0.B3.D0.B8"><span class="tocnumber">8</span> <span class="toctext">Закрываем теги</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#.D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D0.BC_.D0.B2.D1.81.D1.91_.D0.B2.D0.BC.D0.B5.D1.81.D1.82.D0.B5"><span class="tocnumber">9</span> <span class="toctext">Смотрим всё вместе</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Wordpress_2.7_.D0.B8_.D0.BD.D0.BE.D0.B2.D0.B5.D0.B5"><span class="tocnumber">10</span> <span class="toctext">Wordpress 2.7 и новее</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#settings_fields_Function"><span class="tocnumber">10.1</span> <span class="toctext">settings_fields Function</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Register_Settings"><span class="tocnumber">10.2</span> <span class="toctext">Register Settings</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#See_It_All_Together"><span class="tocnumber">10.3</span> <span class="toctext">See It All Together</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Pitfalls"><span class="tocnumber">10.3.1</span> <span class="toctext">Pitfalls</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5">Введение</span></h2>
<p>Создавать собственные панели настроек в WordPress относительно легко.
</p><p>Для начала, чтобы создать элемент меню и новую страницу, посмотрите статью <a href="%d0%94%d0%be%d0%b1%d0%b0%d0%b2%d0%bb%d0%b5%d0%bd%d0%b8%d0%b5_%d0%b0%d0%b4%d0%bc%d0%b8%d0%bd%d0%b8%d1%81%d1%82%d1%80%d0%b0%d1%82%d0%b8%d0%b2%d0%bd%d1%8b%d1%85_%d0%bc%d0%b5%d0%bd%d1%8e.html" title="Добавление административных меню">«Добавление административных меню»</a>.
</p><p>Если придерживаться этой структуры, WordPress сам позаботится о создании настроек, обновлении, сохранении и перенаправлении. Он также проверит права доступа и сделает остальную закулисную магию.
</p><p>Несколько новых функций были добавлены в WordPress 2.7. Эти новые функции необязательны в WordPress 2.7, но будут требоваться в будущем. Они необходимы для WordPress MU 2.7. См. <a href="Migrating_Plugins_and_Themes_to_2-6.html" title="Migrating Plugins and Themes to 2.7">Migrating Plugins and Themes to 2.7</a> и <a href="Settings_API.html" title="Settings API">Settings API</a> для получения более детальной информации.
</p>
<h2><span class="mw-headline" id=".D0.9E.D1.82.D0.BA.D1.80.D1.8B.D1.82.D0.B8.D0.B5_.D1.81.D1.82.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D1.8B">Открытие страницы</span></h2>
<p>Вы можете поместить код страницы параметров в ваш php-файл плагина или создать второй файл с именем например options.php, и включить его с помощью функции php include - <a rel="nofollow" class="external free" href="http://www.w3schools.com/PHP/php_includes.asp">http://www.w3schools.com/PHP/php_includes.asp</a>
</p><p>Если вы хотите совместить внешний вид существующих страниц параметров WordPress, откройте следующее:
</p>
<pre>&lt;div class="wrap"&gt;
&lt;h2&gt;Your Plugin Page Title&lt;/h2&gt;
</pre>
<h2><span class="mw-headline" id=".D0.A2.D0.B5.D0.B3_.D1.84.D0.BE.D1.80.D0.BC.D1.8B">Тег формы</span></h2>
<p>Когда у вас появилась страница, нужно создать HTML-форму. Используйте этот код:
</p>
<pre>&lt;form method="post" action="options.php"&gt;
</pre>
<h2><span class="mw-headline" id=".D0.9C.D0.B0.D0.B3.D0.B8.D1.8F_nonce">Магия nonce</span></h2>
<p>После открытия тега формы вставьте следующий PHP-код:
</p>
<pre>&lt;?php wp_nonce_field('update-options');&#160;?&gt;
</pre>
<p>Он добавит два скрытых поля, позволяющих автоматически проверять, что пользователь может обновлять настройки, и перенаправлять его обратно на нужную страницу (поскольку форма отсылает результат на другую страницу).
</p><p>(Это <b>не требуется</b> если используется <b>версия 2.7</b>, функция <a href="Function_Reference/settings_fields.html" title="Function Reference/settings fields">settings_fields</a>.)
</p>
<h2><span class="mw-headline" id=".D0.A4.D0.BE.D1.80.D0.BC.D0.B0_.D1.82.D0.B0.D0.B1.D0.BB.D0.B8.D1.86.D1.8B">Форма таблицы</span></h2>
<p>Большинство страниц параметров используют таблицу с классом «form-table» для отображения их параметров. Чтобы сопоставить внешний вид этих страниц, создайте новую таблицу:
</p>
<pre>&lt;table class="form-table"&gt;
</pre>
<p>Используйте поля с теми же названиями, какие вы хотите дать создаваемым настройкам (которые будут храниться в таблице options), например:
</p>
<pre>&lt;tr valign="top"&gt;
&lt;th scope="row"&gt;New Option Name&lt;/th&gt;
&lt;td&gt;&lt;input type="text" name="new_option_name" value="&lt;?php echo get_option('new_option_name');&#160;?&gt;" /&gt;&lt;/td&gt;
&lt;/tr&gt;
</pre>
<p>Внимательнее посмотрите на элемент &lt;input&gt;:
</p>
<pre>&lt;input type="text" name="new_option_name" value="&lt;?php echo get_option('new_option_name');&#160;?&gt;" /&gt;
</pre>
<p>Обратите внимание, что благодаря использованию функции get_option() в качестве значения поля, оно автоматически обновится, когда настройки будут сохранены.
</p><p>После того как вы добавили все поля для параметров, закройте таблицу:
</p>
<pre>&lt;/table&gt;
</pre>
<h2><span class="mw-headline" id=".D0.9F.D0.BE.D0.BB.D0.B5_action">Поле action</span></h2>
<p>Теперь создайте скрытое поле под названием «action» со значением «update».
</p>
<pre>&lt;input type="hidden" name="action" value="update" /&gt;
</pre>
<p>(Это <b>не требуется</b> если используется <b>версия 2.7</b>, функция <a href="Function_Reference/settings_fields.html" title="Function Reference/settings fields">settings_fields</a> is used.)
</p>
<h2><span class="mw-headline" id=".D0.9F.D0.BE.D0.BB.D0.B5_page_options">Поле page_options</span></h2>
<p>В заключение, создайте скрытое поле под названием «page_options», содержащее разделённый запятыми список всех настроек, которые нужно записать при сохранении.
</p>
<pre>&lt;input type="hidden" name="page_options" value="new_option_name,some_other_option,option_etc" /&gt;
</pre>
<p>(Это <b>не требуется</b> если используется <b>версия 2.7</b>, и функции <a href="Function_Reference/settings_fields.html" title="Function Reference/settings fields">settings_fields</a> и <a href="../developer.wordpress.org/reference/functions/register_setting/index.html" title="Function Reference/register setting">register_setting</a>.)
</p>
<h2><span class="mw-headline" id=".D0.97.D0.B0.D0.BA.D1.80.D1.8B.D0.B2.D0.B0.D0.B5.D0.BC_.D1.82.D0.B5.D0.B3.D0.B8">Закрываем теги</span></h2>
<p>Затем, очевидно, следует закрыть тег формы. Если хотите, можно добавить ещё одну кнопку «Обновить настройки» — в WordPress так принято.
</p>
<pre>&lt;p class="submit"&gt;
&lt;input type="submit" class="button-primary" value="&lt;?php _e('Save Changes')&#160;?&gt;" /&gt;
&lt;/p&gt;
&lt;/form&gt;
&lt;/div&gt;
</pre>
<p>Обратите внимание на использование функции _e() для перевода текста. Подробности — в статье <a href="https://make.wordpress.org/polyglots/handbook/" title="Localizing WordPress" class="mw-redirect">«Локализация WordPress»</a>.
</p>
<h2><span class="mw-headline" id=".D0.A1.D0.BC.D0.BE.D1.82.D1.80.D0.B8.D0.BC_.D0.B2.D1.81.D1.91_.D0.B2.D0.BC.D0.B5.D1.81.D1.82.D0.B5">Смотрим всё вместе</span></h2>
<pre>&lt;div class="wrap"&gt;
&lt;h2&gt;Your Plugin Name&lt;/h2&gt;

&lt;form method="post" action="options.php"&gt;
&lt;?php wp_nonce_field('update-options');&#160;?&gt;

&lt;table class="form-table"&gt;

&lt;tr valign="top"&gt;
&lt;th scope="row"&gt;New Option Name&lt;/th&gt;
&lt;td&gt;&lt;input type="text" name="new_option_name" value="&lt;?php echo get_option('new_option_name');&#160;?&gt;" /&gt;&lt;/td&gt;
&lt;/tr&gt;
 
&lt;tr valign="top"&gt;
&lt;th scope="row"&gt;Some Other Option&lt;/th&gt;
&lt;td&gt;&lt;input type="text" name="some_other_option" value="&lt;?php echo get_option('some_other_option');&#160;?&gt;" /&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr valign="top"&gt;
&lt;th scope="row"&gt;Options, Etc.&lt;/th&gt;
&lt;td&gt;&lt;input type="text" name="option_etc" value="&lt;?php echo get_option('option_etc');&#160;?&gt;" /&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;/table&gt;

&lt;input type="hidden" name="action" value="update" /&gt;
&lt;input type="hidden" name="page_options" value="new_option_name,some_other_option,option_etc" /&gt;

&lt;p class="submit"&gt;
&lt;input type="submit" class="button-primary" value="&lt;?php _e('Save Changes')&#160;?&gt;" /&gt;
&lt;/p&gt;

&lt;/form&gt;
&lt;/div&gt;
</pre>
<h2><span class="mw-headline" id="Wordpress_2.7_.D0.B8_.D0.BD.D0.BE.D0.B2.D0.B5.D0.B5">Wordpress 2.7 и новее</span></h2>
<p>Здесь новые API функции, которые будут использоваться в версии 3.0.
</p><p>Эта функция создаёт страницу настройки. 
</p><p>Add sub menu page to the options main menu. 
This function takes a capability which will be used to determine whether or not a page is included in the menu. The function which is hooked in to handle the output of the page must check that the user has the required capability as well. 
</p>
<dl><dt>page_title</dt>
<dd> The text to be displayed in the title tags of the page when the menu is selected </dd>
<dt>menu_title</dt>
<dd> The text to be used for the menu </dd>
<dt>capability</dt>
<dd> The capability required for this menu to be displayed to the user. </dd>
<dt>menu_slug</dt>
<dd> The slug name to refer to this menu by (should be unique for this menu) </dd>
<dt>function</dt>
<dd> The function to be called to output the content for this page. </dd></dl>

<h3><span class="mw-headline" id="settings_fields_Function">settings_fields Function</span></h3>
<p>The setting fields will know which settings your options page will handle.
</p><p>Somewhere within the form add this function
</p>
<pre>settings_fields( 'myoption-group' );
</pre>
<p>where <tt>myoption-group</tt> is the same name used in the <a href="../developer.wordpress.org/reference/functions/register_setting/index.html" title="Function Reference/register setting">register_setting</a> function.
</p><p>This function <b>replaces</b> the <b>nonce magic</b>, <b>action field</b>, and <b>page_options field</b> mentioned above.
</p>
<h3><span class="mw-headline" id="Register_Settings">Register Settings</span></h3>
<p>The <a href="../developer.wordpress.org/reference/functions/register_setting/index.html" title="Function Reference/register setting">register_setting</a> and <a href="Function_Reference/unregister_setting.html" title="Function Reference/unregister setting">unregister_setting</a> functions add and remove options from a whitelist of allowed options that the form is able to save. They can also name a sanitize callback function as a security measure to check each option's value.
</p><p>The register_setting function should be called in an <a href="Plugin_API/Action_Reference.html#Administrative_Actions" title="Plugin API/Action Reference">admin_init</a> action, which runs before every admin page and in particular, <tt>options.php</tt>, which receives this form.
</p><p>Your plugin probably has a section with an add_action that adds a new menu item to the administration menus. This line will be in the same section to add an action to admin_init.
</p>
<pre>
if ( is_admin() ){ // admin actions
  add_action( 'admin_menu', 'add_mymenu' );
  add_action( 'admin_init', 'register_mysettings' );
} else {
  // non-admin enqueues, actions, and filters
}
</pre>
<p>Then you create a new function that registers each option.
</p>
<pre>
function register_mysettings() { // whitelist options
  register_setting( 'myoption-group', 'new_option_name' );
  register_setting( 'myoption-group', 'some_other_option' );
  register_setting( 'myoption-group', 'option_etc' );
}
</pre>
<p>The name of <tt>myoption-group</tt> doesn't matter but it has to match the name used in the settings_fields function above.
</p>
<h3><span class="mw-headline" id="See_It_All_Together">See It All Together</span></h3>
<p>The below example uses the new Settings API to create and save your plugin options
</p>
<pre>
&lt;?php
// create custom plugin settings menu
add_action('admin_menu', 'baw_create_menu');

function baw_create_menu() {

	//create new top-level menu
	add_menu_page('BAW Plugin Settings', 'BAW Settings', 'administrator', __FILE__, 'baw_settings_page',plugins_url('/images/icon.png', __FILE__));

	//call register settings function
	add_action( 'admin_init', 'register_mysettings' );
}


function register_mysettings() {
	//register our settings
	register_setting( 'baw-settings-group', 'new_option_name' );
	register_setting( 'baw-settings-group', 'some_other_option' );
	register_setting( 'baw-settings-group', 'option_etc' );
}

function baw_settings_page() {
?&gt;
&lt;div class="wrap"&gt;
&lt;h2&gt;Your Plugin Name&lt;/h2&gt;

&lt;form method="post" action="options.php"&gt;
    &lt;?php settings_fields( 'baw-settings-group' );&#160;?&gt;
    &lt;table class="form-table"&gt;
        &lt;tr valign="top"&gt;
        &lt;th scope="row"&gt;New Option Name&lt;/th&gt;
        &lt;td&gt;&lt;input type="text" name="new_option_name" value="&lt;?php echo get_option('new_option_name');&#160;?&gt;" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
         
        &lt;tr valign="top"&gt;
        &lt;th scope="row"&gt;Some Other Option&lt;/th&gt;
        &lt;td&gt;&lt;input type="text" name="some_other_option" value="&lt;?php echo get_option('some_other_option');&#160;?&gt;" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        
        &lt;tr valign="top"&gt;
        &lt;th scope="row"&gt;Options, Etc.&lt;/th&gt;
        &lt;td&gt;&lt;input type="text" name="option_etc" value="&lt;?php echo get_option('option_etc');&#160;?&gt;" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
    
    &lt;p class="submit"&gt;
    &lt;input type="submit" class="button-primary" value="&lt;?php _e('Save Changes')&#160;?&gt;" /&gt;
    &lt;/p&gt;

&lt;/form&gt;
&lt;/div&gt;
&lt;?php }&#160;?&gt;
</pre>
<h4><span class="mw-headline" id="Pitfalls">Pitfalls</span></h4>
<p>The <b>Settings</b> name, the second parameter in the <i>register_setting()</i> function, MUST match the name of the option being updated in the database!
<br />
For example, say you have <b>add_option( 'foo_bar', 'isfoo' )</b>, you MUST use <b>foo_bar</b> as the second parameter for the <b>register_setting()</b> function.  Otherwise WordPress does not know which setting it is suppose to update and it will fail to update.
</p>
<div style="background-color:#FAEBD7; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">Эта страница <a href="Category_Stubs.html" title="Category:Stubs">помечена</a> как незавершённая. Вы можете <a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">помочь</a> проекту, <b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8&amp;action=edit">дополнив её</a></b>.</div>

<!-- 
NewPP limit report
Cached time: 20210122111707
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.016 seconds
Real time usage: 0.020 seconds
Preprocessor visited node count: 130/1000000
Preprocessor generated node count: 418/1000000
Post‐expand include size: 2055/2097152 bytes
Template argument size: 690/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    8.020      1 - -total
 59.04%    4.735      1 - Template:Languages
 30.52%    2.448      1 - Template:ru:Stub
 20.58%    1.651      1 - Template:ja
 15.09%    1.210      1 - Template:Message
 11.42%    0.916      1 - Template:ru
 11.23%    0.901      1 - Template:en
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://codex.wordpress.org/index.php?title=%d0%a1%d0%be%d0%b7%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5_%d1%81%d1%82%d1%80%d0%b0%d0%bd%d0%b8%d1%86_%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b8&amp;oldid=163055">https://codex.wordpress.org/index.php?title=Создание_страниц_настройки&amp;oldid=163055</a>"</div>
				<div id="catlinks"><div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://codex.wordpress.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="Category_ru_Plugins.html" title="Category:ru:Plugins">ru:Plugins</a></li><li><a href="Category_WordPress_Development.html" title="Category:WordPress Development">WordPress Development</a></li><li><a href="Category_Advanced_Topics.html" title="Category:Advanced Topics">Advanced Topics</a></li><li><a href="Category_Russian_Codex.html" title="Category:Russian Codex">Russian Codex</a></li><li><a href="Category_Stubs.html" title="Category:Stubs">Stubs</a></li></ul></div></div></div>			<!-- end content -->
		</div>
		<div class="col-2">
			
						
			<ul class="submenu">
				<li id="n-mainpage"><a href="Main_Page.html">Home Page</a></li>	
				<li><a href="WordPress_Lessons.html">WordPress Lessons</a></li>
				<li><a href="Getting_Started_with_WordPress.html">Getting Started</a></li>
				<li><a href="Working_with_WordPress.html">Working with WordPress</a></li>
				<li><a href="Blog_Design_and_Layout.html">Design and Layout</a></li>
				<li><a href="Advanced_Topics.html">Advanced Topics</a></li>
				<li><a href="Troubleshooting.html">Troubleshooting</a></li>
				<li><a href="Developer_Documentation.html">Developer Docs</a></li>
				<li><a href="About_WordPress.html">About WordPress</a></li>
			</ul>

			<h3>Codex Resources</h3>
			<ul class="submenu">
				<li id="n-portal"><a href="https://codex.wordpress.org/Codex:Community_Portal">Community portal</a></li>	      
				<li id="n-currentevents"><a href="Current_events.html">Current events</a></li>	      
				<li id="n-recentchanges"><a href="https://codex.wordpress.org/Special:RecentChanges">Recent changes</a></li>	      
				<li id="n-randompage"><a href="https://codex.wordpress.org/Special:Random">Random page</a></li>	      
				<li id="n-help"><a href="https://codex.wordpress.org/Help:Contents">Help</a></li>	
			</ul>
			
		</div>
	</div>
</div>


<div id="wporg-footer">
	<div class="wrapper">
		<ul>
			<li><a href="http://wordpress.org/about/" title="An introduction to the WordPress project">About</a></li>
			<li><a href="http://wordpress.org/news/" title="News and Updates">Blog</a></li>
			<li><a href="http://wordpress.org/hosting/" title="Recommended web hosting providers">Hosting</a></li>
			<li><a href="https://wordpressfoundation.org/donate/" title="Donate to the WordPress Foundation">Donate</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/support/" title="Forums, documentation, and other resources">Support</a></li>
			<li><a href="../developer.wordpress.org/index.html" title="Resources for WordPress developers">Developers</a></li>
			<li><a href="http://make.wordpress.org/" title="Give back to WordPress through code, support, translation and more">Get Involved</a></li>
			<li><a href="http://learn.wordpress.org/" title="Workshops and training materials">Learn</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/showcase/" title="Some of the best WordPress sites on the Web">Showcase</a></li>
			<li><a href="http://wordpress.org/plugins/" title="Add extra functionality to WordPress">Plugins</a></li>
			<li><a href="http://wordpress.org/themes/" title="Make your WordPress pretty">Themes</a></li>
		</ul>

		<ul>
			<li><a href="http://central.wordcamp.org/" title="Find a WordPress event near you">WordCamp</a></li>
			<li><a href="http://wordpress.tv/" title="Videos, tutorials, and WordCamp sessions">WordPress.TV</a></li>
			<li><a href="http://buddypress.org/" title="A set of plugins to transform your WordPress into a social network">BuddyPress</a></li>
			<li><a href="http://bbpress.org/" title="Fast, slick forums built on WordPress">bbPress</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.com/?ref=wporg-footer" title="Hassle-free WordPress hosting">WordPress.com</a></li>
			<li><a href="http://ma.tt/" title="Co-founder of WordPress, an example of what WordPress can do">Matt</a></li>
			<li><a href="http://wordpress.org/about/privacy/" title="WordPress.org Privacy Policy">Privacy</a></li>
			<li><a href="https://publiccode.eu/" target="_blank">Public Code</a></li>
		</ul>

		<ul>
			<li><span class="dashicons dashicons-twitter"></span><a href="https://twitter.com/WordPress" title="Follow @WordPress on Twitter">@WordPress</a></li>
			<li><span class="dashicons dashicons-facebook"></span><a href="https://www.facebook.com/WordPress/" title="Like WordPress on Facebook">WordPress</a></li>
		</ul>
	</div>

		<p class="cip cip-image">Code is Poetry.</p>
</div>

<script src="../s.w.org/style/js/navigation.min.js?20190128"></script>

</body>
<!-- Cached 20210122111707 -->

<!-- Mirrored from codex.wordpress.org/Создание_страниц_настройки by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:09:04 GMT -->
</html>
