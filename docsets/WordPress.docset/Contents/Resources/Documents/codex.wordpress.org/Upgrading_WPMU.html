<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">


<!-- Mirrored from codex.wordpress.org/Upgrading_WPMU by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:15:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');</script>
<!--
<meta property="fb:page_id" content="6427302910" />
-->
<link rel="dns-prefetch" href="http://s.w.org/" />
<link rel="dns-prefetch" href="../fonts.googleapis.com/index.html" />
<link rel="dns-prefetch" href="http://fonts.gstatic.com/" />
<link rel="dns-prefetch" href="http://www.googletagmanager.com/" />
<meta name="google-site-verification" content="7VWES_-rcHBcmaQis9mSYamPfNwE03f4vyTj4pfuAw0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Upgrading WPMU</title>
<link rel="canonical" href="Upgrading_WPMU.html" />

<link rel="stylesheet" href="../s.w.org/style/codex-wp4.css?3" />
<meta name="referrer" content="always">

			<link href="../s.w.org/wp-includes/css/dashicons.min.css?20181204" rel="stylesheet" type="text/css" />
		<link href='../fonts.googleapis.com/css.css?family=Open+Sans:300italic,400italic,600italic,400,300,600&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="../s.w.org/style/wp4-2.css?92" />

<link rel="shortcut icon" href="../s.w.org/favicon.ico?2" type="image/x-icon" />
<script type="text/javascript" src="../s.w.org/wp-includes/js/jquery/jquery.js?v=1.11.1"></script>
<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>
<!--[if IE]>
    <script type="text/javascript" src="/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" />
<![endif]-->

<script type="text/javascript">wgBreakFrames=false;wgContentLanguage='en';</script>


</head>


<body id="wordpress-org" class="wporg-responsive wporg-codex">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="wporg-header">
	<div class="wrapper">
	<h1><a href="http://wordpress.org/">WordPress.org</a></h1>				<div id="head-search">
		<form action="http://wordpress.org/search/do-search.php" method="get">
			<label for="global-search" class="screen-reader-text">Search WordPress.org for:</label>
			<input id="global-search" class="text" name="search" type="text" value="" maxlength="150" placeholder="Search WordPress.org" />
			<button type="submit" class="button"><span class="screen-reader-text">Submit</span></button>
		</form>
		</div>
				<div style="clear:both"></div>
		<button id="mobile-menu-button" aria-expanded="false"><span class="screen-reader-text">Toggle Menu</span></button>
		
<nav aria-label="Main Menu">
<ul id="wporg-header-menu">
<li class="menu-item"><a href='http://wordpress.org/showcase/' data-title='See some of the sites built on WordPress.'>Showcase</a></li>
<li class="menu-item"><a href='http://learn.wordpress.org/' data-title='Resources to help you learn more about WordPress and teach it to others.'>Learn</a></li>
<li class="menu-item"><a href='http://wordpress.org/themes/' data-title='Find just the right look for your website.'>Themes</a></li>
<li class="menu-item"><a href='http://wordpress.org/plugins/' data-title='Plugins can extend WordPress to do almost anything you can imagine.'>Plugins</a></li>
<li class="menu-item"><a href='http://wordpress.org/mobile/' data-title='Take your website on the go!'>Mobile</a></li>
<li class="menu-item"><a href='http://wordpress.org/support/' data-title='Forums, documentation, help.' aria-current="true" class="current">Support</a><ul class="nav-submenu"><li><a href='http://wordpress.org/support/' title='Documentation, tutorials, best practices.'>Documentation</a></li><li><a href='http://wordpress.org/support/forums/' title='Support and discussion forums.'>Forums</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://make.wordpress.org/' data-title='Contribute your knowledge.'>Get Involved</a><ul class="nav-submenu"><li><a href='http://wordpress.org/five-for-the-future/' title='How five percent is powering the next generation of the web'>Five for the Future</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://wordpress.org/about/' data-title='About the WordPress Organization, and where we&#039;re going.'>About</a></li>
<li class="menu-item"><a href='http://wordpress.org/news/' data-title='Come here for the latest scoop.'>Blog</a></li>
<li class="menu-item"><a href='http://wordpress.org/hosting/' data-title='Find a home for your blog.'>Hosting</a></li>
<li id="download" class="button download-button menu-item"><a href='http://wordpress.org/download/' data-title='Get it. Got it? Good.'>Get WordPress</a></li>
</ul>
</nav>
		<div style="clear:both"></div>
	</div>
</div>



<div id="headline">
	<div class="wrapper">
		<h2><a href="index.html">Codex</a></h2>
		
		<div class="portlet" id="p-personal">
		  <p class="login">Codex tools:
		     <a href="https://codex.wordpress.org/index.php?title=Special:UserLogin&amp;returnto=Upgrading+WPMU">Log in</a> 		  </p>
		</div>
	</div>
</div>

<div id="pagebody">
	<div class="wrapper">	
		<div class="col-10" id="bodyContent">
			<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><div style="clear:both; background-color:#e5f5fa; border-left:4px solid #00a0d2; padding:10px 12px 8px; margin:0.5em auto 1.5em auto;"><span class="dashicons dashicons-info" style="color:#00a0d2"></span> Interested in functions, hooks, classes, or methods? Check out the new <a rel="nofollow" class="external text" href="../developer.wordpress.org/reference/index.html">WordPress Code Reference</a>!</div>
</div></div>			<h2 class="pagetitle">Upgrading WPMU</h2>
									<!-- start content -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Upgrading_WPMU"><span class="tocnumber">1</span> <span class="toctext">Upgrading WPMU</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#What_does_the_upgrade_button_do.3F"><span class="tocnumber">2</span> <span class="toctext">What does the upgrade button do?</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#2.9.x_to_3.0"><span class="tocnumber">3</span> <span class="toctext">2.9.x to 3.0</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#2.8.3_to_2.9.x"><span class="tocnumber">4</span> <span class="toctext">2.8.3 to 2.9.x</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#2.7.1_to_2.8.3"><span class="tocnumber">5</span> <span class="toctext">2.7.1 to 2.8.3</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#2.6_to_2.7"><span class="tocnumber">6</span> <span class="toctext">2.6 to 2.7</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#WordPress_MU_2.7.1_Archive_Link"><span class="tocnumber">6.1</span> <span class="toctext">WordPress MU 2.7.1 Archive Link</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#1.5_to_2.6"><span class="tocnumber">7</span> <span class="toctext">1.5 to 2.6</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#WordPress_MU_1.5.1_.26_2.6.5_Archive_Links"><span class="tocnumber">7.1</span> <span class="toctext">WordPress MU 1.5.1 &amp; 2.6.5 Archive Links</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#1.3.3_to_1.5.1"><span class="tocnumber">8</span> <span class="toctext">1.3.3 to 1.5.1</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#WordPress_MU_1.3.3_.26_1.5.1_Archive_Links"><span class="tocnumber">8.1</span> <span class="toctext">WordPress MU 1.3.3 &amp; 1.5.1 Archive Links</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#1.2_to_1.3"><span class="tocnumber">9</span> <span class="toctext">1.2 to 1.3</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Changes_to_Categories_handling_to_support_Tagging"><span class="tocnumber">9.1</span> <span class="toctext">Changes to Categories handling to support Tagging</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Character_set_issues_with_early_versions_of_WPMU"><span class="tocnumber">9.2</span> <span class="toctext">Character set issues with early versions of WPMU</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Unresolved_issues"><span class="tocnumber">10</span> <span class="toctext">Unresolved issues</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#WordPress_MU_1.2.5a_.26_1.3.3_Archive_Links"><span class="tocnumber">10.1</span> <span class="toctext">WordPress MU 1.2.5a &amp; 1.3.3 Archive Links</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#1.1_to_1.2"><span class="tocnumber">11</span> <span class="toctext">1.1 to 1.2</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#WordPress_MU_1.1.1_.26_1.2.5a_Archive_Links"><span class="tocnumber">11.1</span> <span class="toctext">WordPress MU 1.1.1 &amp; 1.2.5a Archive Links</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#1.0_to_1.1"><span class="tocnumber">12</span> <span class="toctext">1.0 to 1.1</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#WordPress_MU_1.0-rc4_.26_1.1.1_Archive_Links"><span class="tocnumber">12.1</span> <span class="toctext">WordPress MU 1.0-rc4 &amp; 1.1.1 Archive Links</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#Pre_1.0_versions"><span class="tocnumber">13</span> <span class="toctext">Pre 1.0 versions</span></a>
<ul>
<li class="toclevel-2 tocsection-22"><a href="#Post_Version_1.2C_RC1"><span class="tocnumber">13.1</span> <span class="toctext">Post Version 1, RC1</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Pre_Version_1.2C_RC1"><span class="tocnumber">13.2</span> <span class="toctext">Pre Version 1, RC1</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Upgrading_WPMU">Upgrading WPMU</span></h2>
<p>You should read through the comprehensive <a href="Upgrading_WordPress.html" title="Upgrading WordPress" class="mw-redirect">Upgrading_WordPress</a> WP upgrade documentation site before attempting to upgrade WPMU. However, be sure you download the MU version of the software found at <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/browser/tags">http://trac.mu.wordpress.org/browser/tags</a>, not the software found linked on the "Download" tab above. In summary, we recommend you:
</p>
<ol><li> <a href="Backup_WPMU.html" title="Backup WPMU" class="mw-redirect">Backup WPMU</a></li>
<li> use the ABC tool to back up as per WP</li>
<li> upload fresh copies of the new files</li>
<li> click the upgrade button in the backend</li></ol>
<p>Remember to backup your <b>database</b> and <i>files</i>. The link above has instructions to help you do this.
</p><p>If these instructions are out of date <b>please update them</b>. That's much better than just complaining on the forums.
</p><p>Check your Version.  You can find the version of WPMU by looking at the page source of any page.  If you are viewing the site you should see  &lt;meta name="generator" content="WordPress 2.5.1" /&gt;, keep in mind the WPMU version was deprecated by 1 (prior to WordPress MU 2.6--see below), so 2.5.1 was really 1.5.1. 
</p><p>After 1.5.1, the version number jumped to 2.6 to sync with regular WordPress and avoid confusion. It will use letters to represent <i>minor</i> versions.
</p><p>The last version of WPMU was 2.9.2, and after that, all install could upgrade to WordPress with the network enabled (multisite).
</p>
<h2><span class="mw-headline" id="What_does_the_upgrade_button_do.3F">What does the upgrade button do?</span></h2>
<p>Under the Site Admin menu, there is a tab or sub-menu item called Upgrade. This does not change any files. If you have not upgraded any files, clicking this will do nothing.
</p><p>This is the last step in the upgrade process. When you click it, it compares the  version stored in the database with the version number in the files. If they are different, it runs any needed checks against the database and makes adjustments accordingly. It will step through every blog on your system in batches of ten and display a list as it does so.
</p><p>If for some reason you can't make it all the way through, the same upgrade process will run in the background automatically as soon as someone signs in to the admin area of their blog.
</p>
<h2><span class="mw-headline" id="2.9.x_to_3.0">2.9.x to 3.0</span></h2>
<p>With this version, WPMU is merged with WordPress core. Upgrades after this point will be the same. to move from WPMU to 3.0, you may use the internal auto-upgrade or manually overwrite files.
</p><p>There are two extra changes.
</p>
<ol><li>Move the blogs.php out of the /wp-content/ folder. This has been moved to wp-includes/ms-files.php.</li>
<li>Update your htaccess rules to reflect this change.</li></ol>
<p><b> RewriteRule ^(.*/)?files/(.*) wp-content/blogs.php?file=$2 [L] </b>
and change it to this:
<b> RewriteRule ^(.*/)?files/(.*) wp-includes/ms-files.php?file=$2 [L] </b>
</p>
<ol><li>Add the nonce salt to wp-config.php.</li></ol>
<p><b>define( 'NONCE_SALT', '6xF{&amp;bvT_PAsmbnG&lt;72.dJH&gt;D8R8M!M{~r.U]-~j:rG!g!0(g7hvz)+/h9 IY7Ge' ); </b>
It will give you your own salt, this is an example.
</p>
<ol><li>Login to the admin area again, and visit the Super Admin - Updates menu item. Click the button to upgrade the database records for the sub-sites.</li></ol>
<h2><span class="mw-headline" id="2.8.3_to_2.9.x">2.8.3 to 2.9.x</span></h2>
<p>Same procedure as below.
</p>
<h2><span class="mw-headline" id="2.7.1_to_2.8.3">2.7.1 to 2.8.3</span></h2>
<p>This is the same procedure as many of the other version upgrades below.
</p>
<ol><li><a href="Backup_WPMU.html" title="Backup WPMU" class="mw-redirect">Backup WPMU</a></li>
<li>From your /wpmu directory, KEEP the wp-config.php and .htaccess files and the wp-content directory. Remove the other root-level files as well as the wp-admin and wp-includes directories.</li>
<li>Copy over the new files and the new wp-admin and wp-includes directories.</li>
<li>Copy wp-content/index.php and blogs.php into your existing wp-content directory, replacing the existing copies.</li>
<li>Login and run <b>Site Admin/ Upgrade.</b> This can be a lengthy process, so be patient.</li></ol>
<h2><span class="mw-headline" id="2.6_to_2.7">2.6 to 2.7</span></h2>
<p>Copied from the instructions for 1.5 to 2.6, cleaned up a bit, and adjusted for the changes in 2.7.
</p>
<ol><li> <a href="Backup_WPMU.html" title="Backup WPMU" class="mw-redirect">Backup WPMU</a></li>
<li> Download WPMU and unpack it into a scratch directory:
<dl><dd> <b>e.g. ~/wordpress-mu/</b></dd></dl></li>
<li> Move your wp-config.php and .htaccess files to a temporary directory: 
<dl><dd> <b>e.g. mkdir ~/temp&#160;; mv ~/www/.htaccess ~/www/wp-config.php ~/temp</b></dd></dl></li>
<li> Remove all the files in your www directory: 
<dl><dd> <b>e.g., rm ~/www/*</b></dd></dl></li>
<li> Copy the new files from your scratch wordpress-mu directory into your www directory:
<dl><dd> <b>e.g., cp ~/wordpress-mu/* ~/www</b></dd></dl></li>
<li> Remove the wp-admin and wp-includes directories: 
<dl><dd> <b>e.g., rm -rf ~/www/wp-admin&#160;; rm -rf ~/www/wp-includes</b></dd></dl>
<ul><li> <i>Note: Be careful when using the rm command with the -rf flag!</i></li></ul></li>
<li> Copy the directories from your scratch wordpress-mu directory into your www directory: 
<dl><dd> <b>e.g. cp -R ~/wordpress-mu/wp-admin ~/www&#160;; cp -R ~/wordpress-mu/wp-includes ~/www</b></dd></dl></li>
<li> Copy the files wp-content/index.php and wp-content/blogs.php from your scratch wordpress-mu  directory into your www directory: 
<dl><dd> <b>e.g. cp ~/wordpress-mu/wp-content/index.php ~/www/wp-content&#160;; cp ~/wordpress-mu/wp-content/blogs.php ~/www/wp-content</b></dd></dl></li>
<li> Copy your wp-config.php and .htaccess files back from your temporary directory into your www directory: 
<dl><dd> <b>e.g. cp ~/temp/.htaccess ~/temp/wp-config.php ~/www</b></dd></dl></li>
<li> Add the following lines to your ~/www/wp-config.php file:
<ul><li> After "$base = '/';" add:
<dl><dd> <pre>define('DOMAIN_CURRENT_SITE', 'yourdomain.tld'); // don't include "http://www." at the beginning</pre></dd>
<dd> <pre>define('PATH_CURRENT_SITE', '/'); // this should be the path relative to your domain. For instance, if your WPMU installation is located at 'http://www.example.com/blogs/', then the value of this constant should be set to '/blogs/' instead of just '/'</pre></dd>
<dd> <pre>define('BLOGID_CURRENT_SITE', '1');</pre></dd></dl></li>
<li> After those lines, you now need to add these additional lines due to changes that increase the security of WordPress MU:
<dl><dd> <pre>define('ADMIN_COOKIE_PATH', '/');</pre></dd>
<dd> <pre>define('COOKIE_DOMAIN', '');</pre></dd>
<dd> <pre>define('COOKIEPATH', '');</pre></dd>
<dd> <pre>define('SITECOOKIEPATH', '');</pre></dd></dl></li>
<li> After "define('SECURE_AUTH_SALT' ...":
<dl><dd> <pre>define('NONCE_KEY', ''); // replace '' with value from http://api.wordpress.org/secret-key/1.1/</pre></dd>
<dd> <pre>define('AUTH_SALT', ''); // replace '' with value from http://api.wordpress.org/secret-key/1.1/</pre></dd>
<dd> Note that the values you use just have to be unique strings.  The <a rel="nofollow" class="external free" href="http://api.wordpress.org/secret-key/1.1/">http://api.wordpress.org/secret-key/1.1/</a> site just helps generate those unique strings.  That page will not show "AUTH_SALT" but you can just copy one of the unique strings to use for AUTH_SALT.  Simply refresh the page to get new unique strings if you need to fill in more variables in your wp-config.php file.</dd></dl></li></ul></li>
<li> Login, run site wide blog upgrades by visiting the Site Admin -&gt; Upgrade tab. If you have a lot of blogs, it may take a while.</li>
<li> Check your file ownership, and permissions if you have image issues, or upload problems. Also check any login issues.</li></ol>
<h3><span class="mw-headline" id="WordPress_MU_2.7.1_Archive_Link">WordPress MU 2.7.1 Archive Link</span></h3>
<ol><li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1937/tags/2.7.1?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1937/tags/2.7.1?old_path=%2F&amp;format=zip</a></li></ol>
<h2><span class="mw-headline" id="1.5_to_2.6">1.5 to 2.6</span></h2>
<p>The version number is being bumped to 2.6 rather than 1.6 because of version confusion. Minor MU versions will probably append a letter to the version.
</p>
<ol><li> Backup. Backup everything: all your files and your database.</li>
<li> Did we mention Backup your files? (webmin works great for this or follow <a href="Backup_WPMU.html" title="Backup WPMU" class="mw-redirect">Backup WPMU</a>) &amp; disable plugins</li>
<li> Remove all files in your wpmu/ directory, KEEP wp-config.php and .htaccess AS WELL AS wp-content folder!</li>
<li> copy new files over (cleaner) </li>
<li> Remove directories wp-admin &amp; wp-includes and copy new directories</li>
<li> Replace files in wp-content (index.php and blogs.php)</li>
<li> Copy wp-content/mu-plugins/index.php &amp; wp-content/plugins/index.php</li>
<li> Login, run site wide blog upgrades by visiting the Site Admin -&gt; Upgrade tab. If you have a lot of blogs, it may take a while.</li>
<li> Check your file ownership, and permissions if you have image issues, or upload problems. Also check any login issues.</li></ol>
<p>Notes:
In this version, the signup page uses "blogname" instead of "blog_id" to avoid confusion with the global variable of the same name. Signup plugins will break if not updated!
</p><p>References
</p>
<ol><li> <a rel="nofollow" class="external free" href="http://mu.wordpress.org/forums/topic.php?id=8885">http://mu.wordpress.org/forums/topic.php?id=8885</a></li>
<li> <a rel="nofollow" class="external free" href="http://ocaoimh.ie/2008/07/09/wordpress-mu-26-beta-1/">http://ocaoimh.ie/2008/07/09/wordpress-mu-26-beta-1/</a></li></ol>
<h3><span class="mw-headline" id="WordPress_MU_1.5.1_.26_2.6.5_Archive_Links">WordPress MU 1.5.1 &amp; 2.6.5 Archive Links</span></h3>
<ol><li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1611/tags/1.5.1?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1611/tags/1.5.1?old_path=%2F&amp;format=zip</a></li>
<li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1611/tags/2.6.5?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1611/tags/2.6.5?old_path=%2F&amp;format=zip</a></li></ol>
<h2><span class="mw-headline" id="1.3.3_to_1.5.1">1.3.3 to 1.5.1</span></h2>
<ol><li> Backup your files (webmin works great for this or follow <a href="Backup_WPMU.html" title="Backup WPMU" class="mw-redirect">Backup WPMU</a>) &amp; disable plugins</li>
<li> Remove all files in your wpmu/ directory, copy new files over (cleaner) KEEP wp-config.php and .htaccess as well as wp-content folder!</li></ol>
<ol><li> Remove directories wp-admin &amp; wp-includes and copy new directories</li>
<li> Replace files in wp-content (index.php and blogs.php)</li>
<li> Copy wp-content/mu-plugins/index.php &amp; wp-content/plugins/index.php</li>
<li> Login to new admin, update wp-config.php with Secret Keys</li>
<li> Login again, run site wide blog upgrades</li>
<li> Congratulations, your done, check your file ownership, and permissions if you have image issues, or upload problems.</li></ol>
<p>Tip: if you keep getting a redirect on login error, try calling the upgrade page directly (yourdomain.com/wp-admin/upgrade.php). If that works, click the link, then try logging in again.
</p>
<h3><span class="mw-headline" id="WordPress_MU_1.3.3_.26_1.5.1_Archive_Links">WordPress MU 1.3.3 &amp; 1.5.1 Archive Links</span></h3>
<ol><li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1611/tags/1.3.3?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1611/tags/1.3.3?old_path=%2F&amp;format=zip</a></li>
<li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1611/tags/1.5.1?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1611/tags/1.5.1?old_path=%2F&amp;format=zip</a></li></ol>
<h2><span class="mw-headline" id="1.2_to_1.3">1.2 to 1.3</span></h2>
<p>First approach (tested on WPMU 1.2.2 without subdomains):
</p>
<ol><li> Create a backup of all files and database</li>
<li> Disable all your plugins</li>
<li> Overwrite your WPMU files with new version files</li>
<li> Check your wp-config.php (edit by hand if needed) and your .htaccess</li>
<li> Login as admin and run Upgrade from "Site Admin -&gt; Upgrade" (this will upgrade your database layout if needed, will take a while on big databases).</li>
<li> Check that all is working properly</li>
<li> Enable your plugins one by one</li></ol>
<ol><li> also remove from mu-plugins:</li></ol>
<ul><li> dashboardswitcher.php (if present)</li>
<li> delete-blog.php</li>
<li> misc.php</li>
<li> global-categories.php</li>
<li> pluggable.php</li></ul>

<h3><span class="mw-headline" id="Changes_to_Categories_handling_to_support_Tagging">Changes to Categories handling to support Tagging</span></h3>
<p>This upgrade introduces <a rel="nofollow" class="external text" href="http://en.blog.wordpress.com/2007/09/22/tags-and-categories/">tagging</a> of posts. New tables, including 3 per blog, are created for this purpose, and are synchronised, during the upgrade process. Reference 1 provides more details. In some cases, such as where the server is heavily loaded or the number of blogs is large, this process  has not completed successfully. A beta <a rel="nofollow" class="external text" href="http://trac.mu.wordpress.org/browser/trunk/wp-content/mu-plugins/sync-taxonomy.php?rev=1141">taxonomy synch script</a> may help in this situation.
</p><p>References
</p>
<ol><li> <a rel="nofollow" class="external text" href="http://boren.nu/archives/2007/08/26/wordpress-23-taxonomy-schema/">WordPress 2.3 Taxonomy Schema</a></li></ol>
<h3><span class="mw-headline" id="Character_set_issues_with_early_versions_of_WPMU">Character set issues with early versions of WPMU</span></h3>
<p>WPMU 1.3 assumes your database tables use the utf8 default character set. If you started with an early version (e.g. 1.0 RC4) you may find your tables are defined to use the latin1 default character set. If so, they must be changed to use utf8 prior to the upgrade. Unless this is done, strange symbols (e.g. Â, i.e. A with circumflex) may appear in amongst blog content following the upgrade<sup>2</sup> <sup>3</sup>. The process is described in Reference 1.
</p><p>References
</p>
<ol><li> <a rel="nofollow" class="external free" href="http://edubuzz.org/blogs/david/wordpress/changing-early-wpmu-db-to-utf8/">http://edubuzz.org/blogs/david/wordpress/changing-early-wpmu-db-to-utf8/</a></li>
<li> <a rel="nofollow" class="external text" href="http://mu.wordpress.org/forums/topic.php?id=7955#post-47023">WPMU Forum thread: Problems updating from pre 1.3 version</a></li>
<li> <a rel="nofollow" class="external text" href="http://mu.wordpress.org/forums/topic.php?id=6737&amp;page&amp;replies=15#post-46837">WPMU Forum thread: Upgrade messed up with content</a></li></ol>
<h2><span class="mw-headline" id="Unresolved_issues">Unresolved issues</span></h2>
<p>An attempt to use code from WPMU 1.3/WP 2.3 generated an error that 'register_sidebar_widget' was not a correct function. A quick search of the WPMU code seems to show a 'wp_register_sidebar_widget' but it appears to have different parameters. Can anyone help?
</p><p>(Question asked at [<a rel="nofollow" class="external autonumber" href="http://codex.wordpress.org/index.php?title=WPMU_List_New_Blogs_Widget&amp;diff=0&amp;oldid=42361%7Cpage">[1]</a>]
</p>
<h3><span class="mw-headline" id="WordPress_MU_1.2.5a_.26_1.3.3_Archive_Links">WordPress MU 1.2.5a &amp; 1.3.3 Archive Links</span></h3>
<ol><li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1611/tags/1.2.5a?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1611/tags/1.2.5a?old_path=%2F&amp;format=zip</a></li>
<li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1611/tags/1.3.3?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1611/tags/1.3.3?old_path=%2F&amp;format=zip</a></li></ol>
<h2><span class="mw-headline" id="1.1_to_1.2">1.1 to 1.2</span></h2>
<p>Instructions needed 
</p>
<h3><span class="mw-headline" id="WordPress_MU_1.1.1_.26_1.2.5a_Archive_Links">WordPress MU 1.1.1 &amp; 1.2.5a Archive Links</span></h3>
<ol><li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1611/tags/1.1.1?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1611/tags/1.1.1?old_path=%2F&amp;format=zip</a></li>
<li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1611/tags/1.2.5a?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1611/tags/1.2.5a?old_path=%2F&amp;format=zip</a></li></ol>
<h2><span class="mw-headline" id="1.0_to_1.1">1.0 to 1.1</span></h2>
<p>Instructions needed 
</p>
<h3><span class="mw-headline" id="WordPress_MU_1.0-rc4_.26_1.1.1_Archive_Links">WordPress MU 1.0-rc4 &amp; 1.1.1 Archive Links</span></h3>
<ol><li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1611/tags/1.0-rc4?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1611/tags/1.0-rc4?old_path=%2F&amp;format=zip</a></li>
<li> <a rel="nofollow" class="external free" href="http://trac.mu.wordpress.org/changeset/1611/tags/1.1.1?old_path=%2F&amp;format=zip">http://trac.mu.wordpress.org/changeset/1611/tags/1.1.1?old_path=%2F&amp;format=zip</a></li></ol>
<h2><span class="mw-headline" id="Pre_1.0_versions">Pre 1.0 versions</span></h2>
<h3><span class="mw-headline" id="Post_Version_1.2C_RC1">Post Version 1, RC1</span></h3>
<p>Upgrading a recent version of WPMU from after June 22, 2006 or when Release Candidate 1 was published should be simple enough.
</p>
<pre>   * Download the newest version and unzip it somewhere.
   * Shut down the site by stopping Apache. It's easier this way. When you're comfortable with upgrading this step may be skipped.
   * If you haven't modified any files then overwrite your current install with the files from the newer version.
   * If you have modified files you'll have to be careful to not overwrite those files.
   * Examine the new htaccess.dist and compare it to the old ".htaccess" file. Add any new lines and remember that "BASE/" should be replaced with the path to your web site.
   * Restart Apache.
   * You may need to upgrade the databases tables of each blog. This can be done by visiting "Site Admin"-&gt;Upgrade while logged in as the site admin. This may take a long time. 
</pre>

<h3><span class="mw-headline" id="Pre_Version_1.2C_RC1">Pre Version 1, RC1</span></h3>
<p>Before Version 1, RC1 was released we used a wp-inst directory to hold the core wordpress files so there is more work to do upgrading.
</p>
<pre>   * Download the newest version and unzip it somewhere.
   * Shut down your site by stopping Apache. You really should do this as there are so many files moving about.
   * Presuming your site is installed in /home/www/htdocs/:
         o Delete /home/www/htdocs/index.php and /home/www/htdocs/.htaccess
         o Move /home/www/htdocs/wp-inst/* to /home/www/htdocs/
         o If you haven't modified any files then overwrite your current install with the files from the newer version.
         o If you have modified files you'll have to be careful to not overwrite those files.
         o Copy the new /home/www/htdocs/htaccess.dist to /home/www/htdocs/.htaccess and edit .htacces, replacing "BASE/" with the path to your web site. In this case it would probably be "/". 
   * Restart Apache and test, test and test things.
   * You may need to upgrade the databases tables of each blog. This can be done by visiting "Site Admin"-&gt;Upgrade while logged in as the site admin. This may take a long time.
   * If you used WPMU with sub-directories prior to June 2006 you will come across a particular problem when upgrading. Read [<a rel="nofollow" class="external autonumber" href="http://trac.mu.wordpress.org/ticket/85">[2]</a>[bug #85]] for more. 
</pre>
<p>If things go wrong you can always restore things from the backup. You did backup all your files and database first? Hang your head in shame if you didn't!
</p>
<!-- 
NewPP limit report
Cached time: 20210122100345
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.012 seconds
Real time usage: 0.014 seconds
Preprocessor visited node count: 172/1000000
Preprocessor generated node count: 278/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://codex.wordpress.org/index.php?title=Upgrading_WPMU&amp;oldid=101774">https://codex.wordpress.org/index.php?title=Upgrading_WPMU&amp;oldid=101774</a>"</div>
				<div id="catlinks"><div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://codex.wordpress.org/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="Category_WPMU.html" title="Category:WPMU">WPMU</a></li></ul></div></div></div>			<!-- end content -->
		</div>
		<div class="col-2">
			
						
			<ul class="submenu">
				<li id="n-mainpage"><a href="Main_Page.html">Home Page</a></li>	
				<li><a href="WordPress_Lessons.html">WordPress Lessons</a></li>
				<li><a href="Getting_Started_with_WordPress.html">Getting Started</a></li>
				<li><a href="Working_with_WordPress.html">Working with WordPress</a></li>
				<li><a href="Blog_Design_and_Layout.html">Design and Layout</a></li>
				<li><a href="Advanced_Topics.html">Advanced Topics</a></li>
				<li><a href="Troubleshooting.html">Troubleshooting</a></li>
				<li><a href="Developer_Documentation.html">Developer Docs</a></li>
				<li><a href="About_WordPress.html">About WordPress</a></li>
			</ul>

			<h3>Codex Resources</h3>
			<ul class="submenu">
				<li id="n-portal"><a href="https://codex.wordpress.org/Codex:Community_Portal">Community portal</a></li>	      
				<li id="n-currentevents"><a href="Current_events.html">Current events</a></li>	      
				<li id="n-recentchanges"><a href="https://codex.wordpress.org/Special:RecentChanges">Recent changes</a></li>	      
				<li id="n-randompage"><a href="https://codex.wordpress.org/Special:Random">Random page</a></li>	      
				<li id="n-help"><a href="https://codex.wordpress.org/Help:Contents">Help</a></li>	
			</ul>
			
		</div>
	</div>
</div>


<div id="wporg-footer">
	<div class="wrapper">
		<ul>
			<li><a href="http://wordpress.org/about/" title="An introduction to the WordPress project">About</a></li>
			<li><a href="http://wordpress.org/news/" title="News and Updates">Blog</a></li>
			<li><a href="http://wordpress.org/hosting/" title="Recommended web hosting providers">Hosting</a></li>
			<li><a href="https://wordpressfoundation.org/donate/" title="Donate to the WordPress Foundation">Donate</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/support/" title="Forums, documentation, and other resources">Support</a></li>
			<li><a href="../developer.wordpress.org/index.html" title="Resources for WordPress developers">Developers</a></li>
			<li><a href="http://make.wordpress.org/" title="Give back to WordPress through code, support, translation and more">Get Involved</a></li>
			<li><a href="http://learn.wordpress.org/" title="Workshops and training materials">Learn</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/showcase/" title="Some of the best WordPress sites on the Web">Showcase</a></li>
			<li><a href="http://wordpress.org/plugins/" title="Add extra functionality to WordPress">Plugins</a></li>
			<li><a href="http://wordpress.org/themes/" title="Make your WordPress pretty">Themes</a></li>
		</ul>

		<ul>
			<li><a href="http://central.wordcamp.org/" title="Find a WordPress event near you">WordCamp</a></li>
			<li><a href="http://wordpress.tv/" title="Videos, tutorials, and WordCamp sessions">WordPress.TV</a></li>
			<li><a href="http://buddypress.org/" title="A set of plugins to transform your WordPress into a social network">BuddyPress</a></li>
			<li><a href="http://bbpress.org/" title="Fast, slick forums built on WordPress">bbPress</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.com/?ref=wporg-footer" title="Hassle-free WordPress hosting">WordPress.com</a></li>
			<li><a href="http://ma.tt/" title="Co-founder of WordPress, an example of what WordPress can do">Matt</a></li>
			<li><a href="http://wordpress.org/about/privacy/" title="WordPress.org Privacy Policy">Privacy</a></li>
			<li><a href="https://publiccode.eu/" target="_blank">Public Code</a></li>
		</ul>

		<ul>
			<li><span class="dashicons dashicons-twitter"></span><a href="https://twitter.com/WordPress" title="Follow @WordPress on Twitter">@WordPress</a></li>
			<li><span class="dashicons dashicons-facebook"></span><a href="https://www.facebook.com/WordPress/" title="Like WordPress on Facebook">WordPress</a></li>
		</ul>
	</div>

		<p class="cip cip-image">Code is Poetry.</p>
</div>

<script src="../s.w.org/style/js/navigation.min.js?20190128"></script>

</body>
<!-- Cached 20210122100345 -->

<!-- Mirrored from codex.wordpress.org/Upgrading_WPMU by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:15:28 GMT -->
</html>
