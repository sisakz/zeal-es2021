<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">


<!-- Mirrored from codex.wordpress.org/Adding_Contextual_Help_to_Administration_Menus by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 16:44:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');</script>
<!--
<meta property="fb:page_id" content="6427302910" />
-->
<link rel="dns-prefetch" href="http://s.w.org/" />
<link rel="dns-prefetch" href="../fonts.googleapis.com/index.html" />
<link rel="dns-prefetch" href="http://fonts.gstatic.com/" />
<link rel="dns-prefetch" href="http://www.googletagmanager.com/" />
<meta name="google-site-verification" content="7VWES_-rcHBcmaQis9mSYamPfNwE03f4vyTj4pfuAw0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Adding Contextual Help to Administration Menus</title>
<link rel="canonical" href="Adding_Contextual_Help_to_Administration_Menus.html" />

<link rel="stylesheet" href="../s.w.org/style/codex-wp4.css?3" />
<meta name="referrer" content="always">

			<link href="../s.w.org/wp-includes/css/dashicons.min.css?20181204" rel="stylesheet" type="text/css" />
		<link href='../fonts.googleapis.com/css.css?family=Open+Sans:300italic,400italic,600italic,400,300,600&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="../s.w.org/style/wp4-2.css?92" />

<link rel="shortcut icon" href="../s.w.org/favicon.ico?2" type="image/x-icon" />
<script type="text/javascript" src="../s.w.org/wp-includes/js/jquery/jquery.js?v=1.11.1"></script>
<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>
<!--[if IE]>
    <script type="text/javascript" src="/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" />
<![endif]-->

<script type="text/javascript">wgBreakFrames=false;wgContentLanguage='en';</script>


</head>


<body id="wordpress-org" class="wporg-responsive wporg-codex">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="wporg-header">
	<div class="wrapper">
	<h1><a href="http://wordpress.org/">WordPress.org</a></h1>				<div id="head-search">
		<form action="http://wordpress.org/search/do-search.php" method="get">
			<label for="global-search" class="screen-reader-text">Search WordPress.org for:</label>
			<input id="global-search" class="text" name="search" type="text" value="" maxlength="150" placeholder="Search WordPress.org" />
			<button type="submit" class="button"><span class="screen-reader-text">Submit</span></button>
		</form>
		</div>
				<div style="clear:both"></div>
		<button id="mobile-menu-button" aria-expanded="false"><span class="screen-reader-text">Toggle Menu</span></button>
		
<nav aria-label="Main Menu">
<ul id="wporg-header-menu">
<li class="menu-item"><a href='http://wordpress.org/showcase/' data-title='See some of the sites built on WordPress.'>Showcase</a></li>
<li class="menu-item"><a href='http://learn.wordpress.org/' data-title='Resources to help you learn more about WordPress and teach it to others.'>Learn</a></li>
<li class="menu-item"><a href='http://wordpress.org/themes/' data-title='Find just the right look for your website.'>Themes</a></li>
<li class="menu-item"><a href='http://wordpress.org/plugins/' data-title='Plugins can extend WordPress to do almost anything you can imagine.'>Plugins</a></li>
<li class="menu-item"><a href='http://wordpress.org/mobile/' data-title='Take your website on the go!'>Mobile</a></li>
<li class="menu-item"><a href='http://wordpress.org/support/' data-title='Forums, documentation, help.' aria-current="true" class="current">Support</a><ul class="nav-submenu"><li><a href='http://wordpress.org/support/' title='Documentation, tutorials, best practices.'>Documentation</a></li><li><a href='http://wordpress.org/support/forums/' title='Support and discussion forums.'>Forums</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://make.wordpress.org/' data-title='Contribute your knowledge.'>Get Involved</a><ul class="nav-submenu"><li><a href='http://wordpress.org/five-for-the-future/' title='How five percent is powering the next generation of the web'>Five for the Future</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://wordpress.org/about/' data-title='About the WordPress Organization, and where we&#039;re going.'>About</a></li>
<li class="menu-item"><a href='http://wordpress.org/news/' data-title='Come here for the latest scoop.'>Blog</a></li>
<li class="menu-item"><a href='http://wordpress.org/hosting/' data-title='Find a home for your blog.'>Hosting</a></li>
<li id="download" class="button download-button menu-item"><a href='http://wordpress.org/download/' data-title='Get it. Got it? Good.'>Get WordPress</a></li>
</ul>
</nav>
		<div style="clear:both"></div>
	</div>
</div>



<div id="headline">
	<div class="wrapper">
		<h2><a href="index.html">Codex</a></h2>
		
		<div class="portlet" id="p-personal">
		  <p class="login">Codex tools:
		     <a href="https://codex.wordpress.org/index.php?title=Special:UserLogin&amp;returnto=Adding+Contextual+Help+to+Administration+Menus">Log in</a> 		  </p>
		</div>
	</div>
</div>

<div id="pagebody">
	<div class="wrapper">	
		<div class="col-10" id="bodyContent">
			<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><div style="clear:both; background-color:#e5f5fa; border-left:4px solid #00a0d2; padding:10px 12px 8px; margin:0.5em auto 1.5em auto;"><span class="dashicons dashicons-info" style="color:#00a0d2"></span> Interested in functions, hooks, classes, or methods? Check out the new <a rel="nofollow" class="external text" href="../developer.wordpress.org/reference/index.html">WordPress Code Reference</a>!</div>
</div></div>			<h2 class="pagetitle">Adding Contextual Help to Administration Menus</h2>
									<!-- start content -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="Multilingual_Codex.html" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<strong class="selflink">English</strong> • 
 <small>(<a href="Multilingual_Codex.html#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Every_Plot_Needs_a_Hook"><span class="tocnumber">2</span> <span class="toctext">Every Plot Needs a Hook</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Adding_The_Contextual_Help_Tabs_.28post_3.3.29"><span class="tocnumber">3</span> <span class="toctext">Adding The Contextual Help Tabs (post 3.3)</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Adding_The_Contextual_Help_Function_.28deprecated.29"><span class="tocnumber">4</span> <span class="toctext">Adding The Contextual Help Function (deprecated)</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Other_Usages"><span class="tocnumber">5</span> <span class="toctext">Other Usages</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Resources_and_References"><span class="tocnumber">6</span> <span class="toctext">Resources and References</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#External_Resources_.26_Tutorials"><span class="tocnumber">6.1</span> <span class="toctext">External Resources &amp; Tutorials</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>Ever since WordPress <a href="https://wordpress.org/support/wordpress-version/version-3-0/" title="Version 3.0">Version 3.0</a>, every built-in <a href="Administration_Panels.html#Help" title="Administration Panels" class="mw-redirect">Administration Panel</a> has contained a contextual help section providing additional information to the user on how to navigate the various settings displayed in that admin panel. This helps WordPress keep the main part of the admin panel clear and concise by eliminating unnecessary text that regular users don't need to see on a regular basis.
</p><p>If your plugin adds additional Administration Panels to WordPress, you can improve support by providing contextual help for your menus.
</p><p>For information, see <a href="Adding_Administration_Menus.html" title="Adding Administration Menus" class="mw-redirect">Adding Administration Menus</a> and the <a href="Plugin_API.html" title="Plugin API">Plugin API</a> functions for a basic overview of how to add Administration Menus to WordPress with a Plugin.
</p>
<h2><span class="mw-headline" id="Every_Plot_Needs_a_Hook">Every Plot Needs a Hook</span></h2>
<p>To register a function with WordPress to add a new administration menu, the code is:
</p>
<pre>
&lt;?php
add_action('admin_menu', 'my_plugin_menu');

function my_plugin_menu() {

 	add_options_page('My Plugin Options', 'My Plugin', 'manage_options', 'my-unique-identifier', 'my_plugin_options');

}
?&gt;
</pre>
<p>In order for your contextual help menu to know which admin screen it should go to, it needs a way of knowing which panel you want. Fortunately, when we add our admin panel, WordPress is able to return a <i>hook</i> -- a unique identifier for your panel. To use this, just modify the previous function:
</p>
<pre>
&lt;?php
add_action('admin_menu', 'my_plugin_menu');

function my_plugin_menu() {

 	global $my_plugin_hook;
 	$my_plugin_hook = add_options_page('My Plugin Options', 'My Plugin', 'manage_options', 'my-unique-identifier', 'my_plugin_options');

}
?&gt;
</pre>
<p>Notice that we have globalized the hook, because you'll need to use it later on outside of this function.
</p>
<h2><span class="mw-headline" id="Adding_The_Contextual_Help_Tabs_.28post_3.3.29">Adding The Contextual Help Tabs (post 3.3)</span></h2>
<p>As of WordPress 3.3, contextual help was moved into <a href="Class_Reference/WP_Screen/index.html" title="Class Reference/WP Screen/" class="mw-redirect">WPScreen</a> and can be added in by <a href="../developer.wordpress.org/reference/classes/wp_screen/add_help_tab/index.html" title="Class Reference/WP Screen/add help tab">add_help_tab()</a>.
</p>
<pre>
&lt;?php
function my_plugin_add_help()
{
	// We are in the correct screen because we are taking advantage of the load-* action (below)

	$screen = get_current_screen();
	//$screen-&gt;remove_help_tabs();
	$screen-&gt;add_help_tab( array(
		'id'       =&gt; 'my-plugin-default',
		'title'    =&gt; __( 'Default' ),
		'content'  =&gt; 'This is where I would provide tabbed help to the user on how everything in my admin panel works. Formatted HTML works fine in here too'
	));
	//add more help tabs as needed with unique id's

	// Help sidebars are optional
	$screen-&gt;set_help_sidebar(
		'&lt;p&gt;&lt;strong&gt;' . __( 'For more information:' ) . '&lt;/strong&gt;&lt;/p&gt;' .
		'&lt;p&gt;&lt;a href="http://wordpress.org/support/" target="_blank"&gt;' . _( 'Support Forums' ) . '&lt;/a&gt;&lt;/p&gt;'
	);
}

//global $my_plugin_hook;
if ( $my_plugin_hook ) {
	add_action( 'load-' . $my_plugin_hook, 'my_plugin_add_help' );
}
?&gt;
</pre>
<h2><span class="mw-headline" id="Adding_The_Contextual_Help_Function_.28deprecated.29">Adding The Contextual Help Function (deprecated)</span></h2>
<p>As of WordPress 3.0, contextual help menus require three parameters to be passed to it. The first parameter, <tt>$contextual_help</tt>, will be replaced by our function with the contents of our contextual help to be outputted to the browser. The other two parameters, <tt>$screen_id</tt> and <tt>$screen</tt> are used to identify the page that we're on.
</p>
<pre>
&lt;?php
function my_plugin_help($contextual_help, $screen_id, $screen) {

	global $my_plugin_hook;
	if ($screen_id == $my_plugin_hook) {

		$contextual_help = 'This is where I would provide help to the user on how everything in my admin panel works. Formatted HTML works fine in here too.';
	}
	return $contextual_help;
}

add_filter('contextual_help', 'my_plugin_help', 10, 3);
?&gt;
</pre>
<p>By globalizing <tt>$my_plugin_hook</tt> from earlier, you can check if it matches <tt>$screen_id</tt>. If these don't match, then the user is not viewing this admin panel, so it simply passes along the <tt>$contextual_help</tt> value to the next hooked function.
</p><p>Also notice that the function has three parameters passed to it, so add <tt>10, 3</tt> to our <tt>add_action()</tt> call so that WordPress is aware of the extra parameters.
</p><p>(In WordPress 3.3 and later, the contextual help function will still work. It renders as a single help tab with the name "Default."
</p>
<h2><span class="mw-headline" id="Other_Usages">Other Usages</span></h2>
<p>If your Administration Panel features a number of different screens during its operation (for example, you have one screen for viewing items, another for adding them, editing them, deleting them, etc.), use additional logic within this function (such as testing for values of <tt>$_POST</tt> or <tt>$_GET</tt>) to provide different versions of help for your panel. If you do this, you may want to offload your help content to a separate PHP file within your Plugin, which you can include within your help function and refer to.
</p><p>It has also been noted that if you were to use object-oriented programming (OOP) in your Plugin and all of your hook functions were part of a class, you could simply make your admin panel hook be a property of your class, thus eliminating the need to globalize it twice.
</p>
<h2><span class="mw-headline" id="Resources_and_References">Resources and References</span></h2>
<h3><span class="mw-headline" id="External_Resources_.26_Tutorials">External Resources &amp; Tutorials</span></h3>
<ul><li> <a rel="nofollow" class="external text" href="http://wpdevel.wordpress.com/2011/12/06/help-and-screen-api-changes-in-3-3/">Help and screen API changes in 3.3</a> - New Help and Screen usage example. On the official WPDevel blog, by Nacin (core team member)</li></ul>

<!-- 
NewPP limit report
Cached time: 20210122093535
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.008 seconds
Real time usage: 0.010 seconds
Preprocessor visited node count: 76/1000000
Preprocessor generated node count: 198/1000000
Post‐expand include size: 428/2097152 bytes
Template argument size: 111/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.170      1 - -total
100.00%    2.170      1 - Template:Languages
 43.56%    0.945      1 - Template:en
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://codex.wordpress.org/index.php?title=Adding_Contextual_Help_to_Administration_Menus&amp;oldid=154587">https://codex.wordpress.org/index.php?title=Adding_Contextual_Help_to_Administration_Menus&amp;oldid=154587</a>"</div>
				<div id="catlinks"><div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://codex.wordpress.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="Category_New_page_created.html" title="Category:New page created">New page created</a></li><li><a href="Category_Administration.html" title="Category:Administration">Administration</a></li><li><a href="Category_Plugins.html" title="Category:Plugins">Plugins</a></li><li><a href="Category_Advanced_Topics.html" title="Category:Advanced Topics">Advanced Topics</a></li></ul></div></div></div>			<!-- end content -->
		</div>
		<div class="col-2">
			
						
			<ul class="submenu">
				<li id="n-mainpage"><a href="Main_Page.html">Home Page</a></li>	
				<li><a href="WordPress_Lessons.html">WordPress Lessons</a></li>
				<li><a href="Getting_Started_with_WordPress.html">Getting Started</a></li>
				<li><a href="Working_with_WordPress.html">Working with WordPress</a></li>
				<li><a href="Blog_Design_and_Layout.html">Design and Layout</a></li>
				<li><a href="Advanced_Topics.html">Advanced Topics</a></li>
				<li><a href="Troubleshooting.html">Troubleshooting</a></li>
				<li><a href="Developer_Documentation.html">Developer Docs</a></li>
				<li><a href="About_WordPress.html">About WordPress</a></li>
			</ul>

			<h3>Codex Resources</h3>
			<ul class="submenu">
				<li id="n-portal"><a href="https://codex.wordpress.org/Codex:Community_Portal">Community portal</a></li>	      
				<li id="n-currentevents"><a href="Current_events.html">Current events</a></li>	      
				<li id="n-recentchanges"><a href="https://codex.wordpress.org/Special:RecentChanges">Recent changes</a></li>	      
				<li id="n-randompage"><a href="https://codex.wordpress.org/Special:Random">Random page</a></li>	      
				<li id="n-help"><a href="https://codex.wordpress.org/Help:Contents">Help</a></li>	
			</ul>
			
		</div>
	</div>
</div>


<div id="wporg-footer">
	<div class="wrapper">
		<ul>
			<li><a href="http://wordpress.org/about/" title="An introduction to the WordPress project">About</a></li>
			<li><a href="http://wordpress.org/news/" title="News and Updates">Blog</a></li>
			<li><a href="http://wordpress.org/hosting/" title="Recommended web hosting providers">Hosting</a></li>
			<li><a href="https://wordpressfoundation.org/donate/" title="Donate to the WordPress Foundation">Donate</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/support/" title="Forums, documentation, and other resources">Support</a></li>
			<li><a href="../developer.wordpress.org/index.html" title="Resources for WordPress developers">Developers</a></li>
			<li><a href="http://make.wordpress.org/" title="Give back to WordPress through code, support, translation and more">Get Involved</a></li>
			<li><a href="http://learn.wordpress.org/" title="Workshops and training materials">Learn</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/showcase/" title="Some of the best WordPress sites on the Web">Showcase</a></li>
			<li><a href="http://wordpress.org/plugins/" title="Add extra functionality to WordPress">Plugins</a></li>
			<li><a href="http://wordpress.org/themes/" title="Make your WordPress pretty">Themes</a></li>
		</ul>

		<ul>
			<li><a href="http://central.wordcamp.org/" title="Find a WordPress event near you">WordCamp</a></li>
			<li><a href="http://wordpress.tv/" title="Videos, tutorials, and WordCamp sessions">WordPress.TV</a></li>
			<li><a href="http://buddypress.org/" title="A set of plugins to transform your WordPress into a social network">BuddyPress</a></li>
			<li><a href="http://bbpress.org/" title="Fast, slick forums built on WordPress">bbPress</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.com/?ref=wporg-footer" title="Hassle-free WordPress hosting">WordPress.com</a></li>
			<li><a href="http://ma.tt/" title="Co-founder of WordPress, an example of what WordPress can do">Matt</a></li>
			<li><a href="http://wordpress.org/about/privacy/" title="WordPress.org Privacy Policy">Privacy</a></li>
			<li><a href="https://publiccode.eu/" target="_blank">Public Code</a></li>
		</ul>

		<ul>
			<li><span class="dashicons dashicons-twitter"></span><a href="https://twitter.com/WordPress" title="Follow @WordPress on Twitter">@WordPress</a></li>
			<li><span class="dashicons dashicons-facebook"></span><a href="https://www.facebook.com/WordPress/" title="Like WordPress on Facebook">WordPress</a></li>
		</ul>
	</div>

		<p class="cip cip-image">Code is Poetry.</p>
</div>

<script src="../s.w.org/style/js/navigation.min.js?20190128"></script>

</body>
<!-- Cached 20210122093535 -->

<!-- Mirrored from codex.wordpress.org/Adding_Contextual_Help_to_Administration_Menus by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 16:44:18 GMT -->
</html>
