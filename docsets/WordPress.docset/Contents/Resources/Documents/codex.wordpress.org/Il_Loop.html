<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">


<!-- Mirrored from codex.wordpress.org/Il_Loop by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:23:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');</script>
<!--
<meta property="fb:page_id" content="6427302910" />
-->
<link rel="dns-prefetch" href="http://s.w.org/" />
<link rel="dns-prefetch" href="../fonts.googleapis.com/index.html" />
<link rel="dns-prefetch" href="http://fonts.gstatic.com/" />
<link rel="dns-prefetch" href="http://www.googletagmanager.com/" />
<meta name="google-site-verification" content="7VWES_-rcHBcmaQis9mSYamPfNwE03f4vyTj4pfuAw0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Il Loop</title>
<link rel="canonical" href="Il_Loop.html" />

<link rel="stylesheet" href="../s.w.org/style/codex-wp4.css?3" />
<meta name="referrer" content="always">

			<link href="../s.w.org/wp-includes/css/dashicons.min.css?20181204" rel="stylesheet" type="text/css" />
		<link href='../fonts.googleapis.com/css.css?family=Open+Sans:300italic,400italic,600italic,400,300,600&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="../s.w.org/style/wp4-2.css?92" />

<link rel="shortcut icon" href="../s.w.org/favicon.ico?2" type="image/x-icon" />
<script type="text/javascript" src="../s.w.org/wp-includes/js/jquery/jquery.js?v=1.11.1"></script>
<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>
<!--[if IE]>
    <script type="text/javascript" src="/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" />
<![endif]-->

<script type="text/javascript">wgBreakFrames=false;wgContentLanguage='en';</script>


</head>


<body id="wordpress-org" class="wporg-responsive wporg-codex">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="wporg-header">
	<div class="wrapper">
	<h1><a href="http://wordpress.org/">WordPress.org</a></h1>				<div id="head-search">
		<form action="http://wordpress.org/search/do-search.php" method="get">
			<label for="global-search" class="screen-reader-text">Search WordPress.org for:</label>
			<input id="global-search" class="text" name="search" type="text" value="" maxlength="150" placeholder="Search WordPress.org" />
			<button type="submit" class="button"><span class="screen-reader-text">Submit</span></button>
		</form>
		</div>
				<div style="clear:both"></div>
		<button id="mobile-menu-button" aria-expanded="false"><span class="screen-reader-text">Toggle Menu</span></button>
		
<nav aria-label="Main Menu">
<ul id="wporg-header-menu">
<li class="menu-item"><a href='http://wordpress.org/showcase/' data-title='See some of the sites built on WordPress.'>Showcase</a></li>
<li class="menu-item"><a href='http://learn.wordpress.org/' data-title='Resources to help you learn more about WordPress and teach it to others.'>Learn</a></li>
<li class="menu-item"><a href='http://wordpress.org/themes/' data-title='Find just the right look for your website.'>Themes</a></li>
<li class="menu-item"><a href='http://wordpress.org/plugins/' data-title='Plugins can extend WordPress to do almost anything you can imagine.'>Plugins</a></li>
<li class="menu-item"><a href='http://wordpress.org/mobile/' data-title='Take your website on the go!'>Mobile</a></li>
<li class="menu-item"><a href='http://wordpress.org/support/' data-title='Forums, documentation, help.' aria-current="true" class="current">Support</a><ul class="nav-submenu"><li><a href='http://wordpress.org/support/' title='Documentation, tutorials, best practices.'>Documentation</a></li><li><a href='http://wordpress.org/support/forums/' title='Support and discussion forums.'>Forums</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://make.wordpress.org/' data-title='Contribute your knowledge.'>Get Involved</a><ul class="nav-submenu"><li><a href='http://wordpress.org/five-for-the-future/' title='How five percent is powering the next generation of the web'>Five for the Future</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://wordpress.org/about/' data-title='About the WordPress Organization, and where we&#039;re going.'>About</a></li>
<li class="menu-item"><a href='http://wordpress.org/news/' data-title='Come here for the latest scoop.'>Blog</a></li>
<li class="menu-item"><a href='http://wordpress.org/hosting/' data-title='Find a home for your blog.'>Hosting</a></li>
<li id="download" class="button download-button menu-item"><a href='http://wordpress.org/download/' data-title='Get it. Got it? Good.'>Get WordPress</a></li>
</ul>
</nav>
		<div style="clear:both"></div>
	</div>
</div>



<div id="headline">
	<div class="wrapper">
		<h2><a href="index.html">Codex</a></h2>
		
		<div class="portlet" id="p-personal">
		  <p class="login">Codex tools:
		     <a href="https://codex.wordpress.org/index.php?title=Special:UserLogin&amp;returnto=Il+Loop">Log in</a> 		  </p>
		</div>
	</div>
</div>

<div id="pagebody">
	<div class="wrapper">	
		<div class="col-10" id="bodyContent">
			<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><div style="clear:both; background-color:#e5f5fa; border-left:4px solid #00a0d2; padding:10px 12px 8px; margin:0.5em auto 1.5em auto;"><span class="dashicons dashicons-info" style="color:#00a0d2"></span> Interested in functions, hooks, classes, or methods? Check out the new <a rel="nofollow" class="external text" href="../developer.wordpress.org/reference/index.html">WordPress Code Reference</a>!</div>
</div></div>			<h2 class="pagetitle">Il Loop</h2>
									<!-- start content -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="Multilingual_Codex.html" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="The_Loop.html" title="The Loop">English</a> • 
<a href="https://codex.wordpress.org/it:Il_Loop" title="it:Il Loop">Italiano</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/The">Loop 日本語</a> 
<a href="https://codex.wordpress.org/pt-br:O_Loop" title="pt-br:O Loop">Português do Brasil</a> • 

<a href="%d0%a6%d0%b8%d0%ba%d0%bb_WordPress.html" title="Цикл WordPress">Русский</a> • 

<a href="https://codex.wordpress.org/zh-cn:循环" title="zh-cn:循环">中文(简体)</a> • 
<a href="https://codex.wordpress.org/zh-tw:迴圈" title="zh-tw:迴圈">中文(繁體)</a> • 
 <small>(<a href="Multilingual_Codex.html#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Utilizzo_del_Loop"><span class="tocnumber">1</span> <span class="toctext">Utilizzo del Loop</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Esempi_di_Loop"><span class="tocnumber">2</span> <span class="toctext">Esempi di Loop</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Applicare_uno_stile_differente_agli_articoli_di_determinate_categorie"><span class="tocnumber">2.1</span> <span class="toctext">Applicare uno stile differente agli articoli di determinate categorie</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Escludere_articoli_di_alcune_categorie"><span class="tocnumber">2.2</span> <span class="toctext">Escludere articoli di alcune categorie</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Loop_multipli"><span class="tocnumber">3</span> <span class="toctext">Loop multipli</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Esempi_di_Loop_2"><span class="tocnumber">3.1</span> <span class="toctext">Esempi di Loop</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#Loop_multipli_Esempio_1"><span class="tocnumber">3.1.1</span> <span class="toctext">Loop multipli Esempio  1</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Loop_multipli_Esempio_2"><span class="tocnumber">3.1.2</span> <span class="toctext">Loop multipli Esempio 2</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Loop_multipli_in_azione"><span class="tocnumber">3.2</span> <span class="toctext">Loop multipli in azione</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Loop_annidati"><span class="tocnumber">4</span> <span class="toctext">Loop annidati</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Fonti_.28in_inglese.29"><span class="tocnumber">5</span> <span class="toctext">Fonti (in inglese)</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Altre_risorse_sul_Loop_.28in_inglese.29"><span class="tocnumber">6</span> <span class="toctext">Altre risorse sul Loop (in inglese)</span></a></li>
</ul>
</div>

<p><b>Il Loop</b> è il codice PHP utilizzato da WordPress per visualizzare gli articoli. Utilizzando Il  Loop, WordPress processa ciascun articolo da visualizzare sulla pagina corrente e lo compone in accordo ai criteri specificati dai tag de Il Loop tags.  Qualsiasi codice <a href="Glossary.html#HTML" title="Glossary">HTML</a> o <a href="Glossary.html#PHP" title="Glossary">PHP</a> presente nel Loop verrà eseguito per ciascun articolo. 
</p><p>Quando la documentazione di WordPress indica "Questo tag deve essere utilizzato all'interno del Loop", come ad esempio degli specifici <a href="Template_Tags.html" title="Template Tags">Tag dei template</a> oppure dei plugin, il tag verrà ripetuto per ciascun articolo. Ad esempio il Loop visualizza di base, per ciascun articolo, le seguenti informazioni: 
</p>
<ul><li> Titolo (<tt><a href="Template_Tags/the_title.html" title="Template Tags/the title" class="mw-redirect">the_title()</a></tt>)</li>
<li> Data/ora (<tt><a href="Template_Tags/the_time.html" title="Template Tags/the time" class="mw-redirect">the_time()</a></tt>)</li>
<li> Categorie (<tt><a href="Template_Tags/the_category.html" title="Template Tags/the category" class="mw-redirect">the_category()</a></tt>).  </li></ul>
<p>Altre informazioni riguardanti ciascun articolo possono venir visualizzate utilizzando gli appropriati <a href="Template_Tags.html" title="Template Tags"> Tag dei template</a> oppure (per gli utenti avanzati) accedendo direttamente alla variabile <tt>$post</tt>, che viene impostata con le informazioni sull'articolo corrente mente Il Loop è in esecuzione.
</p><p>Per una guida introduttiva a Il Loop si veda <a href="The_Loop_in_Action.html" title="The Loop in Action">The Loop in Action</a>.
</p>
<h2><span class="mw-headline" id="Utilizzo_del_Loop">Utilizzo del Loop</span></h2>
<p>Il Loop deve essere inserito nella <tt>index.php</tt> ed in qualsiasi altro Template utilizzato per mostrare inforzioni sugli articoli. 
</p><p>Assicurarsi di includere la chiamata al template della testata nei propri templati del <a href="Theme_Development.html" title="Theme Development">Tema</a>. Se si sta utilizando Il Loop all'interno di un proprio design (ed il design non è un template), impostare <tt>WP_USE_THEMES</tt> a <tt>false</tt>:
</p>
<pre>&lt;?php define('WP_USE_THEMES', false); get_header();&#160;?&gt;</pre>
<p>Il Loop inizia qui:
</p>
<pre>&lt;?php if ( have_posts() )&#160;: while ( have_posts() )&#160;: the_post();&#160;?&gt;
</pre>
<p>e finisce qui:
</p>
<pre>&lt;?php endwhile; else:&#160;?&gt;
&lt;p&gt;&lt;?php _e('Nessun articolo corrisponde ai criteri di ricerca.');&#160;?&gt;&lt;/p&gt;
&lt;?php endif;&#160;?&gt;
</pre>
<h2><span class="mw-headline" id="Esempi_di_Loop">Esempi di Loop</span></h2>
<h3><span class="mw-headline" id="Applicare_uno_stile_differente_agli_articoli_di_determinate_categorie">Applicare uno stile differente agli articoli di determinate categorie</span></h3>
<p>Questo esempio visualizza ciascun articolo col suo Titolo (che è utilizato come un link al <a href="Using_Permalinks.html" title="Using Permalinks">Permalink</a>), le Categorie ed il Contenuto. Inoltre fa si che gli articoli che hanno la categoria di ID '3' abbiano uno stile differente. Per ottenere ciò viene utilizzato il <a href="Template_Tags.html" title="Template Tags">Tag dei template</a> <tt><a href="../developer.wordpress.org/reference/functions/in_category/index.html" title="Function Reference/in category">in_category()</a></tt>. Si leggano attentamente i commenti per capire ciò che fa ogni parte del codice.
</p>
<pre>
 &lt;!-- Avvio del Loop. --&gt;
 &lt;?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?&gt;

 &lt;!-- Verifica se l'articolo corrente appartiene alla categoria 3. --&gt;
 &lt;!-- Se vi appartiene al div viene assegnata una classe CSS "post-cat-three". --&gt;
 &lt;!-- Altrimenti al div viene assegnata una classe CSS "post". --&gt;

 &lt;?php if ( in_category('3') ) { ?&gt;
           &lt;div class="post-cat-three"&gt;
 &lt;?php } else { ?&gt;
           &lt;div class="post"&gt;
 &lt;?php } ?&gt;


 &lt;!-- Visualizza il Titolo come un link al permalink dell'articolo. --&gt;

 &lt;h2&gt;&lt;a href="&lt;?php the_permalink() ?&gt;" rel="bookmark" title="Link permanente a &lt;?php the_title_attribute(); ?&gt;"&gt;&lt;?php the_title(); ?&gt;&lt;/a&gt;&lt;/h2&gt;


 &lt;!-- VIsualizza la data (nel formato 16 Novembre 2009) ed un link agli altri articoli dell'autore dell'articolo. --&gt;

 &lt;small&gt;&lt;?php the_time('j F Y') ?&gt; di &lt;?php the_author_posts_link() ?&gt;&lt;/small&gt;


 &lt;!-- Visualizza il contenuto dell'articolo all'interno di un div. --&gt;

 &lt;div class="entry"&gt;
   &lt;?php the_content(); ?&gt;
 &lt;/div&gt;


 &lt;!-- Visualizza un elenco delle categorie dell'articolo separate da virgole. --&gt;

 &lt;p class="postmetadata"&gt;Pubblicato in &lt;?php the_category(', '); ?&gt;&lt;/p&gt;
 &lt;/div&gt; &lt;!-- chiude il primo div --&gt;


 &lt;!-- &gt;Termina Il Loop (ma si noti l'"else:" - si veda la riga successiva). --&gt;

 &lt;?php endwhile; else: ?&gt;


 &lt;!-- Il primo test "if" verificava che vi fossero articoli da --&gt;
 &lt;!-- visualizzare.  Questo "else" dice cosa fare quando non ve ne è alcuno. --&gt;
 &lt;p&gt;Spiacente, nessun articolo corrisponde ai criteri di ricerca.&lt;/p&gt;


 &lt;!-- fine VERA de Il Loop. --&gt;
 &lt;?php endif; ?&gt;
</pre>
<p><b>Nota:</b> Tutto il codice <a href="Glossary.html#HTML" title="Glossary">HTML</a> deve essere esterno ai tag <tt>&lt;?php &#160;?&gt;</tt>.  Il codice <a href="Glossary.html#PHP" title="Glossary">PHP</a> (anche una semplice parentesi graffa: <tt>}</tt> ) deve essere <i>dentro</i> i tag <tt>&lt;?php &#160;?&gt;</tt>.  Ancora: il codice PHP deve essere dentro i tag PHP; l'HTML deve essere esterno ad essi. &#200; possibile avviare ed interrompere il codice PHP per inframmezzare codice HTML anche fra comandi <tt>if</tt> e <tt>else</tt> come mostrato nell'esempio precedente.
</p>
<h3><span class="mw-headline" id="Escludere_articoli_di_alcune_categorie">Escludere articoli di alcune categorie</span></h3>
<p>Questo esempio può essere utilizzato per escludere determinate categorie dall'essere visualizzate. In questo caso verranno esclusi gli articoli delle categorie 3 ed 8. L'esempio è diverso da <a href="#Style_Posts_From_Some_Category_Differently">quello precedente</a> in quanto effettuata una modifica alla <a href="../developer.wordpress.org/reference/functions/query_posts/index.html" title="Template Tags/query posts" class="mw-redirect">query</a> stessa.
</p>
<pre>
 &lt;?php query_posts($query_string . '&amp;cat=-3,-8'); ?&gt;
 &lt;?php if ( have_posts() ) : while ( have_posts() ) : the_post(); ?&gt;

 &lt;div class="post"&gt;
 
 &lt;!-- Visualizza il Titolo come un link al permalink dell'articolo. --&gt;
 &lt;h2&gt;&lt;a href="&lt;?php the_permalink() ?&gt;" rel="bookmark" title="Link permanente a &lt;?php the_title_attribute(); ?&gt;"&gt;&lt;?php the_title(); ?&gt;&lt;/a&gt;&lt;/h2&gt;

 &lt;!-- Visualizza la data (nel formato 16 Novembre 2009) ed un link agli altri articoli dell'autore dell'articolo. --&gt;
 &lt;small&gt;&lt;?php the_time('j F Y') ?&gt; di &lt;?php the_author_posts_link() ?&gt;&lt;/small&gt;
 
  &lt;div class="entry"&gt;
    &lt;?php the_content(); ?&gt;
  &lt;/div&gt;

  &lt;p class="postmetadata"&gt;Posted in &lt;?php the_category(', '); ?&gt;&lt;/p&gt;
 &lt;/div&gt; &lt;!-- closes the first div box --&gt;

 &lt;?php endwhile; else: ?&gt;
 &lt;p&gt;Spiacente, nessun articolo corrisponde ai criteri di ricerca.&lt;/p&gt;
 &lt;?php endif; ?&gt;
</pre>
<p><b>Nota</b>: Se si utilizza questo esempio nella pagina principale si dovrà utilizzare un template <a href="Templates.html" title="Templates">Template</a> differente per gli <a href="Category_Templates.html" title="Category Templates">Archivi di categoria</a>, altrimenti WordPress escluderà tutti gli articoli della categoria 3 anche quando si visualizza questo archivio di categoria!  Tuttavia, se si desidera utilizzare il medesimo file dei template è possibile evitare il problema utilizzando il tag <tt><a href="../developer.wordpress.org/reference/functions/is_home/index.html" title="Function Reference/is home">is_home()</a></tt> per assicurarsi che gli articoli della categoria  3 vengano esclusi solo dalla pagina principale:  
</p>
<pre>...
&lt;?php if ( is_home() ) {
query_posts($query_string . '&amp;cat=-3');
}
?&gt;
...
</pre>
<p>Vi sono altri <a href="Conditional_Tags.html" title="Conditional Tags">Tag condizionali</a> che possono essere utilizzati per controllare ciò che viene visualizzato in funzione che si sia in una condizione particolare rispetto alla pagina richiesta.
</p>
<h2><span class="mw-headline" id="Loop_multipli">Loop multipli</span></h2>
<p>In questa sezione vedremo come gestire in maniera avanzata Il Loop.  &#200; una sezione particolarmente tecnica – ma non spaventatevi.  Inizieremo in maniera semplice e poi via via complicheremo le cose. Con un po' di buon senso, pazienza ed entusiasmo riuscirete anche voi a gestire loop multipli.
</p><p>Per prima cosa, <b>"perchè si dovrebbero avere dei Loop multipli?"</b> In generale la risposta è che lo si desidera per poter fare <i>delle cose</i> con un gruppo di articoli e fare <i>delle cose diverse</i> con un altro gruppo, <i>il tutto visualizzando i due gruppi nella stessa pagina</i>. Con delle cose si intende praticamente qualsiasi cosa; si è limitati solo dalle proprio conoscenze di PHP e dalla propria fantasia.  
</p><p>Prima di passare all'esempio successivo ricordiamo le basi. Date una occhiata al Loop di base che consiste di:
</p>
<pre>     &lt;?php if (have_posts())&#160;:&#160;?&gt;
               &lt;?php while (have_posts())&#160;: the_post();&#160;?&gt;    
               &lt;!-- fai delle cose ... --&gt;
               &lt;?php endwhile;&#160;?&gt;
     &lt;?php endif;&#160;?&gt;
</pre>
<p>In Italiano (gli sviluppatori php e chi è pratico di codice può passare alla fase successiva), il codice precedente si può leggere:  Se stiamo per visualizzare degli articoli, allora prendiamoli, uno alla volta. Per ciascun articolo dell'elenco, visualizziamolo secondo quanto definito da  <tt>&lt;!-- fai delle cose ... --&gt;</tt>. Quando si arriva all'ultimo articolo, fermati. La riga <tt>fai delle cose</tt> dipende dal template.  
</p><p>Una piccola nota su  <tt>fai delle cose</tt>: in questo esempio è solo un marcatore per un blocco di codice che determina in che formato visualizzare ciascun articolo all'interno della pagina. Questo codice può cambiare in funzione di come si desidera che appaia il proprio WordPress. Se si guarda nel tema Kubrick il suo index.php la sezione <tt>fai delle cose</tt> è compresa fra:
</p>
<pre>     &lt;?php while (have_posts())&#160;: the_post();&#160;?&gt;
</pre>
<p>E:
</p>
<pre>     &lt;?php comments_popup_link('No Comments &#187;', '1 Comment &#187;', '% Comments &#187;');&#160;?&gt;
</pre>
<p>Una spiegazione per i programmatori:
<tt>have_posts()</tt> e <tt>the_post()</tt> sono degli utili wrapper all'oggetto globale  <tt>$wp_query</tt>, dove si svolgono tutte le azioni. <tt>$wp_query</tt> viene richiamato dalla testata del blog ed alimentata dagli argomenti di query che arrivano tramite <tt>GET</tt> e <tt>PATH_INFO</tt>. <tt>$wp_query</tt> prende questi argomenti costruisce ed esegue una query al DB che ha come risultato un array di articoli. Questo array è memorizzato nell'oggetto e restituito alla testata del blog dove viene inserito nell'array globale <tt>$posts</tt> (ciò per mantenere la compatibilità con le vecchie strutture di Loop di articoli).
</p><p>Una volta che WordPress ha terminato di caricare la testata del blog e scorre lungo il template, si arriva al nostro Loop degli articoli. <tt>have_posts()</tt> semplicemente richiama <tt>$wp_query-&gt;have_posts()</tt> che verifica un contatore di ciclo per verificare che vi siano ancora articoli nell'array. Invece <tt>the_post()</tt> richiama <tt>$wp_query-&gt;the_post()</tt> che incrementa il contatore del ciclo e imposta la variabile globale  <tt>$post</tt> così come tutti i dati globali dell'articolo. Una volta terminato il Loop, <tt>have_posts()</tt> restituisce il valore false e si finisce.
</p>
<h4><span class="mw-headline" id="Esempi_di_Loop_2">Esempi di Loop</span></h4>
<p>Di seguito troverete tre esempi di utilizzo di loop multipli. La chiave dell'utilizzo di loop multipli è che <tt>$wp_query</tt> può essere chiamata una sola volta. Per aggirare il problema è possibile riutilizzare la query richiamando <tt>rewind_posts()</tt> o creando un nuovo oggetto query. Ciò viene spiegato nell'esempio 1. Nell'esempio 2, si mostra come utilizzare una variabile per memorizzare il risultato di una query. Infine, ‘loop multipli in azione’ mette insieme svariate idee per documentare come utilizzare loop multipli per evidenziare, nella pagina del blog, articoli di una determinata categoria.
</p>
<h5><span class="mw-headline" id="Loop_multipli_Esempio_1">Loop multipli Esempio  1</span></h5>
<p>Per percorrere la stessa query una seconda volta si richiama <tt>rewind_posts()</tt>. Ciò azzera il contatore di ciclo e permette di eseguire un nuovo loop.  
</p>
<pre>  &lt;?php rewind_posts();&#160;?&gt;
 
  &lt;?php while (have_posts())&#160;: the_post();&#160;?&gt;
    &lt;!-- Fai delle cose... --&gt;
  &lt;?php endwhile;&#160;?&gt;
</pre>
<p>Se si è finito con gli articoli della query originale e si desidera eseguire una query differente, è possibile riutilizzare l'oggetto <tt>$wp_query</tt> richiamando  <tt>query_posts()</tt> e quindi <i>ciclando nuovamente</i> fra gli articoli. La funzione <tt>query_posts()</tt> esegue una nuova query, costruisce un nuovo array di articoli ed azzera il contatore del ciclo.
</p>
<pre>  // Recupera gli ultimi 10 articoli della categoria cat_speciale.
  &lt;?php query_posts('category_name=cat_speciale&amp;posts_per_page=10');&#160;?&gt;

  &lt;?php while (have_posts())&#160;: the_post();&#160;?&gt;
    &lt;!-- Eseguire delle cose per cat_speciale... --&gt;
  &lt;?php endwhile;?&gt;
</pre>
<p>Se occorre mantenere in giro la query originale è possibile creare un nuovo oggetto query.
</p>
<pre>&lt;?php $my_query = new WP_Query('category_name=cat_speciale&amp;posts_per_page=10');&#160;?&gt;

&lt;?php while ($my_query-&gt;have_posts())&#160;: $my_query-&gt;the_post();&#160;?&gt;
  &lt;!-- Eseguire delle cose per cat_speciale... --&gt;
&lt;?php endwhile;&#160;?&gt;
</pre>
<p>L'oggetto query <tt>my_query</tt> viene usato perche non è possibile utilizzare <tt>have_posts()</tt> e <tt>the_post()</tt> globali perchè sono entrambi utilizzati da <tt>$wp_query</tt>. Tuttavia, sono richiamati all'interno del nuovo oggetto <tt>$my_query</tt>.
</p>
<h5><span class="mw-headline" id="Loop_multipli_Esempio_2">Loop multipli Esempio 2</span></h5>
<p>Un altro modo per utilizzare Loop multipli per aggirare l'impossibilità di utilizzare <tt>have_posts()</tt> e <tt>the_post()</tt>. Per risolvere il problema occorre memorizzare la query originale in una variabile, quindi riassegnarla alla fine dell'altro Loop. In questo modo è possibile utilizzare tutte le funzioni standard che si basano sulle variabili globali.
</p><p>Ad esempio:
</p>
<pre>// Andiamo da soli da qui in avanti
&lt;?php $temp_query = $wp_query;&#160;?&gt;
&lt;!-- Fai delle cose... --&gt;

&lt;?php query_posts('category_name=cat_speciale&amp;posts_per_page=10');&#160;?&gt;

&lt;?php while (have_posts())&#160;: the_post();&#160;?&gt;
  &lt;!-- Fai delle cose per cat_speciale... --&gt;
&lt;?php endwhile;&#160;?&gt;

// torniamo al normale ciclo precedente
&lt;?php $wp_query = $temp_query;&#160;?&gt;
</pre>
<p><b>Nota:</b> In PHP 5, gli oggetti vengono referenziati con l'operatore "= clone" invece che con "=" come in PHP 4. Per far si che l'Esempio 2 funzioni in PHP 5 occorre usare il segunete codice:
</p>
<pre>
 // Andiamo da soli da qui in avanti
 &lt;?php $temp_query = clone $wp_query;&#160;?&gt;
 &lt;!-- Fai delle cose... --&gt;
 
 &lt;?php query_posts('category_name=cat_speciale&amp;posts_per_page=10');&#160;?&gt;
 
 &lt;?php while (have_posts())&#160;: the_post();&#160;?&gt;
   &lt;!-- Fai delle cose per cat_speciale... --&gt;
 &lt;?php endwhile;&#160;?&gt;
 
 // torniamo al normale ciclo precedente

 &lt;?php $wp_query = clone $temp_query;&#160;?&gt;
</pre>
<p>Tuttavia questo secondo esempio non funziona con WordPress 2.1.
</p>
<h4><span class="mw-headline" id="Loop_multipli_in_azione">Loop multipli in azione</span></h4>
<p>Il modo migliore per capire come utilizzare i loop multipli è di mostrare un esempio del loro utilizzo. Forse l'uso più comune di loop multipli è quello usato per visualizzare due (o più) elenchi di articoli su una singola pagina. Questo viene spesso utilizato quano un webmaster desidera mostrare non solo gli ultimi articoli scritti ma anche quelli di una determinata categoria.
</p><p>Tralasciando tutti i problemi di formattazione e di CSS, assumiamo di voler avere due elenchi di articoli. Uno che elenca gli articoli più recenti (lo standard degli ultimi 10 articoli pubblicati) ed un secondo elenco che contenga solo un articolo della categoria ‘in evidenza’.  Gli articoli nella categoria ‘in evidenza’ dovranno venir visualizzati per primi, seguiti dal secondo elenco di articoli (lo standard). <b>Il problema è che nessun articolo deve apparire in entrambe le categorie.</b>
</p><p><b>passo 1.</b> Recuperare solo un articolo dalla categoria ‘in evidenza’.
</p>
<pre>  &lt;?php $my_query = new WP_Query('category_name=in_evidenza&amp;posts_per_page=1');
  while ($my_query-&gt;have_posts())&#160;: $my_query-&gt;the_post();
  $non_duplicare = $post-&gt;ID;&#160;?&gt;
    &lt;!-- Fai delle cose... --&gt;
  &lt;?php endwhile;&#160;?&gt;
</pre>
<p>In italiano il codice precedente si leggerebbe: 
</p><p>imposta <tt>$my_query</tt> uguale al risultato di una query di tutti gli articoli che appartengono alla categoria di nome in evidenza e di questi prendine solo uno. Inoltre imposta la variabile <tt>$non_duplicare</tt> uguale all'ID del singolo articolo restituito. Ricordiamo che <tt>Fai delle cose</tt> rappresenta tutte le formattazioni e le opzioni associate all'articolo recuperato.
</p><p>Si noti che, nel prossimo passo, ci servirà il valore di <tt>$non_duplicare</tt> per assicurarci che lo stesso articolo non appaia in entrambi gli elenchi.    
</p><p><b>Passo 2</b>. Il secondo loop, recupera gli ultimi X articoli (meno uno).
</p><p>QUesto codice recupera gli ultimi X articli più recenti (come definito nelle preferenze di WordPress) eccetto quello già estratto dal primo loop e visualizato secondo quanto definito da  <tt>Fai delle cose</tt>.
</p>
<pre>  &lt;?php if (have_posts())&#160;: while (have_posts())&#160;: the_post(); 
  if( $post-&gt;ID == $non_duplicare ) continue;?&gt;
   &lt;!-- Fai delle cose... --&gt;
  &lt;?php endwhile; endif;&#160;?&gt;
</pre>
<p>In italiano il codice precedente si legge: 
</p><p>Recupera tutti gli articoli, quando un articolo è uuale a <tt>$do_not_duplicate</tt> allora non fare nulla (<tt>continue</tt>), altrimenti visualizza tutti gli altri articoli secondo quanto definito da <tt>Fai delle cose</tt>. Inoltre aggiorna la cache in modo che i plugin che operano sui tag e sulle parole chiave operino correttamente. Ricordiamo che la variabile  <tt>$non_duplicare</tt> contiene l'ID dell'articolo già visualizzato.
</p><p><b>Il risultato finale</b>
</p><p>Ecco come appare il codice finale <i>senza alcuna formattazione</i>:
</p>
<pre>  &lt;?php $my_query = new WP_Query('category_name=in_evidenza&amp;posts_per_page=1');
  while ($my_query-&gt;have_posts())&#160;: $my_query-&gt;the_post();
  $non_duplicare = $post-&gt;ID;?&gt;
    &lt;!-- Fai delle cose... --&gt;
  &lt;?php endwhile;&#160;?&gt;
    &lt;!-- Fai delle altre cose... --&gt;
  &lt;?php if (have_posts())&#160;: while (have_posts())&#160;: the_post(); 
  if( $post-&gt;ID == $non_duplicare ) continue;&#160;?&gt;
   &lt;!-- Fai delle cose... --&gt;
  &lt;?php endwhile; endif;&#160;?&gt;
</pre>
<p>Il risultato finale sarà una paginac con due elenchi. Il primo elenco contenente solo un articolo -- quello più recente della categoria 'in evidenza'. Il secondo elenco conterrà gli X articoli più recenti (come definito dalla preferenze di WordPress) <i>meno</i> l'articolo che è già apparso nel primo elenco. COsi che, quando l'articolo in evidenza viene sostituito da uno nuovo, il precedente apparirà nell'elenco standard successivo (in funzione di quanti articoli si sceglie di visualizzare e della frequenza di pubblicazione). Questa tecnica (o similare) è stata utilizzata assieme alle conoscenze sulla <a rel="nofollow" class="external text" href="../developer.wordpress.org/themes/basics/template-hierarchy/index.html">Gerarchia dei template</a> per creare diversi aspetti per home.php ed index.php. Si vedano le risorse associate in fondo a questa pagina.
</p><p><b>Nota per articoli multipli nella prima categoria</b>
</p><p>Se posts_per_page=2 o superiore, occorrerà modificare leggermente il codice. La variabile $non_duplicare occorre sia cambiata in un array invece che un singolo valore. Altrimenti, il primo loop terminerà con la variabile $non_duplicare uguale solo all'id dell'ultimo articolo.  Ciò fara si che si avranno9 articoli duplicati nel secondo loop. Per risolvere il problema sostituire 
</p>
<pre>&lt;?php $my_query = new WP_Query('category_name=in_evidenza&amp;posts_per_page=1');
 while ($my_query-&gt;have_posts())&#160;: $my_query-&gt;the_post();
 $non_duplicare = $post-&gt;ID;?&gt;
</pre>
<p>con
</p>
<pre>&lt;?php $my_query = new WP_Query('category_name=in_evidenza&amp;posts_per_page=2');
  while ($my_query-&gt;have_posts())&#160;: $my_query-&gt;the_post();
  $non_duplicare[] = $post-&gt;ID&#160;?&gt;
</pre>
<p>Si noti che "posts_per_page" può essere un numero qualsiasi.
Ciò modifica $non_duplicare in un array. Quindi sostituire
</p>
<pre>&lt;?php if (have_posts())&#160;: while (have_posts())&#160;: the_post(); if( $post-&gt;ID ==
  $non_duplicare ) continue;&#160;?&gt;
</pre>
<p>con
</p>
<pre>&lt;?php if (have_posts())&#160;: while (have_posts())&#160;: the_post(); 
 if (in_array($post-&gt;ID, $non_duplicare)) continue;
&#160;?&gt;
</pre>
<p>In modo da proseguire con ilmedesimo modello per qualsiasi valore di posts_per_page (2 in questo caso).
</p><p>In alternativa è possibile passare l'intero array <tt>$non_duplicare</tt> alla  <tt>$wp_query</tt> e verranno restituiti solo le voci che corrispondono ai criteri impostati:
</p>
<pre>&lt;?php query_posts(array('post__not_in'=&gt;$non_duplicare));
 if (have_posts())&#160;: while (have_posts())&#160;: the_post();
&#160;?&gt; 
</pre>
<p>Si noti che invece che una stringa, il paramentro della query è un array associativo, con l'opzione<tt>post__not_in</tt>.
</p>
<h2><span class="mw-headline" id="Loop_annidati">Loop annidati</span></h2>
<p>Annidare i Loop significa eseguire un secondo Loop prima di terminare il primo. Ciò può risultare utile ad esempio per visualizzare un elenco di articoli tramite uno <a href="Shortcode_API.html" title="Shortcode API">shortcode</a>.
<code>
</p>
<pre>   $my_query = new WP_Query( "cat=3" );
   if ( $my_query-&gt;have_posts() ) { 
       while ( $my_query-&gt;have_posts() ) { 
           $my_query-&gt;the_post();
           the_content();
       }
   }
   wp_reset_postdata();
</pre>
<p></code>
&#200; necessario azzerare il Loop principale dopo il Loop annidato in modo che le variabili globali abbiano nuovamente i valori corretti.
</p>
<h2><span class="mw-headline" id="Fonti_.28in_inglese.29">Fonti (in inglese)</span></h2>
<p>La sezione sui Loop multipli è una combinazione della <a rel="nofollow" class="external text" href="http://comox.textdrive.com/pipermail/hackers/2005-January/003578.html">discussione</a> sul Loop fra <a rel="nofollow" class="external text" href="http://boren.nu/">Ryan Boren</a> e <a rel="nofollow" class="external text" href="http://www.alexking.org/">Alex King's</a> sulla <a href="Mailing_Lists.html#Hackers" title="Mailing Lists">Hackers Mailing List</a> ed anche di un tutorial scritto da  <a rel="nofollow" class="external text" href="http://www.maxpower.ca/wordPress-hack-sticky-adhesive-kubrick/2005/05/03/">MaxPower</a>. L'esempio di Loop annidati è stato ispirato da <a rel="nofollow" class="external text" href="http://lists.automattic.com/pipermail/wp-hackers/2010-May/032064.html">un'altra discussione</a> sulla mailing list e daun articolo di <a rel="nofollow" class="external text" href="http://www.nkuttler.de/2010/05/30/wordpress-loop-inside-a-loop/">Nicolas Kuttler</a>.
</p>
<h2><span class="mw-headline" id="Altre_risorse_sul_Loop_.28in_inglese.29">Altre risorse sul Loop (in inglese)</span></h2>
<p>Per conoscere meglio il Loop di WordPress Loop ed i vari tag dei template che operano solo con il Loop ecco alcune risorse utili.
</p>
<ul><li> <a href="The_Loop_in_Action.html" title="The Loop in Action">The Loop in Action</a></li>
<li> <a href="Template_Tags.html" title="Template Tags">Template Tags</a></li>
<li> <a href="Templates.html" title="Templates">Using the Loop in Template Files</a></li>
<li> <a rel="nofollow" class="external text" href="http://www.slideshare.net/mitcho/getting-into-the-loop">Getting Into The Loop</a> - (slides) an introduction to how plugins and themes can modify the Loop</li></ul>
<div style="background-color:#EEEEFF; border:1px solid #CCCCCC; color:#000000; padding:7px; margin:0.5em auto 0.5em auto; vertical-align:middle; overflow:hidden;">This article is <a href="Category_Copyedits.html" title="Category:Copyedits" class="mw-redirect">marked</a> as in need of editing. You can <a href="https://codex.wordpress.org/Codex:Contributing" title="Codex:Contributing">help</a> Codex by <b><a rel="nofollow" class="external text" href="https://codex.wordpress.org/index.php?title=Il_Loop&amp;action=edit">editing it</a></b>.</div>

<!-- 
NewPP limit report
Cached time: 20210122101921
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.024 seconds
Real time usage: 0.031 seconds
Preprocessor visited node count: 154/1000000
Preprocessor generated node count: 636/1000000
Post‐expand include size: 1646/2097152 bytes
Template argument size: 542/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   11.738      1 - -total
 69.36%    8.141      1 - Template:Languages
 26.69%    3.133      1 - Template:Copyedit
 13.31%    1.562      1 - Template:Message
  8.46%    0.993      1 - Template:ja
  8.08%    0.949      1 - Template:zh-cn
  7.93%    0.931      1 - Template:it
  7.83%    0.919      1 - Template:en
  7.80%    0.916      1 - Template:pt-br
  7.74%    0.909      1 - Template:zh-tw
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://codex.wordpress.org/index.php?title=Il_Loop&amp;oldid=162184">https://codex.wordpress.org/index.php?title=Il_Loop&amp;oldid=162184</a>"</div>
				<div id="catlinks"><div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://codex.wordpress.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="https://codex.wordpress.org/index.php?title=Category:it:Design_and_Layout&amp;action=edit&amp;redlink=1" class="new" title="Category:it:Design and Layout (page does not exist)">it:Design and Layout</a></li><li><a href="https://codex.wordpress.org/index.php?title=Category:it:Advanced_Topics&amp;action=edit&amp;redlink=1" class="new" title="Category:it:Advanced Topics (page does not exist)">it:Advanced Topics</a></li><li><a href="Category_Copyedit.html" title="Category:Copyedit">Copyedit</a></li><li><a href="https://codex.wordpress.org/index.php?title=Category:it:UI_Link&amp;action=edit&amp;redlink=1" class="new" title="Category:it:UI Link (page does not exist)">it:UI Link</a></li><li><a href="https://codex.wordpress.org/index.php?title=Category:it:EN_Link_da_sistemare&amp;action=edit&amp;redlink=1" class="new" title="Category:it:EN Link da sistemare (page does not exist)">it:EN Link da sistemare</a></li></ul></div></div></div>			<!-- end content -->
		</div>
		<div class="col-2">
			
						
			<ul class="submenu">
				<li id="n-mainpage"><a href="Main_Page.html">Home Page</a></li>	
				<li><a href="WordPress_Lessons.html">WordPress Lessons</a></li>
				<li><a href="Getting_Started_with_WordPress.html">Getting Started</a></li>
				<li><a href="Working_with_WordPress.html">Working with WordPress</a></li>
				<li><a href="Blog_Design_and_Layout.html">Design and Layout</a></li>
				<li><a href="Advanced_Topics.html">Advanced Topics</a></li>
				<li><a href="Troubleshooting.html">Troubleshooting</a></li>
				<li><a href="Developer_Documentation.html">Developer Docs</a></li>
				<li><a href="About_WordPress.html">About WordPress</a></li>
			</ul>

			<h3>Codex Resources</h3>
			<ul class="submenu">
				<li id="n-portal"><a href="https://codex.wordpress.org/Codex:Community_Portal">Community portal</a></li>	      
				<li id="n-currentevents"><a href="Current_events.html">Current events</a></li>	      
				<li id="n-recentchanges"><a href="https://codex.wordpress.org/Special:RecentChanges">Recent changes</a></li>	      
				<li id="n-randompage"><a href="https://codex.wordpress.org/Special:Random">Random page</a></li>	      
				<li id="n-help"><a href="https://codex.wordpress.org/Help:Contents">Help</a></li>	
			</ul>
			
		</div>
	</div>
</div>


<div id="wporg-footer">
	<div class="wrapper">
		<ul>
			<li><a href="http://wordpress.org/about/" title="An introduction to the WordPress project">About</a></li>
			<li><a href="http://wordpress.org/news/" title="News and Updates">Blog</a></li>
			<li><a href="http://wordpress.org/hosting/" title="Recommended web hosting providers">Hosting</a></li>
			<li><a href="https://wordpressfoundation.org/donate/" title="Donate to the WordPress Foundation">Donate</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/support/" title="Forums, documentation, and other resources">Support</a></li>
			<li><a href="../developer.wordpress.org/index.html" title="Resources for WordPress developers">Developers</a></li>
			<li><a href="http://make.wordpress.org/" title="Give back to WordPress through code, support, translation and more">Get Involved</a></li>
			<li><a href="http://learn.wordpress.org/" title="Workshops and training materials">Learn</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/showcase/" title="Some of the best WordPress sites on the Web">Showcase</a></li>
			<li><a href="http://wordpress.org/plugins/" title="Add extra functionality to WordPress">Plugins</a></li>
			<li><a href="http://wordpress.org/themes/" title="Make your WordPress pretty">Themes</a></li>
		</ul>

		<ul>
			<li><a href="http://central.wordcamp.org/" title="Find a WordPress event near you">WordCamp</a></li>
			<li><a href="http://wordpress.tv/" title="Videos, tutorials, and WordCamp sessions">WordPress.TV</a></li>
			<li><a href="http://buddypress.org/" title="A set of plugins to transform your WordPress into a social network">BuddyPress</a></li>
			<li><a href="http://bbpress.org/" title="Fast, slick forums built on WordPress">bbPress</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.com/?ref=wporg-footer" title="Hassle-free WordPress hosting">WordPress.com</a></li>
			<li><a href="http://ma.tt/" title="Co-founder of WordPress, an example of what WordPress can do">Matt</a></li>
			<li><a href="http://wordpress.org/about/privacy/" title="WordPress.org Privacy Policy">Privacy</a></li>
			<li><a href="https://publiccode.eu/" target="_blank">Public Code</a></li>
		</ul>

		<ul>
			<li><span class="dashicons dashicons-twitter"></span><a href="https://twitter.com/WordPress" title="Follow @WordPress on Twitter">@WordPress</a></li>
			<li><span class="dashicons dashicons-facebook"></span><a href="https://www.facebook.com/WordPress/" title="Like WordPress on Facebook">WordPress</a></li>
		</ul>
	</div>

		<p class="cip cip-image">Code is Poetry.</p>
</div>

<script src="../s.w.org/style/js/navigation.min.js?20190128"></script>

</body>
<!-- Cached 20210122101921 -->

<!-- Mirrored from codex.wordpress.org/Il_Loop by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:23:21 GMT -->
</html>
