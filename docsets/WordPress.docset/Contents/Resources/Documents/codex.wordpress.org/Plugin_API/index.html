<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">


<!-- Mirrored from codex.wordpress.org/Plugin_API/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:28:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');</script>
<!--
<meta property="fb:page_id" content="6427302910" />
-->
<link rel="dns-prefetch" href="http://s.w.org/" />
<link rel="dns-prefetch" href="../../fonts.googleapis.com/index.html" />
<link rel="dns-prefetch" href="http://fonts.gstatic.com/" />
<link rel="dns-prefetch" href="http://www.googletagmanager.com/" />
<meta name="google-site-verification" content="7VWES_-rcHBcmaQis9mSYamPfNwE03f4vyTj4pfuAw0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Plugin API</title>
<link rel="canonical" href="../Plugin_API.html" />

<link rel="stylesheet" href="../../s.w.org/style/codex-wp4.css?3" />
<meta name="referrer" content="always">

			<link href="../../s.w.org/wp-includes/css/dashicons.min.css?20181204" rel="stylesheet" type="text/css" />
		<link href='../../fonts.googleapis.com/css.css?family=Open+Sans:300italic,400italic,600italic,400,300,600&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="../../s.w.org/style/wp4.css?95" />

<link rel="shortcut icon" href="../../s.w.org/favicon.ico?2" type="image/x-icon" />
<script type="text/javascript" src="../../s.w.org/wp-includes/js/jquery/jquery.js?v=1.11.1"></script>
<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>
<!--[if IE]>
    <script type="text/javascript" src="/skins/common/IEFixes.js"></script>
    <meta http-equiv="imagetoolbar" content="no" />
<![endif]-->

<script type="text/javascript">wgBreakFrames=false;wgContentLanguage='en';</script>


</head>


<body id="wordpress-org" class="wporg-responsive wporg-codex">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="wporg-header">
	<div class="wrapper">
	<h1><a href="http://wordpress.org/">WordPress.org</a></h1>				<div id="head-search">
		<form action="http://wordpress.org/search/do-search.php" method="get">
			<label for="global-search" class="screen-reader-text">Search WordPress.org for:</label>
			<input id="global-search" class="text" name="search" type="text" value="" maxlength="150" placeholder="Search WordPress.org" />
			<button type="submit" class="button"><span class="screen-reader-text">Submit</span></button>
		</form>
		</div>
				<div style="clear:both"></div>
		<button id="mobile-menu-button" aria-expanded="false"><span class="screen-reader-text">Toggle Menu</span></button>
		
<nav aria-label="Main Menu">
<ul id="wporg-header-menu">
<li class="menu-item"><a href='http://wordpress.org/showcase/' data-title='See some of the sites built on WordPress.'>Showcase</a></li>
<li class="menu-item"><a href='http://learn.wordpress.org/' data-title='Resources to help you learn more about WordPress and teach it to others.'>Learn</a></li>
<li class="menu-item"><a href='http://wordpress.org/themes/' data-title='Find just the right look for your website.'>Themes</a></li>
<li class="menu-item"><a href='http://wordpress.org/plugins/' data-title='Plugins can extend WordPress to do almost anything you can imagine.'>Plugins</a></li>
<li class="menu-item"><a href='http://wordpress.org/mobile/' data-title='Take your website on the go!'>Mobile</a></li>
<li class="menu-item"><a href='http://wordpress.org/support/' data-title='Forums, documentation, help.' aria-current="true" class="current">Support</a><ul class="nav-submenu"><li><a href='http://wordpress.org/support/' title='Documentation, tutorials, best practices.'>Documentation</a></li><li><a href='http://wordpress.org/support/forums/' title='Support and discussion forums.'>Forums</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://make.wordpress.org/' data-title='Contribute your knowledge.'>Get Involved</a><ul class="nav-submenu"><li><a href='http://wordpress.org/five-for-the-future/' title='How five percent is powering the next generation of the web'>Five for the Future</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://wordpress.org/about/' data-title='About the WordPress Organization, and where we&#039;re going.'>About</a></li>
<li class="menu-item"><a href='http://wordpress.org/news/' data-title='Come here for the latest scoop.'>Blog</a></li>
<li class="menu-item"><a href='http://wordpress.org/hosting/' data-title='Find a home for your blog.'>Hosting</a></li>
<li id="download" class="button download-button menu-item"><a href='http://wordpress.org/download/' data-title='Get it. Got it? Good.'>Get WordPress</a></li>
</ul>
</nav>
		<div style="clear:both"></div>
	</div>
</div>



<div id="headline">
	<div class="wrapper">
		<h2><a href="../index.html">Codex</a></h2>
		
		<div class="portlet" id="p-personal">
		  <p class="login">Codex tools:
		     <a href="https://codex.wordpress.org/index.php?title=Special:UserLogin&amp;returnto=Plugin+API">Log in</a> 		  </p>
		</div>
	</div>
</div>

<div id="pagebody">
	<div class="wrapper">	
		<div class="col-10" id="bodyContent">
			<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><div style="clear:both; background-color:#e5f5fa; border-left:4px solid #00a0d2; padding:10px 12px 8px; margin:0.5em auto 1.5em auto;"><span class="dashicons dashicons-info" style="color:#00a0d2"></span> Interested in functions, hooks, classes, or methods? Check out the new <a rel="nofollow" class="external text" href="../../developer.wordpress.org/reference/index.html">WordPress Code Reference</a>!</div>
</div></div>			<h2 class="pagetitle">Plugin API</h2>
									<!-- start content -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p class="LanguageLinks" style="border:1px solid #CCCCCC; line-height:1.5; text-align:left; color:#333333; font-size:90%; padding:10px;"><span style="white-space:nowrap;"><a href="../Multilingual_Codex.html" title="Multilingual Codex" class="mw-redirect">Languages</a>:</span> 
<a href="https://codex.wordpress.org/bn:প্লাগইন_এপিআই" title="bn:প্লাগইন এপিআই">বাংলা</a> • 

<strong class="selflink">English</strong> • 
<a href="https://codex.wordpress.org/es:Plugin_API" title="es:Plugin API">Español</a> • 

<a href="https://codex.wordpress.org/fr:Plugin_API" title="fr:Plugin API">Français</a> • 

<a rel="nofollow" class="external text" href="https://wpdocs.osdn.jp/プラグイン">API 日本語</a> 
<a href="https://codex.wordpress.org/ko:Plugin_API" title="ko:Plugin API">한국어</a> • 
<a href="https://codex.wordpress.org/pt-br:Plugin_API" title="pt-br:Plugin API" class="mw-redirect">Português do Brasil</a> • 

<a rel="nofollow" class="external text" href="http://codex.wordthai.com/Plugin+API">ไทย</a> • 

<a href="https://codex.wordpress.org/zh-cn:插件_API" title="zh-cn:插件 API">中文(简体)</a> • 
<a href="https://codex.wordpress.org/ru:Plugin_API" title="ru:Plugin API">Русский</a> • 

 <small>(<a href="../Multilingual_Codex.html#Language_Cross_Reference" title="Multilingual Codex" class="mw-redirect">Add your language</a>)</small>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Hooks:_Actions_and_Filters"><span class="tocnumber">2</span> <span class="toctext">Hooks: Actions and Filters</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Function_Reference"><span class="tocnumber">3</span> <span class="toctext">Function Reference</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Actions"><span class="tocnumber">4</span> <span class="toctext">Actions</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Create_an_Action_Function"><span class="tocnumber">4.1</span> <span class="toctext">Create an Action Function</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Avoiding_Function_Name_Collisions"><span class="tocnumber">4.1.1</span> <span class="toctext">Avoiding Function Name Collisions</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Hook_to_WordPress"><span class="tocnumber">4.2</span> <span class="toctext">Hook to WordPress</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Install_and_Activate"><span class="tocnumber">4.3</span> <span class="toctext">Install and Activate</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Current_Hooks_For_Actions"><span class="tocnumber">4.4</span> <span class="toctext">Current Hooks For Actions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Filters"><span class="tocnumber">5</span> <span class="toctext">Filters</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Create_a_Filter_Function"><span class="tocnumber">5.1</span> <span class="toctext">Create a Filter Function</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Hook_in_your_Filter"><span class="tocnumber">5.2</span> <span class="toctext">Hook in your Filter</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Install_and_Activate_2"><span class="tocnumber">5.3</span> <span class="toctext">Install and Activate</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Current_Hooks_for_Filters"><span class="tocnumber">5.4</span> <span class="toctext">Current Hooks for Filters</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Example"><span class="tocnumber">5.5</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#Removing_Actions_and_Filters"><span class="tocnumber">6</span> <span class="toctext">Removing Actions and Filters</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#Pluggable_Functions"><span class="tocnumber">7</span> <span class="toctext">Pluggable Functions</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#Activation.2FDeactivation.2FUninstall"><span class="tocnumber">8</span> <span class="toctext">Activation/Deactivation/Uninstall</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Related"><span class="tocnumber">9</span> <span class="toctext">Related</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#External_Resources"><span class="tocnumber">10</span> <span class="toctext">External Resources</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>This article assumes that you've read <a href="../Writing_a_Plugin.html" title="Writing a Plugin">Writing a Plugin</a>, giving an overview (and many details) of how to develop a plugin. The same speaks specifically about the API "Hooks", also known as "Filters" and "Actions", used by WordPress to set your plugin at runtime. 
</p><p>These hooks can also be used in themes, as <a href="../Theme_Development.html#_Theme_Functions_File" title="Theme Development"> described here</a>.
</p>
<h2><span class="mw-headline" id="Hooks:_Actions_and_Filters">Hooks: Actions and Filters</span></h2>
<p>Hooks are provided by WordPress to allow your plugin to 'hook into' the rest of WordPress; that is, to call functions in your plugin at specific times, and thereby set your plugin in motion.  There are two kinds of hooks:
</p>
<ol><li> <a rel="nofollow" class="external text" href="../Glossary.html#Action">Actions</a> (Codex <a href="Action_Reference.html" title="Plugin API/Action Reference">Action Reference</a>)</li>
<li> <a rel="nofollow" class="external text" href="../Glossary.html#Filter">Filters</a> (Codex <a href="Filter_Reference.html" title="Plugin API/Filter Reference">Filter Reference</a>)</li></ol>
<p>You can sometimes accomplish the same goal with either an action or a filter.  For example, if you want your plugin to change the text of a post, you might add an action function to <tt>publish_post</tt> (so the post is modified as it is saved to the database), or a filter function to <tt>the_content</tt> (so the post is modified as it is displayed in the browser screen).
</p><p>For a thorough listing of all action and filter hooks in WP see Adam Brown's <a rel="nofollow" class="external text" href="http://adambrown.info/p/wp_hooks">WordPress Hooks Database</a>.
</p>
<h2><span class="mw-headline" id="Function_Reference">Function Reference</span></h2>
<table cellspacing="10" width="100%">

<tr valign="top">
<td width="100%">
<table class="widefat">

<tr style="background:#464646; color:#d7d7d7;">
<th> <b>Filter Functions</b>
</th></tr>
<tr>
<td>
<ul><li> <tt><a href="../Function_Reference/has_filter.html" title="Function Reference/has filter"> has_filter()</a></tt></li>
<li> <tt><a href="../../developer.wordpress.org/reference/functions/add_filter/index.html" title="Function Reference/add filter"> add_filter()</a></tt></li>
<li> <tt><a href="../../developer.wordpress.org/reference/functions/apply_filters/index.html" title="Function Reference/apply filters"> apply_filters()</a></tt></li>
<li> <tt><a href="../../developer.wordpress.org/reference/functions/apply_filters_ref_array/index.html" title="Function Reference/apply filters ref array"> apply_filters_ref_array()</a></tt></li>
<li> <tt><a href="../Function_Reference/current_filter.html" title="Function Reference/current filter"> current_filter()</a></tt></li>
<li> <tt><a href="../Function_Reference/remove_filter.html" title="Function Reference/remove filter"> remove_filter()</a></tt></li>
<li> <tt><a href="../Function_Reference/remove_all_filters.html" title="Function Reference/remove all filters"> remove_all_filters()</a></tt></li>
<li> <tt><a href="../../developer.wordpress.org/reference/functions/doing_filter/index.html" title="Function Reference/doing filter"> doing_filter()</a></tt></li></ul>
</td></tr></table>
</td></tr></table>
<table class="widefat">

<tr style="background:#464646; color:#d7d7d7;">
<th> <b>Actions Functions</b>
</th></tr>
<tr>
<td>
<ul><li> <tt><a href="../Function_Reference/has_action.html" title="Function Reference/has action"> has_action()</a></tt></li>
<li> <tt><a href="../../developer.wordpress.org/reference/functions/add_action/index.html" title="Function Reference/add action"> add_action()</a></tt></li>
<li> <tt><a href="../../developer.wordpress.org/reference/functions/do_action/index.html" title="Function Reference/do action"> do_action()</a></tt></li>
<li> <tt><a href="../Function_Reference/do_action_ref_array.html" title="Function Reference/do action ref array"> do_action_ref_array()</a></tt></li>
<li> <tt><a href="../Function_Reference/did_action.html" title="Function Reference/did action"> did_action()</a></tt></li>
<li> <tt><a href="../../developer.wordpress.org/reference/functions/remove_action/index.html" title="Function Reference/remove action"> remove_action()</a></tt></li>
<li> <tt><a href="../Function_Reference/remove_all_actions.html" title="Function Reference/remove all actions"> remove_all_actions()</a></tt></li>
<li> <tt><a href="../../developer.wordpress.org/reference/functions/doing_action/index.html" title="Function Reference/doing action"> doing_action()</a></tt></li></ul>
</td></tr></table>

<table cellspacing="10" width="100%">


<table class="widefat">

<tr style="background:#464646; color:#d7d7d7;">
<th colspan="2"> <b>Activation/Deactivation/Uninstall Functions</b>
</th></tr>
<tr>
<td>
<ul><li> <tt><a href="../Function_Reference/register_activation_hook.html" title="Function Reference/register activation hook"> register_activation_hook()</a></tt></li>
<li> <tt><a href="../../developer.wordpress.org/reference/functions/register_uninstall_hook/index.html" title="Function Reference/register uninstall hook"> register_uninstall_hook()</a></tt></li></ul>
</td>
<td>
<ul><li> <tt><a href="../Function_Reference/register_deactivation_hook.html" title="Function Reference/register deactivation hook"> register_deactivation_hook()</a></tt></li></ul>
</td></tr></table>
</table>
<h2><span class="mw-headline" id="Actions">Actions</span></h2>
<p><b>Actions</b> are triggered by specific events that take place in WordPress, such as publishing a post, changing themes, or displaying an <a href="../Administration_Screens.html" title="Administration Screens">administration screen</a>. An Action is a custom PHP function defined in your plugin (or theme) and <i>hooked</i>, i.e. set to respond, to some of these events. Actions usually do one or more of the following:
</p>
<ul><li> Modify database data.</li>
<li> Send an email message.</li>
<li> Modify the generated administration screen or front-end page sent to a user browser.</li></ul>
<p>The basic steps to make this happen (described in more detail below) are:
</p>
<ol><li> Create a PHP function that should execute when a specific WordPress event occurs, in your plugin file. </li>
<li> Hook this function to the event by using the <tt><a href="../../developer.wordpress.org/reference/functions/add_action/index.html" title="Function Reference/add action">add_action()</a></tt> function.</li>
<li> Put your PHP function in a plugin file, and activate it.</li></ol>
<h3><span class="mw-headline" id="Create_an_Action_Function">Create an Action Function</span></h3>
<p>The first step in creating an action in your plugin is to create a PHP function with the action functionality of your plugin and put it in your plugin file (your plugin file must go into the <i>wp-content/plugins</i> directory). For example, if you want your friends to get an email message whenever you create a new post, you might define the following function:
</p>
<pre>
function email_friends($post_ID) {
    $friends = 'bob@example.org,susie@example.org';
    mail($friends, "sally's blog updated", 
      'I just put something on my blog: http://blog.example.com');
    return $post_ID;
}
</pre>
<p>For most actions, your function should accept a single parameter (usually the post or comment ID, depending on the action). Some actions take more than one parameter -- check the documentation for the action (if available) or the WordPress source code for more information. Besides the one parameter, you can also access the <a href="https://codex.wordpress.org/User:CharlesClarkson/Global_Variables" title="User:CharlesClarkson/Global Variables">global variables of WordPress</a>, and call other WordPress functions (or functions in your plugin file).
</p><p>Any text output by the function (e.g. with print) will appear in the page source at the location where the action was invoked.
</p><p><b>NOTE</b>: Keep in mind that other plugins or the WordPress core may already be using the function name you have thought of. See the next section, <a href="#Avoiding_Function_Name_Collisions">Avoiding Function Name Collisions</a> for more information.
</p>
<h4><span class="mw-headline" id="Avoiding_Function_Name_Collisions">Avoiding Function Name Collisions</span></h4>
<p>It is possible that someone has created a plugin with a function named the same as one in your plugin.
</p><p>This is a problem because PHP does not allow multiple functions with the same name. If two plugins provide a function with the same name, or a plugin provides a function with a name the same as a WordPress function, the blog could cease to function. There are two ways to avoid this problem.
</p><p>The first solution is to prefix every function in your plugin with a unique set of characters.  If your name is John Q. Public, you might declare your functions as <code>function jqp_output() {...}</code>.  The likelihood that someone with the same initials does the same thing with their plugin is possible but low.
</p><p>The second - and possibly easier - a solution is to enclose your plugin functions in a class and call the class methods statically. This sounds more complicated than it is.
</p><p>Consider this class, which expands on the examples provided above:
</p>
<pre>class emailer {
  static function send($post_ID)  {
    $friends = 'bob@example.org,susie@example.org';
    mail($friends,"sally's blog updated",'I just put something on my blog: <a rel="nofollow" class="external free" href="http://blog.example.com'/">http://blog.example.com'</a>);
    return $post_ID;
  }
}

add_action('publish_post', array('emailer', 'send'));
</pre>
<p>This class called <i>emailer</i> has a method <i>send</i> that implements the plugin functionality.
</p><p>The add_action() function outside of the class adds the action to WordPress that tells it to call the <i>send</i> method when a post is published. The array used in the second parameter tells the plugin system to call the static method of the class 'emailer' named 'send'.
</p><p>The function <i>send</i> is protected from the global namespace by the class declaration. It is not possible to call send() directly, and so any other function named <i>send</i> will not collide with this one. If you did want to call send(), you would need to use a scope resolution operator, like this: <code>emailer::send()</code>
</p><p>The above example is for static methods. If you have an instance of a class then that won't work. To call a method of an instance you need to pass the instance as a variable. Consider the above example modified to take this into account:
</p><p><code>
</p>
<pre>class emailer {
  function send($post_ID)  {
    $friends = 'ToT@example.org,alles@example.org';
    mail($friends,"sally's blog updated",'I just put something on my blog: <a rel="nofollow" class="external free" href="http://blog.example.com'/">http://blog.example.com'</a>);
    return $post_ID;
  }
}
$myEmailClass = new emailer();
add_action('publish_post', array($myEmailClass, 'send'));
</pre>
<p></code>
</p><p>Classes are a complicated subject. Read more about them in the <a rel="nofollow" class="external text" href="http://php.net/manual/en/language.oop5.php">PHP documentation on classes</a>.
</p>
<h3><span class="mw-headline" id="Hook_to_WordPress">Hook to WordPress</span></h3>
<p>After your function is defined, the next step is to "hook" or register it with WordPress. To do this, call <tt><a href="../../developer.wordpress.org/reference/functions/add_action/index.html" title="Function Reference/add action">add_action()</a></tt> in the global execution space of your plugin file:
</p>
<pre>
add_action ( 'hook_name', 'your_function_name', [priority], [accepted_args] );
</pre>
<p>where: 
</p>
<dl><dt> <tt>hook_name</tt>&#160;</dt>
<dd> The name of an action hook provided by WordPress, that tells what event your function should be associated with.</dd>
<dt> <tt>your_function_name</tt>&#160;</dt>
<dd> The name of the function that you want to be executed following the event specified by <tt>hook_name</tt>. This can be a standard php function, a function present in the WordPress core, or a function defined by you in the plugin file (such as <tt>'email_friends'</tt> defined above).</dd>
<dt> <tt>priority</tt>&#160;</dt>
<dd> An optional integer argument used to specify the order in which the functions associated with a particular action are executed (default: 10). Lower numbers correspond with earlier execution, and functions with the same priority are executed in the order added to the action.</dd>
<dt> <tt>accepted_args</tt>&#160;</dt>
<dd> An optional integer argument defining how many arguments your function can accept (default 1), useful because some hooks can pass more than one argument to your function. This parameter is new in release 1.5.1.</dd></dl>
<p>In the example above, we would put the following line in the plugin file:
</p>
<pre>
add_action ( 'publish_post', 'email_friends' );
</pre>
<p>Likewise, you can also <a href="#Removing_Actions_and_Filters">Remove Actions</a> from action hooks.  See that section for details.
</p>
<h3><span class="mw-headline" id="Install_and_Activate">Install and Activate</span></h3>
<p>The last step in getting your action hook to work is to install the file and activate the plugin. The PHP function you wrote and the <tt>add_action</tt> call must go into a PHP file together, and the PHP file must be installed in the <i>wp-content/plugins</i> directory. Once it is installed, you will need to visit the admin section of WordPress and activate your plugin; see <a href="../Managing_Plugins.html" title="Managing Plugins">Managing Plugins</a> for more details.
</p>
<h3><span class="mw-headline" id="Current_Hooks_For_Actions">Current Hooks For Actions</span></h3>
<p>See <a href="Action_Reference.html" title="Plugin API/Action Reference">Plugin API/Action Reference</a> for a current list of action hooks in WordPress, and links to previous versions of WordPress.
</p>
<h2><span class="mw-headline" id="Filters">Filters</span></h2>
<p><b>Filters</b> are functions that WordPress passes data through, at certain points in execution, just before taking some action with the data (such as adding it to the database or sending it to the browser screen). Filters sit between the database and the browser (when WordPress is generating pages), and between the browser and the database (when WordPress is adding new posts and comments to the database); most input and output in WordPress passes through at least one filter. WordPress does some filtering by default, and your plugin can add its own filtering.
</p><p>The basic steps to add your own filters to WordPress (described in more detail below) are:
</p>
<ol><li> Create the PHP function that filters the data. </li>
<li> Hook to the filter in WordPress, by calling <tt><a href="../../developer.wordpress.org/reference/functions/add_filter/index.html" title="Function Reference/add filter">add_filter()</a></tt>.</li>
<li> Put your PHP function in a plugin file, and activate it.</li></ol>
<h3><span class="mw-headline" id="Create_a_Filter_Function">Create a Filter Function</span></h3>
<p>A filter function takes as input the unmodified data and returns modified data (or in some cases, a null value to indicate the data should be deleted or disregarded). If the data is not modified by your filter, then the original data must be returned so that subsequent plugins can continue to modify the value if necessary. 
</p><p>So, the first step in creating a filter in your plugin is to create a PHP function to do the filtering, and put it in your plugin file (your plugin file must go into the <i>wp-content/plugins</i> directory). For example, if you want to make sure that your posts and comments contain no profanity, you might define a variable with a list of forbidden words, and then create the following PHP function: 
</p>
<pre>
function filter_profanity( $content ) {
	$profanities = array('badword','alsobad','...');
	$content = str_ireplace( $profanities, '{censored}', $content );
	return $content;
}
</pre>
<p><i>Why does this work without a loop? Because $profanities is an array, and <a rel="nofollow" class="external text" href="http://www.php.net/manual/en/function.str-ireplace.php">str_ireplace</a> loops through the array for you. The <a rel="nofollow" class="external text" href="http://www.php.net/manual/en/function.str-ireplace.php">str_ireplace</a> function is used instead of <a rel="nofollow" class="external text" href="http://www.php.net/manual/en/function.str-replace.php">str_replace</a> because <a rel="nofollow" class="external text" href="http://www.php.net/manual/en/function.str-ireplace.php">str_ireplace</a> is case insensitive.</i> 
</p><p><b>NOTE</b>:  Keep in mind that other plugins or the WordPress core may already be using the function name you have thought of. See the <a href="../Writing_a_Plugin.html#Plugin_Development_Suggestions" title="Writing a Plugin">Plugin Development Suggestions</a> for more information.
</p>
<h3><span class="mw-headline" id="Hook_in_your_Filter">Hook in your Filter</span></h3>
<p>After your function is defined, the next step is to "hook" or register it with WordPress. To do this, call <tt><a href="../../developer.wordpress.org/reference/functions/add_filter/index.html" title="Function Reference/add filter">add_filter()</a></tt> in the global execution space of your plugin file:
</p>
<pre>
add_filter ( 'hook_name', 'your_filter', [priority], [accepted_args] );
</pre>
<p>where:
</p>
<dl><dt> <tt>hook_name</tt>&#160;</dt>
<dd> The name of a filter hook provided by WordPress, which defines when your filter should be applied.</dd>
<dt> <tt>your_filter</tt>&#160;</dt>
<dd> The name of the function that you want to use for filtering. This can be a standard PHP function, a function present in the WordPress core, or a function defined by you in the plugin file.</dd>
<dt> <tt>priority</tt>&#160;</dt>
<dd> An optional integer argument that can be used to specify the order in which the functions associated with a particular filter are executed (default: 10). Lower numbers correspond with earlier execution, and functions with the same priority are executed in the order in which they were added to the filter.</dd>
<dt> <tt>accepted_args</tt>&#160;</dt>
<dd> An optional integer argument defining how many arguments your function can accept (default 1), useful because some hooks can pass more than one argument to your function.</dd>
<dt> <tt>Return Value</tt>&#160;</dt>
<dd> The (optionally modified) value of the first argument passed to the filter function.</dd></dl>
<p>In the example above, we would put the following in the main executing section of the plugin file, to tell WordPress to filter comments for profanity:
</p>
<pre>
add_filter( 'comment_text', 'filter_profanity' );
</pre>
<p>You can also remove filters from filter hooks using the <tt>remove_filter()</tt> function.  See <a href="#Removing_Actions_and_Filters">Removing Actions and Filters</a>.
</p>
<h3><span class="mw-headline" id="Install_and_Activate_2">Install and Activate</span></h3>
<p>The last step in getting your filter hook to work is to install the file and activate the plugin. The PHP function you wrote and the <tt><a href="../../developer.wordpress.org/reference/functions/add_filter/index.html" title="Function Reference/add filter">add_filter()</a></tt> call must go into a PHP file together, and the PHP file must be installed in the <i>wp-content/plugins</i> directory. Once it is installed, you will need to visit the admin section of WordPress and activate your plugin; see <a href="../Managing_Plugins.html" title="Managing Plugins">Managing Plugins</a> for more details.
</p>
<h3><span class="mw-headline" id="Current_Hooks_for_Filters">Current Hooks for Filters</span></h3>
<p>See <a href="Filter_Reference.html" title="Plugin API/Filter Reference">Plugin API/Filter Reference</a> for a current list of filter hooks in WordPress, and links to previous versions of WordPress.
</p>
<h3><span class="mw-headline" id="Example">Example</span></h3>
<p>This is an example, for a plugin to modify (or overwrite) the default <code><a href="../../developer.wordpress.org/reference/functions/bloginfo/index.html" title="Template Tags/bloginfo" class="mw-redirect">bloginfo()</a></code> function.  This will require modifying a core function behavior.
</p>
<pre>
add_filter( 'bloginfo', 'mybloginfo', 1, 2 );
add_filter( 'bloginfo_url', 'mybloginfo', 1, 2 );

function mybloginfo( $result='', $show='' ) {
	switch ( $show ) {
		case 'wpurl':
			$result = SITE_URL;
			break;
		case 'template_directory':
			$result = TEMPL_DIR;
			break;
		default: 
	}
	return $result;
}
</pre>
<h2><span class="mw-headline" id="Removing_Actions_and_Filters">Removing Actions and Filters</span></h2>
<p>In some cases, you may find that you want your plugin to disable one of the actions or filters built into WordPress, or added by another plugin. You can do that by calling <tt><a href="../Function_Reference/remove_filter.html" title="Function Reference/remove filter">remove_filter</a>('filter_hook','filter_function')</tt> or <tt><a href="../../developer.wordpress.org/reference/functions/remove_action/index.html" title="Function Reference/remove action">remove_action</a>('action_hook','action_function')</tt>.
</p><p>For example, <tt><a href="../../developer.wordpress.org/reference/functions/remove_action/index.html" title="Function Reference/remove action">remove_action</a>('publish_post','generic_ping');</tt> would prevent your weblog from sending pings whenever a new post is created.
</p><p>Note that if a hook was registered using a priority other than the default of 10, then you must also specify the priority in the call to <tt><a href="../../developer.wordpress.org/reference/functions/remove_action/index.html" title="Function Reference/remove action">remove_action()</a></tt>. Also note that in general, you shouldn't remove anything unless you know what it does and why it does it -- check the WordPress or other plugin source code to be sure.
</p>
<h2><span class="mw-headline" id="Pluggable_Functions">Pluggable Functions</span></h2>
<p>Besides the hooks (actions and filters) described above, another way for a plugin to modify WordPress's behavior is to override WordPress functions. In fact, there is a small set of functions WordPress intends for plugins to redefine. These are called <a href="../Pluggable_Functions.html" title="Pluggable Functions">Pluggable Functions</a> and they are defined in <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.8/src/wp-includes/pluggable.php#L0">wp-includes/pluggable.php</a></code>.  WordPress loads these functions only if they are still undefined after all plugins have been loaded.  For more details examine <code><a rel="nofollow" class="external text" href="https://core.trac.wordpress.org/browser/tags/5.8/src/wp-settings.php#L0">wp-settings.php</a></code> file.
</p>
<h2><span class="mw-headline" id="Activation.2FDeactivation.2FUninstall">Activation/Deactivation/Uninstall</span></h2>
<p>If your plugin has tasks to complete only at activation or deactivation time, it can use <tt><a href="../Function_Reference/register_activation_hook.html" title="Function Reference/register activation hook"> register_activation_hook</a></tt> and <tt><a href="../Function_Reference/register_deactivation_hook.html" title="Function Reference/register deactivation hook"> register_deactivation_hook</a></tt>. Many plugins do not need to use these, as the plugins only modify current behavior.  However, if your plugin (for example) needs to change a default option on activation, it can use these functions.  
</p><p><a href="../Creating_Tables_with_Plugins.html" title="Creating Tables with Plugins">Creating Tables with Plugins</a> has an example using the <tt><a href="../Function_Reference/register_activation_hook.html" title="Function Reference/register activation hook"> register_activation_hook</a></tt> function to make the database compatible with the current version of the plugin.
</p><p>The <tt><a href="../../developer.wordpress.org/reference/functions/register_uninstall_hook/index.html" title="Function Reference/register uninstall hook"> register_uninstall_hook</a></tt> gives your plugin the option of cleaning up after itself when it is deleted from the WordPress installation. Users have reasons to temporarily deactivate plugins, so do not do anything from the deactivation hook that would lose any user settings. This is what the uninstall hook is for.
</p>
<h2><span class="mw-headline" id="Related">Related</span></h2>
<ul><li> <a href="../Pluggable_Functions.html" title="Pluggable Functions"><b>Pluggable Functions</b></a> - A listing of WordPress's pluggable functions</li>
<li> <a href="Filter_Reference.html" title="Plugin API/Filter Reference"><b>Filter Reference</b></a> - A listing of WordPress's filter hooks</li>
<li> <a href="Action_Reference.html" title="Plugin API/Action Reference"><b>Action Reference</b></a> - A listing of WordPress's action hooks</li></ul>
<h2><span class="mw-headline" id="External_Resources">External Resources</span></h2>
<ul><li>Adam Brown's <a rel="nofollow" class="external text" href="http://adambrown.info/p/wp_hooks">WordPress Hooks Database</a>, a database of all WordPress' hooks, showing which version they come from, and linking to the source code spots that use them. This is the most complete.</li>
<li>Otto on WordPress: <a rel="nofollow" class="external text" href="http://ottopress.com/2011/actions-and-filters-are-not-the-same-thing/">Actions and filters are NOT the same thing…</a></li>
<li><a rel="nofollow" class="external text" href="http://docs.presscustomizr.com/article/26-wordpress-actions-filters-and-hooks-a-guide-for-non-developers/">WordPress Actions, Filters, and Hooks&#160;: A guide for non-developers</a></li></ul>

<!-- 
NewPP limit report
Cached time: 20210831171625
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.028 seconds
Real time usage: 0.039 seconds
Preprocessor visited node count: 232/1000000
Preprocessor generated node count: 861/1000000
Post‐expand include size: 1399/2097152 bytes
Template argument size: 654/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   16.542      1 - -total
 76.11%   12.590      1 - Template:Languages
 20.16%    3.335      2 - Template:Trac
 10.96%    1.813      1 - Template:bn
  9.00%    1.488      2 - Template:CurrentVersion
  7.98%    1.320      1 - Template:th
  6.21%    1.028      1 - Template:ja
  5.71%    0.944      1 - Template:fr
  5.59%    0.924      1 - Template:pt-br
  5.59%    0.924      1 - Template:zh-cn
-->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://codex.wordpress.org/index.php?title=Plugin_API&amp;oldid=170970">https://codex.wordpress.org/index.php?title=Plugin_API&amp;oldid=170970</a>"</div>
				<div id="catlinks"><div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://codex.wordpress.org/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="../Category_Plugins.html" title="Category:Plugins">Plugins</a></li><li><a href="../Category_Advanced_Topics.html" title="Category:Advanced Topics">Advanced Topics</a></li><li><a href="../Category_WordPress_Development.html" title="Category:WordPress Development">WordPress Development</a></li><li><a href="../Category_API.html" title="Category:API">API</a></li><li><a href="../Category_UI_Link.html" title="Category:UI Link">UI Link</a></li></ul></div></div></div>			<!-- end content -->
		</div>
		<div class="col-2">
			
						
			<ul class="submenu">
				<li id="n-mainpage"><a href="../Main_Page.html">Home Page</a></li>	
				<li><a href="../WordPress_Lessons.html">WordPress Lessons</a></li>
				<li><a href="../Getting_Started_with_WordPress.html">Getting Started</a></li>
				<li><a href="../Working_with_WordPress.html">Working with WordPress</a></li>
				<li><a href="../Blog_Design_and_Layout.html">Design and Layout</a></li>
				<li><a href="../Advanced_Topics.html">Advanced Topics</a></li>
				<li><a href="../Troubleshooting.html">Troubleshooting</a></li>
				<li><a href="../Developer_Documentation.html">Developer Docs</a></li>
				<li><a href="../About_WordPress.html">About WordPress</a></li>
			</ul>

			<h3>Codex Resources</h3>
			<ul class="submenu">
				<li id="n-portal"><a href="https://codex.wordpress.org/Codex:Community_Portal">Community portal</a></li>	      
				<li id="n-currentevents"><a href="../Current_events.html">Current events</a></li>	      
				<li id="n-recentchanges"><a href="https://codex.wordpress.org/Special:RecentChanges">Recent changes</a></li>	      
				<li id="n-randompage"><a href="https://codex.wordpress.org/Special:Random">Random page</a></li>	      
				<li id="n-help"><a href="https://codex.wordpress.org/Help:Contents">Help</a></li>	
			</ul>
			
		</div>
	</div>
</div>


<div id="wporg-footer">
	<div class="wrapper">
		<ul>
			<li><a href="http://wordpress.org/about/" title="An introduction to the WordPress project">About</a></li>
			<li><a href="http://wordpress.org/news/" title="News and Updates">Blog</a></li>
			<li><a href="http://wordpress.org/hosting/" title="Recommended web hosting providers">Hosting</a></li>
			<li><a href="https://wordpressfoundation.org/donate/" title="Donate to the WordPress Foundation">Donate</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/support/" title="Forums, documentation, and other resources">Support</a></li>
			<li><a href="../../developer.wordpress.org/index.html" title="Resources for WordPress developers">Developers</a></li>
			<li><a href="http://make.wordpress.org/" title="Give back to WordPress through code, support, translation and more">Get Involved</a></li>
			<li><a href="http://learn.wordpress.org/" title="Workshops and training materials">Learn</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/showcase/" title="Some of the best WordPress sites on the Web">Showcase</a></li>
			<li><a href="http://wordpress.org/plugins/" title="Add extra functionality to WordPress">Plugins</a></li>
			<li><a href="http://wordpress.org/themes/" title="Make your WordPress pretty">Themes</a></li>
		</ul>

		<ul>
			<li><a href="http://central.wordcamp.org/" title="Find a WordPress event near you">WordCamp</a></li>
			<li><a href="http://wordpress.tv/" title="Videos, tutorials, and WordCamp sessions">WordPress.TV</a></li>
			<li><a href="http://buddypress.org/" title="A set of plugins to transform your WordPress into a social network">BuddyPress</a></li>
			<li><a href="http://bbpress.org/" title="Fast, slick forums built on WordPress">bbPress</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.com/?ref=wporg-footer" title="Hassle-free WordPress hosting">WordPress.com</a></li>
			<li><a href="http://ma.tt/" title="Co-founder of WordPress, an example of what WordPress can do">Matt</a></li>
			<li><a href="http://wordpress.org/about/privacy/" title="WordPress.org Privacy Policy">Privacy</a></li>
			<li><a href="https://publiccode.eu/" target="_blank">Public Code</a></li>
		</ul>

		<ul class="social-media-links">
			<li><span class="dashicons dashicons-twitter"></span><a href="https://twitter.com/WordPress" title="Follow @WordPress on Twitter">@WordPress</a></li>
			<li><span class="dashicons dashicons-facebook"></span><a href="https://www.facebook.com/WordPress/" title="Like WordPress on Facebook">WordPress</a></li>
		</ul>
	</div>

		<p class="cip cip-image">Code is Poetry.</p>
</div>

<script src="../../s.w.org/style/js/navigation.min.js?20190128"></script>

</body>

<!-- Mirrored from codex.wordpress.org/Plugin_API/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:28:09 GMT -->
</html>
