<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from developer.wordpress.org/reference/classes/wp_query/get_posts/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 16:53:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<!--
<meta property="fb:page_id" content="6427302910" />
-->
<meta name="google-site-verification" content="7VWES_-rcHBcmaQis9mSYamPfNwE03f4vyTj4pfuAw0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>WP_Query::get_posts()</title>
<meta name="referrer" content="always">

		<link href='../../../../../fonts.googleapis.com/css.css?family=Open+Sans:300italic,400italic,600italic,400,300,600&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="../../../../../s.w.org/style/wp4.css?95" />

<link rel="shortcut icon" href="../../../../../s.w.org/favicon.ico?2" type="image/x-icon" />
<link rel="pingback" href="../../../../xmlrpc.php" /><meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='../../../../../fonts.googleapis.com/index.html' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel='dns-prefetch' href='http://www.googletagmanager.com/' />
<link rel='dns-prefetch' href='http://fonts.gstatic.com/' />
<link rel="alternate" type="application/rss+xml" title="WordPress Developer Resources &raquo; Feed" href="../../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="WordPress Developer Resources &raquo; Comments Feed" href="../../../../comments/feed/index.html" />
<meta property="og:title" content="WP_Query::get_posts() | Method | WordPress Developer Resources" />
<meta property="og:site_name" content="WordPress Developer Resources" />
<meta property="og:type" content="website" />
<meta property="og:url" content="../../../../index.html" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@WordPress" />
<meta name="description" content="Retrieves an array of posts based on query variables." />
<meta property="og:description" content="Retrieves an array of posts based on query variables." />
<link rel="alternate" type="application/rss+xml" title="WordPress Developer Resources &raquo; WP_Query::get_posts Comments Feed" href="https://developer.wordpress.org/reference/classes/wp_query/get_posts/feed/" />
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../../www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/developer.wordpress.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.9-alpha-51701"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='dashicons-css'  href='../../../../wp-includes/css/dashicons.min.css?ver=5.9-alpha-51701' type='text/css' media='all' />
<link rel='stylesheet' id='admin-bar-css'  href='../../../../wp-includes/css/admin-bar.min.css?ver=5.9-alpha-51701' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='../../../../wp-includes/css/dist/block-library/style.min.css?ver=5.9-alpha-51701' type='text/css' media='all' />
<link rel='stylesheet' id='wporg-handbook-css-css'  href='../../../../wp-content/plugins/handbook/stylesheets/callout-boxes.css?ver=20200121' type='text/css' media='all' />
<link rel='stylesheet' id='open-sans-css'  href='../../../../../fonts.googleapis.com/css-2.css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C300%2C400%2C600&amp;subset=latin%2Clatin-ext&amp;display=fallback&amp;ver=5.9-alpha-51701' type='text/css' media='all' />
<link rel='stylesheet' id='wporg-developer-style-css'  href='../../../../wp-content/themes/pub/wporg-developer/style.css?ver=3' type='text/css' media='all' />
<link rel='stylesheet' id='wp-dev-sass-compiled-css'  href='../../../../wp-content/themes/pub/wporg-developer/stylesheets/main.css?ver=20200713' type='text/css' media='all' />
<link rel='stylesheet' id='awesomplete-css-css'  href='../../../../wp-content/themes/pub/wporg-developer/stylesheets/awesomplete.css?ver=20160114' type='text/css' media='all' />
<link rel='stylesheet' id='autocomplete-css-css'  href='../../../../wp-content/themes/pub/wporg-developer/stylesheets/autocomplete.css?ver=20171220' type='text/css' media='all' />
<link rel='stylesheet' id='syntaxhighlighter-core-css'  href='../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b' type='text/css' media='all' />
<link rel='stylesheet' id='syntaxhighlighter-theme-default-css'  href='../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b' type='text/css' media='all' />
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/handbook/scripts/handbook.js?ver=20150930' id='wporg-handbook-js'></script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/chapters.js?ver=20190603' id='wporg-developer-chapters-js'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b' id='syntaxhighlighter-core-js'></script>
<script type='text/javascript' src='../../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js?ver=3.0.9b' id='syntaxhighlighter-brush-php-js'></script>
<link rel="https://api.w.org/" href="https://developer.wordpress.org/wp-json/" /><link rel="alternate" type="application/json" href="https://developer.wordpress.org/wp-json/wp/v2/wp-parser-method/2856" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc-2.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.9-alpha-51701" />
<link rel='shortlink' href='https://developer.wordpress.org/?p=2856' />
<link rel="alternate" type="application/json+oembed" href="https://developer.wordpress.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwp_query%2Fget_posts%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://developer.wordpress.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwp_query%2Fget_posts%2F&amp;format=xml" />
<link rel="canonical" href="index.html">
<!-- Stream WordPress user activity plugin v3.6.2 -->
	<style>
		@media screen and (max-width: 782px) {
			#wpadminbar li#wp-admin-bar-log-in,
			#wpadminbar li#wp-admin-bar-register {
				display: block;
			}

			#wpadminbar li#wp-admin-bar-log-in a,
			#wpadminbar li#wp-admin-bar-register a {
				padding: 0 8px;
			}
		}
	</style>
		<style>
			a.github-edit {
				margin-left: .5em;
				font-size: .5em;
				vertical-align: top;
				display: inline-block;
				border: 1px solid #eeeeee;
				border-radius: 2px;
				background: #eeeeee;
				padding: .5em .6em .4em;
				color: black;
				margin-top: 0.1em;
			}
			a.github-edit > * {
				opacity: 0.6;
			}
			a.github-edit:hover > * {
				opacity: 1;
				color: black;
			}
			a.github-edit img {
				height: .8em;
			}
		</style>
		
	<script type="text/javascript">
		jQuery( '<style>.hide-if-js { display: none; }</style>' ).appendTo( 'head' );
		jQuery( function($) {
			$( 'body' ).addClass('js');
		} );
	</script>
<style type="text/css" media="print">#wpadminbar { display:none; }</style>
	<style type="text/css" media="screen">
	</style>
	<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>

</head>


<body id="wordpress-org" class="wp-parser-method-template-default single single-wp-parser-method postid-2856 admin-bar no-customize-support">
		<div id="wpadminbar" class="nojq nojs">
						<div class="quicklinks" id="wp-toolbar" role="navigation" aria-label="Toolbar">
				<ul id='wp-admin-bar-root-default' class="ab-top-menu"><li id='wp-admin-bar-wp-logo' class="menupop"><a class='ab-item' aria-haspopup="true" href='https://wordpress.org/about/'><span class="ab-icon" aria-hidden="true"></span><span class="screen-reader-text">About WordPress</span></a><div class="ab-sub-wrapper"><ul id='wp-admin-bar-wp-logo-default' class="ab-submenu"><li id='wp-admin-bar-about'><a class='ab-item' href='https://wordpress.org/about/'>About WordPress</a></li></ul><ul id='wp-admin-bar-wp-logo-external' class="ab-sub-secondary ab-submenu"><li id='wp-admin-bar-wporg'><a class='ab-item' href='https://wordpress.org/'>WordPress.org</a></li><li id='wp-admin-bar-documentation'><a class='ab-item' href='https://wordpress.org/support/'>Documentation</a></li><li id='wp-admin-bar-support-forums'><a class='ab-item' href='https://wordpress.org/support/forums/'>Support</a></li><li id='wp-admin-bar-feedback'><a class='ab-item' href='https://wordpress.org/support/forum/requests-and-feedback'>Feedback</a></li></ul></div></li></ul><ul id='wp-admin-bar-top-secondary' class="ab-top-secondary ab-top-menu"><li id='wp-admin-bar-search' class="admin-bar-search"><div class="ab-item ab-empty-item" tabindex="-1"><form action="https://developer.wordpress.org/" method="get" id="adminbarsearch"><input class="adminbar-input" name="s" id="adminbar-search" type="text" value="" maxlength="150" /><label for="adminbar-search" class="screen-reader-text">Search</label><input type="submit" class="adminbar-button" value="Search" /></form></div></li><li id='wp-admin-bar-log-in'><a class='ab-item' href='https://login.wordpress.org/?locale=en_US'>Log In</a></li><li id='wp-admin-bar-register'><a class='ab-item' href='https://login.wordpress.org/register?locale=en_US'>Register</a></li></ul>			</div>
					</div>

		<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<div id="wporg-header">
	<div class="wrapper">
	<h1><a href="http://wordpress.org/">WordPress.org</a></h1>				<div id="head-search">
		<form action="http://wordpress.org/search/do-search.php" method="get">
			<label for="global-search" class="screen-reader-text">Search WordPress.org for:</label>
			<input id="global-search" class="text" name="search" type="text" value="" maxlength="150" placeholder="Search WordPress.org" />
			<button type="submit" class="button"><span class="screen-reader-text">Submit</span></button>
		</form>
		</div>
				<div style="clear:both"></div>
		<button id="mobile-menu-button" aria-expanded="false"><span class="screen-reader-text">Toggle Menu</span></button>
		
<nav aria-label="Main Menu">
<ul id="wporg-header-menu">
<li class="menu-item"><a href='http://wordpress.org/showcase/' data-title='See some of the sites built on WordPress.'>Showcase</a></li>
<li class="menu-item"><a href='http://learn.wordpress.org/' data-title='Resources to help you learn more about WordPress and teach it to others.'>Learn</a></li>
<li class="menu-item"><a href='http://wordpress.org/themes/' data-title='Find just the right look for your website.'>Themes</a></li>
<li class="menu-item"><a href='http://wordpress.org/plugins/' data-title='Plugins can extend WordPress to do almost anything you can imagine.'>Plugins</a></li>
<li class="menu-item"><a href='http://wordpress.org/mobile/' data-title='Take your website on the go!'>Mobile</a></li>
<li class="menu-item"><a href='http://wordpress.org/support/' data-title='Forums, documentation, help.'>Support</a><ul class="nav-submenu"><li><a href='http://wordpress.org/support/' title='Documentation, tutorials, best practices.'>Documentation</a></li><li><a href='http://wordpress.org/support/forums/' title='Support and discussion forums.'>Forums</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://make.wordpress.org/' data-title='Contribute your knowledge.'>Get Involved</a><ul class="nav-submenu"><li><a href='http://wordpress.org/five-for-the-future/' title='How five percent is powering the next generation of the web'>Five for the Future</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://wordpress.org/about/' data-title='About the WordPress Organization, and where we&#039;re going.'>About</a></li>
<li class="menu-item"><a href='http://wordpress.org/news/' data-title='Come here for the latest scoop.'>Blog</a></li>
<li class="menu-item"><a href='http://wordpress.org/hosting/' data-title='Find a home for your blog.'>Hosting</a></li>
<li id="download" class="button download-button menu-item"><a href='http://wordpress.org/download/' data-title='Get it. Got it? Good.'>Get WordPress</a></li>
</ul>
</nav>
		<div style="clear:both"></div>
	</div>
</div>



<header id="masthead" class="site-header" role="banner">
		<div class="site-branding">
		<h1 class="site-title">
			<a href="../../../index.html" rel="home">Code Reference</a>
		</h1>

		
		<nav id="site-navigation" class="main-navigation" role="navigation">
			<button class="menu-toggle dashicons dashicons-arrow-down-alt2" aria-controls="primary-menu" aria-expanded="false" aria-label="Primary Menu"></button>
					</nav>
	</div>
</header><!-- #masthead -->

<div id="page" class="hfeed site devhub-wrap">
	<a href="#main" class="screen-reader-text">Skip to content</a>

				<div id="inner-search">
			<div class="search-section section clear hide-if-js">


	
	<form role="search" method="get" class="searchform searchform-filtered" action="https://developer.wordpress.org/">
		<label for="search-field" class="screen-reader-text">Search for:</label>
		<input type="text" id="search-field" class="search-field" placeholder="Search &hellip;" value="" name="s">
		<button class="button button-primary button-search"><i class="dashicons dashicons-search"></i><span class="screen-reader-text">Search plugins</span></button>
	
		<div class="search-post-type">
			<span>Filter by type:</span>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-function"
						 /> Functions</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-hook"
						 /> Hooks</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-class"
						 /> Classes</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-method"
						 /> Methods</label>
					</div>

	
	</form>

</div><!-- /search-guide -->
			<div id="inner-search-icon-container">
				<div id="inner-search-icon">
					<div class="dashicons dashicons-search"><span class="screen-reader-text">Search</span></div>
				</div>
			</div>
		</div>

		<div id="content" class="site-content">

	<div id="content-area" class="wp-parser-method-template-default single single-wp-parser-method postid-2856 admin-bar no-customize-support code-reference">

		
		<div class="breadcrumb-trail breadcrumbs" itemprop="breadcrumb">
			<span class="trail-browse">Browse:</span> 
			<span class="trail-begin"><a href="../../../../index.html" title="WordPress Developer Resources" rel="home">Home</a></span> <span class="sep">&#47;</span> 
			<span class="trail-inner"><a href="../../../index.html" title="Reference">Reference</a></span> <span class="sep">&#47;</span> 
			<span class="trail-inner"><a href="../../index.html">Classes</a></span> <span class="sep">&#47;</span> 
			<span class="trail-inner"><a href="../index.html" title="WP_Query">WP_Query</a></span> <span class="sep">&#47;</span> <span class="trail-end">WP_Query::get_posts()</span>
		</div>
		<main id="main" class="site-main" role="main">

		
			
<article id="post-2856" class="post-2856 wp-parser-method type-wp-parser-method status-publish hentry wp-parser-source-file-wp-includes_class-wp-query-php wp-parser-package-query wp-parser-package-wordpress wp-parser-since-1-5-0">

	
	
	<h1>WP_Query::get_posts()</h1>

	<section class="summary">
		<p>Retrieves an array of posts based on query variables.</p>
	</section>


	
	<div class="content-toc"><style> .toc-jump { text-align: right; font-size: 12px; } .page .toc-heading { margin-top: -50px; padding-top: 50px !important; }</style><div class="table-of-contents"><h2>Contents</h2><ul class="items"><li><a href="#description">Description</a></li>
<li><a href="#return">Return</a></li>
<li><a href="#source">Source</a></li>
<li><a href="#related">Related</a>
<ul>
<li><a href="#uses">Uses</a></li>
<li><a href="#used-by">Used By</a>
</ul></li>
<li><a href="#changelog">Changelog</a></li>
<li><a href="#user-contributed-notes">User Contributed Notes</a></ul>
</div>

<hr />
<section class="description">
	<h2 class="toc-heading" id="description" tabindex="-1">Description <a href="#description" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Description</span></a></h2>
	<p>There are a few filters and actions that can be used to modify the post database query.</p>

	</section>

	<hr />
	<section class="return">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 class="toc-heading" id="return" tabindex="-1">Return <a href="#return" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Return</span></a></h2>
		<p><span class='return-type'>(<a href="../../wp_post/index.html">WP_Post</a>[]|int[])</span> Array of post objects or post IDs.</p>
	</section>
	<hr />
	<section class="source-content">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 class="toc-heading" id="source" tabindex="-1">Source <a href="#source" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Source</span></a></h2>
		<p>
			File: <a href="../../../files/wp-includes/class-wp-query.php/index.html">wp-includes/class-wp-query.php</a>		</p>

					<div class="source-code-container">
				<pre class="brush: php; toolbar: false; first-line: 1768">	public function get_posts() {
		global $wpdb;

		$this-&gt;parse_query();

		/**
		 * Fires after the query variable object is created, but before the actual query is run.
		 *
		 * Note: If using conditional tags, use the method versions within the passed instance
		 * (e.g. $this-&gt;is_main_query() instead of is_main_query()). This is because the functions
		 * like is_main_query() test against the global $wp_query instance, not the passed one.
		 *
		 * @since 2.0.0
		 *
		 * @param WP_Query $query The WP_Query instance (passed by reference).
		 */
		do_action_ref_array( 'pre_get_posts', array( &amp;$this ) );

		// Shorthand.
		$q = &amp;$this-&gt;query_vars;

		// Fill again in case 'pre_get_posts' unset some vars.
		$q = $this-&gt;fill_query_vars( $q );

		// Parse meta query.
		$this-&gt;meta_query = new WP_Meta_Query();
		$this-&gt;meta_query-&gt;parse_query_vars( $q );

		// Set a flag if a 'pre_get_posts' hook changed the query vars.
		$hash = md5( serialize( $this-&gt;query_vars ) );
		if ( $hash != $this-&gt;query_vars_hash ) {
			$this-&gt;query_vars_changed = true;
			$this-&gt;query_vars_hash    = $hash;
		}
		unset( $hash );

		// First let's clear some variables.
		$distinct         = '';
		$whichauthor      = '';
		$whichmimetype    = '';
		$where            = '';
		$limits           = '';
		$join             = '';
		$search           = '';
		$groupby          = '';
		$post_status_join = false;
		$page             = 1;

		if ( isset( $q['caller_get_posts'] ) ) {
			_deprecated_argument(
				'WP_Query',
				'3.1.0',
				sprintf(
					/* translators: 1: caller_get_posts, 2: ignore_sticky_posts */
					__( '%1$s is deprecated. Use %2$s instead.' ),
					'&lt;code&gt;caller_get_posts&lt;/code&gt;',
					'&lt;code&gt;ignore_sticky_posts&lt;/code&gt;'
				)
			);

			if ( ! isset( $q['ignore_sticky_posts'] ) ) {
				$q['ignore_sticky_posts'] = $q['caller_get_posts'];
			}
		}

		if ( ! isset( $q['ignore_sticky_posts'] ) ) {
			$q['ignore_sticky_posts'] = false;
		}

		if ( ! isset( $q['suppress_filters'] ) ) {
			$q['suppress_filters'] = false;
		}

		if ( ! isset( $q['cache_results'] ) ) {
			if ( wp_using_ext_object_cache() ) {
				$q['cache_results'] = false;
			} else {
				$q['cache_results'] = true;
			}
		}

		if ( ! isset( $q['update_post_term_cache'] ) ) {
			$q['update_post_term_cache'] = true;
		}

		if ( ! isset( $q['lazy_load_term_meta'] ) ) {
			$q['lazy_load_term_meta'] = $q['update_post_term_cache'];
		}

		if ( ! isset( $q['update_post_meta_cache'] ) ) {
			$q['update_post_meta_cache'] = true;
		}

		if ( ! isset( $q['post_type'] ) ) {
			if ( $this-&gt;is_search ) {
				$q['post_type'] = 'any';
			} else {
				$q['post_type'] = '';
			}
		}
		$post_type = $q['post_type'];
		if ( empty( $q['posts_per_page'] ) ) {
			$q['posts_per_page'] = get_option( 'posts_per_page' );
		}
		if ( isset( $q['showposts'] ) &amp;&amp; $q['showposts'] ) {
			$q['showposts']      = (int) $q['showposts'];
			$q['posts_per_page'] = $q['showposts'];
		}
		if ( ( isset( $q['posts_per_archive_page'] ) &amp;&amp; 0 != $q['posts_per_archive_page'] ) &amp;&amp; ( $this-&gt;is_archive || $this-&gt;is_search ) ) {
			$q['posts_per_page'] = $q['posts_per_archive_page'];
		}
		if ( ! isset( $q['nopaging'] ) ) {
			if ( -1 == $q['posts_per_page'] ) {
				$q['nopaging'] = true;
			} else {
				$q['nopaging'] = false;
			}
		}

		if ( $this-&gt;is_feed ) {
			// This overrides 'posts_per_page'.
			if ( ! empty( $q['posts_per_rss'] ) ) {
				$q['posts_per_page'] = $q['posts_per_rss'];
			} else {
				$q['posts_per_page'] = get_option( 'posts_per_rss' );
			}
			$q['nopaging'] = false;
		}
		$q['posts_per_page'] = (int) $q['posts_per_page'];
		if ( $q['posts_per_page'] &lt; -1 ) {
			$q['posts_per_page'] = abs( $q['posts_per_page'] );
		} elseif ( 0 == $q['posts_per_page'] ) {
			$q['posts_per_page'] = 1;
		}

		if ( ! isset( $q['comments_per_page'] ) || 0 == $q['comments_per_page'] ) {
			$q['comments_per_page'] = get_option( 'comments_per_page' );
		}

		if ( $this-&gt;is_home &amp;&amp; ( empty( $this-&gt;query ) || 'true' === $q['preview'] ) &amp;&amp; ( 'page' === get_option( 'show_on_front' ) ) &amp;&amp; get_option( 'page_on_front' ) ) {
			$this-&gt;is_page = true;
			$this-&gt;is_home = false;
			$q['page_id']  = get_option( 'page_on_front' );
		}

		if ( isset( $q['page'] ) ) {
			$q['page'] = trim( $q['page'], '/' );
			$q['page'] = absint( $q['page'] );
		}

		// If true, forcibly turns off SQL_CALC_FOUND_ROWS even when limits are present.
		if ( isset( $q['no_found_rows'] ) ) {
			$q['no_found_rows'] = (bool) $q['no_found_rows'];
		} else {
			$q['no_found_rows'] = false;
		}

		switch ( $q['fields'] ) {
			case 'ids':
				$fields = &quot;{$wpdb-&gt;posts}.ID&quot;;
				break;
			case 'id=&gt;parent':
				$fields = &quot;{$wpdb-&gt;posts}.ID, {$wpdb-&gt;posts}.post_parent&quot;;
				break;
			default:
				$fields = &quot;{$wpdb-&gt;posts}.*&quot;;
		}

		if ( '' !== $q['menu_order'] ) {
			$where .= &quot; AND {$wpdb-&gt;posts}.menu_order = &quot; . $q['menu_order'];
		}
		// The &quot;m&quot; parameter is meant for months but accepts datetimes of varying specificity.
		if ( $q['m'] ) {
			$where .= &quot; AND YEAR({$wpdb-&gt;posts}.post_date)=&quot; . substr( $q['m'], 0, 4 );
			if ( strlen( $q['m'] ) &gt; 5 ) {
				$where .= &quot; AND MONTH({$wpdb-&gt;posts}.post_date)=&quot; . substr( $q['m'], 4, 2 );
			}
			if ( strlen( $q['m'] ) &gt; 7 ) {
				$where .= &quot; AND DAYOFMONTH({$wpdb-&gt;posts}.post_date)=&quot; . substr( $q['m'], 6, 2 );
			}
			if ( strlen( $q['m'] ) &gt; 9 ) {
				$where .= &quot; AND HOUR({$wpdb-&gt;posts}.post_date)=&quot; . substr( $q['m'], 8, 2 );
			}
			if ( strlen( $q['m'] ) &gt; 11 ) {
				$where .= &quot; AND MINUTE({$wpdb-&gt;posts}.post_date)=&quot; . substr( $q['m'], 10, 2 );
			}
			if ( strlen( $q['m'] ) &gt; 13 ) {
				$where .= &quot; AND SECOND({$wpdb-&gt;posts}.post_date)=&quot; . substr( $q['m'], 12, 2 );
			}
		}

		// Handle the other individual date parameters.
		$date_parameters = array();

		if ( '' !== $q['hour'] ) {
			$date_parameters['hour'] = $q['hour'];
		}

		if ( '' !== $q['minute'] ) {
			$date_parameters['minute'] = $q['minute'];
		}

		if ( '' !== $q['second'] ) {
			$date_parameters['second'] = $q['second'];
		}

		if ( $q['year'] ) {
			$date_parameters['year'] = $q['year'];
		}

		if ( $q['monthnum'] ) {
			$date_parameters['monthnum'] = $q['monthnum'];
		}

		if ( $q['w'] ) {
			$date_parameters['week'] = $q['w'];
		}

		if ( $q['day'] ) {
			$date_parameters['day'] = $q['day'];
		}

		if ( $date_parameters ) {
			$date_query = new WP_Date_Query( array( $date_parameters ) );
			$where     .= $date_query-&gt;get_sql();
		}
		unset( $date_parameters, $date_query );

		// Handle complex date queries.
		if ( ! empty( $q['date_query'] ) ) {
			$this-&gt;date_query = new WP_Date_Query( $q['date_query'] );
			$where           .= $this-&gt;date_query-&gt;get_sql();
		}

		// If we've got a post_type AND it's not &quot;any&quot; post_type.
		if ( ! empty( $q['post_type'] ) &amp;&amp; 'any' !== $q['post_type'] ) {
			foreach ( (array) $q['post_type'] as $_post_type ) {
				$ptype_obj = get_post_type_object( $_post_type );
				if ( ! $ptype_obj || ! $ptype_obj-&gt;query_var || empty( $q[ $ptype_obj-&gt;query_var ] ) ) {
					continue;
				}

				if ( ! $ptype_obj-&gt;hierarchical ) {
					// Non-hierarchical post types can directly use 'name'.
					$q['name'] = $q[ $ptype_obj-&gt;query_var ];
				} else {
					// Hierarchical post types will operate through 'pagename'.
					$q['pagename'] = $q[ $ptype_obj-&gt;query_var ];
					$q['name']     = '';
				}

				// Only one request for a slug is possible, this is why name &amp; pagename are overwritten above.
				break;
			} // End foreach.
			unset( $ptype_obj );
		}

		if ( '' !== $q['title'] ) {
			$where .= $wpdb-&gt;prepare( &quot; AND {$wpdb-&gt;posts}.post_title = %s&quot;, stripslashes( $q['title'] ) );
		}

		// Parameters related to 'post_name'.
		if ( '' !== $q['name'] ) {
			$q['name'] = sanitize_title_for_query( $q['name'] );
			$where    .= &quot; AND {$wpdb-&gt;posts}.post_name = '&quot; . $q['name'] . &quot;'&quot;;
		} elseif ( '' !== $q['pagename'] ) {
			if ( isset( $this-&gt;queried_object_id ) ) {
				$reqpage = $this-&gt;queried_object_id;
			} else {
				if ( 'page' !== $q['post_type'] ) {
					foreach ( (array) $q['post_type'] as $_post_type ) {
						$ptype_obj = get_post_type_object( $_post_type );
						if ( ! $ptype_obj || ! $ptype_obj-&gt;hierarchical ) {
							continue;
						}

						$reqpage = get_page_by_path( $q['pagename'], OBJECT, $_post_type );
						if ( $reqpage ) {
							break;
						}
					}
					unset( $ptype_obj );
				} else {
					$reqpage = get_page_by_path( $q['pagename'] );
				}
				if ( ! empty( $reqpage ) ) {
					$reqpage = $reqpage-&gt;ID;
				} else {
					$reqpage = 0;
				}
			}

			$page_for_posts = get_option( 'page_for_posts' );
			if ( ( 'page' !== get_option( 'show_on_front' ) ) || empty( $page_for_posts ) || ( $reqpage != $page_for_posts ) ) {
				$q['pagename'] = sanitize_title_for_query( wp_basename( $q['pagename'] ) );
				$q['name']     = $q['pagename'];
				$where        .= &quot; AND ({$wpdb-&gt;posts}.ID = '$reqpage')&quot;;
				$reqpage_obj   = get_post( $reqpage );
				if ( is_object( $reqpage_obj ) &amp;&amp; 'attachment' === $reqpage_obj-&gt;post_type ) {
					$this-&gt;is_attachment = true;
					$post_type           = 'attachment';
					$q['post_type']      = 'attachment';
					$this-&gt;is_page       = true;
					$q['attachment_id']  = $reqpage;
				}
			}
		} elseif ( '' !== $q['attachment'] ) {
			$q['attachment'] = sanitize_title_for_query( wp_basename( $q['attachment'] ) );
			$q['name']       = $q['attachment'];
			$where          .= &quot; AND {$wpdb-&gt;posts}.post_name = '&quot; . $q['attachment'] . &quot;'&quot;;
		} elseif ( is_array( $q['post_name__in'] ) &amp;&amp; ! empty( $q['post_name__in'] ) ) {
			$q['post_name__in'] = array_map( 'sanitize_title_for_query', $q['post_name__in'] );
			$post_name__in      = &quot;'&quot; . implode( &quot;','&quot;, $q['post_name__in'] ) . &quot;'&quot;;
			$where             .= &quot; AND {$wpdb-&gt;posts}.post_name IN ($post_name__in)&quot;;
		}

		// If an attachment is requested by number, let it supersede any post number.
		if ( $q['attachment_id'] ) {
			$q['p'] = absint( $q['attachment_id'] );
		}

		// If a post number is specified, load that post.
		if ( $q['p'] ) {
			$where .= &quot; AND {$wpdb-&gt;posts}.ID = &quot; . $q['p'];
		} elseif ( $q['post__in'] ) {
			$post__in = implode( ',', array_map( 'absint', $q['post__in'] ) );
			$where   .= &quot; AND {$wpdb-&gt;posts}.ID IN ($post__in)&quot;;
		} elseif ( $q['post__not_in'] ) {
			$post__not_in = implode( ',', array_map( 'absint', $q['post__not_in'] ) );
			$where       .= &quot; AND {$wpdb-&gt;posts}.ID NOT IN ($post__not_in)&quot;;
		}

		if ( is_numeric( $q['post_parent'] ) ) {
			$where .= $wpdb-&gt;prepare( &quot; AND {$wpdb-&gt;posts}.post_parent = %d &quot;, $q['post_parent'] );
		} elseif ( $q['post_parent__in'] ) {
			$post_parent__in = implode( ',', array_map( 'absint', $q['post_parent__in'] ) );
			$where          .= &quot; AND {$wpdb-&gt;posts}.post_parent IN ($post_parent__in)&quot;;
		} elseif ( $q['post_parent__not_in'] ) {
			$post_parent__not_in = implode( ',', array_map( 'absint', $q['post_parent__not_in'] ) );
			$where              .= &quot; AND {$wpdb-&gt;posts}.post_parent NOT IN ($post_parent__not_in)&quot;;
		}

		if ( $q['page_id'] ) {
			if ( ( 'page' !== get_option( 'show_on_front' ) ) || ( get_option( 'page_for_posts' ) != $q['page_id'] ) ) {
				$q['p'] = $q['page_id'];
				$where  = &quot; AND {$wpdb-&gt;posts}.ID = &quot; . $q['page_id'];
			}
		}

		// If a search pattern is specified, load the posts that match.
		if ( strlen( $q['s'] ) ) {
			$search = $this-&gt;parse_search( $q );
		}

		if ( ! $q['suppress_filters'] ) {
			/**
			 * Filters the search SQL that is used in the WHERE clause of WP_Query.
			 *
			 * @since 3.0.0
			 *
			 * @param string   $search Search SQL for WHERE clause.
			 * @param WP_Query $query  The current WP_Query object.
			 */
			$search = apply_filters_ref_array( 'posts_search', array( $search, &amp;$this ) );
		}

		// Taxonomies.
		if ( ! $this-&gt;is_singular ) {
			$this-&gt;parse_tax_query( $q );

			$clauses = $this-&gt;tax_query-&gt;get_sql( $wpdb-&gt;posts, 'ID' );

			$join  .= $clauses['join'];
			$where .= $clauses['where'];
		}

		if ( $this-&gt;is_tax ) {
			if ( empty( $post_type ) ) {
				// Do a fully inclusive search for currently registered post types of queried taxonomies.
				$post_type  = array();
				$taxonomies = array_keys( $this-&gt;tax_query-&gt;queried_terms );
				foreach ( get_post_types( array( 'exclude_from_search' =&gt; false ) ) as $pt ) {
					$object_taxonomies = 'attachment' === $pt ? get_taxonomies_for_attachments() : get_object_taxonomies( $pt );
					if ( array_intersect( $taxonomies, $object_taxonomies ) ) {
						$post_type[] = $pt;
					}
				}
				if ( ! $post_type ) {
					$post_type = 'any';
				} elseif ( count( $post_type ) == 1 ) {
					$post_type = $post_type[0];
				}

				$post_status_join = true;
			} elseif ( in_array( 'attachment', (array) $post_type, true ) ) {
				$post_status_join = true;
			}
		}

		/*
		 * Ensure that 'taxonomy', 'term', 'term_id', 'cat', and
		 * 'category_name' vars are set for backward compatibility.
		 */
		if ( ! empty( $this-&gt;tax_query-&gt;queried_terms ) ) {

			/*
			 * Set 'taxonomy', 'term', and 'term_id' to the
			 * first taxonomy other than 'post_tag' or 'category'.
			 */
			if ( ! isset( $q['taxonomy'] ) ) {
				foreach ( $this-&gt;tax_query-&gt;queried_terms as $queried_taxonomy =&gt; $queried_items ) {
					if ( empty( $queried_items['terms'][0] ) ) {
						continue;
					}

					if ( ! in_array( $queried_taxonomy, array( 'category', 'post_tag' ), true ) ) {
						$q['taxonomy'] = $queried_taxonomy;

						if ( 'slug' === $queried_items['field'] ) {
							$q['term'] = $queried_items['terms'][0];
						} else {
							$q['term_id'] = $queried_items['terms'][0];
						}

						// Take the first one we find.
						break;
					}
				}
			}

			// 'cat', 'category_name', 'tag_id'.
			foreach ( $this-&gt;tax_query-&gt;queried_terms as $queried_taxonomy =&gt; $queried_items ) {
				if ( empty( $queried_items['terms'][0] ) ) {
					continue;
				}

				if ( 'category' === $queried_taxonomy ) {
					$the_cat = get_term_by( $queried_items['field'], $queried_items['terms'][0], 'category' );
					if ( $the_cat ) {
						$this-&gt;set( 'cat', $the_cat-&gt;term_id );
						$this-&gt;set( 'category_name', $the_cat-&gt;slug );
					}
					unset( $the_cat );
				}

				if ( 'post_tag' === $queried_taxonomy ) {
					$the_tag = get_term_by( $queried_items['field'], $queried_items['terms'][0], 'post_tag' );
					if ( $the_tag ) {
						$this-&gt;set( 'tag_id', $the_tag-&gt;term_id );
					}
					unset( $the_tag );
				}
			}
		}

		if ( ! empty( $this-&gt;tax_query-&gt;queries ) || ! empty( $this-&gt;meta_query-&gt;queries ) ) {
			$groupby = &quot;{$wpdb-&gt;posts}.ID&quot;;
		}

		// Author/user stuff.

		if ( ! empty( $q['author'] ) &amp;&amp; '0' != $q['author'] ) {
			$q['author'] = addslashes_gpc( '' . urldecode( $q['author'] ) );
			$authors     = array_unique( array_map( 'intval', preg_split( '/[,\s]+/', $q['author'] ) ) );
			foreach ( $authors as $author ) {
				$key         = $author &gt; 0 ? 'author__in' : 'author__not_in';
				$q[ $key ][] = abs( $author );
			}
			$q['author'] = implode( ',', $authors );
		}

		if ( ! empty( $q['author__not_in'] ) ) {
			$author__not_in = implode( ',', array_map( 'absint', array_unique( (array) $q['author__not_in'] ) ) );
			$where         .= &quot; AND {$wpdb-&gt;posts}.post_author NOT IN ($author__not_in) &quot;;
		} elseif ( ! empty( $q['author__in'] ) ) {
			$author__in = implode( ',', array_map( 'absint', array_unique( (array) $q['author__in'] ) ) );
			$where     .= &quot; AND {$wpdb-&gt;posts}.post_author IN ($author__in) &quot;;
		}

		// Author stuff for nice URLs.

		if ( '' !== $q['author_name'] ) {
			if ( strpos( $q['author_name'], '/' ) !== false ) {
				$q['author_name'] = explode( '/', $q['author_name'] );
				if ( $q['author_name'][ count( $q['author_name'] ) - 1 ] ) {
					$q['author_name'] = $q['author_name'][ count( $q['author_name'] ) - 1 ]; // No trailing slash.
				} else {
					$q['author_name'] = $q['author_name'][ count( $q['author_name'] ) - 2 ]; // There was a trailing slash.
				}
			}
			$q['author_name'] = sanitize_title_for_query( $q['author_name'] );
			$q['author']      = get_user_by( 'slug', $q['author_name'] );
			if ( $q['author'] ) {
				$q['author'] = $q['author']-&gt;ID;
			}
			$whichauthor .= &quot; AND ({$wpdb-&gt;posts}.post_author = &quot; . absint( $q['author'] ) . ')';
		}

		// Matching by comment count.
		if ( isset( $q['comment_count'] ) ) {
			// Numeric comment count is converted to array format.
			if ( is_numeric( $q['comment_count'] ) ) {
				$q['comment_count'] = array(
					'value' =&gt; (int) $q['comment_count'],
				);
			}

			if ( isset( $q['comment_count']['value'] ) ) {
				$q['comment_count'] = array_merge(
					array(
						'compare' =&gt; '=',
					),
					$q['comment_count']
				);

				// Fallback for invalid compare operators is '='.
				$compare_operators = array( '=', '!=', '&gt;', '&gt;=', '&lt;', '&lt;=' );
				if ( ! in_array( $q['comment_count']['compare'], $compare_operators, true ) ) {
					$q['comment_count']['compare'] = '=';
				}

				$where .= $wpdb-&gt;prepare( &quot; AND {$wpdb-&gt;posts}.comment_count {$q['comment_count']['compare']} %d&quot;, $q['comment_count']['value'] );
			}
		}

		// MIME-Type stuff for attachment browsing.

		if ( isset( $q['post_mime_type'] ) &amp;&amp; '' !== $q['post_mime_type'] ) {
			$whichmimetype = wp_post_mime_type_where( $q['post_mime_type'], $wpdb-&gt;posts );
		}
		$where .= $search . $whichauthor . $whichmimetype;

		if ( ! empty( $this-&gt;meta_query-&gt;queries ) ) {
			$clauses = $this-&gt;meta_query-&gt;get_sql( 'post', $wpdb-&gt;posts, 'ID', $this );
			$join   .= $clauses['join'];
			$where  .= $clauses['where'];
		}

		$rand = ( isset( $q['orderby'] ) &amp;&amp; 'rand' === $q['orderby'] );
		if ( ! isset( $q['order'] ) ) {
			$q['order'] = $rand ? '' : 'DESC';
		} else {
			$q['order'] = $rand ? '' : $this-&gt;parse_order( $q['order'] );
		}

		// These values of orderby should ignore the 'order' parameter.
		$force_asc = array( 'post__in', 'post_name__in', 'post_parent__in' );
		if ( isset( $q['orderby'] ) &amp;&amp; in_array( $q['orderby'], $force_asc, true ) ) {
			$q['order'] = '';
		}

		// Order by.
		if ( empty( $q['orderby'] ) ) {
			/*
			 * Boolean false or empty array blanks out ORDER BY,
			 * while leaving the value unset or otherwise empty sets the default.
			 */
			if ( isset( $q['orderby'] ) &amp;&amp; ( is_array( $q['orderby'] ) || false === $q['orderby'] ) ) {
				$orderby = '';
			} else {
				$orderby = &quot;{$wpdb-&gt;posts}.post_date &quot; . $q['order'];
			}
		} elseif ( 'none' === $q['orderby'] ) {
			$orderby = '';
		} else {
			$orderby_array = array();
			if ( is_array( $q['orderby'] ) ) {
				foreach ( $q['orderby'] as $_orderby =&gt; $order ) {
					$orderby = addslashes_gpc( urldecode( $_orderby ) );
					$parsed  = $this-&gt;parse_orderby( $orderby );

					if ( ! $parsed ) {
						continue;
					}

					$orderby_array[] = $parsed . ' ' . $this-&gt;parse_order( $order );
				}
				$orderby = implode( ', ', $orderby_array );

			} else {
				$q['orderby'] = urldecode( $q['orderby'] );
				$q['orderby'] = addslashes_gpc( $q['orderby'] );

				foreach ( explode( ' ', $q['orderby'] ) as $i =&gt; $orderby ) {
					$parsed = $this-&gt;parse_orderby( $orderby );
					// Only allow certain values for safety.
					if ( ! $parsed ) {
						continue;
					}

					$orderby_array[] = $parsed;
				}
				$orderby = implode( ' ' . $q['order'] . ', ', $orderby_array );

				if ( empty( $orderby ) ) {
					$orderby = &quot;{$wpdb-&gt;posts}.post_date &quot; . $q['order'];
				} elseif ( ! empty( $q['order'] ) ) {
					$orderby .= &quot; {$q['order']}&quot;;
				}
			}
		}

		// Order search results by relevance only when another &quot;orderby&quot; is not specified in the query.
		if ( ! empty( $q['s'] ) ) {
			$search_orderby = '';
			if ( ! empty( $q['search_orderby_title'] ) &amp;&amp; ( empty( $q['orderby'] ) &amp;&amp; ! $this-&gt;is_feed ) || ( isset( $q['orderby'] ) &amp;&amp; 'relevance' === $q['orderby'] ) ) {
				$search_orderby = $this-&gt;parse_search_order( $q );
			}

			if ( ! $q['suppress_filters'] ) {
				/**
				 * Filters the ORDER BY used when ordering search results.
				 *
				 * @since 3.7.0
				 *
				 * @param string   $search_orderby The ORDER BY clause.
				 * @param WP_Query $query          The current WP_Query instance.
				 */
				$search_orderby = apply_filters( 'posts_search_orderby', $search_orderby, $this );
			}

			if ( $search_orderby ) {
				$orderby = $orderby ? $search_orderby . ', ' . $orderby : $search_orderby;
			}
		}

		if ( is_array( $post_type ) &amp;&amp; count( $post_type ) &gt; 1 ) {
			$post_type_cap = 'multiple_post_type';
		} else {
			if ( is_array( $post_type ) ) {
				$post_type = reset( $post_type );
			}
			$post_type_object = get_post_type_object( $post_type );
			if ( empty( $post_type_object ) ) {
				$post_type_cap = $post_type;
			}
		}

		if ( isset( $q['post_password'] ) ) {
			$where .= $wpdb-&gt;prepare( &quot; AND {$wpdb-&gt;posts}.post_password = %s&quot;, $q['post_password'] );
			if ( empty( $q['perm'] ) ) {
				$q['perm'] = 'readable';
			}
		} elseif ( isset( $q['has_password'] ) ) {
			$where .= sprintf( &quot; AND {$wpdb-&gt;posts}.post_password %s ''&quot;, $q['has_password'] ? '!=' : '=' );
		}

		if ( ! empty( $q['comment_status'] ) ) {
			$where .= $wpdb-&gt;prepare( &quot; AND {$wpdb-&gt;posts}.comment_status = %s &quot;, $q['comment_status'] );
		}

		if ( ! empty( $q['ping_status'] ) ) {
			$where .= $wpdb-&gt;prepare( &quot; AND {$wpdb-&gt;posts}.ping_status = %s &quot;, $q['ping_status'] );
		}

		if ( 'any' === $post_type ) {
			$in_search_post_types = get_post_types( array( 'exclude_from_search' =&gt; false ) );
			if ( empty( $in_search_post_types ) ) {
				$where .= ' AND 1=0 ';
			} else {
				$where .= &quot; AND {$wpdb-&gt;posts}.post_type IN ('&quot; . implode( &quot;', '&quot;, array_map( 'esc_sql', $in_search_post_types ) ) . &quot;')&quot;;
			}
		} elseif ( ! empty( $post_type ) &amp;&amp; is_array( $post_type ) ) {
			$where .= &quot; AND {$wpdb-&gt;posts}.post_type IN ('&quot; . implode( &quot;', '&quot;, esc_sql( $post_type ) ) . &quot;')&quot;;
		} elseif ( ! empty( $post_type ) ) {
			$where           .= $wpdb-&gt;prepare( &quot; AND {$wpdb-&gt;posts}.post_type = %s&quot;, $post_type );
			$post_type_object = get_post_type_object( $post_type );
		} elseif ( $this-&gt;is_attachment ) {
			$where           .= &quot; AND {$wpdb-&gt;posts}.post_type = 'attachment'&quot;;
			$post_type_object = get_post_type_object( 'attachment' );
		} elseif ( $this-&gt;is_page ) {
			$where           .= &quot; AND {$wpdb-&gt;posts}.post_type = 'page'&quot;;
			$post_type_object = get_post_type_object( 'page' );
		} else {
			$where           .= &quot; AND {$wpdb-&gt;posts}.post_type = 'post'&quot;;
			$post_type_object = get_post_type_object( 'post' );
		}

		$edit_cap = 'edit_post';
		$read_cap = 'read_post';

		if ( ! empty( $post_type_object ) ) {
			$edit_others_cap  = $post_type_object-&gt;cap-&gt;edit_others_posts;
			$read_private_cap = $post_type_object-&gt;cap-&gt;read_private_posts;
		} else {
			$edit_others_cap  = 'edit_others_' . $post_type_cap . 's';
			$read_private_cap = 'read_private_' . $post_type_cap . 's';
		}

		$user_id = get_current_user_id();

		$q_status = array();
		if ( ! empty( $q['post_status'] ) ) {
			$statuswheres = array();
			$q_status     = $q['post_status'];
			if ( ! is_array( $q_status ) ) {
				$q_status = explode( ',', $q_status );
			}
			$r_status = array();
			$p_status = array();
			$e_status = array();
			if ( in_array( 'any', $q_status, true ) ) {
				foreach ( get_post_stati( array( 'exclude_from_search' =&gt; true ) ) as $status ) {
					if ( ! in_array( $status, $q_status, true ) ) {
						$e_status[] = &quot;{$wpdb-&gt;posts}.post_status &lt;&gt; '$status'&quot;;
					}
				}
			} else {
				foreach ( get_post_stati() as $status ) {
					if ( in_array( $status, $q_status, true ) ) {
						if ( 'private' === $status ) {
							$p_status[] = &quot;{$wpdb-&gt;posts}.post_status = '$status'&quot;;
						} else {
							$r_status[] = &quot;{$wpdb-&gt;posts}.post_status = '$status'&quot;;
						}
					}
				}
			}

			if ( empty( $q['perm'] ) || 'readable' !== $q['perm'] ) {
				$r_status = array_merge( $r_status, $p_status );
				unset( $p_status );
			}

			if ( ! empty( $e_status ) ) {
				$statuswheres[] = '(' . implode( ' AND ', $e_status ) . ')';
			}
			if ( ! empty( $r_status ) ) {
				if ( ! empty( $q['perm'] ) &amp;&amp; 'editable' === $q['perm'] &amp;&amp; ! current_user_can( $edit_others_cap ) ) {
					$statuswheres[] = &quot;({$wpdb-&gt;posts}.post_author = $user_id &quot; . 'AND (' . implode( ' OR ', $r_status ) . '))';
				} else {
					$statuswheres[] = '(' . implode( ' OR ', $r_status ) . ')';
				}
			}
			if ( ! empty( $p_status ) ) {
				if ( ! empty( $q['perm'] ) &amp;&amp; 'readable' === $q['perm'] &amp;&amp; ! current_user_can( $read_private_cap ) ) {
					$statuswheres[] = &quot;({$wpdb-&gt;posts}.post_author = $user_id &quot; . 'AND (' . implode( ' OR ', $p_status ) . '))';
				} else {
					$statuswheres[] = '(' . implode( ' OR ', $p_status ) . ')';
				}
			}
			if ( $post_status_join ) {
				$join .= &quot; LEFT JOIN {$wpdb-&gt;posts} AS p2 ON ({$wpdb-&gt;posts}.post_parent = p2.ID) &quot;;
				foreach ( $statuswheres as $index =&gt; $statuswhere ) {
					$statuswheres[ $index ] = &quot;($statuswhere OR ({$wpdb-&gt;posts}.post_status = 'inherit' AND &quot; . str_replace( $wpdb-&gt;posts, 'p2', $statuswhere ) . '))';
				}
			}
			$where_status = implode( ' OR ', $statuswheres );
			if ( ! empty( $where_status ) ) {
				$where .= &quot; AND ($where_status)&quot;;
			}
		} elseif ( ! $this-&gt;is_singular ) {
			$where .= &quot; AND ({$wpdb-&gt;posts}.post_status = 'publish'&quot;;

			// Add public states.
			$public_states = get_post_stati( array( 'public' =&gt; true ) );
			foreach ( (array) $public_states as $state ) {
				if ( 'publish' === $state ) { // Publish is hard-coded above.
					continue;
				}
				$where .= &quot; OR {$wpdb-&gt;posts}.post_status = '$state'&quot;;
			}

			if ( $this-&gt;is_admin ) {
				// Add protected states that should show in the admin all list.
				$admin_all_states = get_post_stati(
					array(
						'protected'              =&gt; true,
						'show_in_admin_all_list' =&gt; true,
					)
				);
				foreach ( (array) $admin_all_states as $state ) {
					$where .= &quot; OR {$wpdb-&gt;posts}.post_status = '$state'&quot;;
				}
			}

			if ( is_user_logged_in() ) {
				// Add private states that are limited to viewing by the author of a post or someone who has caps to read private states.
				$private_states = get_post_stati( array( 'private' =&gt; true ) );
				foreach ( (array) $private_states as $state ) {
					$where .= current_user_can( $read_private_cap ) ? &quot; OR {$wpdb-&gt;posts}.post_status = '$state'&quot; : &quot; OR {$wpdb-&gt;posts}.post_author = $user_id AND {$wpdb-&gt;posts}.post_status = '$state'&quot;;
				}
			}

			$where .= ')';
		}

		/*
		 * Apply filters on where and join prior to paging so that any
		 * manipulations to them are reflected in the paging by day queries.
		 */
		if ( ! $q['suppress_filters'] ) {
			/**
			 * Filters the WHERE clause of the query.
			 *
			 * @since 1.5.0
			 *
			 * @param string   $where The WHERE clause of the query.
			 * @param WP_Query $query The WP_Query instance (passed by reference).
			 */
			$where = apply_filters_ref_array( 'posts_where', array( $where, &amp;$this ) );

			/**
			 * Filters the JOIN clause of the query.
			 *
			 * @since 1.5.0
			 *
			 * @param string   $join  The JOIN clause of the query.
			 * @param WP_Query $query The WP_Query instance (passed by reference).
			 */
			$join = apply_filters_ref_array( 'posts_join', array( $join, &amp;$this ) );
		}

		// Paging.
		if ( empty( $q['nopaging'] ) &amp;&amp; ! $this-&gt;is_singular ) {
			$page = absint( $q['paged'] );
			if ( ! $page ) {
				$page = 1;
			}

			// If 'offset' is provided, it takes precedence over 'paged'.
			if ( isset( $q['offset'] ) &amp;&amp; is_numeric( $q['offset'] ) ) {
				$q['offset'] = absint( $q['offset'] );
				$pgstrt      = $q['offset'] . ', ';
			} else {
				$pgstrt = absint( ( $page - 1 ) * $q['posts_per_page'] ) . ', ';
			}
			$limits = 'LIMIT ' . $pgstrt . $q['posts_per_page'];
		}

		// Comments feeds.
		if ( $this-&gt;is_comment_feed &amp;&amp; ! $this-&gt;is_singular ) {
			if ( $this-&gt;is_archive || $this-&gt;is_search ) {
				$cjoin    = &quot;JOIN {$wpdb-&gt;posts} ON ( {$wpdb-&gt;comments}.comment_post_ID = {$wpdb-&gt;posts}.ID ) $join &quot;;
				$cwhere   = &quot;WHERE comment_approved = '1' $where&quot;;
				$cgroupby = &quot;{$wpdb-&gt;comments}.comment_id&quot;;
			} else { // Other non-singular, e.g. front.
				$cjoin    = &quot;JOIN {$wpdb-&gt;posts} ON ( {$wpdb-&gt;comments}.comment_post_ID = {$wpdb-&gt;posts}.ID )&quot;;
				$cwhere   = &quot;WHERE ( post_status = 'publish' OR ( post_status = 'inherit' AND post_type = 'attachment' ) ) AND comment_approved = '1'&quot;;
				$cgroupby = '';
			}

			if ( ! $q['suppress_filters'] ) {
				/**
				 * Filters the JOIN clause of the comments feed query before sending.
				 *
				 * @since 2.2.0
				 *
				 * @param string   $cjoin The JOIN clause of the query.
				 * @param WP_Query $query The WP_Query instance (passed by reference).
				 */
				$cjoin = apply_filters_ref_array( 'comment_feed_join', array( $cjoin, &amp;$this ) );

				/**
				 * Filters the WHERE clause of the comments feed query before sending.
				 *
				 * @since 2.2.0
				 *
				 * @param string   $cwhere The WHERE clause of the query.
				 * @param WP_Query $query  The WP_Query instance (passed by reference).
				 */
				$cwhere = apply_filters_ref_array( 'comment_feed_where', array( $cwhere, &amp;$this ) );

				/**
				 * Filters the GROUP BY clause of the comments feed query before sending.
				 *
				 * @since 2.2.0
				 *
				 * @param string   $cgroupby The GROUP BY clause of the query.
				 * @param WP_Query $query    The WP_Query instance (passed by reference).
				 */
				$cgroupby = apply_filters_ref_array( 'comment_feed_groupby', array( $cgroupby, &amp;$this ) );

				/**
				 * Filters the ORDER BY clause of the comments feed query before sending.
				 *
				 * @since 2.8.0
				 *
				 * @param string   $corderby The ORDER BY clause of the query.
				 * @param WP_Query $query    The WP_Query instance (passed by reference).
				 */
				$corderby = apply_filters_ref_array( 'comment_feed_orderby', array( 'comment_date_gmt DESC', &amp;$this ) );

				/**
				 * Filters the LIMIT clause of the comments feed query before sending.
				 *
				 * @since 2.8.0
				 *
				 * @param string   $climits The JOIN clause of the query.
				 * @param WP_Query $query   The WP_Query instance (passed by reference).
				 */
				$climits = apply_filters_ref_array( 'comment_feed_limits', array( 'LIMIT ' . get_option( 'posts_per_rss' ), &amp;$this ) );
			}

			$cgroupby = ( ! empty( $cgroupby ) ) ? 'GROUP BY ' . $cgroupby : '';
			$corderby = ( ! empty( $corderby ) ) ? 'ORDER BY ' . $corderby : '';
			$climits  = ( ! empty( $climits ) ) ? $climits : '';

			$comments = (array) $wpdb-&gt;get_results( &quot;SELECT $distinct {$wpdb-&gt;comments}.* FROM {$wpdb-&gt;comments} $cjoin $cwhere $cgroupby $corderby $climits&quot; );
			// Convert to WP_Comment.
			/** @var WP_Comment[] */
			$this-&gt;comments      = array_map( 'get_comment', $comments );
			$this-&gt;comment_count = count( $this-&gt;comments );

			$post_ids = array();

			foreach ( $this-&gt;comments as $comment ) {
				$post_ids[] = (int) $comment-&gt;comment_post_ID;
			}

			$post_ids = implode( ',', $post_ids );
			$join     = '';
			if ( $post_ids ) {
				$where = &quot;AND {$wpdb-&gt;posts}.ID IN ($post_ids) &quot;;
			} else {
				$where = 'AND 0';
			}
		}

		$pieces = array( 'where', 'groupby', 'join', 'orderby', 'distinct', 'fields', 'limits' );

		/*
		 * Apply post-paging filters on where and join. Only plugins that
		 * manipulate paging queries should use these hooks.
		 */
		if ( ! $q['suppress_filters'] ) {
			/**
			 * Filters the WHERE clause of the query.
			 *
			 * Specifically for manipulating paging queries.
			 *
			 * @since 1.5.0
			 *
			 * @param string   $where The WHERE clause of the query.
			 * @param WP_Query $query The WP_Query instance (passed by reference).
			 */
			$where = apply_filters_ref_array( 'posts_where_paged', array( $where, &amp;$this ) );

			/**
			 * Filters the GROUP BY clause of the query.
			 *
			 * @since 2.0.0
			 *
			 * @param string   $groupby The GROUP BY clause of the query.
			 * @param WP_Query $query   The WP_Query instance (passed by reference).
			 */
			$groupby = apply_filters_ref_array( 'posts_groupby', array( $groupby, &amp;$this ) );

			/**
			 * Filters the JOIN clause of the query.
			 *
			 * Specifically for manipulating paging queries.
			 *
			 * @since 1.5.0
			 *
			 * @param string   $join  The JOIN clause of the query.
			 * @param WP_Query $query The WP_Query instance (passed by reference).
			 */
			$join = apply_filters_ref_array( 'posts_join_paged', array( $join, &amp;$this ) );

			/**
			 * Filters the ORDER BY clause of the query.
			 *
			 * @since 1.5.1
			 *
			 * @param string   $orderby The ORDER BY clause of the query.
			 * @param WP_Query $query   The WP_Query instance (passed by reference).
			 */
			$orderby = apply_filters_ref_array( 'posts_orderby', array( $orderby, &amp;$this ) );

			/**
			 * Filters the DISTINCT clause of the query.
			 *
			 * @since 2.1.0
			 *
			 * @param string   $distinct The DISTINCT clause of the query.
			 * @param WP_Query $query    The WP_Query instance (passed by reference).
			 */
			$distinct = apply_filters_ref_array( 'posts_distinct', array( $distinct, &amp;$this ) );

			/**
			 * Filters the LIMIT clause of the query.
			 *
			 * @since 2.1.0
			 *
			 * @param string   $limits The LIMIT clause of the query.
			 * @param WP_Query $query  The WP_Query instance (passed by reference).
			 */
			$limits = apply_filters_ref_array( 'post_limits', array( $limits, &amp;$this ) );

			/**
			 * Filters the SELECT clause of the query.
			 *
			 * @since 2.1.0
			 *
			 * @param string   $fields The SELECT clause of the query.
			 * @param WP_Query $query  The WP_Query instance (passed by reference).
			 */
			$fields = apply_filters_ref_array( 'posts_fields', array( $fields, &amp;$this ) );

			/**
			 * Filters all query clauses at once, for convenience.
			 *
			 * Covers the WHERE, GROUP BY, JOIN, ORDER BY, DISTINCT,
			 * fields (SELECT), and LIMITS clauses.
			 *
			 * @since 3.1.0
			 *
			 * @param string[] $clauses Associative array of the clauses for the query.
			 * @param WP_Query $query   The WP_Query instance (passed by reference).
			 */
			$clauses = (array) apply_filters_ref_array( 'posts_clauses', array( compact( $pieces ), &amp;$this ) );

			$where    = isset( $clauses['where'] ) ? $clauses['where'] : '';
			$groupby  = isset( $clauses['groupby'] ) ? $clauses['groupby'] : '';
			$join     = isset( $clauses['join'] ) ? $clauses['join'] : '';
			$orderby  = isset( $clauses['orderby'] ) ? $clauses['orderby'] : '';
			$distinct = isset( $clauses['distinct'] ) ? $clauses['distinct'] : '';
			$fields   = isset( $clauses['fields'] ) ? $clauses['fields'] : '';
			$limits   = isset( $clauses['limits'] ) ? $clauses['limits'] : '';
		}

		/**
		 * Fires to announce the query's current selection parameters.
		 *
		 * For use by caching plugins.
		 *
		 * @since 2.3.0
		 *
		 * @param string $selection The assembled selection query.
		 */
		do_action( 'posts_selection', $where . $groupby . $orderby . $limits . $join );

		/*
		 * Filters again for the benefit of caching plugins.
		 * Regular plugins should use the hooks above.
		 */
		if ( ! $q['suppress_filters'] ) {
			/**
			 * Filters the WHERE clause of the query.
			 *
			 * For use by caching plugins.
			 *
			 * @since 2.5.0
			 *
			 * @param string   $where The WHERE clause of the query.
			 * @param WP_Query $query The WP_Query instance (passed by reference).
			 */
			$where = apply_filters_ref_array( 'posts_where_request', array( $where, &amp;$this ) );

			/**
			 * Filters the GROUP BY clause of the query.
			 *
			 * For use by caching plugins.
			 *
			 * @since 2.5.0
			 *
			 * @param string   $groupby The GROUP BY clause of the query.
			 * @param WP_Query $query   The WP_Query instance (passed by reference).
			 */
			$groupby = apply_filters_ref_array( 'posts_groupby_request', array( $groupby, &amp;$this ) );

			/**
			 * Filters the JOIN clause of the query.
			 *
			 * For use by caching plugins.
			 *
			 * @since 2.5.0
			 *
			 * @param string   $join  The JOIN clause of the query.
			 * @param WP_Query $query The WP_Query instance (passed by reference).
			 */
			$join = apply_filters_ref_array( 'posts_join_request', array( $join, &amp;$this ) );

			/**
			 * Filters the ORDER BY clause of the query.
			 *
			 * For use by caching plugins.
			 *
			 * @since 2.5.0
			 *
			 * @param string   $orderby The ORDER BY clause of the query.
			 * @param WP_Query $query   The WP_Query instance (passed by reference).
			 */
			$orderby = apply_filters_ref_array( 'posts_orderby_request', array( $orderby, &amp;$this ) );

			/**
			 * Filters the DISTINCT clause of the query.
			 *
			 * For use by caching plugins.
			 *
			 * @since 2.5.0
			 *
			 * @param string   $distinct The DISTINCT clause of the query.
			 * @param WP_Query $query    The WP_Query instance (passed by reference).
			 */
			$distinct = apply_filters_ref_array( 'posts_distinct_request', array( $distinct, &amp;$this ) );

			/**
			 * Filters the SELECT clause of the query.
			 *
			 * For use by caching plugins.
			 *
			 * @since 2.5.0
			 *
			 * @param string   $fields The SELECT clause of the query.
			 * @param WP_Query $query  The WP_Query instance (passed by reference).
			 */
			$fields = apply_filters_ref_array( 'posts_fields_request', array( $fields, &amp;$this ) );

			/**
			 * Filters the LIMIT clause of the query.
			 *
			 * For use by caching plugins.
			 *
			 * @since 2.5.0
			 *
			 * @param string   $limits The LIMIT clause of the query.
			 * @param WP_Query $query  The WP_Query instance (passed by reference).
			 */
			$limits = apply_filters_ref_array( 'post_limits_request', array( $limits, &amp;$this ) );

			/**
			 * Filters all query clauses at once, for convenience.
			 *
			 * For use by caching plugins.
			 *
			 * Covers the WHERE, GROUP BY, JOIN, ORDER BY, DISTINCT,
			 * fields (SELECT), and LIMITS clauses.
			 *
			 * @since 3.1.0
			 *
			 * @param string[] $pieces Associative array of the pieces of the query.
			 * @param WP_Query $query  The WP_Query instance (passed by reference).
			 */
			$clauses = (array) apply_filters_ref_array( 'posts_clauses_request', array( compact( $pieces ), &amp;$this ) );

			$where    = isset( $clauses['where'] ) ? $clauses['where'] : '';
			$groupby  = isset( $clauses['groupby'] ) ? $clauses['groupby'] : '';
			$join     = isset( $clauses['join'] ) ? $clauses['join'] : '';
			$orderby  = isset( $clauses['orderby'] ) ? $clauses['orderby'] : '';
			$distinct = isset( $clauses['distinct'] ) ? $clauses['distinct'] : '';
			$fields   = isset( $clauses['fields'] ) ? $clauses['fields'] : '';
			$limits   = isset( $clauses['limits'] ) ? $clauses['limits'] : '';
		}

		if ( ! empty( $groupby ) ) {
			$groupby = 'GROUP BY ' . $groupby;
		}
		if ( ! empty( $orderby ) ) {
			$orderby = 'ORDER BY ' . $orderby;
		}

		$found_rows = '';
		if ( ! $q['no_found_rows'] &amp;&amp; ! empty( $limits ) ) {
			$found_rows = 'SQL_CALC_FOUND_ROWS';
		}

		$old_request   = &quot;SELECT $found_rows $distinct $fields FROM {$wpdb-&gt;posts} $join WHERE 1=1 $where $groupby $orderby $limits&quot;;
		$this-&gt;request = $old_request;

		if ( ! $q['suppress_filters'] ) {
			/**
			 * Filters the completed SQL query before sending.
			 *
			 * @since 2.0.0
			 *
			 * @param string   $request The complete SQL query.
			 * @param WP_Query $query   The WP_Query instance (passed by reference).
			 */
			$this-&gt;request = apply_filters_ref_array( 'posts_request', array( $this-&gt;request, &amp;$this ) );
		}

		/**
		 * Filters the posts array before the query takes place.
		 *
		 * Return a non-null value to bypass WordPress' default post queries.
		 *
		 * Filtering functions that require pagination information are encouraged to set
		 * the `found_posts` and `max_num_pages` properties of the WP_Query object,
		 * passed to the filter by reference. If WP_Query does not perform a database
		 * query, it will not have enough information to generate these values itself.
		 *
		 * @since 4.6.0
		 *
		 * @param WP_Post[]|int[]|null $posts Return an array of post data to short-circuit WP's query,
		 *                                    or null to allow WP to run its normal queries.
		 * @param WP_Query             $query The WP_Query instance (passed by reference).
		 */
		$this-&gt;posts = apply_filters_ref_array( 'posts_pre_query', array( null, &amp;$this ) );

		if ( 'ids' === $q['fields'] ) {
			if ( null === $this-&gt;posts ) {
				$this-&gt;posts = $wpdb-&gt;get_col( $this-&gt;request );
			}

			/** @var int[] */
			$this-&gt;posts      = array_map( 'intval', $this-&gt;posts );
			$this-&gt;post_count = count( $this-&gt;posts );
			$this-&gt;set_found_posts( $q, $limits );

			return $this-&gt;posts;
		}

		if ( 'id=&gt;parent' === $q['fields'] ) {
			if ( null === $this-&gt;posts ) {
				$this-&gt;posts = $wpdb-&gt;get_results( $this-&gt;request );
			}

			$this-&gt;post_count = count( $this-&gt;posts );
			$this-&gt;set_found_posts( $q, $limits );

			/** @var int[] */
			$r = array();
			foreach ( $this-&gt;posts as $key =&gt; $post ) {
				$this-&gt;posts[ $key ]-&gt;ID          = (int) $post-&gt;ID;
				$this-&gt;posts[ $key ]-&gt;post_parent = (int) $post-&gt;post_parent;

				$r[ (int) $post-&gt;ID ] = (int) $post-&gt;post_parent;
			}

			return $r;
		}

		if ( null === $this-&gt;posts ) {
			$split_the_query = ( $old_request == $this-&gt;request &amp;&amp; &quot;{$wpdb-&gt;posts}.*&quot; === $fields &amp;&amp; ! empty( $limits ) &amp;&amp; $q['posts_per_page'] &lt; 500 );

			/**
			 * Filters whether to split the query.
			 *
			 * Splitting the query will cause it to fetch just the IDs of the found posts
			 * (and then individually fetch each post by ID), rather than fetching every
			 * complete row at once. One massive result vs. many small results.
			 *
			 * @since 3.4.0
			 *
			 * @param bool     $split_the_query Whether or not to split the query.
			 * @param WP_Query $query           The WP_Query instance.
			 */
			$split_the_query = apply_filters( 'split_the_query', $split_the_query, $this );

			if ( $split_the_query ) {
				// First get the IDs and then fill in the objects.

				$this-&gt;request = &quot;SELECT $found_rows $distinct {$wpdb-&gt;posts}.ID FROM {$wpdb-&gt;posts} $join WHERE 1=1 $where $groupby $orderby $limits&quot;;

				/**
				 * Filters the Post IDs SQL request before sending.
				 *
				 * @since 3.4.0
				 *
				 * @param string   $request The post ID request.
				 * @param WP_Query $query   The WP_Query instance.
				 */
				$this-&gt;request = apply_filters( 'posts_request_ids', $this-&gt;request, $this );

				$ids = $wpdb-&gt;get_col( $this-&gt;request );

				if ( $ids ) {
					$this-&gt;posts = $ids;
					$this-&gt;set_found_posts( $q, $limits );
					_prime_post_caches( $ids, $q['update_post_term_cache'], $q['update_post_meta_cache'] );
				} else {
					$this-&gt;posts = array();
				}
			} else {
				$this-&gt;posts = $wpdb-&gt;get_results( $this-&gt;request );
				$this-&gt;set_found_posts( $q, $limits );
			}
		}

		// Convert to WP_Post objects.
		if ( $this-&gt;posts ) {
			/** @var WP_Post[] */
			$this-&gt;posts = array_map( 'get_post', $this-&gt;posts );
		}

		if ( ! $q['suppress_filters'] ) {
			/**
			 * Filters the raw post results array, prior to status checks.
			 *
			 * @since 2.3.0
			 *
			 * @param WP_Post[] $posts Array of post objects.
			 * @param WP_Query  $query The WP_Query instance (passed by reference).
			 */
			$this-&gt;posts = apply_filters_ref_array( 'posts_results', array( $this-&gt;posts, &amp;$this ) );
		}

		if ( ! empty( $this-&gt;posts ) &amp;&amp; $this-&gt;is_comment_feed &amp;&amp; $this-&gt;is_singular ) {
			/** This filter is documented in wp-includes/query.php */
			$cjoin = apply_filters_ref_array( 'comment_feed_join', array( '', &amp;$this ) );

			/** This filter is documented in wp-includes/query.php */
			$cwhere = apply_filters_ref_array( 'comment_feed_where', array( &quot;WHERE comment_post_ID = '{$this-&gt;posts[0]-&gt;ID}' AND comment_approved = '1'&quot;, &amp;$this ) );

			/** This filter is documented in wp-includes/query.php */
			$cgroupby = apply_filters_ref_array( 'comment_feed_groupby', array( '', &amp;$this ) );
			$cgroupby = ( ! empty( $cgroupby ) ) ? 'GROUP BY ' . $cgroupby : '';

			/** This filter is documented in wp-includes/query.php */
			$corderby = apply_filters_ref_array( 'comment_feed_orderby', array( 'comment_date_gmt DESC', &amp;$this ) );
			$corderby = ( ! empty( $corderby ) ) ? 'ORDER BY ' . $corderby : '';

			/** This filter is documented in wp-includes/query.php */
			$climits = apply_filters_ref_array( 'comment_feed_limits', array( 'LIMIT ' . get_option( 'posts_per_rss' ), &amp;$this ) );

			$comments_request = &quot;SELECT {$wpdb-&gt;comments}.* FROM {$wpdb-&gt;comments} $cjoin $cwhere $cgroupby $corderby $climits&quot;;
			$comments         = $wpdb-&gt;get_results( $comments_request );
			// Convert to WP_Comment.
			/** @var WP_Comment[] */
			$this-&gt;comments      = array_map( 'get_comment', $comments );
			$this-&gt;comment_count = count( $this-&gt;comments );
		}

		// Check post status to determine if post should be displayed.
		if ( ! empty( $this-&gt;posts ) &amp;&amp; ( $this-&gt;is_single || $this-&gt;is_page ) ) {
			$status = get_post_status( $this-&gt;posts[0] );

			if ( 'attachment' === $this-&gt;posts[0]-&gt;post_type &amp;&amp; 0 === (int) $this-&gt;posts[0]-&gt;post_parent ) {
				$this-&gt;is_page       = false;
				$this-&gt;is_single     = true;
				$this-&gt;is_attachment = true;
			}

			// If the post_status was specifically requested, let it pass through.
			if ( ! in_array( $status, $q_status, true ) ) {
				$post_status_obj = get_post_status_object( $status );

				if ( $post_status_obj &amp;&amp; ! $post_status_obj-&gt;public ) {
					if ( ! is_user_logged_in() ) {
						// User must be logged in to view unpublished posts.
						$this-&gt;posts = array();
					} else {
						if ( $post_status_obj-&gt;protected ) {
							// User must have edit permissions on the draft to preview.
							if ( ! current_user_can( $edit_cap, $this-&gt;posts[0]-&gt;ID ) ) {
								$this-&gt;posts = array();
							} else {
								$this-&gt;is_preview = true;
								if ( 'future' !== $status ) {
									$this-&gt;posts[0]-&gt;post_date = current_time( 'mysql' );
								}
							}
						} elseif ( $post_status_obj-&gt;private ) {
							if ( ! current_user_can( $read_cap, $this-&gt;posts[0]-&gt;ID ) ) {
								$this-&gt;posts = array();
							}
						} else {
							$this-&gt;posts = array();
						}
					}
				} elseif ( ! $post_status_obj ) {
					// Post status is not registered, assume it's not public.
					if ( ! current_user_can( $edit_cap, $this-&gt;posts[0]-&gt;ID ) ) {
						$this-&gt;posts = array();
					}
				}
			}

			if ( $this-&gt;is_preview &amp;&amp; $this-&gt;posts &amp;&amp; current_user_can( $edit_cap, $this-&gt;posts[0]-&gt;ID ) ) {
				/**
				 * Filters the single post for preview mode.
				 *
				 * @since 2.7.0
				 *
				 * @param WP_Post  $post_preview  The Post object.
				 * @param WP_Query $query         The WP_Query instance (passed by reference).
				 */
				$this-&gt;posts[0] = get_post( apply_filters_ref_array( 'the_preview', array( $this-&gt;posts[0], &amp;$this ) ) );
			}
		}

		// Put sticky posts at the top of the posts array.
		$sticky_posts = get_option( 'sticky_posts' );
		if ( $this-&gt;is_home &amp;&amp; $page &lt;= 1 &amp;&amp; is_array( $sticky_posts ) &amp;&amp; ! empty( $sticky_posts ) &amp;&amp; ! $q['ignore_sticky_posts'] ) {
			$num_posts     = count( $this-&gt;posts );
			$sticky_offset = 0;
			// Loop over posts and relocate stickies to the front.
			for ( $i = 0; $i &lt; $num_posts; $i++ ) {
				if ( in_array( $this-&gt;posts[ $i ]-&gt;ID, $sticky_posts, true ) ) {
					$sticky_post = $this-&gt;posts[ $i ];
					// Remove sticky from current position.
					array_splice( $this-&gt;posts, $i, 1 );
					// Move to front, after other stickies.
					array_splice( $this-&gt;posts, $sticky_offset, 0, array( $sticky_post ) );
					// Increment the sticky offset. The next sticky will be placed at this offset.
					$sticky_offset++;
					// Remove post from sticky posts array.
					$offset = array_search( $sticky_post-&gt;ID, $sticky_posts, true );
					unset( $sticky_posts[ $offset ] );
				}
			}

			// If any posts have been excluded specifically, Ignore those that are sticky.
			if ( ! empty( $sticky_posts ) &amp;&amp; ! empty( $q['post__not_in'] ) ) {
				$sticky_posts = array_diff( $sticky_posts, $q['post__not_in'] );
			}

			// Fetch sticky posts that weren't in the query results.
			if ( ! empty( $sticky_posts ) ) {
				$stickies = get_posts(
					array(
						'post__in'    =&gt; $sticky_posts,
						'post_type'   =&gt; $post_type,
						'post_status' =&gt; 'publish',
						'nopaging'    =&gt; true,
					)
				);

				foreach ( $stickies as $sticky_post ) {
					array_splice( $this-&gt;posts, $sticky_offset, 0, array( $sticky_post ) );
					$sticky_offset++;
				}
			}
		}

		// If comments have been fetched as part of the query, make sure comment meta lazy-loading is set up.
		if ( ! empty( $this-&gt;comments ) ) {
			wp_queue_comments_for_comment_meta_lazyload( $this-&gt;comments );
		}

		if ( ! $q['suppress_filters'] ) {
			/**
			 * Filters the array of retrieved posts after they've been fetched and
			 * internally processed.
			 *
			 * @since 1.5.0
			 *
			 * @param WP_Post[] $posts Array of post objects.
			 * @param WP_Query  $query The WP_Query instance (passed by reference).
			 */
			$this-&gt;posts = apply_filters_ref_array( 'the_posts', array( $this-&gt;posts, &amp;$this ) );
		}

		// Ensure that any posts added/modified via one of the filters above are
		// of the type WP_Post and are filtered.
		if ( $this-&gt;posts ) {
			$this-&gt;post_count = count( $this-&gt;posts );

			/** @var WP_Post[] */
			$this-&gt;posts = array_map( 'get_post', $this-&gt;posts );

			if ( $q['cache_results'] ) {
				update_post_caches( $this-&gt;posts, $post_type, $q['update_post_term_cache'], $q['update_post_meta_cache'] );
			}

			/** @var WP_Post */
			$this-&gt;post = reset( $this-&gt;posts );
		} else {
			$this-&gt;post_count = 0;
			$this-&gt;posts      = array();
		}

		if ( $q['lazy_load_term_meta'] ) {
			wp_queue_posts_for_term_meta_lazyload( $this-&gt;posts );
		}

		return $this-&gt;posts;
	}
</pre>
			</div>
			<p class="source-code-links">
				<span>
					<a href="#" class="show-complete-source">Expand full source code</a>
					<a href="#" class="less-complete-source">Collapse full source code</a>
				</span>
				<span><a href="https://core.trac.wordpress.org/browser/tags/5.8/src/wp-includes/class-wp-query.php#L1768">View on Trac</a></span>
			</p>
			</section>
	<hr />
	<section class="related">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 class="toc-heading" id="related" tabindex="-1">Related <a href="#related" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Related</span></a></h2>

					<article class="uses">
				<h3 class="toc-heading" id="uses" tabindex="-1">Uses <a href="#uses" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Uses</span></a></h3>
				<table id="uses-table">
					<caption class="screen-reader-text">Uses</caption>
					<thead>
						<tr>
							<th>Uses</th>
							<th class="related-desc">Description</th>
						</tr>
					</thead>
					<tbody>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_pre_query/index.html">posts_pre_query</a>
							</td>
							<td class="related-desc">
								<p>Filters the posts array before the query takes place.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/comment.php:</span>
								<a href="../../../functions/wp_queue_comments_for_comment_meta_lazyload/index.html">wp_queue_comments_for_comment_meta_lazyload()</a>
							</td>
							<td class="related-desc">
								<p>Queues comments for metadata lazy-loading.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/wp_queue_posts_for_term_meta_lazyload/index.html">wp_queue_posts_for_term_meta_lazyload()</a>
							</td>
							<td class="related-desc">
								<p>Queues posts for lazy-loading of term meta.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../parse_order/index.html">WP_Query::parse_order()</a>
							</td>
							<td class="related-desc">
								<p>Parse an &#8216;order&#8217; query variable and cast it to ASC or DESC as necessary.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../parse_orderby/index.html">WP_Query::parse_orderby()</a>
							</td>
							<td class="related-desc">
								<p>Converts the given orderby alias (if allowed) to a properly-prefixed value.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/capabilities.php:</span>
								<a href="../../../functions/current_user_can/index.html">current_user_can()</a>
							</td>
							<td class="related-desc">
								<p>Returns whether the current user has the specified capability.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/l10n.php:</span>
								<a href="../../../functions/__/index.html">__()</a>
							</td>
							<td class="related-desc">
								<p>Retrieve the translation of $text.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/formatting.php:</span>
								<a href="../../../functions/wp_basename/index.html">wp_basename()</a>
							</td>
							<td class="related-desc">
								<p>i18n friendly version of basename()</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/formatting.php:</span>
								<a href="../../../functions/esc_sql/index.html">esc_sql()</a>
							</td>
							<td class="related-desc">
								<p>Escapes data for use in a MySQL query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/formatting.php:</span>
								<a href="../../../functions/addslashes_gpc/index.html">addslashes_gpc()</a>
							</td>
							<td class="related-desc">
								<p>Adds slashes to escape strings.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/formatting.php:</span>
								<a href="../../../functions/sanitize_title_for_query/index.html">sanitize_title_for_query()</a>
							</td>
							<td class="related-desc">
								<p>Sanitizes a title with the &#8216;query&#8217; context.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/pluggable.php:</span>
								<a href="../../../functions/is_user_logged_in/index.html">is_user_logged_in()</a>
							</td>
							<td class="related-desc">
								<p>Determines whether the current visitor is a logged in user.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/pluggable.php:</span>
								<a href="../../../functions/get_user_by/index.html">get_user_by()</a>
							</td>
							<td class="related-desc">
								<p>Retrieve user info by a given field</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../set_found_posts/index.html">WP_Query::set_found_posts()</a>
							</td>
							<td class="related-desc">
								<p>Set up the amount of found posts and the number of pages (if limit clause was used) for the current query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_results/index.html">posts_results</a>
							</td>
							<td class="related-desc">
								<p>Filters the raw post results array, prior to status checks.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/the_preview/index.html">the_preview</a>
							</td>
							<td class="related-desc">
								<p>Filters the single post for preview mode.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/the_posts/index.html">the_posts</a>
							</td>
							<td class="related-desc">
								<p>Filters the array of retrieved posts after they&#8217;ve been fetched and internally processed.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_join_paged/index.html">posts_join_paged</a>
							</td>
							<td class="related-desc">
								<p>Filters the JOIN clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_orderby/index.html">posts_orderby</a>
							</td>
							<td class="related-desc">
								<p>Filters the ORDER BY clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_distinct/index.html">posts_distinct</a>
							</td>
							<td class="related-desc">
								<p>Filters the DISTINCT clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/post_limits/index.html">post_limits</a>
							</td>
							<td class="related-desc">
								<p>Filters the LIMIT clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_fields/index.html">posts_fields</a>
							</td>
							<td class="related-desc">
								<p>Filters the SELECT clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_clauses/index.html">posts_clauses</a>
							</td>
							<td class="related-desc">
								<p>Filters all query clauses at once, for convenience.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_selection/index.html">posts_selection</a>
							</td>
							<td class="related-desc">
								<p>Fires to announce the query&#8217;s current selection parameters.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_where_request/index.html">posts_where_request</a>
							</td>
							<td class="related-desc">
								<p>Filters the WHERE clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_groupby_request/index.html">posts_groupby_request</a>
							</td>
							<td class="related-desc">
								<p>Filters the GROUP BY clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_join_request/index.html">posts_join_request</a>
							</td>
							<td class="related-desc">
								<p>Filters the JOIN clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_orderby_request/index.html">posts_orderby_request</a>
							</td>
							<td class="related-desc">
								<p>Filters the ORDER BY clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_distinct_request/index.html">posts_distinct_request</a>
							</td>
							<td class="related-desc">
								<p>Filters the DISTINCT clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_fields_request/index.html">posts_fields_request</a>
							</td>
							<td class="related-desc">
								<p>Filters the SELECT clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/post_limits_request/index.html">post_limits_request</a>
							</td>
							<td class="related-desc">
								<p>Filters the LIMIT clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_clauses_request/index.html">posts_clauses_request</a>
							</td>
							<td class="related-desc">
								<p>Filters all query clauses at once, for convenience.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_request/index.html">posts_request</a>
							</td>
							<td class="related-desc">
								<p>Filters the completed SQL query before sending.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/split_the_query/index.html">split_the_query</a>
							</td>
							<td class="related-desc">
								<p>Filters whether to split the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_request_ids/index.html">posts_request_ids</a>
							</td>
							<td class="related-desc">
								<p>Filters the Post IDs SQL request before sending.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../set/index.html">WP_Query::set()</a>
							</td>
							<td class="related-desc">
								<p>Sets the value of a query variable.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/pre_get_posts/index.html">pre_get_posts</a>
							</td>
							<td class="related-desc">
								<p>Fires after the query variable object is created, but before the actual query is run.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_search/index.html">posts_search</a>
							</td>
							<td class="related-desc">
								<p>Filters the search SQL that is used in the WHERE clause of <a href="../index.html">WP_Query</a>.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_search_orderby/index.html">posts_search_orderby</a>
							</td>
							<td class="related-desc">
								<p>Filters the ORDER BY used when ordering search results.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_where/index.html">posts_where</a>
							</td>
							<td class="related-desc">
								<p>Filters the WHERE clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_join/index.html">posts_join</a>
							</td>
							<td class="related-desc">
								<p>Filters the JOIN clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/comment_feed_join/index.html">comment_feed_join</a>
							</td>
							<td class="related-desc">
								<p>Filters the JOIN clause of the comments feed query before sending.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/comment_feed_where/index.html">comment_feed_where</a>
							</td>
							<td class="related-desc">
								<p>Filters the WHERE clause of the comments feed query before sending.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/comment_feed_groupby/index.html">comment_feed_groupby</a>
							</td>
							<td class="related-desc">
								<p>Filters the GROUP BY clause of the comments feed query before sending.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/comment_feed_orderby/index.html">comment_feed_orderby</a>
							</td>
							<td class="related-desc">
								<p>Filters the ORDER BY clause of the comments feed query before sending.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/comment_feed_limits/index.html">comment_feed_limits</a>
							</td>
							<td class="related-desc">
								<p>Filters the LIMIT clause of the comments feed query before sending.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_where_paged/index.html">posts_where_paged</a>
							</td>
							<td class="related-desc">
								<p>Filters the WHERE clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../../../hooks/posts_groupby/index.html">posts_groupby</a>
							</td>
							<td class="related-desc">
								<p>Filters the GROUP BY clause of the query.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../parse_query/index.html">WP_Query::parse_query()</a>
							</td>
							<td class="related-desc">
								<p>Parse a query string and set query type booleans.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../fill_query_vars/index.html">WP_Query::fill_query_vars()</a>
							</td>
							<td class="related-desc">
								<p>Fills in the query variables, which do not exist within the parameter.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../parse_search/index.html">WP_Query::parse_search()</a>
							</td>
							<td class="related-desc">
								<p>Generates SQL for the WHERE clause based on passed search terms.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../parse_tax_query/index.html">WP_Query::parse_tax_query()</a>
							</td>
							<td class="related-desc">
								<p>Parses various taxonomy related query vars.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../parse_search_order/index.html">WP_Query::parse_search_order()</a>
							</td>
							<td class="related-desc">
								<p>Generates SQL for the ORDER BY condition based on passed search terms.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/load.php:</span>
								<a href="../../../functions/wp_using_ext_object_cache/index.html">wp_using_ext_object_cache()</a>
							</td>
							<td class="related-desc">
								<p>Toggle <code>$_wp_using_ext_object_cache</code> on and off without directly touching global.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/functions.php:</span>
								<a href="../../../functions/_deprecated_argument/index.html">_deprecated_argument()</a>
							</td>
							<td class="related-desc">
								<p>Mark a function argument as deprecated and inform when it has been used.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/functions.php:</span>
								<a href="../../../functions/absint/index.html">absint()</a>
							</td>
							<td class="related-desc">
								<p>Convert a value to non-negative integer.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/functions.php:</span>
								<a href="../../../functions/current_time/index.html">current_time()</a>
							</td>
							<td class="related-desc">
								<p>Retrieves the current time based on specified type.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/taxonomy.php:</span>
								<a href="../../../functions/get_term_by/index.html">get_term_by()</a>
							</td>
							<td class="related-desc">
								<p>Get all Term data from database by Term field and data.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/taxonomy.php:</span>
								<a href="../../../functions/get_object_taxonomies/index.html">get_object_taxonomies()</a>
							</td>
							<td class="related-desc">
								<p>Return the names or objects of the taxonomies which are registered for the requested object or object type, such as a post object or post type name.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-date-query.php:</span>
								<a href="../../wp_date_query/__construct/index.html">WP_Date_Query::__construct()</a>
							</td>
							<td class="related-desc">
								<p>Constructor.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/plugin.php:</span>
								<a href="../../../functions/do_action_ref_array/index.html">do_action_ref_array()</a>
							</td>
							<td class="related-desc">
								<p>Calls the callback functions that have been added to an action hook, specifying arguments in an array.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/plugin.php:</span>
								<a href="../../../functions/apply_filters_ref_array/index.html">apply_filters_ref_array()</a>
							</td>
							<td class="related-desc">
								<p>Calls the callback functions that have been added to a filter hook, specifying arguments in an array.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/plugin.php:</span>
								<a href="../../../functions/apply_filters/index.html">apply_filters()</a>
							</td>
							<td class="related-desc">
								<p>Calls the callback functions that have been added to a filter hook.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/plugin.php:</span>
								<a href="../../../functions/do_action/index.html">do_action()</a>
							</td>
							<td class="related-desc">
								<p>Calls the callback functions that have been added to an action hook.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/option.php:</span>
								<a href="../../../functions/get_option/index.html">get_option()</a>
							</td>
							<td class="related-desc">
								<p>Retrieves an option value based on an option name.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/user.php:</span>
								<a href="../../../functions/get_current_user_id/index.html">get_current_user_id()</a>
							</td>
							<td class="related-desc">
								<p>Get the current user&#8217;s ID</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/media.php:</span>
								<a href="../../../functions/get_taxonomies_for_attachments/index.html">get_taxonomies_for_attachments()</a>
							</td>
							<td class="related-desc">
								<p>Retrieves all of the taxonomies that are registered for attachments.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/_prime_post_caches/index.html">_prime_post_caches()</a>
							</td>
							<td class="related-desc">
								<p>Adds any posts from the given IDs to the cache that do not already exist in cache.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/update_post_caches/index.html">update_post_caches()</a>
							</td>
							<td class="related-desc">
								<p>Call major cache updating functions for list of Post objects.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/get_page_by_path/index.html">get_page_by_path()</a>
							</td>
							<td class="related-desc">
								<p>Retrieves a page given its path.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/wp_post_mime_type_where/index.html">wp_post_mime_type_where()</a>
							</td>
							<td class="related-desc">
								<p>Convert MIME types into SQL.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/get_posts/index.html">get_posts()</a>
							</td>
							<td class="related-desc">
								<p>Retrieves an array of the latest posts, or posts matching the given criteria.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/get_post_type_object/index.html">get_post_type_object()</a>
							</td>
							<td class="related-desc">
								<p>Retrieves a post type object by name.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/get_post/index.html">get_post()</a>
							</td>
							<td class="related-desc">
								<p>Retrieves post data given a post ID or post object.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/get_post_types/index.html">get_post_types()</a>
							</td>
							<td class="related-desc">
								<p>Get a list of all registered post type objects.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/get_post_stati/index.html">get_post_stati()</a>
							</td>
							<td class="related-desc">
								<p>Get a list of post statuses.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/get_post_status/index.html">get_post_status()</a>
							</td>
							<td class="related-desc">
								<p>Retrieve the post status based on the post ID.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/post.php:</span>
								<a href="../../../functions/get_post_status_object/index.html">get_post_status_object()</a>
							</td>
							<td class="related-desc">
								<p>Retrieve a post status object by name.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/wp-db.php:</span>
								<a href="../../wpdb/get_results/index.html">wpdb::get_results()</a>
							</td>
							<td class="related-desc">
								<p>Retrieves an entire SQL result set from the database (i.e., many rows).</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/wp-db.php:</span>
								<a href="../../wpdb/get_col/index.html">wpdb::get_col()</a>
							</td>
							<td class="related-desc">
								<p>Retrieves one column from the database.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/wp-db.php:</span>
								<a href="../../wpdb/prepare/index.html">wpdb::prepare()</a>
							</td>
							<td class="related-desc">
								<p>Prepares a SQL query for safe execution.</p>
							</td>
						</tr>
												<tr>
							<td>
								<span>wp-includes/class-wp-meta-query.php:</span>
								<a href="../../wp_meta_query/__construct/index.html">WP_Meta_Query::__construct()</a>
							</td>
							<td class="related-desc">
								<p>Constructor.</p>
							</td>
						</tr>
											<tbody>
				</table>

								<a href="#" class="show-more">Show 77 more uses</a>
				<a href="#" class="hide-more">Hide more uses</a>
							</article>
		
					<hr />
			<article class="used-by">
				<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h3 class="toc-heading" id="used-by" tabindex="-1">Used By <a href="#used-by" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Used By</span></a></h3>
				<table id="used-by-table">
					<caption class="screen-reader-text">Used By</caption>
					<thead>
						<tr>
							<th>Used By</th>
							<th class="related-desc">Description</th>
						</tr>
					</thead>
					<tbody>
												<tr>
							<td>
								<span>wp-includes/class-wp-query.php:</span>
								<a href="../query/index.html">WP_Query::query()</a>
							</td>
							<td class="related-desc">
								<p>Sets up the WordPress query by parsing query string.</p>
							</td>
						</tr>
											<tbody>
				</table>

							</article>
			</section>
		<hr />
	<section class="changelog">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 class="toc-heading" id="changelog" tabindex="-1">Changelog <a href="#changelog" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Changelog</span></a></h2>

		<table>
			<caption class="screen-reader-text">Changelog</caption>
			<thead>
				<tr>
					<th class="changelog-version">Version</th>
					<th class="changelog-desc">Description</th>
				</tr>
			</thead>

			<tbody>
									
					<tr>
						<td><a href="../../../since/1.5.0/index.html" alt="WordPress 1.5.0">1.5.0</a></td>
						<td>Introduced.</td>
					</tr>
							</tbody>
		</table>
	</section>

	<hr />
	<section class="user-notes">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 class="toc-heading" id="user-contributed-notes" tabindex="-1">User Contributed Notes <a href="#user-contributed-notes" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">User Contributed Notes</span></a></h2>
		
<div id="comments" class="comments-area">

	
	
			<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small></small></h3><p>You must <a href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2Fwp_query%2Fget_posts%2F%23respond">log in</a> before being able to contribute a note or feedback.</p>	</div><!-- #respond -->
		
	
</div><!-- #comments -->
	</section>
</div>

</article>

			
		
		</main><!-- #main -->
	</div><!-- #primary -->
	</div><!-- #content -->

</div><!-- #page -->


<div id="wporg-footer">
	<div class="wrapper">
		<ul>
			<li><a href="http://wordpress.org/about/" title="An introduction to the WordPress project">About</a></li>
			<li><a href="http://wordpress.org/news/" title="News and Updates">Blog</a></li>
			<li><a href="http://wordpress.org/hosting/" title="Recommended web hosting providers">Hosting</a></li>
			<li><a href="https://wordpressfoundation.org/donate/" title="Donate to the WordPress Foundation">Donate</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/support/" title="Forums, documentation, and other resources">Support</a></li>
			<li><a href="../../../../index.html" title="Resources for WordPress developers">Developers</a></li>
			<li><a href="http://make.wordpress.org/" title="Give back to WordPress through code, support, translation and more">Get Involved</a></li>
			<li><a href="http://learn.wordpress.org/" title="Workshops and training materials">Learn</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/showcase/" title="Some of the best WordPress sites on the Web">Showcase</a></li>
			<li><a href="http://wordpress.org/plugins/" title="Add extra functionality to WordPress">Plugins</a></li>
			<li><a href="http://wordpress.org/themes/" title="Make your WordPress pretty">Themes</a></li>
		</ul>

		<ul>
			<li><a href="http://central.wordcamp.org/" title="Find a WordPress event near you">WordCamp</a></li>
			<li><a href="http://wordpress.tv/" title="Videos, tutorials, and WordCamp sessions">WordPress.TV</a></li>
			<li><a href="http://buddypress.org/" title="A set of plugins to transform your WordPress into a social network">BuddyPress</a></li>
			<li><a href="http://bbpress.org/" title="Fast, slick forums built on WordPress">bbPress</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.com/?ref=wporg-footer" title="Hassle-free WordPress hosting">WordPress.com</a></li>
			<li><a href="http://ma.tt/" title="Co-founder of WordPress, an example of what WordPress can do">Matt</a></li>
			<li><a href="http://wordpress.org/about/privacy/" title="WordPress.org Privacy Policy">Privacy</a></li>
			<li><a href="https://publiccode.eu/" target="_blank">Public Code</a></li>
		</ul>

		<ul class="social-media-links">
			<li><span class="dashicons dashicons-twitter"></span><a href="https://twitter.com/WordPress" title="Follow @WordPress on Twitter">@WordPress</a></li>
			<li><span class="dashicons dashicons-facebook"></span><a href="https://www.facebook.com/WordPress/" title="Like WordPress on Facebook">WordPress</a></li>
		</ul>
	</div>

		<p class="cip cip-image">Code is Poetry.</p>
</div>

<script src="../../../../../s.w.org/style/js/navigation.min.js?20190128"></script>

<link rel='stylesheet' id='buttons-css'  href='../../../../wp-includes/css/buttons.min.css?ver=5.9-alpha-51701' type='text/css' media='all' />
<script type='text/javascript' src='../../../../wp-includes/js/hoverintent-js.min.js?ver=2.2.1' id='hoverintent-js-js'></script>
<script type='text/javascript' src='../../../../wp-includes/js/admin-bar.min.js?ver=5.9-alpha-51701' id='admin-bar-js'></script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/navigation.js?ver=20181209' id='wporg-developer-navigation-js'></script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/skip-link-focus-fix.js?ver=20130115' id='wporg-developer-skip-link-focus-fix-js'></script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/search.js?ver=20150430' id='wporg-developer-search-js'></script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/menu.js?ver=20180201' id='wporg-developer-menu-js'></script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/awesomplete.min.js?ver=20160322' id='awesomplete-js'></script>
<script type='text/javascript' id='autocomplete-js-extra'>
/* <![CDATA[ */
var autocomplete = {"ajaxurl":"https:\/\/developer.wordpress.org\/wp-admin\/admin-ajax.php","nonce":"8a60f70c4b"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/autocomplete.js?ver=20160524' id='autocomplete-js'></script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/function-reference.js?ver=20180724' id='wporg-developer-function-reference-js'></script>
<script type='text/javascript' id='quicktags-js-extra'>
/* <![CDATA[ */
var quicktagsL10n = {"closeAllOpenTags":"Close all open tags","closeTags":"close tags","enterURL":"Enter the URL","enterImageURL":"Enter the URL of the image","enterImageDescription":"Enter a description of the image","textdirection":"text direction","toggleTextdirection":"Toggle Editor Text Direction","dfw":"Distraction-free writing mode","strong":"Bold","strongClose":"Close bold tag","em":"Italic","emClose":"Close italic tag","link":"Insert link","blockquote":"Blockquote","blockquoteClose":"Close blockquote tag","del":"Deleted text (strikethrough)","delClose":"Close deleted text tag","ins":"Inserted text","insClose":"Close inserted text tag","image":"Insert image","ul":"Bulleted list","ulClose":"Close bulleted list tag","ol":"Numbered list","olClose":"Close numbered list tag","li":"List item","liClose":"Close list item tag","code":"Code","codeClose":"Close code tag","more":"Insert Read More tag"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../../wp-includes/js/quicktags.min.js?ver=5.9-alpha-51701' id='quicktags-js'></script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/user-notes.js?ver=20200110' id='wporg-developer-user-notes-js'></script>
<script type='text/javascript' id='wporg-developer-user-notes-feedback-js-extra'>
/* <![CDATA[ */
var wporg_note_feedback = {"show":"Show Feedback","hide":"Hide Feedback"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/user-notes-feedback.js?ver=20181023' id='wporg-developer-user-notes-feedback-js'></script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/tabs.js?ver=20160824' id='wporg-developer-tabs-js'></script>
<script type='text/javascript' id='wporg-developer-preview-js-extra'>
/* <![CDATA[ */
var wporg_note_preview = {"ajaxurl":"https:\/\/developer.wordpress.org\/wp-admin\/admin-ajax.php","nonce":"504933b60e","preview":"preview note","preview_empty":"Nothing to preview","is_admin":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../../../wp-content/themes/pub/wporg-developer/js/user-notes-preview.js?ver=20200111' id='wporg-developer-preview-js'></script>
<script type='text/javascript' src='../../../../wp-includes/js/wp-embed.min.js?ver=5.9-alpha-51701' id='wp-embed-js'></script>
<script type='text/javascript' src='../../../../wp-includes/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7' id='regenerator-runtime-js'></script>
<script type='text/javascript' src='../../../../wp-includes/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0' id='wp-polyfill-js'></script>
<script type='text/javascript' src='../../../../wp-includes/js/dist/dom-ready.min.js?ver=71883072590656bf22c74c7b887df3dd' id='wp-dom-ready-js'></script>
<script type='text/javascript' src='../../../../wp-includes/js/dist/hooks.min.js?ver=a7edae857aab69d69fa10d5aef23a5de' id='wp-hooks-js'></script>
<script type='text/javascript' src='../../../../wp-includes/js/dist/i18n.min.js?ver=5f1269854226b4dd90450db411a12b79' id='wp-i18n-js'></script>
<script type='text/javascript' id='wp-i18n-js-after'>
wp.i18n.setLocaleData( { 'text direction\u0004ltr': [ 'ltr' ] } );
</script>
<script type='text/javascript' id='wp-a11y-js-translations'>
( function( domain, translations ) {
	var localeData = translations.locale_data[ domain ] || translations.locale_data.messages;
	localeData[""].domain = domain;
	wp.i18n.setLocaleData( localeData, domain );
} )( "default", { "locale_data": { "messages": { "": {} } } } );
</script>
<script type='text/javascript' src='../../../../wp-includes/js/dist/a11y.min.js?ver=0ac8327cc1c40dcfdf29716affd7ac63' id='wp-a11y-js'></script>
<script type='text/javascript' id='wplink-js-extra'>
/* <![CDATA[ */
var wpLinkL10n = {"title":"Insert\/edit link","update":"Update","save":"Add Link","noTitle":"(no title)","noMatchesFound":"No results found.","linkSelected":"Link selected.","linkInserted":"Link inserted.","minInputLength":"3"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../../wp-includes/js/wplink.min.js?ver=5.9-alpha-51701' id='wplink-js'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/ui/core.min.js?ver=1.12.1' id='jquery-ui-core-js'></script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/ui/menu.min.js?ver=1.12.1' id='jquery-ui-menu-js'></script>
<script type='text/javascript' id='jquery-ui-autocomplete-js-extra'>
/* <![CDATA[ */
var uiAutocompleteL10n = {"noResults":"No results found.","oneResult":"1 result found. Use up and down arrow keys to navigate.","manyResults":"%d results found. Use up and down arrow keys to navigate.","itemSelected":"Item selected."};
/* ]]> */
</script>
<script type='text/javascript' src='../../../../wp-includes/js/jquery/ui/autocomplete.min.js?ver=1.12.1' id='jquery-ui-autocomplete-js'></script>

		<script type="text/javascript">
		tinyMCEPreInit = {
			baseURL: "https://developer.wordpress.org/wp-includes/js/tinymce",
			suffix: ".min",
						mceInit: {},
			qtInit: {'comment':{id:"comment",buttons:"strong,em,ul,ol,li,link"}},
			ref: {plugins:"",theme:"modern",language:""},
			load_ext: function(url,lang){var sl=tinymce.ScriptLoader;sl.markDone(url+'/langs/'+lang+'.js');sl.markDone(url+'/langs/'+lang+'_dlg.js');}
		};
		</script>
				<script type="text/javascript">
		var ajaxurl = "../../../../wp-admin/admin-ajax.html";
		( function() {
			var initialized = [];
			var initialize  = function() {
				var init, id, inPostbox, $wrap;
				var readyState = document.readyState;

				if ( readyState !== 'complete' && readyState !== 'interactive' ) {
					return;
				}

				for ( id in tinyMCEPreInit.mceInit ) {
					if ( initialized.indexOf( id ) > -1 ) {
						continue;
					}

					init      = tinyMCEPreInit.mceInit[id];
					$wrap     = tinymce.$( '#wp-' + id + '-wrap' );
					inPostbox = $wrap.parents( '.postbox' ).length > 0;

					if (
						! init.wp_skip_init &&
						( $wrap.hasClass( 'tmce-active' ) || ! tinyMCEPreInit.qtInit.hasOwnProperty( id ) ) &&
						( readyState === 'complete' || ( ! inPostbox && readyState === 'interactive' ) )
					) {
						tinymce.init( init );
						initialized.push( id );

						if ( ! window.wpActiveEditor ) {
							window.wpActiveEditor = id;
						}
					}
				}
			}

			if ( typeof tinymce !== 'undefined' ) {
				if ( tinymce.Env.ie && tinymce.Env.ie < 11 ) {
					tinymce.$( '.wp-editor-wrap ' ).removeClass( 'tmce-active' ).addClass( 'html-active' );
				} else {
					if ( document.readyState === 'complete' ) {
						initialize();
					} else {
						document.addEventListener( 'readystatechange', initialize );
					}
				}
			}

			if ( typeof quicktags !== 'undefined' ) {
				for ( id in tinyMCEPreInit.qtInit ) {
					quicktags( tinyMCEPreInit.qtInit[id] );

					if ( ! window.wpActiveEditor ) {
						window.wpActiveEditor = id;
					}
				}
			}
		}());
		</script>
				<div id="wp-link-backdrop" style="display: none"></div>
		<div id="wp-link-wrap" class="wp-core-ui" style="display: none" role="dialog" aria-labelledby="link-modal-title">
		<form id="wp-link" tabindex="-1">
		<input type="hidden" id="_ajax_linking_nonce" name="_ajax_linking_nonce" value="86f5a0a85d" />		<h1 id="link-modal-title">Insert/edit link</h1>
		<button type="button" id="wp-link-close"><span class="screen-reader-text">Close</span></button>
		<div id="link-selector">
			<div id="link-options">
				<p class="howto" id="wplink-enter-url">Enter the destination URL</p>
				<div>
					<label><span>URL</span>
					<input id="wp-link-url" type="text" aria-describedby="wplink-enter-url" /></label>
				</div>
				<div class="wp-link-text-field">
					<label><span>Link Text</span>
					<input id="wp-link-text" type="text" /></label>
				</div>
				<div class="link-target">
					<label><span></span>
					<input type="checkbox" id="wp-link-target" /> Open link in a new tab</label>
				</div>
			</div>
			<p class="howto" id="wplink-link-existing-content">Or link to existing content</p>
			<div id="search-panel">
				<div class="link-search-wrapper">
					<label>
						<span class="search-label">Search</span>
						<input type="search" id="wp-link-search" class="link-search-field" autocomplete="off" aria-describedby="wplink-link-existing-content" />
						<span class="spinner"></span>
					</label>
				</div>
				<div id="search-results" class="query-results" tabindex="0">
					<ul></ul>
					<div class="river-waiting">
						<span class="spinner"></span>
					</div>
				</div>
				<div id="most-recent-results" class="query-results" tabindex="0">
					<div class="query-notice" id="query-notice-message">
						<em class="query-notice-default">No search term specified. Showing recent items.</em>
						<em class="query-notice-hint screen-reader-text">Search or use up and down arrow keys to select an item.</em>
					</div>
					<ul></ul>
					<div class="river-waiting">
						<span class="spinner"></span>
					</div>
				</div>
			</div>
		</div>
		<div class="submitbox">
			<div id="wp-link-cancel">
				<button type="button" class="button">Cancel</button>
			</div>
			<div id="wp-link-update">
				<input type="submit" value="Add Link" class="button button-primary" id="wp-link-submit" name="wp-link-submit">
			</div>
		</div>
		</form>
		</div>
		</body>

<!-- Mirrored from developer.wordpress.org/reference/classes/wp_query/get_posts/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 16:53:12 GMT -->
</html>
