<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<!-- Mirrored from developer.wordpress.org/reference/classes/_wp_editors/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:19:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<!--
<meta property="fb:page_id" content="6427302910" />
-->
<meta name="google-site-verification" content="7VWES_-rcHBcmaQis9mSYamPfNwE03f4vyTj4pfuAw0" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>_WP_Editors</title>
<meta name="referrer" content="always">

		<link href='../../../../fonts.googleapis.com/css.css?family=Open+Sans:300italic,400italic,600italic,400,300,600&amp;subset=latin,cyrillic-ext,greek-ext,greek,vietnamese,latin-ext,cyrillic' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="../../../../s.w.org/style/wp4.css?95" />

<link rel="shortcut icon" href="../../../../s.w.org/favicon.ico?2" type="image/x-icon" />
<link rel="pingback" href="../../../xmlrpc.php" /><meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='../../../../fonts.googleapis.com/index.html' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel='dns-prefetch' href='http://www.googletagmanager.com/' />
<link rel='dns-prefetch' href='http://fonts.gstatic.com/' />
<link rel="alternate" type="application/rss+xml" title="WordPress Developer Resources &raquo; Feed" href="../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="WordPress Developer Resources &raquo; Comments Feed" href="../../../comments/feed/index.html" />
<meta property="og:title" content="_WP_Editors | Class | WordPress Developer Resources" />
<meta property="og:site_name" content="WordPress Developer Resources" />
<meta property="og:type" content="website" />
<meta property="og:url" content="../../../index.html" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@WordPress" />
<meta name="description" content="Facilitates adding of the WordPress editor as used on the Write and Edit screens." />
<meta property="og:description" content="Facilitates adding of the WordPress editor as used on the Write and Edit screens." />
<link rel="alternate" type="application/rss+xml" title="WordPress Developer Resources &raquo; _WP_Editors Comments Feed" href="https://developer.wordpress.org/reference/classes/_wp_editors/feed/" />
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../../www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/developer.wordpress.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.9-alpha-51701"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='dashicons-css'  href='../../../wp-includes/css/dashicons.min.css?ver=5.9-alpha-51701' type='text/css' media='all' />
<link rel='stylesheet' id='admin-bar-css'  href='../../../wp-includes/css/admin-bar.min.css?ver=5.9-alpha-51701' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='../../../wp-includes/css/dist/block-library/style.min.css?ver=5.9-alpha-51701' type='text/css' media='all' />
<link rel='stylesheet' id='wporg-handbook-css-css'  href='../../../wp-content/plugins/handbook/stylesheets/callout-boxes.css?ver=20200121' type='text/css' media='all' />
<link rel='stylesheet' id='open-sans-css'  href='../../../../fonts.googleapis.com/css-2.css?family=Open+Sans%3A300italic%2C400italic%2C600italic%2C300%2C400%2C600&amp;subset=latin%2Clatin-ext&amp;display=fallback&amp;ver=5.9-alpha-51701' type='text/css' media='all' />
<link rel='stylesheet' id='wporg-developer-style-css'  href='../../../wp-content/themes/pub/wporg-developer/style.css?ver=3' type='text/css' media='all' />
<link rel='stylesheet' id='wp-dev-sass-compiled-css'  href='../../../wp-content/themes/pub/wporg-developer/stylesheets/main.css?ver=20200713' type='text/css' media='all' />
<link rel='stylesheet' id='awesomplete-css-css'  href='../../../wp-content/themes/pub/wporg-developer/stylesheets/awesomplete.css?ver=20160114' type='text/css' media='all' />
<link rel='stylesheet' id='autocomplete-css-css'  href='../../../wp-content/themes/pub/wporg-developer/stylesheets/autocomplete.css?ver=20171220' type='text/css' media='all' />
<link rel='stylesheet' id='syntaxhighlighter-core-css'  href='../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b' type='text/css' media='all' />
<link rel='stylesheet' id='syntaxhighlighter-theme-default-css'  href='../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b' type='text/css' media='all' />
<script type='text/javascript' src='../../../wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' src='../../../wp-content/plugins/handbook/scripts/handbook.js?ver=20150930' id='wporg-handbook-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/chapters.js?ver=20190603' id='wporg-developer-chapters-js'></script>
<script type='text/javascript' src='../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore.js?ver=3.0.9b' id='syntaxhighlighter-core-js'></script>
<script type='text/javascript' src='../../../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js?ver=3.0.9b' id='syntaxhighlighter-brush-php-js'></script>
<link rel="https://api.w.org/" href="https://developer.wordpress.org/wp-json/" /><link rel="alternate" type="application/json" href="https://developer.wordpress.org/wp-json/wp/v2/wp-parser-class/16" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc-2.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.9-alpha-51701" />
<link rel='shortlink' href='https://developer.wordpress.org/?p=16' />
<link rel="alternate" type="application/json+oembed" href="https://developer.wordpress.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2F_wp_editors%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://developer.wordpress.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2F_wp_editors%2F&amp;format=xml" />
<link rel="canonical" href="index.html">
<!-- Stream WordPress user activity plugin v3.6.2 -->
	<style>
		@media screen and (max-width: 782px) {
			#wpadminbar li#wp-admin-bar-log-in,
			#wpadminbar li#wp-admin-bar-register {
				display: block;
			}

			#wpadminbar li#wp-admin-bar-log-in a,
			#wpadminbar li#wp-admin-bar-register a {
				padding: 0 8px;
			}
		}
	</style>
		<style>
			a.github-edit {
				margin-left: .5em;
				font-size: .5em;
				vertical-align: top;
				display: inline-block;
				border: 1px solid #eeeeee;
				border-radius: 2px;
				background: #eeeeee;
				padding: .5em .6em .4em;
				color: black;
				margin-top: 0.1em;
			}
			a.github-edit > * {
				opacity: 0.6;
			}
			a.github-edit:hover > * {
				opacity: 1;
				color: black;
			}
			a.github-edit img {
				height: .8em;
			}
		</style>
		
	<script type="text/javascript">
		jQuery( '<style>.hide-if-js { display: none; }</style>' ).appendTo( 'head' );
		jQuery( function($) {
			$( 'body' ).addClass('js');
		} );
	</script>
<style type="text/css" media="print">#wpadminbar { display:none; }</style>
	<style type="text/css" media="screen">
	</style>
	<script>document.cookie='devicePixelRatio='+((window.devicePixelRatio === undefined) ? 1 : window.devicePixelRatio)+'; path=/';</script>

</head>


<body id="wordpress-org" class="wp-parser-class-template-default single single-wp-parser-class postid-16 admin-bar no-customize-support">
		<div id="wpadminbar" class="nojq nojs">
						<div class="quicklinks" id="wp-toolbar" role="navigation" aria-label="Toolbar">
				<ul id='wp-admin-bar-root-default' class="ab-top-menu"><li id='wp-admin-bar-wp-logo' class="menupop"><a class='ab-item' aria-haspopup="true" href='https://wordpress.org/about/'><span class="ab-icon" aria-hidden="true"></span><span class="screen-reader-text">About WordPress</span></a><div class="ab-sub-wrapper"><ul id='wp-admin-bar-wp-logo-default' class="ab-submenu"><li id='wp-admin-bar-about'><a class='ab-item' href='https://wordpress.org/about/'>About WordPress</a></li></ul><ul id='wp-admin-bar-wp-logo-external' class="ab-sub-secondary ab-submenu"><li id='wp-admin-bar-wporg'><a class='ab-item' href='https://wordpress.org/'>WordPress.org</a></li><li id='wp-admin-bar-documentation'><a class='ab-item' href='https://wordpress.org/support/'>Documentation</a></li><li id='wp-admin-bar-support-forums'><a class='ab-item' href='https://wordpress.org/support/forums/'>Support</a></li><li id='wp-admin-bar-feedback'><a class='ab-item' href='https://wordpress.org/support/forum/requests-and-feedback'>Feedback</a></li></ul></div></li></ul><ul id='wp-admin-bar-top-secondary' class="ab-top-secondary ab-top-menu"><li id='wp-admin-bar-search' class="admin-bar-search"><div class="ab-item ab-empty-item" tabindex="-1"><form action="https://developer.wordpress.org/" method="get" id="adminbarsearch"><input class="adminbar-input" name="s" id="adminbar-search" type="text" value="" maxlength="150" /><label for="adminbar-search" class="screen-reader-text">Search</label><input type="submit" class="adminbar-button" value="Search" /></form></div></li><li id='wp-admin-bar-log-in'><a class='ab-item' href='https://login.wordpress.org/?locale=en_US'>Log In</a></li><li id='wp-admin-bar-register'><a class='ab-item' href='https://login.wordpress.org/register?locale=en_US'>Register</a></li></ul>			</div>
					</div>

		<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<div id="wporg-header">
	<div class="wrapper">
	<h1><a href="http://wordpress.org/">WordPress.org</a></h1>				<div id="head-search">
		<form action="http://wordpress.org/search/do-search.php" method="get">
			<label for="global-search" class="screen-reader-text">Search WordPress.org for:</label>
			<input id="global-search" class="text" name="search" type="text" value="" maxlength="150" placeholder="Search WordPress.org" />
			<button type="submit" class="button"><span class="screen-reader-text">Submit</span></button>
		</form>
		</div>
				<div style="clear:both"></div>
		<button id="mobile-menu-button" aria-expanded="false"><span class="screen-reader-text">Toggle Menu</span></button>
		
<nav aria-label="Main Menu">
<ul id="wporg-header-menu">
<li class="menu-item"><a href='http://wordpress.org/showcase/' data-title='See some of the sites built on WordPress.'>Showcase</a></li>
<li class="menu-item"><a href='http://learn.wordpress.org/' data-title='Resources to help you learn more about WordPress and teach it to others.'>Learn</a></li>
<li class="menu-item"><a href='http://wordpress.org/themes/' data-title='Find just the right look for your website.'>Themes</a></li>
<li class="menu-item"><a href='http://wordpress.org/plugins/' data-title='Plugins can extend WordPress to do almost anything you can imagine.'>Plugins</a></li>
<li class="menu-item"><a href='http://wordpress.org/mobile/' data-title='Take your website on the go!'>Mobile</a></li>
<li class="menu-item"><a href='http://wordpress.org/support/' data-title='Forums, documentation, help.'>Support</a><ul class="nav-submenu"><li><a href='http://wordpress.org/support/' title='Documentation, tutorials, best practices.'>Documentation</a></li><li><a href='http://wordpress.org/support/forums/' title='Support and discussion forums.'>Forums</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://make.wordpress.org/' data-title='Contribute your knowledge.'>Get Involved</a><ul class="nav-submenu"><li><a href='http://wordpress.org/five-for-the-future/' title='How five percent is powering the next generation of the web'>Five for the Future</a></li></ul><div class="uparrow"></div></li>
<li class="menu-item"><a href='http://wordpress.org/about/' data-title='About the WordPress Organization, and where we&#039;re going.'>About</a></li>
<li class="menu-item"><a href='http://wordpress.org/news/' data-title='Come here for the latest scoop.'>Blog</a></li>
<li class="menu-item"><a href='http://wordpress.org/hosting/' data-title='Find a home for your blog.'>Hosting</a></li>
<li id="download" class="button download-button menu-item"><a href='http://wordpress.org/download/' data-title='Get it. Got it? Good.'>Get WordPress</a></li>
</ul>
</nav>
		<div style="clear:both"></div>
	</div>
</div>



<header id="masthead" class="site-header" role="banner">
		<div class="site-branding">
		<h1 class="site-title">
			<a href="../../index.html" rel="home">Code Reference</a>
		</h1>

		
		<nav id="site-navigation" class="main-navigation" role="navigation">
			<button class="menu-toggle dashicons dashicons-arrow-down-alt2" aria-controls="primary-menu" aria-expanded="false" aria-label="Primary Menu"></button>
					</nav>
	</div>
</header><!-- #masthead -->

<div id="page" class="hfeed site devhub-wrap">
	<a href="#main" class="screen-reader-text">Skip to content</a>

				<div id="inner-search">
			<div class="search-section section clear hide-if-js">


	
	<form role="search" method="get" class="searchform searchform-filtered" action="https://developer.wordpress.org/">
		<label for="search-field" class="screen-reader-text">Search for:</label>
		<input type="text" id="search-field" class="search-field" placeholder="Search &hellip;" value="" name="s">
		<button class="button button-primary button-search"><i class="dashicons dashicons-search"></i><span class="screen-reader-text">Search plugins</span></button>
	
		<div class="search-post-type">
			<span>Filter by type:</span>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-function"
						 /> Functions</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-hook"
						 /> Hooks</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-class"
						 /> Classes</label>
									<label><input type="checkbox" name="post_type[]" value="wp-parser-method"
						 /> Methods</label>
					</div>

	
	</form>

</div><!-- /search-guide -->
			<div id="inner-search-icon-container">
				<div id="inner-search-icon">
					<div class="dashicons dashicons-search"><span class="screen-reader-text">Search</span></div>
				</div>
			</div>
		</div>

		<div id="content" class="site-content">

	<div id="content-area" class="wp-parser-class-template-default single single-wp-parser-class postid-16 admin-bar no-customize-support code-reference">

		
		<div class="breadcrumb-trail breadcrumbs" itemprop="breadcrumb">
			<span class="trail-browse">Browse:</span> 
			<span class="trail-begin"><a href="../../../index.html" title="WordPress Developer Resources" rel="home">Home</a></span> <span class="sep">&#47;</span> 
			<span class="trail-inner"><a href="../../index.html" title="Reference">Reference</a></span> <span class="sep">&#47;</span> 
			<span class="trail-inner"><a href="../index.html">Classes</a></span> <span class="sep">&#47;</span> <span class="trail-end">_WP_Editors</span>
		</div>
		<main id="main" class="site-main" role="main">

		
			
<article id="post-16" class="post-16 wp-parser-class type-wp-parser-class status-publish hentry wp-parser-source-file-wp-includes_class-wp-editor-php wp-parser-package-wordpress wp-parser-since-3-3-0">

	
	
	<h1>_WP_Editors</h1>

	<section class="summary">
		<p>Facilitates adding of the WordPress editor as used on the Write and Edit screens.</p>
	</section>


	
	<div class="content-toc"><style> .toc-jump { text-align: right; font-size: 12px; } .page .toc-heading { margin-top: -50px; padding-top: 50px !important; }</style><div class="table-of-contents"><h2>Contents</h2><ul class="items"><li><a href="#source">Source</a></li>
<li><a href="#methods">Methods</a></li>
<li><a href="#changelog">Changelog</a></li>
<li><a href="#user-contributed-notes">User Contributed Notes</a></ul>
</div>
	<hr />
	<section class="source-content">
		<h2 class="toc-heading" id="source" tabindex="-1">Source <a href="#source" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Source</span></a></h2>
		<p>
			File: <a href="../../files/wp-includes/class-wp-editor.php/index.html">wp-includes/class-wp-editor.php</a>		</p>

					<div class="source-code-container">
				<pre class="brush: php; toolbar: false; first-line: 11">final class _WP_Editors {
	public static $mce_locale;

	private static $mce_settings = array();
	private static $qt_settings  = array();
	private static $plugins      = array();
	private static $qt_buttons   = array();
	private static $ext_plugins;
	private static $baseurl;
	private static $first_init;
	private static $this_tinymce       = false;
	private static $this_quicktags     = false;
	private static $has_tinymce        = false;
	private static $has_quicktags      = false;
	private static $has_medialib       = false;
	private static $editor_buttons_css = true;
	private static $drag_drop_upload   = false;
	private static $translation;
	private static $tinymce_scripts_printed = false;
	private static $link_dialog_printed     = false;

	private function __construct() {}

	/**
	 * Parse default arguments for the editor instance.
	 *
	 * @since 3.3.0
	 *
	 * @param string $editor_id HTML ID for the textarea and TinyMCE and Quicktags instances.
	 *                          Should not contain square brackets.
	 * @param array  $settings {
	 *     Array of editor arguments.
	 *
	 *     @type bool       $wpautop           Whether to use wpautop(). Default true.
	 *     @type bool       $media_buttons     Whether to show the Add Media/other media buttons.
	 *     @type string     $default_editor    When both TinyMCE and Quicktags are used, set which
	 *                                         editor is shown on page load. Default empty.
	 *     @type bool       $drag_drop_upload  Whether to enable drag &amp; drop on the editor uploading. Default false.
	 *                                         Requires the media modal.
	 *     @type string     $textarea_name     Give the textarea a unique name here. Square brackets
	 *                                         can be used here. Default $editor_id.
	 *     @type int        $textarea_rows     Number rows in the editor textarea. Default 20.
	 *     @type string|int $tabindex          Tabindex value to use. Default empty.
	 *     @type string     $tabfocus_elements The previous and next element ID to move the focus to
	 *                                         when pressing the Tab key in TinyMCE. Default ':prev,:next'.
	 *     @type string     $editor_css        Intended for extra styles for both Visual and Text editors.
	 *                                         Should include `&lt;style&gt;` tags, and can use &quot;scoped&quot;. Default empty.
	 *     @type string     $editor_class      Extra classes to add to the editor textarea element. Default empty.
	 *     @type bool       $teeny             Whether to output the minimal editor config. Examples include
	 *                                         Press This and the Comment editor. Default false.
	 *     @type bool       $dfw               Deprecated in 4.1. Unused.
	 *     @type bool|array $tinymce           Whether to load TinyMCE. Can be used to pass settings directly to
	 *                                         TinyMCE using an array. Default true.
	 *     @type bool|array $quicktags         Whether to load Quicktags. Can be used to pass settings directly to
	 *                                         Quicktags using an array. Default true.
	 * }
	 * @return array Parsed arguments array.
	 */
	public static function parse_settings( $editor_id, $settings ) {

		/**
		 * Filters the wp_editor() settings.
		 *
		 * @since 4.0.0
		 *
		 * @see _WP_Editors::parse_settings()
		 *
		 * @param array  $settings  Array of editor arguments.
		 * @param string $editor_id Unique editor identifier, e.g. 'content'. Accepts 'classic-block'
		 *                          when called from block editor's Classic block.
		 */
		$settings = apply_filters( 'wp_editor_settings', $settings, $editor_id );

		$set = wp_parse_args(
			$settings,
			array(
				// Disable autop if the current post has blocks in it.
				'wpautop'             =&gt; ! has_blocks(),
				'media_buttons'       =&gt; true,
				'default_editor'      =&gt; '',
				'drag_drop_upload'    =&gt; false,
				'textarea_name'       =&gt; $editor_id,
				'textarea_rows'       =&gt; 20,
				'tabindex'            =&gt; '',
				'tabfocus_elements'   =&gt; ':prev,:next',
				'editor_css'          =&gt; '',
				'editor_class'        =&gt; '',
				'teeny'               =&gt; false,
				'_content_editor_dfw' =&gt; false,
				'tinymce'             =&gt; true,
				'quicktags'           =&gt; true,
			)
		);

		self::$this_tinymce = ( $set['tinymce'] &amp;&amp; user_can_richedit() );

		if ( self::$this_tinymce ) {
			if ( false !== strpos( $editor_id, '[' ) ) {
				self::$this_tinymce = false;
				_deprecated_argument( 'wp_editor()', '3.9.0', 'TinyMCE editor IDs cannot have brackets.' );
			}
		}

		self::$this_quicktags = (bool) $set['quicktags'];

		if ( self::$this_tinymce ) {
			self::$has_tinymce = true;
		}

		if ( self::$this_quicktags ) {
			self::$has_quicktags = true;
		}

		if ( empty( $set['editor_height'] ) ) {
			return $set;
		}

		if ( 'content' === $editor_id &amp;&amp; empty( $set['tinymce']['wp_autoresize_on'] ) ) {
			// A cookie (set when a user resizes the editor) overrides the height.
			$cookie = (int) get_user_setting( 'ed_size' );

			if ( $cookie ) {
				$set['editor_height'] = $cookie;
			}
		}

		if ( $set['editor_height'] &lt; 50 ) {
			$set['editor_height'] = 50;
		} elseif ( $set['editor_height'] &gt; 5000 ) {
			$set['editor_height'] = 5000;
		}

		return $set;
	}

	/**
	 * Outputs the HTML for a single instance of the editor.
	 *
	 * @since 3.3.0
	 *
	 * @param string $content   Initial content for the editor.
	 * @param string $editor_id HTML ID for the textarea and TinyMCE and Quicktags instances.
	 *                          Should not contain square brackets.
	 * @param array  $settings  See _WP_Editors::parse_settings() for description.
	 */
	public static function editor( $content, $editor_id, $settings = array() ) {
		$set            = self::parse_settings( $editor_id, $settings );
		$editor_class   = ' class=&quot;' . trim( esc_attr( $set['editor_class'] ) . ' wp-editor-area' ) . '&quot;';
		$tabindex       = $set['tabindex'] ? ' tabindex=&quot;' . (int) $set['tabindex'] . '&quot;' : '';
		$default_editor = 'html';
		$buttons        = '';
		$autocomplete   = '';
		$editor_id_attr = esc_attr( $editor_id );

		if ( $set['drag_drop_upload'] ) {
			self::$drag_drop_upload = true;
		}

		if ( ! empty( $set['editor_height'] ) ) {
			$height = ' style=&quot;height: ' . (int) $set['editor_height'] . 'px&quot;';
		} else {
			$height = ' rows=&quot;' . (int) $set['textarea_rows'] . '&quot;';
		}

		if ( ! current_user_can( 'upload_files' ) ) {
			$set['media_buttons'] = false;
		}

		if ( self::$this_tinymce ) {
			$autocomplete = ' autocomplete=&quot;off&quot;';

			if ( self::$this_quicktags ) {
				$default_editor = $set['default_editor'] ? $set['default_editor'] : wp_default_editor();
				// 'html' is used for the &quot;Text&quot; editor tab.
				if ( 'html' !== $default_editor ) {
					$default_editor = 'tinymce';
				}

				$buttons .= '&lt;button type=&quot;button&quot; id=&quot;' . $editor_id_attr . '-tmce&quot; class=&quot;wp-switch-editor switch-tmce&quot;' .
					' data-wp-editor-id=&quot;' . $editor_id_attr . '&quot;&gt;' . _x( 'Visual', 'Name for the Visual editor tab' ) . &quot;&lt;/button&gt;\n&quot;;
				$buttons .= '&lt;button type=&quot;button&quot; id=&quot;' . $editor_id_attr . '-html&quot; class=&quot;wp-switch-editor switch-html&quot;' .
					' data-wp-editor-id=&quot;' . $editor_id_attr . '&quot;&gt;' . _x( 'Text', 'Name for the Text editor tab (formerly HTML)' ) . &quot;&lt;/button&gt;\n&quot;;
			} else {
				$default_editor = 'tinymce';
			}
		}

		$switch_class = 'html' === $default_editor ? 'html-active' : 'tmce-active';
		$wrap_class   = 'wp-core-ui wp-editor-wrap ' . $switch_class;

		if ( $set['_content_editor_dfw'] ) {
			$wrap_class .= ' has-dfw';
		}

		echo '&lt;div id=&quot;wp-' . $editor_id_attr . '-wrap&quot; class=&quot;' . $wrap_class . '&quot;&gt;';

		if ( self::$editor_buttons_css ) {
			wp_print_styles( 'editor-buttons' );
			self::$editor_buttons_css = false;
		}

		if ( ! empty( $set['editor_css'] ) ) {
			echo $set['editor_css'] . &quot;\n&quot;;
		}

		if ( ! empty( $buttons ) || $set['media_buttons'] ) {
			echo '&lt;div id=&quot;wp-' . $editor_id_attr . '-editor-tools&quot; class=&quot;wp-editor-tools hide-if-no-js&quot;&gt;';

			if ( $set['media_buttons'] ) {
				self::$has_medialib = true;

				if ( ! function_exists( 'media_buttons' ) ) {
					require ABSPATH . 'wp-admin/includes/media.php';
				}

				echo '&lt;div id=&quot;wp-' . $editor_id_attr . '-media-buttons&quot; class=&quot;wp-media-buttons&quot;&gt;';

				/**
				 * Fires after the default media button(s) are displayed.
				 *
				 * @since 2.5.0
				 *
				 * @param string $editor_id Unique editor identifier, e.g. 'content'.
				 */
				do_action( 'media_buttons', $editor_id );
				echo &quot;&lt;/div&gt;\n&quot;;
			}

			echo '&lt;div class=&quot;wp-editor-tabs&quot;&gt;' . $buttons . &quot;&lt;/div&gt;\n&quot;;
			echo &quot;&lt;/div&gt;\n&quot;;
		}

		$quicktags_toolbar = '';

		if ( self::$this_quicktags ) {
			if ( 'content' === $editor_id &amp;&amp; ! empty( $GLOBALS['current_screen'] ) &amp;&amp; 'post' === $GLOBALS['current_screen']-&gt;base ) {
				$toolbar_id = 'ed_toolbar';
			} else {
				$toolbar_id = 'qt_' . $editor_id_attr . '_toolbar';
			}

			$quicktags_toolbar = '&lt;div id=&quot;' . $toolbar_id . '&quot; class=&quot;quicktags-toolbar hide-if-no-js&quot;&gt;&lt;/div&gt;';
		}

		/**
		 * Filters the HTML markup output that displays the editor.
		 *
		 * @since 2.1.0
		 *
		 * @param string $output Editor's HTML markup.
		 */
		$the_editor = apply_filters(
			'the_editor',
			'&lt;div id=&quot;wp-' . $editor_id_attr . '-editor-container&quot; class=&quot;wp-editor-container&quot;&gt;' .
			$quicktags_toolbar .
			'&lt;textarea' . $editor_class . $height . $tabindex . $autocomplete . ' cols=&quot;40&quot; name=&quot;' . esc_attr( $set['textarea_name'] ) . '&quot; ' .
			'id=&quot;' . $editor_id_attr . '&quot;&gt;%s&lt;/textarea&gt;&lt;/div&gt;'
		);

		// Prepare the content for the Visual or Text editor, only when TinyMCE is used (back-compat).
		if ( self::$this_tinymce ) {
			add_filter( 'the_editor_content', 'format_for_editor', 10, 2 );
		}

		/**
		 * Filters the default editor content.
		 *
		 * @since 2.1.0
		 *
		 * @param string $content        Default editor content.
		 * @param string $default_editor The default editor for the current user.
		 *                               Either 'html' or 'tinymce'.
		 */
		$content = apply_filters( 'the_editor_content', $content, $default_editor );

		// Remove the filter as the next editor on the same page may not need it.
		if ( self::$this_tinymce ) {
			remove_filter( 'the_editor_content', 'format_for_editor' );
		}

		// Back-compat for the `htmledit_pre` and `richedit_pre` filters.
		if ( 'html' === $default_editor &amp;&amp; has_filter( 'htmledit_pre' ) ) {
			/** This filter is documented in wp-includes/deprecated.php */
			$content = apply_filters_deprecated( 'htmledit_pre', array( $content ), '4.3.0', 'format_for_editor' );
		} elseif ( 'tinymce' === $default_editor &amp;&amp; has_filter( 'richedit_pre' ) ) {
			/** This filter is documented in wp-includes/deprecated.php */
			$content = apply_filters_deprecated( 'richedit_pre', array( $content ), '4.3.0', 'format_for_editor' );
		}

		if ( false !== stripos( $content, 'textarea' ) ) {
			$content = preg_replace( '%&lt;/textarea%i', '&amp;lt;/textarea', $content );
		}

		printf( $the_editor, $content );
		echo &quot;\n&lt;/div&gt;\n\n&quot;;

		self::editor_settings( $editor_id, $set );
	}

	/**
	 * @since 3.3.0
	 *
	 * @param string $editor_id Unique editor identifier, e.g. 'content'.
	 * @param array  $set       Array of editor arguments.
	 */
	public static function editor_settings( $editor_id, $set ) {
		if ( empty( self::$first_init ) ) {
			if ( is_admin() ) {
				add_action( 'admin_print_footer_scripts', array( __CLASS__, 'editor_js' ), 50 );
				add_action( 'admin_print_footer_scripts', array( __CLASS__, 'force_uncompressed_tinymce' ), 1 );
				add_action( 'admin_print_footer_scripts', array( __CLASS__, 'enqueue_scripts' ), 1 );
			} else {
				add_action( 'wp_print_footer_scripts', array( __CLASS__, 'editor_js' ), 50 );
				add_action( 'wp_print_footer_scripts', array( __CLASS__, 'force_uncompressed_tinymce' ), 1 );
				add_action( 'wp_print_footer_scripts', array( __CLASS__, 'enqueue_scripts' ), 1 );
			}
		}

		if ( self::$this_quicktags ) {

			$qtInit = array(
				'id'      =&gt; $editor_id,
				'buttons' =&gt; '',
			);

			if ( is_array( $set['quicktags'] ) ) {
				$qtInit = array_merge( $qtInit, $set['quicktags'] );
			}

			if ( empty( $qtInit['buttons'] ) ) {
				$qtInit['buttons'] = 'strong,em,link,block,del,ins,img,ul,ol,li,code,more,close';
			}

			if ( $set['_content_editor_dfw'] ) {
				$qtInit['buttons'] .= ',dfw';
			}

			/**
			 * Filters the Quicktags settings.
			 *
			 * @since 3.3.0
			 *
			 * @param array  $qtInit    Quicktags settings.
			 * @param string $editor_id Unique editor identifier, e.g. 'content'.
			 */
			$qtInit = apply_filters( 'quicktags_settings', $qtInit, $editor_id );

			self::$qt_settings[ $editor_id ] = $qtInit;

			self::$qt_buttons = array_merge( self::$qt_buttons, explode( ',', $qtInit['buttons'] ) );
		}

		if ( self::$this_tinymce ) {

			if ( empty( self::$first_init ) ) {
				$baseurl     = self::get_baseurl();
				$mce_locale  = self::get_mce_locale();
				$ext_plugins = '';

				if ( $set['teeny'] ) {

					/**
					 * Filters the list of teenyMCE plugins.
					 *
					 * @since 2.7.0
					 * @since 3.3.0 The `$editor_id` parameter was added.
					 *
					 * @param array  $plugins   An array of teenyMCE plugins.
					 * @param string $editor_id Unique editor identifier, e.g. 'content'.
					 */
					$plugins = apply_filters(
						'teeny_mce_plugins',
						array(
							'colorpicker',
							'lists',
							'fullscreen',
							'image',
							'wordpress',
							'wpeditimage',
							'wplink',
						),
						$editor_id
					);
				} else {

					/**
					 * Filters the list of TinyMCE external plugins.
					 *
					 * The filter takes an associative array of external plugins for
					 * TinyMCE in the form 'plugin_name' =&gt; 'url'.
					 *
					 * The url should be absolute, and should include the js filename
					 * to be loaded. For example:
					 * 'myplugin' =&gt; 'http://mysite.com/wp-content/plugins/myfolder/mce_plugin.js'.
					 *
					 * If the external plugin adds a button, it should be added with
					 * one of the 'mce_buttons' filters.
					 *
					 * @since 2.5.0
					 * @since 5.3.0 The `$editor_id` parameter was added.
					 *
					 * @param array  $external_plugins An array of external TinyMCE plugins.
					 * @param string $editor_id        Unique editor identifier, e.g. 'content'. Accepts 'classic-block'
					 *                                 when called from block editor's Classic block.
					 */
					$mce_external_plugins = apply_filters( 'mce_external_plugins', array(), $editor_id );

					$plugins = array(
						'charmap',
						'colorpicker',
						'hr',
						'lists',
						'media',
						'paste',
						'tabfocus',
						'textcolor',
						'fullscreen',
						'wordpress',
						'wpautoresize',
						'wpeditimage',
						'wpemoji',
						'wpgallery',
						'wplink',
						'wpdialogs',
						'wptextpattern',
						'wpview',
					);

					if ( ! self::$has_medialib ) {
						$plugins[] = 'image';
					}

					/**
					 * Filters the list of default TinyMCE plugins.
					 *
					 * The filter specifies which of the default plugins included
					 * in WordPress should be added to the TinyMCE instance.
					 *
					 * @since 3.3.0
					 * @since 5.3.0 The `$editor_id` parameter was added.
					 *
					 * @param array  $plugins   An array of default TinyMCE plugins.
					 * @param string $editor_id Unique editor identifier, e.g. 'content'. Accepts 'classic-block'
					 *                          when called from block editor's Classic block.
					 */
					$plugins = array_unique( apply_filters( 'tiny_mce_plugins', $plugins, $editor_id ) );

					$key = array_search( 'spellchecker', $plugins, true );
					if ( false !== $key ) {
						// Remove 'spellchecker' from the internal plugins if added with 'tiny_mce_plugins' filter to prevent errors.
						// It can be added with 'mce_external_plugins'.
						unset( $plugins[ $key ] );
					}

					if ( ! empty( $mce_external_plugins ) ) {

						/**
						 * Filters the translations loaded for external TinyMCE 3.x plugins.
						 *
						 * The filter takes an associative array ('plugin_name' =&gt; 'path')
						 * where 'path' is the include path to the file.
						 *
						 * The language file should follow the same format as wp_mce_translation(),
						 * and should define a variable ($strings) that holds all translated strings.
						 *
						 * @since 2.5.0
						 * @since 5.3.0 The `$editor_id` parameter was added.
						 *
						 * @param array  $translations Translations for external TinyMCE plugins.
						 * @param string $editor_id    Unique editor identifier, e.g. 'content'.
						 */
						$mce_external_languages = apply_filters( 'mce_external_languages', array(), $editor_id );

						$loaded_langs = array();
						$strings      = '';

						if ( ! empty( $mce_external_languages ) ) {
							foreach ( $mce_external_languages as $name =&gt; $path ) {
								if ( @is_file( $path ) &amp;&amp; @is_readable( $path ) ) {
									include_once $path;
									$ext_plugins   .= $strings . &quot;\n&quot;;
									$loaded_langs[] = $name;
								}
							}
						}

						foreach ( $mce_external_plugins as $name =&gt; $url ) {
							if ( in_array( $name, $plugins, true ) ) {
								unset( $mce_external_plugins[ $name ] );
								continue;
							}

							$url                           = set_url_scheme( $url );
							$mce_external_plugins[ $name ] = $url;
							$plugurl                       = dirname( $url );
							$strings                       = '';

							// Try to load langs/[locale].js and langs/[locale]_dlg.js.
							if ( ! in_array( $name, $loaded_langs, true ) ) {
								$path = str_replace( content_url(), '', $plugurl );
								$path = WP_CONTENT_DIR . $path . '/langs/';

								$path = trailingslashit( realpath( $path ) );

								if ( @is_file( $path . $mce_locale . '.js' ) ) {
									$strings .= @file_get_contents( $path . $mce_locale . '.js' ) . &quot;\n&quot;;
								}

								if ( @is_file( $path . $mce_locale . '_dlg.js' ) ) {
									$strings .= @file_get_contents( $path . $mce_locale . '_dlg.js' ) . &quot;\n&quot;;
								}

								if ( 'en' !== $mce_locale &amp;&amp; empty( $strings ) ) {
									if ( @is_file( $path . 'en.js' ) ) {
										$str1     = @file_get_contents( $path . 'en.js' );
										$strings .= preg_replace( '/([\'&quot;])en\./', '$1' . $mce_locale . '.', $str1, 1 ) . &quot;\n&quot;;
									}

									if ( @is_file( $path . 'en_dlg.js' ) ) {
										$str2     = @file_get_contents( $path . 'en_dlg.js' );
										$strings .= preg_replace( '/([\'&quot;])en\./', '$1' . $mce_locale . '.', $str2, 1 ) . &quot;\n&quot;;
									}
								}

								if ( ! empty( $strings ) ) {
									$ext_plugins .= &quot;\n&quot; . $strings . &quot;\n&quot;;
								}
							}

							$ext_plugins .= 'tinyMCEPreInit.load_ext(&quot;' . $plugurl . '&quot;, &quot;' . $mce_locale . '&quot;);' . &quot;\n&quot;;
						}
					}
				}

				self::$plugins     = $plugins;
				self::$ext_plugins = $ext_plugins;

				$settings            = self::default_settings();
				$settings['plugins'] = implode( ',', $plugins );

				if ( ! empty( $mce_external_plugins ) ) {
					$settings['external_plugins'] = wp_json_encode( $mce_external_plugins );
				}

				/** This filter is documented in wp-admin/includes/media.php */
				if ( apply_filters( 'disable_captions', '' ) ) {
					$settings['wpeditimage_disable_captions'] = true;
				}

				$mce_css = $settings['content_css'];

				/*
				 * The `editor-style.css` added by the theme is generally intended for the editor instance on the Edit Post screen.
				 * Plugins that use wp_editor() on the front-end can decide whether to add the theme stylesheet
				 * by using `get_editor_stylesheets()` and the `mce_css` or `tiny_mce_before_init` filters, see below.
				 */
				if ( is_admin() ) {
					$editor_styles = get_editor_stylesheets();

					if ( ! empty( $editor_styles ) ) {
						// Force urlencoding of commas.
						foreach ( $editor_styles as $key =&gt; $url ) {
							if ( strpos( $url, ',' ) !== false ) {
								$editor_styles[ $key ] = str_replace( ',', '%2C', $url );
							}
						}

						$mce_css .= ',' . implode( ',', $editor_styles );
					}
				}

				/**
				 * Filters the comma-delimited list of stylesheets to load in TinyMCE.
				 *
				 * @since 2.1.0
				 *
				 * @param string $stylesheets Comma-delimited list of stylesheets.
				 */
				$mce_css = trim( apply_filters( 'mce_css', $mce_css ), ' ,' );

				if ( ! empty( $mce_css ) ) {
					$settings['content_css'] = $mce_css;
				} else {
					unset( $settings['content_css'] );
				}

				self::$first_init = $settings;
			}

			if ( $set['teeny'] ) {
				$mce_buttons = array(
					'bold',
					'italic',
					'underline',
					'blockquote',
					'strikethrough',
					'bullist',
					'numlist',
					'alignleft',
					'aligncenter',
					'alignright',
					'undo',
					'redo',
					'link',
					'fullscreen',
				);

				/**
				 * Filters the list of teenyMCE buttons (Text tab).
				 *
				 * @since 2.7.0
				 * @since 3.3.0 The `$editor_id` parameter was added.
				 *
				 * @param array  $mce_buttons An array of teenyMCE buttons.
				 * @param string $editor_id   Unique editor identifier, e.g. 'content'.
				 */
				$mce_buttons   = apply_filters( 'teeny_mce_buttons', $mce_buttons, $editor_id );
				$mce_buttons_2 = array();
				$mce_buttons_3 = array();
				$mce_buttons_4 = array();
			} else {
				$mce_buttons = array(
					'formatselect',
					'bold',
					'italic',
					'bullist',
					'numlist',
					'blockquote',
					'alignleft',
					'aligncenter',
					'alignright',
					'link',
					'wp_more',
					'spellchecker',
				);

				if ( ! wp_is_mobile() ) {
					if ( $set['_content_editor_dfw'] ) {
						$mce_buttons[] = 'wp_adv';
						$mce_buttons[] = 'dfw';
					} else {
						$mce_buttons[] = 'fullscreen';
						$mce_buttons[] = 'wp_adv';
					}
				} else {
					$mce_buttons[] = 'wp_adv';
				}

				/**
				 * Filters the first-row list of TinyMCE buttons (Visual tab).
				 *
				 * @since 2.0.0
				 * @since 3.3.0 The `$editor_id` parameter was added.
				 *
				 * @param array  $mce_buttons First-row list of buttons.
				 * @param string $editor_id   Unique editor identifier, e.g. 'content'. Accepts 'classic-block'
				 *                            when called from block editor's Classic block.
				 */
				$mce_buttons = apply_filters( 'mce_buttons', $mce_buttons, $editor_id );

				$mce_buttons_2 = array(
					'strikethrough',
					'hr',
					'forecolor',
					'pastetext',
					'removeformat',
					'charmap',
					'outdent',
					'indent',
					'undo',
					'redo',
				);

				if ( ! wp_is_mobile() ) {
					$mce_buttons_2[] = 'wp_help';
				}

				/**
				 * Filters the second-row list of TinyMCE buttons (Visual tab).
				 *
				 * @since 2.0.0
				 * @since 3.3.0 The `$editor_id` parameter was added.
				 *
				 * @param array  $mce_buttons_2 Second-row list of buttons.
				 * @param string $editor_id     Unique editor identifier, e.g. 'content'. Accepts 'classic-block'
				 *                              when called from block editor's Classic block.
				 */
				$mce_buttons_2 = apply_filters( 'mce_buttons_2', $mce_buttons_2, $editor_id );

				/**
				 * Filters the third-row list of TinyMCE buttons (Visual tab).
				 *
				 * @since 2.0.0
				 * @since 3.3.0 The `$editor_id` parameter was added.
				 *
				 * @param array  $mce_buttons_3 Third-row list of buttons.
				 * @param string $editor_id     Unique editor identifier, e.g. 'content'. Accepts 'classic-block'
				 *                              when called from block editor's Classic block.
				 */
				$mce_buttons_3 = apply_filters( 'mce_buttons_3', array(), $editor_id );

				/**
				 * Filters the fourth-row list of TinyMCE buttons (Visual tab).
				 *
				 * @since 2.5.0
				 * @since 3.3.0 The `$editor_id` parameter was added.
				 *
				 * @param array  $mce_buttons_4 Fourth-row list of buttons.
				 * @param string $editor_id     Unique editor identifier, e.g. 'content'. Accepts 'classic-block'
				 *                              when called from block editor's Classic block.
				 */
				$mce_buttons_4 = apply_filters( 'mce_buttons_4', array(), $editor_id );
			}

			$body_class = $editor_id;

			$post = get_post();
			if ( $post ) {
				$body_class .= ' post-type-' . sanitize_html_class( $post-&gt;post_type ) . ' post-status-' . sanitize_html_class( $post-&gt;post_status );

				if ( post_type_supports( $post-&gt;post_type, 'post-formats' ) ) {
					$post_format = get_post_format( $post );
					if ( $post_format &amp;&amp; ! is_wp_error( $post_format ) ) {
						$body_class .= ' post-format-' . sanitize_html_class( $post_format );
					} else {
						$body_class .= ' post-format-standard';
					}
				}

				$page_template = get_page_template_slug( $post );

				if ( false !== $page_template ) {
					$page_template = empty( $page_template ) ? 'default' : str_replace( '.', '-', basename( $page_template, '.php' ) );
					$body_class   .= ' page-template-' . sanitize_html_class( $page_template );
				}
			}

			$body_class .= ' locale-' . sanitize_html_class( strtolower( str_replace( '_', '-', get_user_locale() ) ) );

			if ( ! empty( $set['tinymce']['body_class'] ) ) {
				$body_class .= ' ' . $set['tinymce']['body_class'];
				unset( $set['tinymce']['body_class'] );
			}

			$mceInit = array(
				'selector'          =&gt; &quot;#$editor_id&quot;,
				'wpautop'           =&gt; (bool) $set['wpautop'],
				'indent'            =&gt; ! $set['wpautop'],
				'toolbar1'          =&gt; implode( ',', $mce_buttons ),
				'toolbar2'          =&gt; implode( ',', $mce_buttons_2 ),
				'toolbar3'          =&gt; implode( ',', $mce_buttons_3 ),
				'toolbar4'          =&gt; implode( ',', $mce_buttons_4 ),
				'tabfocus_elements' =&gt; $set['tabfocus_elements'],
				'body_class'        =&gt; $body_class,
			);

			// Merge with the first part of the init array.
			$mceInit = array_merge( self::$first_init, $mceInit );

			if ( is_array( $set['tinymce'] ) ) {
				$mceInit = array_merge( $mceInit, $set['tinymce'] );
			}

			/*
			 * For people who really REALLY know what they're doing with TinyMCE
			 * You can modify $mceInit to add, remove, change elements of the config
			 * before tinyMCE.init. Setting &quot;valid_elements&quot;, &quot;invalid_elements&quot;
			 * and &quot;extended_valid_elements&quot; can be done through this filter. Best
			 * is to use the default cleanup by not specifying valid_elements,
			 * as TinyMCE checks against the full set of HTML 5.0 elements and attributes.
			 */
			if ( $set['teeny'] ) {

				/**
				 * Filters the teenyMCE config before init.
				 *
				 * @since 2.7.0
				 * @since 3.3.0 The `$editor_id` parameter was added.
				 *
				 * @param array  $mceInit   An array with teenyMCE config.
				 * @param string $editor_id Unique editor identifier, e.g. 'content'.
				 */
				$mceInit = apply_filters( 'teeny_mce_before_init', $mceInit, $editor_id );
			} else {

				/**
				 * Filters the TinyMCE config before init.
				 *
				 * @since 2.5.0
				 * @since 3.3.0 The `$editor_id` parameter was added.
				 *
				 * @param array  $mceInit   An array with TinyMCE config.
				 * @param string $editor_id Unique editor identifier, e.g. 'content'. Accepts 'classic-block'
				 *                          when called from block editor's Classic block.
				 */
				$mceInit = apply_filters( 'tiny_mce_before_init', $mceInit, $editor_id );
			}

			if ( empty( $mceInit['toolbar3'] ) &amp;&amp; ! empty( $mceInit['toolbar4'] ) ) {
				$mceInit['toolbar3'] = $mceInit['toolbar4'];
				$mceInit['toolbar4'] = '';
			}

			self::$mce_settings[ $editor_id ] = $mceInit;
		} // End if self::$this_tinymce.
	}

	/**
	 * @since 3.3.0
	 *
	 * @param array $init
	 * @return string
	 */
	private static function _parse_init( $init ) {
		$options = '';

		foreach ( $init as $key =&gt; $value ) {
			if ( is_bool( $value ) ) {
				$val      = $value ? 'true' : 'false';
				$options .= $key . ':' . $val . ',';
				continue;
			} elseif ( ! empty( $value ) &amp;&amp; is_string( $value ) &amp;&amp; (
				( '{' === $value[0] &amp;&amp; '}' === $value[ strlen( $value ) - 1 ] ) ||
				( '[' === $value[0] &amp;&amp; ']' === $value[ strlen( $value ) - 1 ] ) ||
				preg_match( '/^\(?function ?\(/', $value ) ) ) {

				$options .= $key . ':' . $value . ',';
				continue;
			}
			$options .= $key . ':&quot;' . $value . '&quot;,';
		}

		return '{' . trim( $options, ' ,' ) . '}';
	}

	/**
	 * @since 3.3.0
	 *
	 * @param bool $default_scripts Optional. Whether default scripts should be enqueued. Default false.
	 */
	public static function enqueue_scripts( $default_scripts = false ) {
		if ( $default_scripts || self::$has_tinymce ) {
			wp_enqueue_script( 'editor' );
		}

		if ( $default_scripts || self::$has_quicktags ) {
			wp_enqueue_script( 'quicktags' );
			wp_enqueue_style( 'buttons' );
		}

		if ( $default_scripts || in_array( 'wplink', self::$plugins, true ) || in_array( 'link', self::$qt_buttons, true ) ) {
			wp_enqueue_script( 'wplink' );
			wp_enqueue_script( 'jquery-ui-autocomplete' );
		}

		if ( self::$has_medialib ) {
			add_thickbox();
			wp_enqueue_script( 'media-upload' );
			wp_enqueue_script( 'wp-embed' );
		} elseif ( $default_scripts ) {
			wp_enqueue_script( 'media-upload' );
		}

		/**
		 * Fires when scripts and styles are enqueued for the editor.
		 *
		 * @since 3.9.0
		 *
		 * @param array $to_load An array containing boolean values whether TinyMCE
		 *                       and Quicktags are being loaded.
		 */
		do_action(
			'wp_enqueue_editor',
			array(
				'tinymce'   =&gt; ( $default_scripts || self::$has_tinymce ),
				'quicktags' =&gt; ( $default_scripts || self::$has_quicktags ),
			)
		);
	}

	/**
	 * Enqueue all editor scripts.
	 * For use when the editor is going to be initialized after page load.
	 *
	 * @since 4.8.0
	 */
	public static function enqueue_default_editor() {
		// We are past the point where scripts can be enqueued properly.
		if ( did_action( 'wp_enqueue_editor' ) ) {
			return;
		}

		self::enqueue_scripts( true );

		// Also add wp-includes/css/editor.css.
		wp_enqueue_style( 'editor-buttons' );

		if ( is_admin() ) {
			add_action( 'admin_print_footer_scripts', array( __CLASS__, 'force_uncompressed_tinymce' ), 1 );
			add_action( 'admin_print_footer_scripts', array( __CLASS__, 'print_default_editor_scripts' ), 45 );
		} else {
			add_action( 'wp_print_footer_scripts', array( __CLASS__, 'force_uncompressed_tinymce' ), 1 );
			add_action( 'wp_print_footer_scripts', array( __CLASS__, 'print_default_editor_scripts' ), 45 );
		}
	}

	/**
	 * Print (output) all editor scripts and default settings.
	 * For use when the editor is going to be initialized after page load.
	 *
	 * @since 4.8.0
	 */
	public static function print_default_editor_scripts() {
		$user_can_richedit = user_can_richedit();

		if ( $user_can_richedit ) {
			$settings = self::default_settings();

			$settings['toolbar1']    = 'bold,italic,bullist,numlist,link';
			$settings['wpautop']     = false;
			$settings['indent']      = true;
			$settings['elementpath'] = false;

			if ( is_rtl() ) {
				$settings['directionality'] = 'rtl';
			}

			/*
			 * In production all plugins are loaded (they are in wp-editor.js.gz).
			 * The 'wpview', 'wpdialogs', and 'media' TinyMCE plugins are not initialized by default.
			 * Can be added from js by using the 'wp-before-tinymce-init' event.
			 */
			$settings['plugins'] = implode(
				',',
				array(
					'charmap',
					'colorpicker',
					'hr',
					'lists',
					'paste',
					'tabfocus',
					'textcolor',
					'fullscreen',
					'wordpress',
					'wpautoresize',
					'wpeditimage',
					'wpemoji',
					'wpgallery',
					'wplink',
					'wptextpattern',
				)
			);

			$settings = self::_parse_init( $settings );
		} else {
			$settings = '{}';
		}

		?&gt;
		&lt;script type=&quot;text/javascript&quot;&gt;
		window.wp = window.wp || {};
		window.wp.editor = window.wp.editor || {};
		window.wp.editor.getDefaultSettings = function() {
			return {
				tinymce: &lt;?php echo $settings; ?&gt;,
				quicktags: {
					buttons: 'strong,em,link,ul,ol,li,code'
				}
			};
		};

		&lt;?php

		if ( $user_can_richedit ) {
			$suffix  = SCRIPT_DEBUG ? '' : '.min';
			$baseurl = self::get_baseurl();

			?&gt;
			var tinyMCEPreInit = {
				baseURL: &quot;&lt;?php echo $baseurl; ?&gt;&quot;,
				suffix: &quot;&lt;?php echo $suffix; ?&gt;&quot;,
				mceInit: {},
				qtInit: {},
				load_ext: function(url,lang){var sl=tinymce.ScriptLoader;sl.markDone(url+'/langs/'+lang+'.js');sl.markDone(url+'/langs/'+lang+'_dlg.js');}
			};
			&lt;?php
		}
		?&gt;
		&lt;/script&gt;
		&lt;?php

		if ( $user_can_richedit ) {
			self::print_tinymce_scripts();
		}

		/**
		 * Fires when the editor scripts are loaded for later initialization,
		 * after all scripts and settings are printed.
		 *
		 * @since 4.8.0
		 */
		do_action( 'print_default_editor_scripts' );

		self::wp_link_dialog();
	}

	/**
	 * Returns the TinyMCE locale.
	 *
	 * @since 4.8.0
	 *
	 * @return string
	 */
	public static function get_mce_locale() {
		if ( empty( self::$mce_locale ) ) {
			$mce_locale       = get_user_locale();
			self::$mce_locale = empty( $mce_locale ) ? 'en' : strtolower( substr( $mce_locale, 0, 2 ) ); // ISO 639-1.
		}

		return self::$mce_locale;
	}

	/**
	 * Returns the TinyMCE base URL.
	 *
	 * @since 4.8.0
	 *
	 * @return string
	 */
	public static function get_baseurl() {
		if ( empty( self::$baseurl ) ) {
			self::$baseurl = includes_url( 'js/tinymce' );
		}

		return self::$baseurl;
	}

	/**
	 * Returns the default TinyMCE settings.
	 * Doesn't include plugins, buttons, editor selector.
	 *
	 * @since 4.8.0
	 *
	 * @global string $tinymce_version
	 *
	 * @return array
	 */
	private static function default_settings() {
		global $tinymce_version;

		$shortcut_labels = array();

		foreach ( self::get_translation() as $name =&gt; $value ) {
			if ( is_array( $value ) ) {
				$shortcut_labels[ $name ] = $value[1];
			}
		}

		$settings = array(
			'theme'                        =&gt; 'modern',
			'skin'                         =&gt; 'lightgray',
			'language'                     =&gt; self::get_mce_locale(),
			'formats'                      =&gt; '{' .
				'alignleft: [' .
					'{selector: &quot;p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li&quot;, styles: {textAlign:&quot;left&quot;}},' .
					'{selector: &quot;img,table,dl.wp-caption&quot;, classes: &quot;alignleft&quot;}' .
				'],' .
				'aligncenter: [' .
					'{selector: &quot;p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li&quot;, styles: {textAlign:&quot;center&quot;}},' .
					'{selector: &quot;img,table,dl.wp-caption&quot;, classes: &quot;aligncenter&quot;}' .
				'],' .
				'alignright: [' .
					'{selector: &quot;p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li&quot;, styles: {textAlign:&quot;right&quot;}},' .
					'{selector: &quot;img,table,dl.wp-caption&quot;, classes: &quot;alignright&quot;}' .
				'],' .
				'strikethrough: {inline: &quot;del&quot;}' .
			'}',
			'relative_urls'                =&gt; false,
			'remove_script_host'           =&gt; false,
			'convert_urls'                 =&gt; false,
			'browser_spellcheck'           =&gt; true,
			'fix_list_elements'            =&gt; true,
			'entities'                     =&gt; '38,amp,60,lt,62,gt',
			'entity_encoding'              =&gt; 'raw',
			'keep_styles'                  =&gt; false,
			'cache_suffix'                 =&gt; 'wp-mce-' . $tinymce_version,
			'resize'                       =&gt; 'vertical',
			'menubar'                      =&gt; false,
			'branding'                     =&gt; false,

			// Limit the preview styles in the menu/toolbar.
			'preview_styles'               =&gt; 'font-family font-size font-weight font-style text-decoration text-transform',

			'end_container_on_empty_block' =&gt; true,
			'wpeditimage_html5_captions'   =&gt; true,
			'wp_lang_attr'                 =&gt; get_bloginfo( 'language' ),
			'wp_keep_scroll_position'      =&gt; false,
			'wp_shortcut_labels'           =&gt; wp_json_encode( $shortcut_labels ),
		);

		$suffix  = SCRIPT_DEBUG ? '' : '.min';
		$version = 'ver=' . get_bloginfo( 'version' );

		// Default stylesheets.
		$settings['content_css'] = includes_url( &quot;css/dashicons$suffix.css?$version&quot; ) . ',' .
			includes_url( &quot;js/tinymce/skins/wordpress/wp-content.css?$version&quot; );

		return $settings;
	}

	/**
	 * @since 4.7.0
	 *
	 * @return array
	 */
	private static function get_translation() {
		if ( empty( self::$translation ) ) {
			self::$translation = array(
				// Default TinyMCE strings.
				'New document'                         =&gt; __( 'New document' ),
				'Formats'                              =&gt; _x( 'Formats', 'TinyMCE' ),

				'Headings'                             =&gt; _x( 'Headings', 'TinyMCE' ),
				'Heading 1'                            =&gt; array( __( 'Heading 1' ), 'access1' ),
				'Heading 2'                            =&gt; array( __( 'Heading 2' ), 'access2' ),
				'Heading 3'                            =&gt; array( __( 'Heading 3' ), 'access3' ),
				'Heading 4'                            =&gt; array( __( 'Heading 4' ), 'access4' ),
				'Heading 5'                            =&gt; array( __( 'Heading 5' ), 'access5' ),
				'Heading 6'                            =&gt; array( __( 'Heading 6' ), 'access6' ),

				/* translators: Block tags. */
				'Blocks'                               =&gt; _x( 'Blocks', 'TinyMCE' ),
				'Paragraph'                            =&gt; array( __( 'Paragraph' ), 'access7' ),
				'Blockquote'                           =&gt; array( __( 'Blockquote' ), 'accessQ' ),
				'Div'                                  =&gt; _x( 'Div', 'HTML tag' ),
				'Pre'                                  =&gt; _x( 'Pre', 'HTML tag' ),
				'Preformatted'                         =&gt; _x( 'Preformatted', 'HTML tag' ),
				'Address'                              =&gt; _x( 'Address', 'HTML tag' ),

				'Inline'                               =&gt; _x( 'Inline', 'HTML elements' ),
				'Underline'                            =&gt; array( __( 'Underline' ), 'metaU' ),
				'Strikethrough'                        =&gt; array( __( 'Strikethrough' ), 'accessD' ),
				'Subscript'                            =&gt; __( 'Subscript' ),
				'Superscript'                          =&gt; __( 'Superscript' ),
				'Clear formatting'                     =&gt; __( 'Clear formatting' ),
				'Bold'                                 =&gt; array( __( 'Bold' ), 'metaB' ),
				'Italic'                               =&gt; array( __( 'Italic' ), 'metaI' ),
				'Code'                                 =&gt; array( __( 'Code' ), 'accessX' ),
				'Source code'                          =&gt; __( 'Source code' ),
				'Font Family'                          =&gt; __( 'Font Family' ),
				'Font Sizes'                           =&gt; __( 'Font Sizes' ),

				'Align center'                         =&gt; array( __( 'Align center' ), 'accessC' ),
				'Align right'                          =&gt; array( __( 'Align right' ), 'accessR' ),
				'Align left'                           =&gt; array( __( 'Align left' ), 'accessL' ),
				'Justify'                              =&gt; array( __( 'Justify' ), 'accessJ' ),
				'Increase indent'                      =&gt; __( 'Increase indent' ),
				'Decrease indent'                      =&gt; __( 'Decrease indent' ),

				'Cut'                                  =&gt; array( __( 'Cut' ), 'metaX' ),
				'Copy'                                 =&gt; array( __( 'Copy' ), 'metaC' ),
				'Paste'                                =&gt; array( __( 'Paste' ), 'metaV' ),
				'Select all'                           =&gt; array( __( 'Select all' ), 'metaA' ),
				'Undo'                                 =&gt; array( __( 'Undo' ), 'metaZ' ),
				'Redo'                                 =&gt; array( __( 'Redo' ), 'metaY' ),

				'Ok'                                   =&gt; __( 'OK' ),
				'Cancel'                               =&gt; __( 'Cancel' ),
				'Close'                                =&gt; __( 'Close' ),
				'Visual aids'                          =&gt; __( 'Visual aids' ),

				'Bullet list'                          =&gt; array( __( 'Bulleted list' ), 'accessU' ),
				'Numbered list'                        =&gt; array( __( 'Numbered list' ), 'accessO' ),
				'Square'                               =&gt; _x( 'Square', 'list style' ),
				'Default'                              =&gt; _x( 'Default', 'list style' ),
				'Circle'                               =&gt; _x( 'Circle', 'list style' ),
				'Disc'                                 =&gt; _x( 'Disc', 'list style' ),
				'Lower Greek'                          =&gt; _x( 'Lower Greek', 'list style' ),
				'Lower Alpha'                          =&gt; _x( 'Lower Alpha', 'list style' ),
				'Upper Alpha'                          =&gt; _x( 'Upper Alpha', 'list style' ),
				'Upper Roman'                          =&gt; _x( 'Upper Roman', 'list style' ),
				'Lower Roman'                          =&gt; _x( 'Lower Roman', 'list style' ),

				// Anchor plugin.
				'Name'                                 =&gt; _x( 'Name', 'Name of link anchor (TinyMCE)' ),
				'Anchor'                               =&gt; _x( 'Anchor', 'Link anchor (TinyMCE)' ),
				'Anchors'                              =&gt; _x( 'Anchors', 'Link anchors (TinyMCE)' ),
				'Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.' =&gt;
					__( 'Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.' ),
				'Id'                                   =&gt; _x( 'Id', 'Id for link anchor (TinyMCE)' ),

				// Fullpage plugin.
				'Document properties'                  =&gt; __( 'Document properties' ),
				'Robots'                               =&gt; __( 'Robots' ),
				'Title'                                =&gt; __( 'Title' ),
				'Keywords'                             =&gt; __( 'Keywords' ),
				'Encoding'                             =&gt; __( 'Encoding' ),
				'Description'                          =&gt; __( 'Description' ),
				'Author'                               =&gt; __( 'Author' ),

				// Media, image plugins.
				'Image'                                =&gt; __( 'Image' ),
				'Insert/edit image'                    =&gt; array( __( 'Insert/edit image' ), 'accessM' ),
				'General'                              =&gt; __( 'General' ),
				'Advanced'                             =&gt; __( 'Advanced' ),
				'Source'                               =&gt; __( 'Source' ),
				'Border'                               =&gt; __( 'Border' ),
				'Constrain proportions'                =&gt; __( 'Constrain proportions' ),
				'Vertical space'                       =&gt; __( 'Vertical space' ),
				'Image description'                    =&gt; __( 'Image description' ),
				'Style'                                =&gt; __( 'Style' ),
				'Dimensions'                           =&gt; __( 'Dimensions' ),
				'Insert image'                         =&gt; __( 'Insert image' ),
				'Date/time'                            =&gt; __( 'Date/time' ),
				'Insert date/time'                     =&gt; __( 'Insert date/time' ),
				'Table of Contents'                    =&gt; __( 'Table of Contents' ),
				'Insert/Edit code sample'              =&gt; __( 'Insert/edit code sample' ),
				'Language'                             =&gt; __( 'Language' ),
				'Media'                                =&gt; __( 'Media' ),
				'Insert/edit media'                    =&gt; __( 'Insert/edit media' ),
				'Poster'                               =&gt; __( 'Poster' ),
				'Alternative source'                   =&gt; __( 'Alternative source' ),
				'Paste your embed code below:'         =&gt; __( 'Paste your embed code below:' ),
				'Insert video'                         =&gt; __( 'Insert video' ),
				'Embed'                                =&gt; __( 'Embed' ),

				// Each of these have a corresponding plugin.
				'Special character'                    =&gt; __( 'Special character' ),
				'Right to left'                        =&gt; _x( 'Right to left', 'editor button' ),
				'Left to right'                        =&gt; _x( 'Left to right', 'editor button' ),
				'Emoticons'                            =&gt; __( 'Emoticons' ),
				'Nonbreaking space'                    =&gt; __( 'Nonbreaking space' ),
				'Page break'                           =&gt; __( 'Page break' ),
				'Paste as text'                        =&gt; __( 'Paste as text' ),
				'Preview'                              =&gt; __( 'Preview' ),
				'Print'                                =&gt; __( 'Print' ),
				'Save'                                 =&gt; __( 'Save' ),
				'Fullscreen'                           =&gt; __( 'Fullscreen' ),
				'Horizontal line'                      =&gt; __( 'Horizontal line' ),
				'Horizontal space'                     =&gt; __( 'Horizontal space' ),
				'Restore last draft'                   =&gt; __( 'Restore last draft' ),
				'Insert/edit link'                     =&gt; array( __( 'Insert/edit link' ), 'metaK' ),
				'Remove link'                          =&gt; array( __( 'Remove link' ), 'accessS' ),

				// Link plugin.
				'Link'                                 =&gt; __( 'Link' ),
				'Insert link'                          =&gt; __( 'Insert link' ),
				'Target'                               =&gt; __( 'Target' ),
				'New window'                           =&gt; __( 'New window' ),
				'Text to display'                      =&gt; __( 'Text to display' ),
				'Url'                                  =&gt; __( 'URL' ),
				'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?' =&gt;
					__( 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?' ),
				'The URL you entered seems to be an external link. Do you want to add the required http:// prefix?' =&gt;
					__( 'The URL you entered seems to be an external link. Do you want to add the required http:// prefix?' ),

				'Color'                                =&gt; __( 'Color' ),
				'Custom color'                         =&gt; __( 'Custom color' ),
				'Custom...'                            =&gt; _x( 'Custom...', 'label for custom color' ), // No ellipsis.
				'No color'                             =&gt; __( 'No color' ),
				'R'                                    =&gt; _x( 'R', 'Short for red in RGB' ),
				'G'                                    =&gt; _x( 'G', 'Short for green in RGB' ),
				'B'                                    =&gt; _x( 'B', 'Short for blue in RGB' ),

				// Spelling, search/replace plugins.
				'Could not find the specified string.' =&gt; __( 'Could not find the specified string.' ),
				'Replace'                              =&gt; _x( 'Replace', 'find/replace' ),
				'Next'                                 =&gt; _x( 'Next', 'find/replace' ),
				/* translators: Previous. */
				'Prev'                                 =&gt; _x( 'Prev', 'find/replace' ),
				'Whole words'                          =&gt; _x( 'Whole words', 'find/replace' ),
				'Find and replace'                     =&gt; __( 'Find and replace' ),
				'Replace with'                         =&gt; _x( 'Replace with', 'find/replace' ),
				'Find'                                 =&gt; _x( 'Find', 'find/replace' ),
				'Replace all'                          =&gt; _x( 'Replace all', 'find/replace' ),
				'Match case'                           =&gt; __( 'Match case' ),
				'Spellcheck'                           =&gt; __( 'Check Spelling' ),
				'Finish'                               =&gt; _x( 'Finish', 'spellcheck' ),
				'Ignore all'                           =&gt; _x( 'Ignore all', 'spellcheck' ),
				'Ignore'                               =&gt; _x( 'Ignore', 'spellcheck' ),
				'Add to Dictionary'                    =&gt; __( 'Add to Dictionary' ),

				// TinyMCE tables.
				'Insert table'                         =&gt; __( 'Insert table' ),
				'Delete table'                         =&gt; __( 'Delete table' ),
				'Table properties'                     =&gt; __( 'Table properties' ),
				'Row properties'                       =&gt; __( 'Table row properties' ),
				'Cell properties'                      =&gt; __( 'Table cell properties' ),
				'Border color'                         =&gt; __( 'Border color' ),

				'Row'                                  =&gt; __( 'Row' ),
				'Rows'                                 =&gt; __( 'Rows' ),
				'Column'                               =&gt; __( 'Column' ),
				'Cols'                                 =&gt; __( 'Columns' ),
				'Cell'                                 =&gt; _x( 'Cell', 'table cell' ),
				'Header cell'                          =&gt; __( 'Header cell' ),
				'Header'                               =&gt; _x( 'Header', 'table header' ),
				'Body'                                 =&gt; _x( 'Body', 'table body' ),
				'Footer'                               =&gt; _x( 'Footer', 'table footer' ),

				'Insert row before'                    =&gt; __( 'Insert row before' ),
				'Insert row after'                     =&gt; __( 'Insert row after' ),
				'Insert column before'                 =&gt; __( 'Insert column before' ),
				'Insert column after'                  =&gt; __( 'Insert column after' ),
				'Paste row before'                     =&gt; __( 'Paste table row before' ),
				'Paste row after'                      =&gt; __( 'Paste table row after' ),
				'Delete row'                           =&gt; __( 'Delete row' ),
				'Delete column'                        =&gt; __( 'Delete column' ),
				'Cut row'                              =&gt; __( 'Cut table row' ),
				'Copy row'                             =&gt; __( 'Copy table row' ),
				'Merge cells'                          =&gt; __( 'Merge table cells' ),
				'Split cell'                           =&gt; __( 'Split table cell' ),

				'Height'                               =&gt; __( 'Height' ),
				'Width'                                =&gt; __( 'Width' ),
				'Caption'                              =&gt; __( 'Caption' ),
				'Alignment'                            =&gt; __( 'Alignment' ),
				'H Align'                              =&gt; _x( 'H Align', 'horizontal table cell alignment' ),
				'Left'                                 =&gt; __( 'Left' ),
				'Center'                               =&gt; __( 'Center' ),
				'Right'                                =&gt; __( 'Right' ),
				'None'                                 =&gt; _x( 'None', 'table cell alignment attribute' ),
				'V Align'                              =&gt; _x( 'V Align', 'vertical table cell alignment' ),
				'Top'                                  =&gt; __( 'Top' ),
				'Middle'                               =&gt; __( 'Middle' ),
				'Bottom'                               =&gt; __( 'Bottom' ),

				'Row group'                            =&gt; __( 'Row group' ),
				'Column group'                         =&gt; __( 'Column group' ),
				'Row type'                             =&gt; __( 'Row type' ),
				'Cell type'                            =&gt; __( 'Cell type' ),
				'Cell padding'                         =&gt; __( 'Cell padding' ),
				'Cell spacing'                         =&gt; __( 'Cell spacing' ),
				'Scope'                                =&gt; _x( 'Scope', 'table cell scope attribute' ),

				'Insert template'                      =&gt; _x( 'Insert template', 'TinyMCE' ),
				'Templates'                            =&gt; _x( 'Templates', 'TinyMCE' ),

				'Background color'                     =&gt; __( 'Background color' ),
				'Text color'                           =&gt; __( 'Text color' ),
				'Show blocks'                          =&gt; _x( 'Show blocks', 'editor button' ),
				'Show invisible characters'            =&gt; __( 'Show invisible characters' ),

				/* translators: Word count. */
				'Words: {0}'                           =&gt; sprintf( __( 'Words: %s' ), '{0}' ),
				'Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.' =&gt;
					__( 'Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.' ) . &quot;\n\n&quot; .
					__( 'If you&amp;#8217;re looking to paste rich content from Microsoft Word, try turning this option off. The editor will clean up text pasted from Word automatically.' ),
				'Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help' =&gt;
					__( 'Rich Text Area. Press Alt-Shift-H for help.' ),
				'Rich Text Area. Press Control-Option-H for help.' =&gt; __( 'Rich Text Area. Press Control-Option-H for help.' ),
				'You have unsaved changes are you sure you want to navigate away?' =&gt;
					__( 'The changes you made will be lost if you navigate away from this page.' ),
				'Your browser doesn\'t support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.' =&gt;
					__( 'Your browser does not support direct access to the clipboard. Please use keyboard shortcuts or your browser&amp;#8217;s edit menu instead.' ),

				// TinyMCE menus.
				'Insert'                               =&gt; _x( 'Insert', 'TinyMCE menu' ),
				'File'                                 =&gt; _x( 'File', 'TinyMCE menu' ),
				'Edit'                                 =&gt; _x( 'Edit', 'TinyMCE menu' ),
				'Tools'                                =&gt; _x( 'Tools', 'TinyMCE menu' ),
				'View'                                 =&gt; _x( 'View', 'TinyMCE menu' ),
				'Table'                                =&gt; _x( 'Table', 'TinyMCE menu' ),
				'Format'                               =&gt; _x( 'Format', 'TinyMCE menu' ),

				// WordPress strings.
				'Toolbar Toggle'                       =&gt; array( __( 'Toolbar Toggle' ), 'accessZ' ),
				'Insert Read More tag'                 =&gt; array( __( 'Insert Read More tag' ), 'accessT' ),
				'Insert Page Break tag'                =&gt; array( __( 'Insert Page Break tag' ), 'accessP' ),
				'Read more...'                         =&gt; __( 'Read more...' ), // Title on the placeholder inside the editor (no ellipsis).
				'Distraction-free writing mode'        =&gt; array( __( 'Distraction-free writing mode' ), 'accessW' ),
				'No alignment'                         =&gt; __( 'No alignment' ), // Tooltip for the 'alignnone' button in the image toolbar.
				'Remove'                               =&gt; __( 'Remove' ),       // Tooltip for the 'remove' button in the image toolbar.
				'Edit|button'                          =&gt; __( 'Edit' ),         // Tooltip for the 'edit' button in the image toolbar.
				'Paste URL or type to search'          =&gt; __( 'Paste URL or type to search' ), // Placeholder for the inline link dialog.
				'Apply'                                =&gt; __( 'Apply' ),        // Tooltip for the 'apply' button in the inline link dialog.
				'Link options'                         =&gt; __( 'Link options' ), // Tooltip for the 'link options' button in the inline link dialog.
				'Visual'                               =&gt; _x( 'Visual', 'Name for the Visual editor tab' ),             // Editor switch tab label.
				'Text'                                 =&gt; _x( 'Text', 'Name for the Text editor tab (formerly HTML)' ), // Editor switch tab label.
				'Add Media'                            =&gt; array( __( 'Add Media' ), 'accessM' ), // Tooltip for the 'Add Media' button in the block editor Classic block.

				// Shortcuts help modal.
				'Keyboard Shortcuts'                   =&gt; array( __( 'Keyboard Shortcuts' ), 'accessH' ),
				'Classic Block Keyboard Shortcuts'     =&gt; __( 'Classic Block Keyboard Shortcuts' ),
				'Default shortcuts,'                   =&gt; __( 'Default shortcuts,' ),
				'Additional shortcuts,'                =&gt; __( 'Additional shortcuts,' ),
				'Focus shortcuts:'                     =&gt; __( 'Focus shortcuts:' ),
				'Inline toolbar (when an image, link or preview is selected)' =&gt; __( 'Inline toolbar (when an image, link or preview is selected)' ),
				'Editor menu (when enabled)'           =&gt; __( 'Editor menu (when enabled)' ),
				'Editor toolbar'                       =&gt; __( 'Editor toolbar' ),
				'Elements path'                        =&gt; __( 'Elements path' ),
				'Ctrl + Alt + letter:'                 =&gt; __( 'Ctrl + Alt + letter:' ),
				'Shift + Alt + letter:'                =&gt; __( 'Shift + Alt + letter:' ),
				'Cmd + letter:'                        =&gt; __( 'Cmd + letter:' ),
				'Ctrl + letter:'                       =&gt; __( 'Ctrl + letter:' ),
				'Letter'                               =&gt; __( 'Letter' ),
				'Action'                               =&gt; __( 'Action' ),
				'Warning: the link has been inserted but may have errors. Please test it.' =&gt; __( 'Warning: the link has been inserted but may have errors. Please test it.' ),
				'To move focus to other buttons use Tab or the arrow keys. To return focus to the editor press Escape or use one of the buttons.' =&gt;
					__( 'To move focus to other buttons use Tab or the arrow keys. To return focus to the editor press Escape or use one of the buttons.' ),
				'When starting a new paragraph with one of these formatting shortcuts followed by a space, the formatting will be applied automatically. Press Backspace or Escape to undo.' =&gt;
					__( 'When starting a new paragraph with one of these formatting shortcuts followed by a space, the formatting will be applied automatically. Press Backspace or Escape to undo.' ),
				'The following formatting shortcuts are replaced when pressing Enter. Press Escape or the Undo button to undo.' =&gt;
					__( 'The following formatting shortcuts are replaced when pressing Enter. Press Escape or the Undo button to undo.' ),
				'The next group of formatting shortcuts are applied as you type or when you insert them around plain text in the same paragraph. Press Escape or the Undo button to undo.' =&gt;
					__( 'The next group of formatting shortcuts are applied as you type or when you insert them around plain text in the same paragraph. Press Escape or the Undo button to undo.' ),
			);
		}

		/*
		Imagetools plugin (not included):
			'Edit image' =&gt; __( 'Edit image' ),
			'Image options' =&gt; __( 'Image options' ),
			'Back' =&gt; __( 'Back' ),
			'Invert' =&gt; __( 'Invert' ),
			'Flip horizontally' =&gt; __( 'Flip horizontal' ),
			'Flip vertically' =&gt; __( 'Flip vertical' ),
			'Crop' =&gt; __( 'Crop' ),
			'Orientation' =&gt; __( 'Orientation' ),
			'Resize' =&gt; __( 'Resize' ),
			'Rotate clockwise' =&gt; __( 'Rotate right' ),
			'Rotate counterclockwise' =&gt; __( 'Rotate left' ),
			'Sharpen' =&gt; __( 'Sharpen' ),
			'Brightness' =&gt; __( 'Brightness' ),
			'Color levels' =&gt; __( 'Color levels' ),
			'Contrast' =&gt; __( 'Contrast' ),
			'Gamma' =&gt; __( 'Gamma' ),
			'Zoom in' =&gt; __( 'Zoom in' ),
			'Zoom out' =&gt; __( 'Zoom out' ),
		*/

		return self::$translation;
	}

	/**
	 * Translates the default TinyMCE strings and returns them as JSON encoded object ready to be loaded with tinymce.addI18n(),
	 * or as JS snippet that should run after tinymce.js is loaded.
	 *
	 * @since 3.9.0
	 *
	 * @param string $mce_locale The locale used for the editor.
	 * @param bool   $json_only  Optional. Whether to include the JavaScript calls to tinymce.addI18n() and
	 *                           tinymce.ScriptLoader.markDone().
	 * @return string Translation object, JSON encoded.
	 */
	public static function wp_mce_translation( $mce_locale = '', $json_only = false ) {
		if ( ! $mce_locale ) {
			$mce_locale = self::get_mce_locale();
		}

		$mce_translation = self::get_translation();

		foreach ( $mce_translation as $name =&gt; $value ) {
			if ( is_array( $value ) ) {
				$mce_translation[ $name ] = $value[0];
			}
		}

		/**
		 * Filters translated strings prepared for TinyMCE.
		 *
		 * @since 3.9.0
		 *
		 * @param array  $mce_translation Key/value pairs of strings.
		 * @param string $mce_locale      Locale.
		 */
		$mce_translation = apply_filters( 'wp_mce_translation', $mce_translation, $mce_locale );

		foreach ( $mce_translation as $key =&gt; $value ) {
			// Remove strings that are not translated.
			if ( $key === $value ) {
				unset( $mce_translation[ $key ] );
				continue;
			}

			if ( false !== strpos( $value, '&amp;' ) ) {
				$mce_translation[ $key ] = html_entity_decode( $value, ENT_QUOTES, 'UTF-8' );
			}
		}

		// Set direction.
		if ( is_rtl() ) {
			$mce_translation['_dir'] = 'rtl';
		}

		if ( $json_only ) {
			return wp_json_encode( $mce_translation );
		}

		$baseurl = self::get_baseurl();

		return &quot;tinymce.addI18n( '$mce_locale', &quot; . wp_json_encode( $mce_translation ) . &quot;);\n&quot; .
			&quot;tinymce.ScriptLoader.markDone( '$baseurl/langs/$mce_locale.js' );\n&quot;;
	}

	/**
	 * Force uncompressed TinyMCE when a custom theme has been defined.
	 *
	 * The compressed TinyMCE file cannot deal with custom themes, so this makes
	 * sure that we use the uncompressed TinyMCE file if a theme is defined.
	 * Even if we are on a production environment.
	 *
	 * @since 5.0.0
	 */
	public static function force_uncompressed_tinymce() {
		$has_custom_theme = false;
		foreach ( self::$mce_settings as $init ) {
			if ( ! empty( $init['theme_url'] ) ) {
				$has_custom_theme = true;
				break;
			}
		}

		if ( ! $has_custom_theme ) {
			return;
		}

		$wp_scripts = wp_scripts();

		$wp_scripts-&gt;remove( 'wp-tinymce' );
		wp_register_tinymce_scripts( $wp_scripts, true );
	}

	/**
	 * Print (output) the main TinyMCE scripts.
	 *
	 * @since 4.8.0
	 *
	 * @global bool $concatenate_scripts
	 */
	public static function print_tinymce_scripts() {
		global $concatenate_scripts;

		if ( self::$tinymce_scripts_printed ) {
			return;
		}

		self::$tinymce_scripts_printed = true;

		if ( ! isset( $concatenate_scripts ) ) {
			script_concat_settings();
		}

		wp_print_scripts( array( 'wp-tinymce' ) );

		echo &quot;&lt;script type='text/javascript'&gt;\n&quot; . self::wp_mce_translation() . &quot;&lt;/script&gt;\n&quot;;
	}

	/**
	 * Print (output) the TinyMCE configuration and initialization scripts.
	 *
	 * @since 3.3.0
	 *
	 * @global string $tinymce_version
	 */
	public static function editor_js() {
		global $tinymce_version;

		$tmce_on = ! empty( self::$mce_settings );
		$mceInit = '';
		$qtInit  = '';

		if ( $tmce_on ) {
			foreach ( self::$mce_settings as $editor_id =&gt; $init ) {
				$options  = self::_parse_init( $init );
				$mceInit .= &quot;'$editor_id':{$options},&quot;;
			}
			$mceInit = '{' . trim( $mceInit, ',' ) . '}';
		} else {
			$mceInit = '{}';
		}

		if ( ! empty( self::$qt_settings ) ) {
			foreach ( self::$qt_settings as $editor_id =&gt; $init ) {
				$options = self::_parse_init( $init );
				$qtInit .= &quot;'$editor_id':{$options},&quot;;
			}
			$qtInit = '{' . trim( $qtInit, ',' ) . '}';
		} else {
			$qtInit = '{}';
		}

		$ref = array(
			'plugins'  =&gt; implode( ',', self::$plugins ),
			'theme'    =&gt; 'modern',
			'language' =&gt; self::$mce_locale,
		);

		$suffix  = SCRIPT_DEBUG ? '' : '.min';
		$baseurl = self::get_baseurl();
		$version = 'ver=' . $tinymce_version;

		/**
		 * Fires immediately before the TinyMCE settings are printed.
		 *
		 * @since 3.2.0
		 *
		 * @param array $mce_settings TinyMCE settings array.
		 */
		do_action( 'before_wp_tiny_mce', self::$mce_settings );
		?&gt;

		&lt;script type=&quot;text/javascript&quot;&gt;
		tinyMCEPreInit = {
			baseURL: &quot;&lt;?php echo $baseurl; ?&gt;&quot;,
			suffix: &quot;&lt;?php echo $suffix; ?&gt;&quot;,
			&lt;?php

			if ( self::$drag_drop_upload ) {
				echo 'dragDropUpload: true,';
			}

			?&gt;
			mceInit: &lt;?php echo $mceInit; ?&gt;,
			qtInit: &lt;?php echo $qtInit; ?&gt;,
			ref: &lt;?php echo self::_parse_init( $ref ); ?&gt;,
			load_ext: function(url,lang){var sl=tinymce.ScriptLoader;sl.markDone(url+'/langs/'+lang+'.js');sl.markDone(url+'/langs/'+lang+'_dlg.js');}
		};
		&lt;/script&gt;
		&lt;?php

		if ( $tmce_on ) {
			self::print_tinymce_scripts();

			if ( self::$ext_plugins ) {
				// Load the old-format English strings to prevent unsightly labels in old style popups.
				echo &quot;&lt;script type='text/javascript' src='{$baseurl}/langs/wp-langs-en.js?$version'&gt;&lt;/script&gt;\n&quot;;
			}
		}

		/**
		 * Fires after tinymce.js is loaded, but before any TinyMCE editor
		 * instances are created.
		 *
		 * @since 3.9.0
		 *
		 * @param array $mce_settings TinyMCE settings array.
		 */
		do_action( 'wp_tiny_mce_init', self::$mce_settings );

		?&gt;
		&lt;script type=&quot;text/javascript&quot;&gt;
		&lt;?php

		if ( self::$ext_plugins ) {
			echo self::$ext_plugins . &quot;\n&quot;;
		}

		if ( ! is_admin() ) {
			echo 'var ajaxurl = &quot;' . admin_url( 'admin-ajax.php', 'relative' ) . '&quot;;';
		}

		?&gt;

		( function() {
			var initialized = [];
			var initialize  = function() {
				var init, id, inPostbox, $wrap;
				var readyState = document.readyState;

				if ( readyState !== 'complete' &amp;&amp; readyState !== 'interactive' ) {
					return;
				}

				for ( id in tinyMCEPreInit.mceInit ) {
					if ( initialized.indexOf( id ) &gt; -1 ) {
						continue;
					}

					init      = tinyMCEPreInit.mceInit[id];
					$wrap     = tinymce.$( '#wp-' + id + '-wrap' );
					inPostbox = $wrap.parents( '.postbox' ).length &gt; 0;

					if (
						! init.wp_skip_init &amp;&amp;
						( $wrap.hasClass( 'tmce-active' ) || ! tinyMCEPreInit.qtInit.hasOwnProperty( id ) ) &amp;&amp;
						( readyState === 'complete' || ( ! inPostbox &amp;&amp; readyState === 'interactive' ) )
					) {
						tinymce.init( init );
						initialized.push( id );

						if ( ! window.wpActiveEditor ) {
							window.wpActiveEditor = id;
						}
					}
				}
			}

			if ( typeof tinymce !== 'undefined' ) {
				if ( tinymce.Env.ie &amp;&amp; tinymce.Env.ie &lt; 11 ) {
					tinymce.$( '.wp-editor-wrap ' ).removeClass( 'tmce-active' ).addClass( 'html-active' );
				} else {
					if ( document.readyState === 'complete' ) {
						initialize();
					} else {
						document.addEventListener( 'readystatechange', initialize );
					}
				}
			}

			if ( typeof quicktags !== 'undefined' ) {
				for ( id in tinyMCEPreInit.qtInit ) {
					quicktags( tinyMCEPreInit.qtInit[id] );

					if ( ! window.wpActiveEditor ) {
						window.wpActiveEditor = id;
					}
				}
			}
		}());
		&lt;/script&gt;
		&lt;?php

		if ( in_array( 'wplink', self::$plugins, true ) || in_array( 'link', self::$qt_buttons, true ) ) {
			self::wp_link_dialog();
		}

		/**
		 * Fires after any core TinyMCE editor instances are created.
		 *
		 * @since 3.2.0
		 *
		 * @param array $mce_settings TinyMCE settings array.
		 */
		do_action( 'after_wp_tiny_mce', self::$mce_settings );
	}

	/**
	 * Outputs the HTML for distraction-free writing mode.
	 *
	 * @since 3.2.0
	 * @deprecated 4.3.0
	 */
	public static function wp_fullscreen_html() {
		_deprecated_function( __FUNCTION__, '4.3.0' );
	}

	/**
	 * Performs post queries for internal linking.
	 *
	 * @since 3.1.0
	 *
	 * @param array $args Optional. Accepts 'pagenum' and 's' (search) arguments.
	 * @return array|false Results.
	 */
	public static function wp_link_query( $args = array() ) {
		$pts      = get_post_types( array( 'public' =&gt; true ), 'objects' );
		$pt_names = array_keys( $pts );

		$query = array(
			'post_type'              =&gt; $pt_names,
			'suppress_filters'       =&gt; true,
			'update_post_term_cache' =&gt; false,
			'update_post_meta_cache' =&gt; false,
			'post_status'            =&gt; 'publish',
			'posts_per_page'         =&gt; 20,
		);

		$args['pagenum'] = isset( $args['pagenum'] ) ? absint( $args['pagenum'] ) : 1;

		if ( isset( $args['s'] ) ) {
			$query['s'] = $args['s'];
		}

		$query['offset'] = $args['pagenum'] &gt; 1 ? $query['posts_per_page'] * ( $args['pagenum'] - 1 ) : 0;

		/**
		 * Filters the link query arguments.
		 *
		 * Allows modification of the link query arguments before querying.
		 *
		 * @see WP_Query for a full list of arguments
		 *
		 * @since 3.7.0
		 *
		 * @param array $query An array of WP_Query arguments.
		 */
		$query = apply_filters( 'wp_link_query_args', $query );

		// Do main query.
		$get_posts = new WP_Query;
		$posts     = $get_posts-&gt;query( $query );

		// Build results.
		$results = array();
		foreach ( $posts as $post ) {
			if ( 'post' === $post-&gt;post_type ) {
				$info = mysql2date( __( 'Y/m/d' ), $post-&gt;post_date );
			} else {
				$info = $pts[ $post-&gt;post_type ]-&gt;labels-&gt;singular_name;
			}

			$results[] = array(
				'ID'        =&gt; $post-&gt;ID,
				'title'     =&gt; trim( esc_html( strip_tags( get_the_title( $post ) ) ) ),
				'permalink' =&gt; get_permalink( $post-&gt;ID ),
				'info'      =&gt; $info,
			);
		}

		/**
		 * Filters the link query results.
		 *
		 * Allows modification of the returned link query results.
		 *
		 * @since 3.7.0
		 *
		 * @see 'wp_link_query_args' filter
		 *
		 * @param array $results {
		 *     An array of associative arrays of query results.
		 *
		 *     @type array ...$0 {
		 *         @type int    $ID        Post ID.
		 *         @type string $title     The trimmed, escaped post title.
		 *         @type string $permalink Post permalink.
		 *         @type string $info      A 'Y/m/d'-formatted date for 'post' post type,
		 *                                 the 'singular_name' post type label otherwise.
		 *     }
		 * }
		 * @param array $query  An array of WP_Query arguments.
		 */
		$results = apply_filters( 'wp_link_query', $results, $query );

		return ! empty( $results ) ? $results : false;
	}

	/**
	 * Dialog for internal linking.
	 *
	 * @since 3.1.0
	 */
	public static function wp_link_dialog() {
		// Run once.
		if ( self::$link_dialog_printed ) {
			return;
		}

		self::$link_dialog_printed = true;

		// `display: none` is required here, see #WP27605.
		?&gt;
		&lt;div id=&quot;wp-link-backdrop&quot; style=&quot;display: none&quot;&gt;&lt;/div&gt;
		&lt;div id=&quot;wp-link-wrap&quot; class=&quot;wp-core-ui&quot; style=&quot;display: none&quot; role=&quot;dialog&quot; aria-labelledby=&quot;link-modal-title&quot;&gt;
		&lt;form id=&quot;wp-link&quot; tabindex=&quot;-1&quot;&gt;
		&lt;?php wp_nonce_field( 'internal-linking', '_ajax_linking_nonce', false ); ?&gt;
		&lt;h1 id=&quot;link-modal-title&quot;&gt;&lt;?php _e( 'Insert/edit link' ); ?&gt;&lt;/h1&gt;
		&lt;button type=&quot;button&quot; id=&quot;wp-link-close&quot;&gt;&lt;span class=&quot;screen-reader-text&quot;&gt;&lt;?php _e( 'Close' ); ?&gt;&lt;/span&gt;&lt;/button&gt;
		&lt;div id=&quot;link-selector&quot;&gt;
			&lt;div id=&quot;link-options&quot;&gt;
				&lt;p class=&quot;howto&quot; id=&quot;wplink-enter-url&quot;&gt;&lt;?php _e( 'Enter the destination URL' ); ?&gt;&lt;/p&gt;
				&lt;div&gt;
					&lt;label&gt;&lt;span&gt;&lt;?php _e( 'URL' ); ?&gt;&lt;/span&gt;
					&lt;input id=&quot;wp-link-url&quot; type=&quot;text&quot; aria-describedby=&quot;wplink-enter-url&quot; /&gt;&lt;/label&gt;
				&lt;/div&gt;
				&lt;div class=&quot;wp-link-text-field&quot;&gt;
					&lt;label&gt;&lt;span&gt;&lt;?php _e( 'Link Text' ); ?&gt;&lt;/span&gt;
					&lt;input id=&quot;wp-link-text&quot; type=&quot;text&quot; /&gt;&lt;/label&gt;
				&lt;/div&gt;
				&lt;div class=&quot;link-target&quot;&gt;
					&lt;label&gt;&lt;span&gt;&lt;/span&gt;
					&lt;input type=&quot;checkbox&quot; id=&quot;wp-link-target&quot; /&gt; &lt;?php _e( 'Open link in a new tab' ); ?&gt;&lt;/label&gt;
				&lt;/div&gt;
			&lt;/div&gt;
			&lt;p class=&quot;howto&quot; id=&quot;wplink-link-existing-content&quot;&gt;&lt;?php _e( 'Or link to existing content' ); ?&gt;&lt;/p&gt;
			&lt;div id=&quot;search-panel&quot;&gt;
				&lt;div class=&quot;link-search-wrapper&quot;&gt;
					&lt;label&gt;
						&lt;span class=&quot;search-label&quot;&gt;&lt;?php _e( 'Search' ); ?&gt;&lt;/span&gt;
						&lt;input type=&quot;search&quot; id=&quot;wp-link-search&quot; class=&quot;link-search-field&quot; autocomplete=&quot;off&quot; aria-describedby=&quot;wplink-link-existing-content&quot; /&gt;
						&lt;span class=&quot;spinner&quot;&gt;&lt;/span&gt;
					&lt;/label&gt;
				&lt;/div&gt;
				&lt;div id=&quot;search-results&quot; class=&quot;query-results&quot; tabindex=&quot;0&quot;&gt;
					&lt;ul&gt;&lt;/ul&gt;
					&lt;div class=&quot;river-waiting&quot;&gt;
						&lt;span class=&quot;spinner&quot;&gt;&lt;/span&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div id=&quot;most-recent-results&quot; class=&quot;query-results&quot; tabindex=&quot;0&quot;&gt;
					&lt;div class=&quot;query-notice&quot; id=&quot;query-notice-message&quot;&gt;
						&lt;em class=&quot;query-notice-default&quot;&gt;&lt;?php _e( 'No search term specified. Showing recent items.' ); ?&gt;&lt;/em&gt;
						&lt;em class=&quot;query-notice-hint screen-reader-text&quot;&gt;&lt;?php _e( 'Search or use up and down arrow keys to select an item.' ); ?&gt;&lt;/em&gt;
					&lt;/div&gt;
					&lt;ul&gt;&lt;/ul&gt;
					&lt;div class=&quot;river-waiting&quot;&gt;
						&lt;span class=&quot;spinner&quot;&gt;&lt;/span&gt;
					&lt;/div&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;div class=&quot;submitbox&quot;&gt;
			&lt;div id=&quot;wp-link-cancel&quot;&gt;
				&lt;button type=&quot;button&quot; class=&quot;button&quot;&gt;&lt;?php _e( 'Cancel' ); ?&gt;&lt;/button&gt;
			&lt;/div&gt;
			&lt;div id=&quot;wp-link-update&quot;&gt;
				&lt;input type=&quot;submit&quot; value=&quot;&lt;?php esc_attr_e( 'Add Link' ); ?&gt;&quot; class=&quot;button button-primary&quot; id=&quot;wp-link-submit&quot; name=&quot;wp-link-submit&quot;&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;/form&gt;
		&lt;/div&gt;
		&lt;?php
	}
}
</pre>
			</div>
			<p class="source-code-links">
				<span>
					<a href="#" class="show-complete-source">Expand full source code</a>
					<a href="#" class="less-complete-source">Collapse full source code</a>
				</span>
				<span><a href="https://core.trac.wordpress.org/browser/tags/5.8/src/wp-includes/class-wp-editor.php#L11">View on Trac</a></span>
			</p>
			</section>
		<hr />
		<section class="class-methods">
			<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 class="toc-heading" id="methods" tabindex="-1">Methods <a href="#methods" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Methods</span></a></h2>
			<ul>
									<li><a href="__construct/index.html">
							__construct</a>
																	</li>
									<li><a href="_parse_init/index.html">
							_parse_init</a>
																	</li>
									<li><a href="default_settings/index.html">
							default_settings</a>
						&mdash; Returns the default TinyMCE settings.											</li>
									<li><a href="editor/index.html">
							editor</a>
						&mdash; Outputs the HTML for a single instance of the editor.											</li>
									<li><a href="editor_js/index.html">
							editor_js</a>
						&mdash; Print (output) the TinyMCE configuration and initialization scripts.											</li>
									<li><a href="editor_settings/index.html">
							editor_settings</a>
																	</li>
									<li><a href="enqueue_default_editor/index.html">
							enqueue_default_editor</a>
						&mdash; Enqueue all editor scripts.											</li>
									<li><a href="enqueue_scripts/index.html">
							enqueue_scripts</a>
																	</li>
									<li><a href="force_uncompressed_tinymce/index.html">
							force_uncompressed_tinymce</a>
						&mdash; Force uncompressed TinyMCE when a custom theme has been defined.											</li>
									<li><a href="get_baseurl/index.html">
							get_baseurl</a>
						&mdash; Returns the TinyMCE base URL.											</li>
									<li><a href="get_mce_locale/index.html">
							get_mce_locale</a>
						&mdash; Returns the TinyMCE locale.											</li>
									<li><a href="get_translation/index.html">
							get_translation</a>
																	</li>
									<li><a href="parse_settings/index.html">
							parse_settings</a>
						&mdash; Parse default arguments for the editor instance.											</li>
									<li><a href="print_default_editor_scripts/index.html">
							print_default_editor_scripts</a>
						&mdash; Print (output) all editor scripts and default settings.											</li>
									<li><a href="print_tinymce_scripts/index.html">
							print_tinymce_scripts</a>
						&mdash; Print (output) the main TinyMCE scripts.											</li>
									<li><a href="wp_fullscreen_html/index.html">
							wp_fullscreen_html</a>
						&mdash; Outputs the HTML for distraction-free writing mode.						&mdash; <span class="deprecated-method">deprecated</span>					</li>
									<li><a href="wp_link_dialog/index.html">
							wp_link_dialog</a>
						&mdash; Dialog for internal linking.											</li>
									<li><a href="wp_link_query/index.html">
							wp_link_query</a>
						&mdash; Performs post queries for internal linking.											</li>
									<li><a href="wp_mce_translation/index.html">
							wp_mce_translation</a>
						&mdash; Translates the default TinyMCE strings and returns them as JSON encoded object ready to be loaded with tinymce.addI18n(), or as JS snippet that should run after tinymce.js is loaded.											</li>
							</ul>
		</section>
		<hr />
	<section class="changelog">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 class="toc-heading" id="changelog" tabindex="-1">Changelog <a href="#changelog" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">Changelog</span></a></h2>

		<table>
			<caption class="screen-reader-text">Changelog</caption>
			<thead>
				<tr>
					<th class="changelog-version">Version</th>
					<th class="changelog-desc">Description</th>
				</tr>
			</thead>

			<tbody>
									
					<tr>
						<td><a href="../../since/3.3.0/index.html" alt="WordPress 3.3.0">3.3.0</a></td>
						<td>Introduced.</td>
					</tr>
							</tbody>
		</table>
	</section>

	<hr />
	<section class="user-notes">
		<p class="toc-jump"><a href="#top">Top &uarr;</a></p><h2 class="toc-heading" id="user-contributed-notes" tabindex="-1">User Contributed Notes <a href="#user-contributed-notes" class="anchor"><span aria-hidden="true">#</span><span class="screen-reader-text">User Contributed Notes</span></a></h2>
		
<div id="comments" class="comments-area">

	
	
			<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small></small></h3><p>You must <a href="https://login.wordpress.org/?redirect_to=https%3A%2F%2Fdeveloper.wordpress.org%2Freference%2Fclasses%2F_wp_editors%2F%23respond">log in</a> before being able to contribute a note or feedback.</p>	</div><!-- #respond -->
		
	
</div><!-- #comments -->
	</section>
</div>

</article>

			
		
		</main><!-- #main -->
	</div><!-- #primary -->
	</div><!-- #content -->

</div><!-- #page -->


<div id="wporg-footer">
	<div class="wrapper">
		<ul>
			<li><a href="http://wordpress.org/about/" title="An introduction to the WordPress project">About</a></li>
			<li><a href="http://wordpress.org/news/" title="News and Updates">Blog</a></li>
			<li><a href="http://wordpress.org/hosting/" title="Recommended web hosting providers">Hosting</a></li>
			<li><a href="https://wordpressfoundation.org/donate/" title="Donate to the WordPress Foundation">Donate</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/support/" title="Forums, documentation, and other resources">Support</a></li>
			<li><a href="../../../index.html" title="Resources for WordPress developers">Developers</a></li>
			<li><a href="http://make.wordpress.org/" title="Give back to WordPress through code, support, translation and more">Get Involved</a></li>
			<li><a href="http://learn.wordpress.org/" title="Workshops and training materials">Learn</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.org/showcase/" title="Some of the best WordPress sites on the Web">Showcase</a></li>
			<li><a href="http://wordpress.org/plugins/" title="Add extra functionality to WordPress">Plugins</a></li>
			<li><a href="http://wordpress.org/themes/" title="Make your WordPress pretty">Themes</a></li>
		</ul>

		<ul>
			<li><a href="http://central.wordcamp.org/" title="Find a WordPress event near you">WordCamp</a></li>
			<li><a href="http://wordpress.tv/" title="Videos, tutorials, and WordCamp sessions">WordPress.TV</a></li>
			<li><a href="http://buddypress.org/" title="A set of plugins to transform your WordPress into a social network">BuddyPress</a></li>
			<li><a href="http://bbpress.org/" title="Fast, slick forums built on WordPress">bbPress</a></li>
		</ul>

		<ul>
			<li><a href="http://wordpress.com/?ref=wporg-footer" title="Hassle-free WordPress hosting">WordPress.com</a></li>
			<li><a href="http://ma.tt/" title="Co-founder of WordPress, an example of what WordPress can do">Matt</a></li>
			<li><a href="http://wordpress.org/about/privacy/" title="WordPress.org Privacy Policy">Privacy</a></li>
			<li><a href="https://publiccode.eu/" target="_blank">Public Code</a></li>
		</ul>

		<ul class="social-media-links">
			<li><span class="dashicons dashicons-twitter"></span><a href="https://twitter.com/WordPress" title="Follow @WordPress on Twitter">@WordPress</a></li>
			<li><span class="dashicons dashicons-facebook"></span><a href="https://www.facebook.com/WordPress/" title="Like WordPress on Facebook">WordPress</a></li>
		</ul>
	</div>

		<p class="cip cip-image">Code is Poetry.</p>
</div>

<script src="../../../../s.w.org/style/js/navigation.min.js?20190128"></script>

<link rel='stylesheet' id='buttons-css'  href='../../../wp-includes/css/buttons.min.css?ver=5.9-alpha-51701' type='text/css' media='all' />
<script type='text/javascript' src='../../../wp-includes/js/hoverintent-js.min.js?ver=2.2.1' id='hoverintent-js-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/admin-bar.min.js?ver=5.9-alpha-51701' id='admin-bar-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/navigation.js?ver=20181209' id='wporg-developer-navigation-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/skip-link-focus-fix.js?ver=20130115' id='wporg-developer-skip-link-focus-fix-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/search.js?ver=20150430' id='wporg-developer-search-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/menu.js?ver=20180201' id='wporg-developer-menu-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/awesomplete.min.js?ver=20160322' id='awesomplete-js'></script>
<script type='text/javascript' id='autocomplete-js-extra'>
/* <![CDATA[ */
var autocomplete = {"ajaxurl":"https:\/\/developer.wordpress.org\/wp-admin\/admin-ajax.php","nonce":"8a60f70c4b"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/autocomplete.js?ver=20160524' id='autocomplete-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/function-reference.js?ver=20180724' id='wporg-developer-function-reference-js'></script>
<script type='text/javascript' id='quicktags-js-extra'>
/* <![CDATA[ */
var quicktagsL10n = {"closeAllOpenTags":"Close all open tags","closeTags":"close tags","enterURL":"Enter the URL","enterImageURL":"Enter the URL of the image","enterImageDescription":"Enter a description of the image","textdirection":"text direction","toggleTextdirection":"Toggle Editor Text Direction","dfw":"Distraction-free writing mode","strong":"Bold","strongClose":"Close bold tag","em":"Italic","emClose":"Close italic tag","link":"Insert link","blockquote":"Blockquote","blockquoteClose":"Close blockquote tag","del":"Deleted text (strikethrough)","delClose":"Close deleted text tag","ins":"Inserted text","insClose":"Close inserted text tag","image":"Insert image","ul":"Bulleted list","ulClose":"Close bulleted list tag","ol":"Numbered list","olClose":"Close numbered list tag","li":"List item","liClose":"Close list item tag","code":"Code","codeClose":"Close code tag","more":"Insert Read More tag"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-includes/js/quicktags.min.js?ver=5.9-alpha-51701' id='quicktags-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/user-notes.js?ver=20200110' id='wporg-developer-user-notes-js'></script>
<script type='text/javascript' id='wporg-developer-user-notes-feedback-js-extra'>
/* <![CDATA[ */
var wporg_note_feedback = {"show":"Show Feedback","hide":"Hide Feedback"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/user-notes-feedback.js?ver=20181023' id='wporg-developer-user-notes-feedback-js'></script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/tabs.js?ver=20160824' id='wporg-developer-tabs-js'></script>
<script type='text/javascript' id='wporg-developer-preview-js-extra'>
/* <![CDATA[ */
var wporg_note_preview = {"ajaxurl":"https:\/\/developer.wordpress.org\/wp-admin\/admin-ajax.php","nonce":"504933b60e","preview":"preview note","preview_empty":"Nothing to preview","is_admin":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-content/themes/pub/wporg-developer/js/user-notes-preview.js?ver=20200111' id='wporg-developer-preview-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/wp-embed.min.js?ver=5.9-alpha-51701' id='wp-embed-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7' id='regenerator-runtime-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0' id='wp-polyfill-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/dist/dom-ready.min.js?ver=71883072590656bf22c74c7b887df3dd' id='wp-dom-ready-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/dist/hooks.min.js?ver=a7edae857aab69d69fa10d5aef23a5de' id='wp-hooks-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/dist/i18n.min.js?ver=5f1269854226b4dd90450db411a12b79' id='wp-i18n-js'></script>
<script type='text/javascript' id='wp-i18n-js-after'>
wp.i18n.setLocaleData( { 'text direction\u0004ltr': [ 'ltr' ] } );
</script>
<script type='text/javascript' id='wp-a11y-js-translations'>
( function( domain, translations ) {
	var localeData = translations.locale_data[ domain ] || translations.locale_data.messages;
	localeData[""].domain = domain;
	wp.i18n.setLocaleData( localeData, domain );
} )( "default", { "locale_data": { "messages": { "": {} } } } );
</script>
<script type='text/javascript' src='../../../wp-includes/js/dist/a11y.min.js?ver=0ac8327cc1c40dcfdf29716affd7ac63' id='wp-a11y-js'></script>
<script type='text/javascript' id='wplink-js-extra'>
/* <![CDATA[ */
var wpLinkL10n = {"title":"Insert\/edit link","update":"Update","save":"Add Link","noTitle":"(no title)","noMatchesFound":"No results found.","linkSelected":"Link selected.","linkInserted":"Link inserted.","minInputLength":"3"};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-includes/js/wplink.min.js?ver=5.9-alpha-51701' id='wplink-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/core.min.js?ver=1.12.1' id='jquery-ui-core-js'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/menu.min.js?ver=1.12.1' id='jquery-ui-menu-js'></script>
<script type='text/javascript' id='jquery-ui-autocomplete-js-extra'>
/* <![CDATA[ */
var uiAutocompleteL10n = {"noResults":"No results found.","oneResult":"1 result found. Use up and down arrow keys to navigate.","manyResults":"%d results found. Use up and down arrow keys to navigate.","itemSelected":"Item selected."};
/* ]]> */
</script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/ui/autocomplete.min.js?ver=1.12.1' id='jquery-ui-autocomplete-js'></script>

		<script type="text/javascript">
		tinyMCEPreInit = {
			baseURL: "https://developer.wordpress.org/wp-includes/js/tinymce",
			suffix: ".min",
						mceInit: {},
			qtInit: {'comment':{id:"comment",buttons:"strong,em,ul,ol,li,link"}},
			ref: {plugins:"",theme:"modern",language:""},
			load_ext: function(url,lang){var sl=tinymce.ScriptLoader;sl.markDone(url+'/langs/'+lang+'.js');sl.markDone(url+'/langs/'+lang+'_dlg.js');}
		};
		</script>
				<script type="text/javascript">
		var ajaxurl = "../../../wp-admin/admin-ajax.html";
		( function() {
			var initialized = [];
			var initialize  = function() {
				var init, id, inPostbox, $wrap;
				var readyState = document.readyState;

				if ( readyState !== 'complete' && readyState !== 'interactive' ) {
					return;
				}

				for ( id in tinyMCEPreInit.mceInit ) {
					if ( initialized.indexOf( id ) > -1 ) {
						continue;
					}

					init      = tinyMCEPreInit.mceInit[id];
					$wrap     = tinymce.$( '#wp-' + id + '-wrap' );
					inPostbox = $wrap.parents( '.postbox' ).length > 0;

					if (
						! init.wp_skip_init &&
						( $wrap.hasClass( 'tmce-active' ) || ! tinyMCEPreInit.qtInit.hasOwnProperty( id ) ) &&
						( readyState === 'complete' || ( ! inPostbox && readyState === 'interactive' ) )
					) {
						tinymce.init( init );
						initialized.push( id );

						if ( ! window.wpActiveEditor ) {
							window.wpActiveEditor = id;
						}
					}
				}
			}

			if ( typeof tinymce !== 'undefined' ) {
				if ( tinymce.Env.ie && tinymce.Env.ie < 11 ) {
					tinymce.$( '.wp-editor-wrap ' ).removeClass( 'tmce-active' ).addClass( 'html-active' );
				} else {
					if ( document.readyState === 'complete' ) {
						initialize();
					} else {
						document.addEventListener( 'readystatechange', initialize );
					}
				}
			}

			if ( typeof quicktags !== 'undefined' ) {
				for ( id in tinyMCEPreInit.qtInit ) {
					quicktags( tinyMCEPreInit.qtInit[id] );

					if ( ! window.wpActiveEditor ) {
						window.wpActiveEditor = id;
					}
				}
			}
		}());
		</script>
				<div id="wp-link-backdrop" style="display: none"></div>
		<div id="wp-link-wrap" class="wp-core-ui" style="display: none" role="dialog" aria-labelledby="link-modal-title">
		<form id="wp-link" tabindex="-1">
		<input type="hidden" id="_ajax_linking_nonce" name="_ajax_linking_nonce" value="86f5a0a85d" />		<h1 id="link-modal-title">Insert/edit link</h1>
		<button type="button" id="wp-link-close"><span class="screen-reader-text">Close</span></button>
		<div id="link-selector">
			<div id="link-options">
				<p class="howto" id="wplink-enter-url">Enter the destination URL</p>
				<div>
					<label><span>URL</span>
					<input id="wp-link-url" type="text" aria-describedby="wplink-enter-url" /></label>
				</div>
				<div class="wp-link-text-field">
					<label><span>Link Text</span>
					<input id="wp-link-text" type="text" /></label>
				</div>
				<div class="link-target">
					<label><span></span>
					<input type="checkbox" id="wp-link-target" /> Open link in a new tab</label>
				</div>
			</div>
			<p class="howto" id="wplink-link-existing-content">Or link to existing content</p>
			<div id="search-panel">
				<div class="link-search-wrapper">
					<label>
						<span class="search-label">Search</span>
						<input type="search" id="wp-link-search" class="link-search-field" autocomplete="off" aria-describedby="wplink-link-existing-content" />
						<span class="spinner"></span>
					</label>
				</div>
				<div id="search-results" class="query-results" tabindex="0">
					<ul></ul>
					<div class="river-waiting">
						<span class="spinner"></span>
					</div>
				</div>
				<div id="most-recent-results" class="query-results" tabindex="0">
					<div class="query-notice" id="query-notice-message">
						<em class="query-notice-default">No search term specified. Showing recent items.</em>
						<em class="query-notice-hint screen-reader-text">Search or use up and down arrow keys to select an item.</em>
					</div>
					<ul></ul>
					<div class="river-waiting">
						<span class="spinner"></span>
					</div>
				</div>
			</div>
		</div>
		<div class="submitbox">
			<div id="wp-link-cancel">
				<button type="button" class="button">Cancel</button>
			</div>
			<div id="wp-link-update">
				<input type="submit" value="Add Link" class="button button-primary" id="wp-link-submit" name="wp-link-submit">
			</div>
		</div>
		</form>
		</div>
		</body>

<!-- Mirrored from developer.wordpress.org/reference/classes/_wp_editors/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 31 Aug 2021 17:19:31 GMT -->
</html>
