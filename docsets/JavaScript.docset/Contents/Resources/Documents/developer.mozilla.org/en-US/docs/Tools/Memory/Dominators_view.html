<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Tools/Memory/Dominators_view by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Sep 2021 02:21:36 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="../../../../favicon-48x48.97046865.png"><link rel="apple-touch-icon" href="../../../../apple-touch-icon.0ea0fa02.png"><meta name="theme-color" content="#ffffff"><link rel="manifest" href="https://developer.mozilla.org/manifest.56b1cedc.json"><script>Array.prototype.flat&&Array.prototype.includes||document.write('<script src="../../../../../polyfill.io/v3/polyfill.min3a72.js?features=Array.prototype.flat%2Ces6"><\/script>')</script><title>Dominators view</title><link rel="preload" as="font" type="font/woff2" crossorigin="" href="../../../../static/media/ZillaSlab-Bold.subset.0beac26b.woff2"><link rel="alternate" title="Dominators view" href="Dominators_view.html" hreflang="en"><link rel="alternate" title="ドミネータービュー" href="https://developer.mozilla.org/ja/docs/Tools/Memory/Dominators_view" hreflang="ja"><link rel="alternate" title="Vue &quot;Dominants&quot;" href="https://developer.mozilla.org/fr/docs/Tools/Memory/Dominators_view" hreflang="fr"><meta name="description" content="The Dominators view is new in Firefox 46."><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Tools/Memory/Dominators_view"><meta property="og:title" content="Dominators view - Firefox Developer Tools | MDN"><meta property="og:description" content="The Dominators view is new in Firefox 46."><meta property="og:locale" content="en-US"><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.0ca9dbda.png"><meta property="twitter:card" content="summary_large_image"><meta name="robots" content="index, follow"><link rel="canonical" href="Dominators_view.html"><style media="print">.breadcrumbs-container,.document-toc-container,.language-menu,.language-toggle,.on-github,.page-footer,.page-header-main,nav.sidebar,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><link href="../../../../static/css/main.f9e86cd5.chunk.css" rel="stylesheet"><script>LUX=(function(){var a=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMarks)?LUX.gaMarks:[]);var d=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMeasures)?LUX.gaMeasures:[]);var j="LUX_start";var k=window.performance;var l=("undefined"!==typeof(LUX)&&LUX.ns?LUX.ns:(Date.now?Date.now():+(new Date())));if(k&&k.timing&&k.timing.navigationStart){l=k.timing.navigationStart}function f(){if(k&&k.now){return k.now()}var o=Date.now?Date.now():+(new Date());return o-l}function b(n){if(k){if(k.mark){return k.mark(n)}else{if(k.webkitMark){return k.webkitMark(n)}}}a.push({name:n,entryType:"mark",startTime:f(),duration:0});return}function m(p,t,n){if("undefined"===typeof(t)&&h(j)){t=j}if(k){if(k.measure){if(t){if(n){return k.measure(p,t,n)}else{return k.measure(p,t)}}else{return k.measure(p)}}else{if(k.webkitMeasure){return k.webkitMeasure(p,t,n)}}}var r=0,o=f();if(t){var s=h(t);if(s){r=s.startTime}else{if(k&&k.timing&&k.timing[t]){r=k.timing[t]-k.timing.navigationStart}else{return}}}if(n){var q=h(n);if(q){o=q.startTime}else{if(k&&k.timing&&k.timing[n]){o=k.timing[n]-k.timing.navigationStart}else{return}}}d.push({name:p,entryType:"measure",startTime:r,duration:(o-r)});return}function h(n){return c(n,g())}function c(p,o){for(i=o.length-1;i>=0;i--){var n=o[i];if(p===n.name){return n}}return undefined}function g(){if(k){if(k.getEntriesByType){return k.getEntriesByType("mark")}else{if(k.webkitGetEntriesByType){return k.webkitGetEntriesByType("mark")}}}return a}return{mark:b,measure:m,gaMarks:a,gaMeasures:d}})();LUX.ns=(Date.now?Date.now():+(new Date()));LUX.ac=[];LUX.cmd=function(a){LUX.ac.push(a)};LUX.init=function(){LUX.cmd(["init"])};LUX.send=function(){LUX.cmd(["send"])};LUX.addData=function(a,b){LUX.cmd(["addData",a,b])};LUX_ae=[];window.addEventListener("error",function(a){LUX_ae.push(a)});LUX_al=[];if("function"===typeof(PerformanceObserver)&&"function"===typeof(PerformanceLongTaskTiming)){var LongTaskObserver=new PerformanceObserver(function(c){var b=c.getEntries();for(var a=0;a<b.length;a++){var d=b[a];LUX_al.push(d)}});try{LongTaskObserver.observe({type:["longtask"]})}catch(e){}};</script><script src="../../../../../cdn.speedcurve.com/js/lux2ff4.js?id=108906238" async="" defer="" crossorigin="anonymous"></script><script defer="" src="../../../../static/js/ga.js"></script><script src="../../../../static/js/runtime-main.33e5f965.js" defer=""></script><script src="../../../../static/js/3.2bf42648.chunk.js" defer=""></script><script src="../../../../static/js/main.420fcc42.chunk.js" defer=""></script></head><body><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#main-q">Skip to search</a></li><li><a id="skip-select-language" href="#select-language">Skip to select language</a></li></ul><div class="page-wrapper document-page"><header class="page-header"><a href="https://developer.mozilla.org/en-US/" class="logo" aria-label="MDN Web Docs"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451.74 135"><path d="M7.14 8.35v111.06h111.05V8.35zm103.71 56c-.48.92-1 1.79-1.46 2.71a3.44 3.44 0 01-3.54 2 2.4 2.4 0 00-1.55.5c-1.37.9-2.76 1.79-4.18 2.63a7.33 7.33 0 01-6.35.34 29.71 29.71 0 00-10.63-2 11.7 11.7 0 00-9.46 4.31 14.84 14.84 0 00-2.13 4.29c-1.24 3.07-2.3 21.38-2.3 26.05 0 0-17.62-3.42-34.15-20.34l4.31-11.32h-13.5l9.76-10.35h-16.8l9.77-10.34H12.69L30.45 34a40.9 40.9 0 0119.77-10.83c7.1-1.22 8.93-.53 13.31.77l2.43.73.85.25 3.1.95a12.56 12.56 0 006.21.09 11.37 11.37 0 018.25 1 8.24 8.24 0 014.1 6.22 7.29 7.29 0 003.61 5.49 59.45 59.45 0 009.32 4.11c2.27.86 4.54 1.84 6.79 2.72a6.81 6.81 0 012.86 2.06 4.81 4.81 0 011.1 2.73c.14 2 .37 4 .47 6a15.24 15.24 0 01-1.77 8.03zM320.12 39.62a5.42 5.42 0 00-4.53 2.13 7.36 7.36 0 00-1.7 4.43v2.36a6.28 6.28 0 001.7 4.46 5.63 5.63 0 004.3 1.82 5.12 5.12 0 004.57-2.27A9.7 9.7 0 00326 47a8.11 8.11 0 00-1.67-5.52 5.36 5.36 0 00-4.21-1.86zM387.38 39.53a5.52 5.52 0 00-4.7 2.15 8.8 8.8 0 00-1.63 5.49 9.23 9.23 0 001.58 5.45 5.38 5.38 0 004.7 2.25 5.61 5.61 0 004.74-2.2 8.91 8.91 0 001.68-5.59 8.24 8.24 0 00-1.75-5.52 5.76 5.76 0 00-4.62-2.03zM299.47 41.35a4.34 4.34 0 00-4-1.92 4.55 4.55 0 00-3.89 1.73 8.37 8.37 0 00-1.58 4.17h10.48a6.3 6.3 0 00-1.01-3.98zM357.74 30.75H352v23.31h5.72q5.47 0 8.35-3t2.93-8.65q0-5.43-2.88-8.55t-8.38-3.11z"></path><path d="M121.55 8.35v70.8h323V8.35zm42.21 22.45h-4V54h3.68v3.73h-11.25V54h3.31V36.79h-.19l-9.63 19.12h-2.12l-10-19.4h-.19V54h3.45v3.73h-11.15V54h3.68V30.8h-4v-3.73H133l11.66 22.56h.19l11.18-22.56h7.7zm29.12 22.67q-4.11 4.28-11.38 4.28h-14.06v-3.69h3.73V30.75h-3.73v-3.68h13.83q7.59 0 11.66 4.29a15.4 15.4 0 014 11 15.33 15.33 0 01-4.05 11.11zm38.89-22.67h-3.68v27h-2.6L208.08 35h-.19v19h4.67v3.73h-12.22V54h3.49V30.8h-4v-3.73h7.08l16.9 22.09h.19V30.8h-4.58v-3.73h12.32zm43.8 27h-3.31l-7.83-23.18h-.19l-7.55 23.18h-3.35l-8.78-27h-2.65v-3.73H253v3.73h-3.87L255 50.71h.23l6.61-19.91H259v-3.73h11v3.73h-2.78l6.61 20.1h.23l5.43-20.1h-4.15v-3.73h11v3.73h-2.54zm26.71-1.51a9.66 9.66 0 01-6.42 2 10.2 10.2 0 01-7.41-2.74c-1.89-1.82-2.83-4.47-2.83-7.93a12.37 12.37 0 012.64-8.12 9 9 0 017.32-3.21 8.62 8.62 0 016.75 2.69 9.65 9.65 0 012.45 6.52 13.67 13.67 0 01-.28 2.69H290q.29 6.71 6.18 6.7a5.2 5.2 0 003.71-1.18 5.82 5.82 0 001.67-2.83l3.45.71a7.21 7.21 0 01-2.73 4.65zm25.77-1.63c-1.51 2.4-3.92 3.61-7.22 3.61s-5.84-1.29-7.22-3.87c0 .25-.1.82-.21 1.7s-.19 1.44-.22 1.7H309c.16-1 .31-2 .47-3.07a21.42 21.42 0 00.24-3.16v-23h-3.4v-3.3h7.55V40.9a9.76 9.76 0 012.67-3.28 7.33 7.33 0 014.74-1.4 8.48 8.48 0 016.5 2.78q2.55 2.74 2.55 7.74a14.6 14.6 0 01-2.27 7.87zm41.39-1.14q-4.11 4.28-11.37 4.28H344v-3.74h3.73V30.75H344v-3.68h13.83q7.59 0 11.66 4.29a15.41 15.41 0 014.06 11 15.34 15.34 0 01-4.11 11.11zm25.65 1.68a10.53 10.53 0 01-7.9 3.07 10 10 0 01-7.63-3 10.93 10.93 0 01-2.8-7.83 12.13 12.13 0 012.69-7.93q2.69-3.3 8-3.3t8 3.28a12 12 0 012.64 7.76 10.86 10.86 0 01-3 7.9zm22.61.57c-1.4 1.66-3.63 2.5-6.68 2.5a9.58 9.58 0 01-7.15-2.76q-2.72-2.76-2.71-7.91a12.25 12.25 0 012.69-8 9.17 9.17 0 017.5-3.28 15 15 0 013.82.48 10.37 10.37 0 013.5 1.65l.85 5.47-3.35.38-.76-3.54a8.07 8.07 0 00-4.11-1 4.9 4.9 0 00-4.39 2.15 9.93 9.93 0 00-1.41 5.55 8.9 8.9 0 001.5 5.38 5.23 5.23 0 004.44 2c2.92 0 4.67-1.7 5.23-5.1l3.5.71a10.34 10.34 0 01-2.47 5.27zm20.48.75a11.68 11.68 0 01-6.63 1.75 15.52 15.52 0 01-8.26-2.08L424 51l3.26.33-.1 2.74a7 7 0 002.06.66 12.63 12.63 0 002.19.19 8.68 8.68 0 003.66-.75 2.5 2.5 0 001.63-2.36 2.25 2.25 0 00-1.32-2.2 12.65 12.65 0 00-3.28-1 47.39 47.39 0 01-3.9-.82 7.5 7.5 0 01-3.25-1.7 4.67 4.67 0 01-1.33-3.66c0-2.36.88-4 2.62-4.91a12 12 0 015.6-1.37 15 15 0 014.08.55 16.65 16.65 0 013.47 1.39l.47 5.1-3.3.37-.48-3.3a9.5 9.5 0 00-4.06-.9 5.62 5.62 0 00-2.87.66 2.33 2.33 0 00-1.15 2.25 2.13 2.13 0 001.3 2.07 11.91 11.91 0 003.21.92 36.69 36.69 0 013.82.83 7.46 7.46 0 013.21 1.74 4.9 4.9 0 011.3 3.73 5.56 5.56 0 01-2.66 4.91z"></path><path d="M181.17 30.75h-5.71v23.31h5.71q5.47 0 8.36-3t2.88-8.61q0-5.43-2.88-8.55t-8.36-3.15zM121.63 119.32V81.74h114.91v37.58zM153.22 109h-2v-6.85a4.8 4.8 0 00-1.58-4 5.57 5.57 0 00-3.55-1.26 5 5 0 00-4.92 3.26 4.19 4.19 0 00-1.88-2.46 5.82 5.82 0 00-3-.8 4.89 4.89 0 00-4.56 2.56v-2.21h-6.28v3.26h2v8.5h-2v3.23h9.11V109h-2.86v-5.25a4.4 4.4 0 01.69-2.56 2.47 2.47 0 012.21-1q2.57 0 2.56 3.63v8.41h6.29V109h-2v-5.25a4.47 4.47 0 01.67-2.56 2.42 2.42 0 012.19-1q2.63 0 2.63 3.63v8.41h6.28zm9.88-12.07q-4 0-6 2.36a8.41 8.41 0 00-2 5.66 7.25 7.25 0 002.17 5.62 8 8 0 005.65 2 8.54 8.54 0 005.94-2.11 7.27 7.27 0 002.34-5.67 8.21 8.21 0 00-2-5.51q-2.07-2.34-6.1-2.34zm-.1 12.35a3 3 0 01-2.63-1.33 5.68 5.68 0 01-.9-3.26 5 5 0 011-3.28 3.23 3.23 0 012.61-1.18 3.5 3.5 0 012.59 1.08 4.56 4.56 0 011.07 3.31 5.21 5.21 0 01-1 3.41 3.33 3.33 0 01-2.74 1.25zm25-2.3l-3.39-.29-.7 2.32H179l8.32-9.54-.32-2.23h-13.19l-.53 5.25 3.16.34.67-2.36h4.65l-8.25 9.53.44 2.26h13.13zm7.62-9.74h-4.46v5.39h4.46zm0 9.61h-4.46v5.39h4.46zm13.54-17.49h-4.23l-6.48 22.88h4.22zm8.68 0h-4.23l-6.45 22.88h4.19zm15 22.51l-.07-2.26a1.22 1.22 0 01-.56.1c-.69 0-1-.39-1-1.16v-6.49a4.39 4.39 0 00-1.8-3.84 7 7 0 00-4.16-1.28 14.55 14.55 0 00-3.16.3 24.14 24.14 0 00-3.29 1.06l-.56 3.46 3.39.4.5-1.69a2.78 2.78 0 011.08-.37 11.3 11.3 0 011.25-.07c1.19 0 1.89.37 2.09 1.1a8.55 8.55 0 01.3 2.26v.5a8.91 8.91 0 00-1.18-.11h-1.21a12.64 12.64 0 00-4.81.88 3.53 3.53 0 00-2.18 3.64 3.66 3.66 0 001.48 3.33 5.63 5.63 0 003.11 1 4.67 4.67 0 003-.91 6.78 6.78 0 001.8-2 3 3 0 003.33 3 5.54 5.54 0 002.66-.85zm-9.25-2.32a1.69 1.69 0 01-1.36-.52 1.81 1.81 0 01-.43-1.21 1.67 1.67 0 01.86-1.68 4.63 4.63 0 012-.42 7.69 7.69 0 011.07.07l1.06.13a3.58 3.58 0 01-1.08 2.74 3.24 3.24 0 01-2.11.89z"></path></svg></a><button type="button" class="ghost main-menu-toggle" aria-haspopup="true" aria-label="Show Menu"></button><div class="page-header-main "><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container"><button id="technologies-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Technologies</button><ul class="technologies " role="menu" aria-labelledby="technologies-button"><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web" role="menuitem">Technologies Overview</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/HTML" role="menuitem">HTML</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/CSS" role="menuitem">CSS</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript" role="menuitem">JavaScript</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics" role="menuitem">Graphics</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/HTTP" role="menuitem">HTTP</a></li><li role="none"><a tabindex="-1" href="../../Web/API.html" role="menuitem">APIs</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" role="menuitem">Browser Extensions</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/MathML" role="menuitem">MathML</a></li></ul></li><li class="top-level-entry-container"><button id="references-guides-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">References &amp; Guides</button><ul class="references-guides " role="menu" aria-labelledby="references-guides-button"><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Learn" role="menuitem">Learn web development</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/Tutorials" role="menuitem">Tutorials</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/Reference" role="menuitem">References</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/Guide" role="menuitem">Developer Guides</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web/Accessibility" role="menuitem">Accessibility</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Games" role="menuitem">Game development</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/Web" role="menuitem">...more docs</a></li></ul></li><li class="top-level-entry-container"><button id="feedback-button" type="button" class="top-level-entry" aria-haspopup="menu" aria-expanded="false">Feedback</button><ul class="feedback " role="menu" aria-labelledby="feedback-button"><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/MDN/Contribute/Feedback" role="menuitem">Send Feedback</a></li><li role="none"><a tabindex="-1" href="https://developer.mozilla.org/en-US/docs/MDN/Contribute" role="menuitem">Contribute to MDN</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/content/issues/new" role="menuitem">Report a content issue<!-- --> 🌐</a></li><li role="none"><a tabindex="-1" target="_blank" rel="noopener noreferrer" href="https://github.com/mdn/yari/issues/new" role="menuitem">Report a platform issue<!-- --> 🌐</a></li></ul></li></ul></nav><div class="header-search"><form action="https://developer.mozilla.org/en-US/search" class="search-form search-widget" role="search"><label for="main-q" class="visually-hidden">Search MDN</label><input type="search" name="q" id="main-q" class="search-input-field" placeholder="Site search... (Press &quot;/&quot; to focus)" pattern="(.|\s)*\S(.|\s)*" required="" value=""><input type="submit" class="ghost search-button" value="" aria-label="Search"></form></div><div class="auth-container"></div></div></header><div class="breadcrumb-locale-container"><nav class="breadcrumbs-container" aria-label="Breadcrumb navigation"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="https://developer.mozilla.org/en-US/docs/Tools"><span property="name">Firefox Developer Tools</span></a><meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-penultimate" property="item" typeof="WebPage" href="https://developer.mozilla.org/en-US/docs/Tools/Memory"><span property="name">Memory</span></a><meta property="position" content="2"></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="Dominators_view.html"><span property="name">Dominators view</span></a><meta property="position" content="3"></li></ol></nav><ul class="language-toggle single-option"><li><a href="#select-language" class="language-icon"><span class="show-desktop">Change language</span></a></li></ul></div><aside class="document-toc-container"><section class="document-toc"><header><h2>Table of contents</h2><button type="button" class="ghost toc-trigger-mobile" aria-controls="toc-entries" aria-expanded="false">Table of contents</button></header><ul id="toc-entries"><li><a href="#dominators_ui">Dominators UI</a></li><li><a href="#example">Example</a></li></ul></section></aside><main id="content" class="main-content" role="main"><article class="main-page-content" lang="en-US"><h1>Dominators view</h1><div><div></div><div class="geckoVersionNote">
<p>The Dominators view is new in Firefox 46.</p>
</div>

<p>Starting in Firefox 46, the Memory tool includes a new view called the Dominators view. This is useful for understanding the "retained size" of objects allocated by your site: that is, the size of the objects themselves plus the size of the objects that they keep alive through references.</p>

<p>If you already know what shallow size, retained size, and dominators are, skip to the Dominators UI section. Otherwise, you might want to review the article on <a href="Dominators.html">Dominators concepts</a>.</p></div><a class="dashAnchor" name="//apple_ref/Section/Dominators%20UI"></a><h2 id="dominators_ui"><a href="#dominators_ui" title="Permalink to Dominators UI">Dominators UI</a></h2><div><p>To see the Dominators view for a snapshot, select "Dominators" in the "View" drop-down list. It looks something like this:</p>

<p><img alt="" src="Dominators_view/dominators-1.png" style="display: block; margin: 0px auto;" width="800" height="230" loading="lazy"></p>

<p>The Dominators view consists of two panels:</p>

<ul>
 <li>the <a href="Dominators_view.html#dominators_tree_panel" aria-current="page">Dominators Tree panel</a> shows you which nodes in the snapshot are retaining the most memory</li>
 <li>the <a href="Dominators_view.html#retaining_paths_panel" aria-current="page">Retaining Paths panel</a> (new in Firefox 47) shows the 5 shortest retaining paths for a single node.</li>
</ul>

<p><img alt="" src="Dominators_view/dominators-2.png" style="display: block; margin: 0px auto;" width="800" height="230" loading="lazy"></p></div><h3 id="dominators_tree_panel"><a href="#dominators_tree_panel" title="Permalink to Dominators Tree panel">Dominators Tree panel</a></h3><div><p>The Dominators Tree tells you which objects in the snapshot are retaining the most memory.</p>

<p>In the main part of the UI, the first row is labeled "GC Roots". Immediately underneath that is an entry for:</p>

<ul>
 <li>Every GC root node. In Gecko, there is more than one memory graph, and therefore more than one root. There may be many (often temporary) roots. For example: variables allocated on the stack need to be rooted, or internal caches may need to root their elements.</li>
 <li>Any other node that's referenced from two different roots (since in this case, neither root dominates it).</li>
</ul>

<p>Each entry displays:</p>

<ul>
 <li>the retained size of the node, as bytes and as a percentage of the total</li>
 <li>the shallow size of the node, as bytes and as a percentage of the total</li>
 <li>the nodes's name and address in memory.</li>
</ul>

<p>Entries are ordered by the amount of memory that they retain. For example:</p>

<p><img alt="" src="Dominators_view/dominators-3.png" style="display: block; margin: 0px auto;" width="700" height="228" loading="lazy"></p>

<p>In this screenshot we can see five entries under "GC Roots". The first two are Call and Window objects, and retain about 21% and 8% of the total size of the memory snapshot, respectively. You can also see that these objects have a relatively tiny "Shallow Size", so almost all of the retained size is in the objects that they dominate.</p>

<p>Immediately under each GC root, you'll see all the nodes for which this root is the <a href="Dominators.html#immediate_dominator">immediate dominator</a>. These nodes are also ordered by their retained size.</p>

<p>For example, if we click on the first Window object:</p>

<p><img alt="" src="Dominators_view/dominators-4.png" style="display: block; margin: 0px auto;" width="700" height="292" loading="lazy"></p>

<p>We can see that this Window dominates a CSS2Properties object, whose retained size is 2% of the total snapshot size. Again the shallow size is very small: almost all of its retained size is in the nodes that it dominates. By clicking on the disclosure arrow next to the Function, we can see those nodes.</p>

<p>In this way you can quickly get a sense of which objects retain the most memory in the snapshot.</p>

<p>You can use <kbd>Alt</kbd> + click to expand the whole graph under a node.</p>

<h4 id="call_stack">Call Stack</h4>

<p>In the toolbar at the top of the tool is a dropdown called "Label by":</p>

<p><img alt="" src="Dominators_view/dominators-5.png" style="display: block; margin: 0px auto;" width="800" height="224" loading="lazy"></p>

<p>By default, this is set to "Type". However, you can set it instead to "Call Stack" to see exactly where in your code the objects are being allocated.</p>

<div class="note notecard">
<p>This option is called "Allocation Stack" in Firefox 46.</p>
</div>

<p>To enable this, you must check the box labeled "Record call stacks" <em>before</em> you run the code that allocates the objects. Then take a snapshot, then select "Call Stack" in the "Label by" drop-down.</p>

<p>Now the node's name will contain the name of the function that allocated it, and the file, line number and character position of the exact spot where the function allocated it. Clicking the file name will take you to that spot in the Debugger.</p>

<p><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/qTF5wCSD124" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" loading="lazy"></iframe></p>

<div class="note notecard">
<p>Sometimes you'll see "(no stack available)" here. In particular, allocation stacks are currently only recorded for objects, not for arrays, strings, or internal structures.</p>
</div></div><h3 id="retaining_paths_panel"><a href="#retaining_paths_panel" title="Permalink to Retaining Paths panel">Retaining Paths panel</a></h3><div><div class="geckoVersionNote">The Retaining Paths panel is new in Firefox 47.</div>

<p>The Retaining Paths panel shows you, for a given node, the 5 shortest paths back from this node to a GC root. This enables you to see all the nodes that are keeping the given node from being garbage-collected. If you suspect that an object is being leaked, this will show you exactly which objects are holding a reference to it.</p>

<p>To see the retaining paths for a node, you have to select the node in the Dominators Tree panel:</p>

<p><img alt="" src="Dominators_view/dominators-6.png" style="display: block; margin: 0px auto;" width="800" height="415" loading="lazy"></p>

<p>Here, we've selected an object, and can see a single path back to a GC root.</p>

<p>The <code>Window</code> GC root holds a reference to an <code>HTMLDivElement</code> object, and that holds a reference to an <code>Object</code>, and so on. If you look in the Dominators Tree panel, you can trace the same path there. If either of these references were removed, the items below them could be garbage-collected.</p>

<p>Each connection in the graph is labeled with the variable name for the referenced object.</p>

<p>Sometimes there's more than one retaining path back from a node:</p>

<p><img alt="" src="Dominators_view/dominators-7.png" style="display: block; margin: 0px auto;" width="700" height="455" loading="lazy"></p>

<p>Here there are three paths back from the <code>DocumentPrototype</code> node to a GC root. If one were removed, then the <code>DocumentPrototype</code> would still not be garbage-collected, because it's still retained by the other two path.</p></div><a class="dashAnchor" name="//apple_ref/Section/Example"></a><h2 id="example"><a href="#example" title="Permalink to Example">Example</a></h2><div><p>Let's see how some simple code is reflected in the Dominators view.</p>

<p>We'll use the <a href="https://developer.mozilla.org/en-US/docs/Tools/Memory/Monster_example">monster allocation example</a>, which creates three arrays, each containing 5000 monsters, each monster having a randomly-generated name.</p></div><h3 id="taking_a_snapshot"><a href="#taking_a_snapshot" title="Permalink to Taking a snapshot">Taking a snapshot</a></h3><div><p>To see what it looks like in the Dominators view:</p>

<ul>
 <li>load the page</li>
 <li>enable the Memory tool in the <a href="https://developer.mozilla.org/en-US/docs/Tools/Tools_Toolbox#settings">Settings</a>, if you haven't already</li>
 <li>open the Memory tool</li>
 <li>check "Record call stacks"</li>
 <li>press the button labeled "Make monsters!"</li>
 <li>take a snapshot</li>
 <li>switch to the "Dominators" view</li>
</ul>

<p><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/HiWnfMoMs2c" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" loading="lazy"></iframe></p></div><h3 id="analyzing_the_dominators_tree"><a href="#analyzing_the_dominators_tree" title="Permalink to Analyzing the Dominators Tree">Analyzing the Dominators Tree</a></h3><div><p>You'll see the three arrays as the top three GC roots, each retaining about 23% of the total memory usage:</p>

<p><img alt="" src="Dominators_view/dominators-8.png" style="display: block; margin: 0px auto;" width="700" height="165" loading="lazy"></p>

<p>If you expand an array, you'll see the objects (monsters) it contains. Each monster has a relatively small shallow size of 160 bytes. This includes the integer eye- and tentacle-counts. Each monster has a bigger retained size, which is accounted for by the string used for the monster's name:</p>

<p><img alt="" src="Dominators_view/dominators-9.png" style="display: block; margin: 0px auto;" width="700" height="327" loading="lazy"></p>

<p>All this maps closely to the <a href="https://developer.mozilla.org/en-US/docs/Tools/Memory/Monster_example#allocation-graph">memory graph we were expecting to see</a>. One thing you might be wondering, though, is: where's the top-level object that retains all three arrays? If we look at the Retaining Paths panel for one of the arrays, we'll see it:</p>

<p><img alt="" src="Dominators_view/dominators-10.png" style="display: block; margin: 0px auto;" width="700" height="467" loading="lazy"></p>

<p>Here we can see the retaining object, and even that this particular array is the array of <code>fierce</code> monsters. But the array is also rooted directly, so if the object were to stop referencing the array, it would still not be eligible for garbage collection.</p>

<p>This means that the object does not dominate the array, and is therefore not shown in the Dominators Tree view. <a href="Dominators.html#multiple-paths">See the relevant section of the Dominators concepts article</a>.</p></div><h3 id="using_the_call_stack_view"><a href="#using_the_call_stack_view" title="Permalink to Using the Call Stack view">Using the Call Stack view</a></h3><div><p>Finally, you can switch to the Call Stack view, see where the objects are being allocated, and jump to that point in the Debugger:</p>

<p><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/qTF5wCSD124" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" loading="lazy"></iframe></p></div></article><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a problem with this page?</h3><ul><li><a href="https://github.com/mdn/content/edit/main/files/en-us/tools/memory/dominators_view/index.html" title="You're going to need to sign in to GitHub first (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Edit on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/content/blob/main/files/en-us/tools/memory/dominators_view/index.html" title="Folder: en-us/tools/memory/dominators_view (Opens in a new tab)" target="_blank" rel="noopener noreferrer">Source on <b>GitHub</b></a></li><li><a href="https://github.com/mdn/content/issues/new?body=MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FTools%2FMemory%2FDominators_view%0A%0A%23%23%23%23+What+information+was+incorrect%2C+unhelpful%2C+or+incomplete%3F%0A%0A%0A%23%23%23%23+Specific+section+or+headline%3F%0A%0A%0A%23%23%23%23+What+did+you+expect+to+see%3F%0A%0A%0A%23%23%23%23+Did+you+test+this%3F+If+so%2C+how%3F%0A%0A%0A%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EMDN+Content+page+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Ftools%2Fmemory%2Fdominators_view%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FTools%2FMemory%2FDominators_view%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Ftools%2Fmemory%2Fdominators_view%2Findex.html%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F26ab7a63839b17f6e2c39d5f76bc6deb9066ebcc%0A*+Document+last+modified%3A+2021-02-02T16%3A32%3A36.000Z%0A%0A%3C%2Fdetails%3E&amp;title=Issue+with+%22Dominators+view%22%3A+%28short+summary+here+please%29&amp;labels=needs-triage%2CContent%3ADevTools" title="This will take you to https://github.com/mdn/content to file a new issue" target="_blank" rel="noopener noreferrer">Report a problem with this content on <b>GitHub</b></a></li><li>Want to fix the problem yourself? See<!-- --> <a href="https://github.com/mdn/content/blob/main/README.md" target="_blank" rel="noopener noreferrer">our Contribution guide</a>.</li></ul></div><p class="last-modified-date"><b>Last modified:</b> <time datetime="2021-02-02T16:32:36.000Z">Feb 2, 2021</time>,<!-- --> <a href="Dominators_view/contributors.txt">by MDN contributors</a></p><form class="language-menu"><fieldset id="select-language"><legend>Change your language</legend><label for="language-selector" class="visually-hidden">Select your preferred language</label> <select id="language-selector" name="language"><option selected="" value="en-US">English (US)</option><option value="fr">Français</option><option value="ja">日本語</option></select> <button type="submit" class="button minimal">Change language</button></fieldset></form></div></aside><footer id="nav-footer" class="page-footer"><div><a href="http://developer.mozilla.org/en-US/docs/Tools/Memory/Dominators_view">Dominators view</a> by <a href="http://developer.mozilla.org/en-US/docs/Tools/Memory/Dominators_view$history">Mozilla Contributors</a> is licensed under <a href="http://creativecommons.org/licenses/by-sa/2.5/">CC-BY-SA 2.5</a>.</div></footer></main><nav id="sidebar-quicklinks" class="sidebar"><h4>Related Topics</h4><div>
    <ol>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Page_Inspector">Page Inspector</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Web_Console">Web Console</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Debugger">JavaScript Debugger</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Network_Monitor">Network Monitor</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Performance">Performance</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Application">Application</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Responsive_Design_Mode">Responsive Design Mode</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Accessibility_inspector">Accessibility Inspector</a></li>
        <li class="toggle">
            <details>
                <summary>More Tools</summary>
                <ol>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Memory">Memory</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Storage_Inspector">Storage Inspector</a></li>
                    <li><a href="../DOM_Property_Viewer.html">DOM Property Viewer</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Eyedropper">Eyedropper</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Taking_screenshots">Screenshot</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Style_Editor">Style Editor</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Rulers">Rulers</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Measure_a_portion_of_the_page">Measure a portion of the page</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/View_source">View Source</a></li>
                </ol>
            </details>
        </li>
        <li class="toggle">
            <details>
                <summary>Connecting the devtools</summary>
                <ol>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/about:debugging">about:debugging</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Remote_Debugging/Debugging_Firefox_for_Android_over_Wifi">Connecting to Firefox for Android</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Working_with_iframes">Connecting to iframes</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Valence">Connecting to other browsers</a></li>
                </ol>
            </details>
        </li>
        <li class="toggle">
            <details>
                <summary>Debugging the browser</summary>
                <ol>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Browser_Console">Browser Console</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Browser_Toolbox">Browser Toolbox</a></li>
                </ol>
            </details>
        </li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Extending_the_developer_tools">Extending the devtools</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Settings">Settings</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Tips">Tips</a></li>
        <li><a href="https://developer.mozilla.org/en-US/docs/Tools/Release_notes">Release notes</a></li>
    </ol>
</div></nav></div><div class="page-overlay hidden"></div></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":false,"isTranslated":false,"isActive":true,"flaws":{},"title":"Dominators view","mdn_url":"/en-US/docs/Tools/Memory/Dominators_view","locale":"en-US","native":"English (US)","sidebarHTML":"\n    <ol>\n        <li><a href=\"/en-US/docs/Tools/Page_Inspector\">Page Inspector</a></li>\n        <li><a href=\"/en-US/docs/Tools/Web_Console\">Web Console</a></li>\n        <li><a href=\"/en-US/docs/Tools/Debugger\">JavaScript Debugger</a></li>\n        <li><a href=\"/en-US/docs/Tools/Network_Monitor\">Network Monitor</a></li>\n        <li><a href=\"/en-US/docs/Tools/Performance\">Performance</a></li>\n        <li><a href=\"/en-US/docs/Tools/Application\">Application</a></li>\n        <li><a href=\"/en-US/docs/Tools/Responsive_Design_Mode\">Responsive Design Mode</a></li>\n        <li><a href=\"/en-US/docs/Tools/Accessibility_inspector\">Accessibility Inspector</a></li>\n        <li class=\"toggle\">\n            <details>\n                <summary>More Tools</summary>\n                <ol>\n                    <li><a href=\"/en-US/docs/Tools/Memory\">Memory</a></li>\n                    <li><a href=\"/en-US/docs/Tools/Storage_Inspector\">Storage Inspector</a></li>\n                    <li><a href=\"/en-US/docs/Tools/DOM_Property_Viewer\">DOM Property Viewer</a></li>\n                    <li><a href=\"/en-US/docs/Tools/Eyedropper\">Eyedropper</a></li>\n                    <li><a href=\"/en-US/docs/Tools/Taking_screenshots\">Screenshot</a></li>\n                    <li><a href=\"/en-US/docs/Tools/Style_Editor\">Style Editor</a></li>\n                    <li><a href=\"/en-US/docs/Tools/Rulers\">Rulers</a></li>\n                    <li><a href=\"/en-US/docs/Tools/Measure_a_portion_of_the_page\">Measure a portion of the page</a></li>\n                    <li><a href=\"/en-US/docs/Tools/View_source\">View Source</a></li>\n                </ol>\n            </details>\n        </li>\n        <li class=\"toggle\">\n            <details>\n                <summary>Connecting the devtools</summary>\n                <ol>\n                    <li><a href=\"/en-US/docs/Tools/about:debugging\">about:debugging</a></li>\n                    <li><a href=\"/en-US/docs/Tools/Remote_Debugging/Debugging_Firefox_for_Android_over_Wifi\">Connecting to Firefox for Android</a></li>\n                    <li><a href=\"/en-US/docs/Tools/Working_with_iframes\">Connecting to iframes</a></li>\n                    <li><a href=\"/en-US/docs/Tools/Valence\">Connecting to other browsers</a></li>\n                </ol>\n            </details>\n        </li>\n        <li class=\"toggle\">\n            <details>\n                <summary>Debugging the browser</summary>\n                <ol>\n                    <li><a href=\"/en-US/docs/Tools/Browser_Console\">Browser Console</a></li>\n                    <li><a href=\"/en-US/docs/Tools/Browser_Toolbox\">Browser Toolbox</a></li>\n                </ol>\n            </details>\n        </li>\n        <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Extending_the_developer_tools\">Extending the devtools</a></li>\n        <li><a href=\"/en-US/docs/Tools/Settings\">Settings</a></li>\n        <li><a href=\"/en-US/docs/Tools/Tips\">Tips</a></li>\n        <li><a href=\"/en-US/docs/Tools/Release_notes\">Release notes</a></li>\n    </ol>\n","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div></div><div class=\"geckoVersionNote\">\n<p>The Dominators view is new in Firefox 46.</p>\n</div>\n\n<p>Starting in Firefox 46, the Memory tool includes a new view called the Dominators view. This is useful for understanding the \"retained size\" of objects allocated by your site: that is, the size of the objects themselves plus the size of the objects that they keep alive through references.</p>\n\n<p>If you already know what shallow size, retained size, and dominators are, skip to the Dominators UI section. Otherwise, you might want to review the article on <a href=\"/en-US/docs/Tools/Memory/Dominators\">Dominators concepts</a>.</p>"}},{"type":"prose","value":{"id":"Dominators_UI","title":"Dominators UI","isH3":false,"content":"<p>To see the Dominators view for a snapshot, select \"Dominators\" in the \"View\" drop-down list. It looks something like this:</p>\n\n<p><img alt=\"\" src=\"/en-US/docs/Tools/Memory/Dominators_view/dominators-1.png\" style=\"display: block; margin: 0px auto;\" width=\"800\" height=\"230\" loading=\"lazy\"></p>\n\n<p>The Dominators view consists of two panels:</p>\n\n<ul>\n <li>the <a href=\"/en-US/docs/Tools/Memory/Dominators_view#dominators_tree_panel\" aria-current=\"page\">Dominators Tree panel</a> shows you which nodes in the snapshot are retaining the most memory</li>\n <li>the <a href=\"/en-US/docs/Tools/Memory/Dominators_view#retaining_paths_panel\" aria-current=\"page\">Retaining Paths panel</a> (new in Firefox 47) shows the 5 shortest retaining paths for a single node.</li>\n</ul>\n\n<p><img alt=\"\" src=\"/en-US/docs/Tools/Memory/Dominators_view/dominators-2.png\" style=\"display: block; margin: 0px auto;\" width=\"800\" height=\"230\" loading=\"lazy\"></p>"}},{"type":"prose","value":{"id":"Dominators_Tree_panel","title":"Dominators Tree panel","isH3":true,"content":"<p>The Dominators Tree tells you which objects in the snapshot are retaining the most memory.</p>\n\n<p>In the main part of the UI, the first row is labeled \"GC Roots\". Immediately underneath that is an entry for:</p>\n\n<ul>\n <li>Every GC root node. In Gecko, there is more than one memory graph, and therefore more than one root. There may be many (often temporary) roots. For example: variables allocated on the stack need to be rooted, or internal caches may need to root their elements.</li>\n <li>Any other node that's referenced from two different roots (since in this case, neither root dominates it).</li>\n</ul>\n\n<p>Each entry displays:</p>\n\n<ul>\n <li>the retained size of the node, as bytes and as a percentage of the total</li>\n <li>the shallow size of the node, as bytes and as a percentage of the total</li>\n <li>the nodes's name and address in memory.</li>\n</ul>\n\n<p>Entries are ordered by the amount of memory that they retain. For example:</p>\n\n<p><img alt=\"\" src=\"/en-US/docs/Tools/Memory/Dominators_view/dominators-3.png\" style=\"display: block; margin: 0px auto;\" width=\"700\" height=\"228\" loading=\"lazy\"></p>\n\n<p>In this screenshot we can see five entries under \"GC Roots\". The first two are Call and Window objects, and retain about 21% and 8% of the total size of the memory snapshot, respectively. You can also see that these objects have a relatively tiny \"Shallow Size\", so almost all of the retained size is in the objects that they dominate.</p>\n\n<p>Immediately under each GC root, you'll see all the nodes for which this root is the <a href=\"/en-US/docs/Tools/Memory/Dominators#immediate_dominator\">immediate dominator</a>. These nodes are also ordered by their retained size.</p>\n\n<p>For example, if we click on the first Window object:</p>\n\n<p><img alt=\"\" src=\"/en-US/docs/Tools/Memory/Dominators_view/dominators-4.png\" style=\"display: block; margin: 0px auto;\" width=\"700\" height=\"292\" loading=\"lazy\"></p>\n\n<p>We can see that this Window dominates a CSS2Properties object, whose retained size is 2% of the total snapshot size. Again the shallow size is very small: almost all of its retained size is in the nodes that it dominates. By clicking on the disclosure arrow next to the Function, we can see those nodes.</p>\n\n<p>In this way you can quickly get a sense of which objects retain the most memory in the snapshot.</p>\n\n<p>You can use <kbd>Alt</kbd> + click to expand the whole graph under a node.</p>\n\n<h4 id=\"call_stack\">Call Stack</h4>\n\n<p>In the toolbar at the top of the tool is a dropdown called \"Label by\":</p>\n\n<p><img alt=\"\" src=\"/en-US/docs/Tools/Memory/Dominators_view/dominators-5.png\" style=\"display: block; margin: 0px auto;\" width=\"800\" height=\"224\" loading=\"lazy\"></p>\n\n<p>By default, this is set to \"Type\". However, you can set it instead to \"Call Stack\" to see exactly where in your code the objects are being allocated.</p>\n\n<div class=\"note notecard\">\n<p>This option is called \"Allocation Stack\" in Firefox 46.</p>\n</div>\n\n<p>To enable this, you must check the box labeled \"Record call stacks\" <em>before</em> you run the code that allocates the objects. Then take a snapshot, then select \"Call Stack\" in the \"Label by\" drop-down.</p>\n\n<p>Now the node's name will contain the name of the function that allocated it, and the file, line number and character position of the exact spot where the function allocated it. Clicking the file name will take you to that spot in the Debugger.</p>\n\n<p><iframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/qTF5wCSD124\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" loading=\"lazy\"></iframe></p>\n\n<div class=\"note notecard\">\n<p>Sometimes you'll see \"(no stack available)\" here. In particular, allocation stacks are currently only recorded for objects, not for arrays, strings, or internal structures.</p>\n</div>"}},{"type":"prose","value":{"id":"Retaining_Paths_panel","title":"Retaining Paths panel","isH3":true,"content":"<div class=\"geckoVersionNote\">The Retaining Paths panel is new in Firefox 47.</div>\n\n<p>The Retaining Paths panel shows you, for a given node, the 5 shortest paths back from this node to a GC root. This enables you to see all the nodes that are keeping the given node from being garbage-collected. If you suspect that an object is being leaked, this will show you exactly which objects are holding a reference to it.</p>\n\n<p>To see the retaining paths for a node, you have to select the node in the Dominators Tree panel:</p>\n\n<p><img alt=\"\" src=\"/en-US/docs/Tools/Memory/Dominators_view/dominators-6.png\" style=\"display: block; margin: 0px auto;\" width=\"800\" height=\"415\" loading=\"lazy\"></p>\n\n<p>Here, we've selected an object, and can see a single path back to a GC root.</p>\n\n<p>The <code>Window</code> GC root holds a reference to an <code>HTMLDivElement</code> object, and that holds a reference to an <code>Object</code>, and so on. If you look in the Dominators Tree panel, you can trace the same path there. If either of these references were removed, the items below them could be garbage-collected.</p>\n\n<p>Each connection in the graph is labeled with the variable name for the referenced object.</p>\n\n<p>Sometimes there's more than one retaining path back from a node:</p>\n\n<p><img alt=\"\" src=\"/en-US/docs/Tools/Memory/Dominators_view/dominators-7.png\" style=\"display: block; margin: 0px auto;\" width=\"700\" height=\"455\" loading=\"lazy\"></p>\n\n<p>Here there are three paths back from the <code>DocumentPrototype</code> node to a GC root. If one were removed, then the <code>DocumentPrototype</code> would still not be garbage-collected, because it's still retained by the other two path.</p>"}},{"type":"prose","value":{"id":"Example","title":"Example","isH3":false,"content":"<p>Let's see how some simple code is reflected in the Dominators view.</p>\n\n<p>We'll use the <a href=\"/en-US/docs/Tools/Memory/Monster_example\">monster allocation example</a>, which creates three arrays, each containing 5000 monsters, each monster having a randomly-generated name.</p>"}},{"type":"prose","value":{"id":"Taking_a_snapshot","title":"Taking a snapshot","isH3":true,"content":"<p>To see what it looks like in the Dominators view:</p>\n\n<ul>\n <li>load the page</li>\n <li>enable the Memory tool in the <a href=\"/en-US/docs/Tools/Tools_Toolbox#settings\">Settings</a>, if you haven't already</li>\n <li>open the Memory tool</li>\n <li>check \"Record call stacks\"</li>\n <li>press the button labeled \"Make monsters!\"</li>\n <li>take a snapshot</li>\n <li>switch to the \"Dominators\" view</li>\n</ul>\n\n<p><iframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/HiWnfMoMs2c\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" loading=\"lazy\"></iframe></p>"}},{"type":"prose","value":{"id":"Analyzing_the_Dominators_Tree","title":"Analyzing the Dominators Tree","isH3":true,"content":"<p>You'll see the three arrays as the top three GC roots, each retaining about 23% of the total memory usage:</p>\n\n<p><img alt=\"\" src=\"/en-US/docs/Tools/Memory/Dominators_view/dominators-8.png\" style=\"display: block; margin: 0px auto;\" width=\"700\" height=\"165\" loading=\"lazy\"></p>\n\n<p>If you expand an array, you'll see the objects (monsters) it contains. Each monster has a relatively small shallow size of 160 bytes. This includes the integer eye- and tentacle-counts. Each monster has a bigger retained size, which is accounted for by the string used for the monster's name:</p>\n\n<p><img alt=\"\" src=\"/en-US/docs/Tools/Memory/Dominators_view/dominators-9.png\" style=\"display: block; margin: 0px auto;\" width=\"700\" height=\"327\" loading=\"lazy\"></p>\n\n<p>All this maps closely to the <a href=\"/en-US/docs/Tools/Memory/Monster_example#allocation-graph\">memory graph we were expecting to see</a>. One thing you might be wondering, though, is: where's the top-level object that retains all three arrays? If we look at the Retaining Paths panel for one of the arrays, we'll see it:</p>\n\n<p><img alt=\"\" src=\"/en-US/docs/Tools/Memory/Dominators_view/dominators-10.png\" style=\"display: block; margin: 0px auto;\" width=\"700\" height=\"467\" loading=\"lazy\"></p>\n\n<p>Here we can see the retaining object, and even that this particular array is the array of <code>fierce</code> monsters. But the array is also rooted directly, so if the object were to stop referencing the array, it would still not be eligible for garbage collection.</p>\n\n<p>This means that the object does not dominate the array, and is therefore not shown in the Dominators Tree view. <a href=\"/en-US/docs/Tools/Memory/Dominators#multiple-paths\">See the relevant section of the Dominators concepts article</a>.</p>"}},{"type":"prose","value":{"id":"Using_the_Call_Stack_view","title":"Using the Call Stack view","isH3":true,"content":"<p>Finally, you can switch to the Call Stack view, see where the objects are being allocated, and jump to that point in the Debugger:</p>\n\n<p><iframe width=\"560\" height=\"315\" src=\"https://www.youtube-nocookie.com/embed/qTF5wCSD124\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" loading=\"lazy\"></iframe></p>"}}],"toc":[{"text":"Dominators UI","id":"Dominators_UI"},{"text":"Example","id":"Example"}],"summary":"The Dominators view is new in Firefox 46.","popularity":0,"modified":"2021-02-02T16:32:36.000Z","other_translations":[{"title":"Vue \"Dominants\"","locale":"fr","native":"Français"},{"title":"ドミネータービュー","locale":"ja","native":"日本語"}],"source":{"folder":"en-us/tools/memory/dominators_view","github_url":"https://github.com/mdn/content/blob/main/files/en-us/tools/memory/dominators_view/index.html","last_commit_url":"https://github.com/mdn/content/commit/26ab7a63839b17f6e2c39d5f76bc6deb9066ebcc","filename":"index.html"},"parents":[{"uri":"/en-US/docs/Tools","title":"Firefox Developer Tools"},{"uri":"/en-US/docs/Tools/Memory","title":"Memory"},{"uri":"/en-US/docs/Tools/Memory/Dominators_view","title":"Dominators view"}],"pageTitle":"Dominators view - Firefox Developer Tools | MDN","noIndexing":false}}</script>
<!-- Mirrored from developer.mozilla.org/en-US/docs/Tools/Memory/Dominators_view by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 Sep 2021 02:21:36 GMT -->
</body></html>