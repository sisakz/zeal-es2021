<html><!-- Mirrored from www.php.net/manual/en/function.time.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:57:24 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>time</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.time.html">
 <link rel="shorturl" href="https://www.php.net/time">
 <link rel="alternate" href="https://www.php.net/time" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.datetime.html">
 <link rel="prev" href="function.strtotime.html">
 <link rel="next" href="function.timezone-abbreviations-list.html">

 <link rel="alternate" href="function.time.html" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.time.php" hreflang="pt_BR">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.time.php" hreflang="zh">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.time.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/de/function.time.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.time.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/ro/function.time.php" hreflang="ro">
 <link rel="alternate" href="https://www.php.net/manual/ru/function.time.php" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/es/function.time.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.time.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached0aba.css?t=1539771603&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached2ecf.css?t=1539765004&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedba57.css?t=1606338002&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached3afa.css?t=1627831203&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script>
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script src="https://www.php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>


</head>
<body class="docs " style="">


<div class="headsup"><a href="https://www.php.net/conferences/index.php#id2021-09-08-1">Longhorn PHP 2021</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.errors.html">Errors</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.attributes.html">Attributes</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.sessions.html">Session Security</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
	<dd><a href="refs.ui.html">GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
    <div id="breadcrumbs-inner">
          
              
          <ul>
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.calendar.html">Date and Time Related Extensions</a></li>      <li><a href="book.datetime.html">Date/Time</a></li>      <li><a href="ref.datetime.html">Date/Time Functions</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div id="function.time" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">time</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">time</span> â€” <span class="dc-title">Return current Unix timestamp</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.time-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>time</strong></span>(): <span class="type">int</span></div>

  <p class="para rdfs-comment">
   Returns the current time measured in the number of seconds since
   the Unix Epoch (January 1 1970 00:00:00 GMT).
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.time-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">This function has no parameters.</p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.time-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the current timestamp.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.time-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-2058">
    <p><strong>Example #1 <span class="function"><strong>time()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$nextWeek&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">()&nbsp;+&nbsp;(</span><span style="color: #0000BB">7&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">24&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">60&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">60</span><span style="color: #007700">);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;7&nbsp;days;&nbsp;24&nbsp;hours;&nbsp;60&nbsp;mins;&nbsp;60&nbsp;secs<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'Now:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #DD0000">'Next&nbsp;Week:&nbsp;'</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$nextWeek</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #FF8000">//&nbsp;or&nbsp;using&nbsp;strtotime():<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'Next&nbsp;Week:&nbsp;'</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">'+1&nbsp;week'</span><span style="color: #007700">))&nbsp;.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>Now:       2005-03-30
Next Week: 2005-04-06
Next Week: 2005-04-06
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.time-notes">
  <h3 class="title">Notes</h3>
  <div class="tip"><strong class="tip">Tip</strong>
   <p class="para">
    Timestamp of the start of the request is available in
    <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['REQUEST_TIME']</a></var>.
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.time-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.date.html" class="function" rel="rdfs-seeAlso">date()</a> - Format a local time/date</span></li>
    <li class="member"><span class="function"><a href="function.microtime.html" class="function" rel="rdfs-seeAlso">microtime()</a> - Return current Unix timestamp with microseconds</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="100220">  
  <a class="name">
  <strong class="user"><em>Timo K</em></strong></a><div class="date" title="2010-10-02 05:49"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom100220">
<div class="phpcode"><code><span class="html">
The documentation should have this info. The function time() returns always timestamp that is timezone independent (=UTC).
<br>
<br><span class="default">&lt;?php
<br>date_default_timezone_set</span><span class="keyword">(</span><span class="string">"UTC"</span><span class="keyword">); 
<br>echo </span><span class="string">"UTC:"</span><span class="keyword">.</span><span class="default">time</span><span class="keyword">();
<br>echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;
<br>
<br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">"Europe/Helsinki"</span><span class="keyword">); 
<br>echo </span><span class="string">"Europe/Helsinki:"</span><span class="keyword">.</span><span class="default">time</span><span class="keyword">();
<br>echo </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>Local time as string can be get by strftime() and local timestamp (if ever needed) by mktime().</span>
</code></div>
  </div>
 </div>
  <div class="note" id="118876">  
  <a class="name">
  <strong class="user"><em>Ray.Paseur sometimes uses Gmail</em></strong></a><div class="date" title="2016-02-21 04:03"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom118876">
<div class="phpcode"><code><span class="html">
The number of 86,400 seconds in a day comes from the assumption of 60 seconds per minute, 60 minutes per hour and 24 hours per day: 60*60*24.&nbsp; But not every day has 24 hours.&nbsp; This edge case occurs on the days that clocks change as we enter and leave daylight savings (summer) time.&nbsp; Date and time arithmetic is logically consistent and correct when you use PHP built-in functions, but it may not always work as expected if you try to write your own date and time arithmetic.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108581">  
  <a class="name">
  <strong class="user"><em>salladin</em></strong></a><div class="date" title="2012-05-08 09:59"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom108581">
<div class="phpcode"><code><span class="html">
Two quick approaches to getting the time elapsed in human readable form.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">time_elapsed_A</span><span class="keyword">(</span><span class="default">$secs</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">$bit </span><span class="keyword">= array(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'y' </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">31556926 </span><span class="keyword">% </span><span class="default">12</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'w' </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">604800 </span><span class="keyword">% </span><span class="default">52</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'d' </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">86400 </span><span class="keyword">% </span><span class="default">7</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'h' </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">3600 </span><span class="keyword">% </span><span class="default">24</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'m' </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">60 </span><span class="keyword">% </span><span class="default">60</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'s' </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">% </span><span class="default">60<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; foreach(</span><span class="default">$bit </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$v </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)</span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">$v </span><span class="keyword">. </span><span class="default">$k</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">join</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">, </span><span class="default">$ret</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br><br>function </span><span class="default">time_elapsed_B</span><span class="keyword">(</span><span class="default">$secs</span><span class="keyword">){<br>&nbsp; &nbsp; </span><span class="default">$bit </span><span class="keyword">= array(<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">' year'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">31556926 </span><span class="keyword">% </span><span class="default">12</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">' week'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">604800 </span><span class="keyword">% </span><span class="default">52</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">' day'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">86400 </span><span class="keyword">% </span><span class="default">7</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">' hour'&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">3600 </span><span class="keyword">% </span><span class="default">24</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">' minute'&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">60 </span><span class="keyword">% </span><span class="default">60</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">' second'&nbsp; &nbsp; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">% </span><span class="default">60<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; foreach(</span><span class="default">$bit </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">){<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$v </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">)</span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">$v </span><span class="keyword">. </span><span class="default">$k </span><span class="keyword">. </span><span class="string">'s'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$v </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">)</span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">$v </span><span class="keyword">. </span><span class="default">$k</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$ret</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$ret</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="string">'and'</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="string">'ago.'</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">join</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">, </span><span class="default">$ret</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br><br>&nbsp; &nbsp; <br>&nbsp; &nbsp; <br></span><span class="default">$nowtime </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">();<br></span><span class="default">$oldtime </span><span class="keyword">= </span><span class="default">1335939007</span><span class="keyword">;<br><br>echo </span><span class="string">"time_elapsed_A: "</span><span class="keyword">.</span><span class="default">time_elapsed_A</span><span class="keyword">(</span><span class="default">$nowtime</span><span class="keyword">-</span><span class="default">$oldtime</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br>echo </span><span class="string">"time_elapsed_B: "</span><span class="keyword">.</span><span class="default">time_elapsed_B</span><span class="keyword">(</span><span class="default">$nowtime</span><span class="keyword">-</span><span class="default">$oldtime</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br><br></span><span class="comment">/** Output:<br>time_elapsed_A: 6d 15h 48m 19s<br>time_elapsed_B: 6 days 15 hours 48 minutes and 19 seconds ago.<br>**/<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89415">  
  <a class="name">
  <strong class="user"><em>yasmary at gmail dot com</em></strong></a><div class="date" title="2009-03-06 12:48"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom89415">
<div class="phpcode"><code><span class="html">
A time difference function that outputs the time passed in facebook's style: 1 day ago, or 4 months ago. I took andrew dot macrobert at gmail dot com function and tweaked it a bit. On a strict enviroment it was throwing errors, plus I needed it to calculate the difference in time between a past date and a future date. <br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">nicetime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; if(empty(</span><span class="default">$date</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">"No date provided"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$periods&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">= array(</span><span class="string">"second"</span><span class="keyword">, </span><span class="string">"minute"</span><span class="keyword">, </span><span class="string">"hour"</span><span class="keyword">, </span><span class="string">"day"</span><span class="keyword">, </span><span class="string">"week"</span><span class="keyword">, </span><span class="string">"month"</span><span class="keyword">, </span><span class="string">"year"</span><span class="keyword">, </span><span class="string">"decade"</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$lengths&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">= array(</span><span class="string">"60"</span><span class="keyword">,</span><span class="string">"60"</span><span class="keyword">,</span><span class="string">"24"</span><span class="keyword">,</span><span class="string">"7"</span><span class="keyword">,</span><span class="string">"4.35"</span><span class="keyword">,</span><span class="string">"12"</span><span class="keyword">,</span><span class="string">"10"</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$now&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">();<br>&nbsp; &nbsp; </span><span class="default">$unix_date&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// check validity of date<br>&nbsp; &nbsp; </span><span class="keyword">if(empty(</span><span class="default">$unix_date</span><span class="keyword">)) {&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">"Bad date"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; </span><span class="comment">// is it future date or past date<br>&nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$now </span><span class="keyword">&gt; </span><span class="default">$unix_date</span><span class="keyword">) {&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$difference&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$now </span><span class="keyword">- </span><span class="default">$unix_date</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tense&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="string">"ago"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$difference&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$unix_date </span><span class="keyword">- </span><span class="default">$now</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tense&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="string">"from now"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; for(</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$difference </span><span class="keyword">&gt;= </span><span class="default">$lengths</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] &amp;&amp; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$lengths</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$difference </span><span class="keyword">/= </span><span class="default">$lengths</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">];<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$difference </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$difference</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; if(</span><span class="default">$difference </span><span class="keyword">!= </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$periods</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">].= </span><span class="string">"s"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="string">"</span><span class="default">$difference</span><span class="string"> </span><span class="default">$periods</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]</span><span class="string"> </span><span class="keyword">{</span><span class="default">$tense</span><span class="keyword">}</span><span class="string">"</span><span class="keyword">;<br>}<br><br></span><span class="default">$date </span><span class="keyword">= </span><span class="string">"2009-03-04 17:45"</span><span class="keyword">;<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">nicetime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">); </span><span class="comment">// 2 days ago<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107092">  
  <a class="name">
  <strong class="user"><em>tav</em></strong></a><div class="date" title="2012-01-06 04:06"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom107092">
<div class="phpcode"><code><span class="html">
Calculates the difference between $start and $s, returns a formatted string Xd Yh Zm As, e.g. 15d 23h 54m 31s. Empty sections will be stripped, returning 12d 4s, not 12d 0h 0m 4s.<br><br>Argument order (begin date, end date) doesn't matter.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">time_diff_conv</span><span class="keyword">(</span><span class="default">$start</span><span class="keyword">, </span><span class="default">$s</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$t </span><span class="keyword">= array( </span><span class="comment">//suffixes<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'d' </span><span class="keyword">=&gt; </span><span class="default">86400</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'h' </span><span class="keyword">=&gt; </span><span class="default">3600</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'m' </span><span class="keyword">=&gt; </span><span class="default">60</span><span class="keyword">,<br>&nbsp; &nbsp; );<br>&nbsp; &nbsp; </span><span class="default">$s </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$s </span><span class="keyword">- </span><span class="default">$start</span><span class="keyword">);<br>&nbsp; &nbsp; foreach(</span><span class="default">$t </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; &amp;</span><span class="default">$val</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; $</span><span class="default">$key </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">/</span><span class="default">$val</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$s </span><span class="keyword">-= ($</span><span class="default">$key</span><span class="keyword">*</span><span class="default">$val</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$string </span><span class="keyword">.= ($</span><span class="default">$key</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">) ? </span><span class="string">'' </span><span class="keyword">: $</span><span class="default">$key </span><span class="keyword">. </span><span class="string">"</span><span class="default">$key</span><span class="string"> "</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$string </span><span class="keyword">. </span><span class="default">$s</span><span class="keyword">. </span><span class="string">'s'</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99610">  
  <a class="name">
  <strong class="user"><em>johan dot lindskog at humlab dot umu dot se</em></strong></a><div class="date" title="2010-08-26 06:35"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom99610">
<div class="phpcode"><code><span class="html">
I needed to convert between Unix timestamps and Windows/AD timestamps, so I wrote a pair of simple functions for it.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">unix_time_to_win_time</span><span class="keyword">(</span><span class="default">$unix_time</span><span class="keyword">) {<br>&nbsp; </span><span class="comment">//add the seconds between 1601-01-01 and 1970-01-01 and make it 100-nanosecond precision<br>&nbsp; </span><span class="default">$win_time </span><span class="keyword">= (</span><span class="default">$unix_time </span><span class="keyword">+ </span><span class="default">11644477200</span><span class="keyword">) * </span><span class="default">10000000</span><span class="keyword">;<br>&nbsp; return </span><span class="default">$win_time</span><span class="keyword">;<br>}<br><br>function </span><span class="default">win_time_to_unix_time</span><span class="keyword">(</span><span class="default">$win_time</span><span class="keyword">) {<br>&nbsp; </span><span class="comment">//round the win timestamp down to seconds and remove the seconds between 1601-01-01 and 1970-01-01<br>&nbsp; </span><span class="default">$unix_time </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$win_time </span><span class="keyword">/ </span><span class="default">10000000</span><span class="keyword">) - </span><span class="default">11644477200</span><span class="keyword">;<br>&nbsp; return </span><span class="default">$unix_time</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="88498">  
  <a class="name">
  <strong class="user"><em>anon</em></strong></a><div class="date" title="2009-01-26 05:16"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom88498">
<div class="phpcode"><code><span class="html">
Below, a function to create TNG-style stardates, taking 2009 to start stardate 41000.0.&nbsp; In fact, the offset is trivial to adjust if you wish to begin from a different date.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">getStardate</span><span class="keyword">(</span><span class="default">void</span><span class="keyword">)<br>{<br>&nbsp; </span><span class="default">$offset </span><span class="keyword">= </span><span class="default">2000</span><span class="keyword">;<br>&nbsp; </span><span class="default">$seconds_per_stardate </span><span class="keyword">= </span><span class="default">31449.6</span><span class="keyword">; </span><span class="comment">// is the number of seconds in a year divided by 1000, for hopefully obvious reasons<br>&nbsp; </span><span class="keyword">return </span><span class="default">time</span><span class="keyword">() / </span><span class="default">$seconds_per_stardate </span><span class="keyword">+ </span><span class="default">$offset</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>Other series use less reliable stardate formats, which makes it difficult [read: nigh impossible] to create a function that converts a unix timestamp into a stardate.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="122711">  
  <a class="name">
  <strong class="user"><em>Dan J</em></strong></a><div class="date" title="2018-05-07 11:24"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom122711">
<div class="phpcode"><code><span class="html">
It seems that the output of time()&gt; is a few hundred microseconds behind the output of microtime() - be wary of mixing these functions.<br><br>Here's a snippet of code that demonstrates the difference:<br><br><span class="default">&lt;?php<br><br></span><span class="comment">// Find the next second<br></span><span class="default">$nextSecond </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">() + </span><span class="default">1</span><span class="keyword">;<br><br></span><span class="comment">// Sleep until 2.5 milliseconds before the next second<br></span><span class="default">time_sleep_until</span><span class="keyword">(</span><span class="default">floatval</span><span class="keyword">(</span><span class="default">$nextSecond</span><span class="keyword">) - </span><span class="default">2.5e-3</span><span class="keyword">);<br><br></span><span class="comment">// Check time() and microtime() every 250 microseconds for 20 iterations<br></span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">20</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">++) {<br>&nbsp; &nbsp; </span><span class="default">$time </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">();<br>&nbsp; &nbsp; </span><span class="default">$uTime </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">printf</span><span class="keyword">(</span><span class="string">"TIME: %d&nbsp; uTIME: %0.6f"</span><span class="keyword">, </span><span class="default">$time</span><span class="keyword">, </span><span class="default">$uTime</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; if (</span><span class="default">floor</span><span class="keyword">(</span><span class="default">$uTime</span><span class="keyword">) &gt; </span><span class="default">$time</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"&nbsp; time() is behind"</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; echo </span><span class="string">"\n"</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">usleep</span><span class="keyword">(</span><span class="default">250</span><span class="keyword">);<br>}<br><br></span><span class="comment">// Example output:<br><br>// TIME: 1525735820&nbsp; uTIME: 1525735820.997716<br>// TIME: 1525735820&nbsp; uTIME: 1525735820.998137<br>// TIME: 1525735820&nbsp; uTIME: 1525735820.998528<br>// TIME: 1525735820&nbsp; uTIME: 1525735820.998914<br>// TIME: 1525735820&nbsp; uTIME: 1525735820.999287<br>// TIME: 1525735820&nbsp; uTIME: 1525735820.999657<br>// TIME: 1525735820&nbsp; uTIME: 1525735821.000026&nbsp; time() is behind<br>// TIME: 1525735820&nbsp; uTIME: 1525735821.000367&nbsp; time() is behind<br>// TIME: 1525735820&nbsp; uTIME: 1525735821.000705&nbsp; time() is behind<br>// TIME: 1525735820&nbsp; uTIME: 1525735821.001042&nbsp; time() is behind<br>// TIME: 1525735820&nbsp; uTIME: 1525735821.001379&nbsp; time() is behind<br>// TIME: 1525735821&nbsp; uTIME: 1525735821.001718<br>// TIME: 1525735821&nbsp; uTIME: 1525735821.002070<br>// TIME: 1525735821&nbsp; uTIME: 1525735821.002425<br>// TIME: 1525735821&nbsp; uTIME: 1525735821.002770<br>// TIME: 1525735821&nbsp; uTIME: 1525735821.003109<br>// TIME: 1525735821&nbsp; uTIME: 1525735821.003448<br>// TIME: 1525735821&nbsp; uTIME: 1525735821.003787<br>// TIME: 1525735821&nbsp; uTIME: 1525735821.004125<br>// TIME: 1525735821&nbsp; uTIME: 1525735821.004480</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="123177">  
  <a class="name">
  <strong class="user"><em>correa dot rafael at live dot com</em></strong></a><div class="date" title="2018-09-29 08:05"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom123177">
<div class="phpcode"><code><span class="html">
Here's a little tweak for those having trouble with cookies being set in the future or past (even after setting the date.timezone directive in php.ini or using the function):<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; setcookie</span><span class="keyword">(</span><span class="string">'userAgent'</span><span class="keyword">,</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_USER_AGENT'</span><span class="keyword">], </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'r'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()).</span><span class="string">'+2 days'</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span><br>The example above will fetch the current time() in Unix Epoch, convert to your date() and timezone, and covert the result to Unix Epoch again with strtotime() so you can use it to set cookie expiration dates.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="120369">  
  <a class="name">
  <strong class="user"><em>jaak dot tamre at gmail dot com</em></strong></a><div class="date" title="2016-12-23 09:16"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom120369">
<div class="phpcode"><code><span class="html">
Does anyone know if the year 2038 issue will be solved in PHP?<br><br>Lets imagine it's year 2039 and the time() function will return negative numbers? This is not acceptable.<br><br>Using the DateTime interface is nice, but will these timestamp helper functions be removed or fixed?</span>
</code></div>
  </div>
 </div>
  <div class="note" id="67546">  
  <a class="name">
  <strong class="user"><em>send at mail dot 2aj dot net</em></strong></a><div class="date" title="2006-06-08 11:58"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom67546">
<div class="phpcode"><code><span class="html">
If you want to create a "rounded" time stamp, for example, to the nearest 15 minutes use this as a reference:<br><br><span class="default">&lt;?php<br>$round_numerator </span><span class="keyword">= </span><span class="default">60 </span><span class="keyword">* </span><span class="default">15 </span><span class="comment">// 60 seconds per minute * 15 minutes equals 900 seconds<br>//$round_numerator = 60 * 60 or to the nearest hour<br>//$round_numerator = 60 * 60 * 24 or to the nearest day<br><br>// Calculate time to nearest 15 minutes!<br></span><span class="default">$rounded_time </span><span class="keyword">= ( </span><span class="default">round </span><span class="keyword">( </span><span class="default">time</span><span class="keyword">() / </span><span class="default">$round_numerator </span><span class="keyword">) * </span><span class="default">$round_numerator </span><span class="keyword">);<br><br></span><span class="comment">//If it was 12:40 this would return the timestamp for 12:45;<br>//3:04, 3:00; etc. <br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113492">  
  <a class="name">
  <strong class="user"><em>jnostuh at gmail dot com</em></strong></a><div class="date" title="2013-10-18 01:52"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom113492">
<div class="phpcode"><code><span class="html">
I built this function to get the strtotime numbers for the beginning and ending of the month and return them as arrays in an object.&nbsp; Cheers.<br><br>&nbsp; &nbsp; &nbsp; &nbsp; //Returns values in the format of strtotime for evaluating purposes!<br>&nbsp; &nbsp; &nbsp; &nbsp; function returnDateFirstAndLast($numberOfMonths) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $time=time();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $lastdayofcurrentmonth=strtotime('+1 month -1 day',strtotime(date('Y-m-1 24:59:59',$time)));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $values=new stdClass();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for ( $i = 0;$i &lt; $numberOfMonths;$i++ ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $time=time();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $firstdayofmonth=strtotime('-'.$i.' month',strtotime(date('Y-m-1 00:00:00',$time)));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $lastdayofmonth=strtotime('-'.($i - 1).' month -1 day',strtotime(date('Y-m-1 24:59:59',$time)));<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $first[$i]=$firstdayofmonth;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $i == 0 ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $last[$i]=$lastdayofcurrentmonth;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $last[$i]=$lastdayofmonth;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $values-&gt;first=$first;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $values-&gt;last=$last;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $values;<br>&nbsp; &nbsp; &nbsp; &nbsp; }</span>
</code></div>
  </div>
 </div>
  <div class="note" id="117402">  
  <a class="name">
  <strong class="user"><em>Peter F</em></strong></a><div class="date" title="2015-06-04 12:58"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom117402">
<div class="phpcode"><code><span class="html">
Javier:<br><br>The issue are highlighting is with the date() function, not with time(). the following code demonstrates this:<br><br><span class="default">&lt;?php<br></span><span class="comment">// server in BST Timezone<br></span><span class="keyword">print </span><span class="string">'server timezone&lt;br&gt;'</span><span class="keyword">;<br></span><span class="default">$time1 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'H:i:s'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() - </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">)); </span><span class="comment">// 12:50:29<br></span><span class="default">$time2 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'H:i:s'</span><span class="keyword">, </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'U'</span><span class="keyword">)); </span><span class="comment">// 13:50:29<br></span><span class="default">$time3 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'H:i:s'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()); </span><span class="comment">// 13:50:29<br></span><span class="default">$time4 </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">() - </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">); </span><span class="comment">// 1433418629<br></span><span class="default">$time5 </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'U'</span><span class="keyword">); </span><span class="comment">// 1433422229<br></span><span class="default">$time6 </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">(); </span><span class="comment">// 1433422229<br></span><span class="keyword">print </span><span class="default">$time1</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time2</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time3</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time4</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time5</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time6</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br><br></span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'date.timezone'</span><span class="keyword">, </span><span class="string">'Europe/Berlin'</span><span class="keyword">);<br>print </span><span class="string">'Europe/Berlin&lt;br&gt;'</span><span class="keyword">;<br></span><span class="default">$time1 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'H:i:s'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() - </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">)); </span><span class="comment">// 12:50:29<br></span><span class="default">$time2 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'H:i:s'</span><span class="keyword">, </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'U'</span><span class="keyword">)); </span><span class="comment">// 14:50:29<br></span><span class="default">$time3 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'H:i:s'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()); </span><span class="comment">// 14:50:29<br></span><span class="default">$time4 </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">() - </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">); </span><span class="comment">// 1433415029<br></span><span class="default">$time5 </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'U'</span><span class="keyword">); </span><span class="comment">// 1433422229<br></span><span class="default">$time6 </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">(); </span><span class="comment">// 1433422229<br></span><span class="keyword">print </span><span class="default">$time1</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time2</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time3</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time4</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time5</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time6</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br><br></span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'date.timezone'</span><span class="keyword">, </span><span class="string">'UTC'</span><span class="keyword">);<br>print </span><span class="string">'UTC&lt;br&gt;'</span><span class="keyword">;<br></span><span class="default">$time1 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'H:i:s'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">() - </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">)); </span><span class="comment">// 12:50:29<br></span><span class="default">$time2 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'H:i:s'</span><span class="keyword">, </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'U'</span><span class="keyword">)); </span><span class="comment">// 12:50:29<br></span><span class="default">$time3 </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">'H:i:s'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()); </span><span class="comment">// 12:50:29<br></span><span class="default">$time4 </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">() - </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Z'</span><span class="keyword">); </span><span class="comment">// 1433422229<br></span><span class="default">$time5 </span><span class="keyword">= </span><span class="default">gmdate</span><span class="keyword">(</span><span class="string">'U'</span><span class="keyword">); </span><span class="comment">// 1433422229<br></span><span class="default">$time6 </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">(); </span><span class="comment">// 1433422229<br></span><span class="keyword">print </span><span class="default">$time1</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time2</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time3</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time4</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time5</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br>print </span><span class="default">$time6</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="121908">  
  <a class="name">
  <strong class="user"><em>APM</em></strong></a><div class="date" title="2017-11-23 03:26"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom121908">
<div class="phpcode"><code><span class="html">
A better way to get a nice time-format (1 year ago, 2 months until) without all the trailing months, days, hours, minutes, seconds in the result is by using the DateTime format and using the date_diff function as they both does most of the heavy lifting for you<br><br>Function below as example<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// Get time interval function<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">getTimeInterval</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Set date as DateTime object<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$date </span><span class="keyword">= new </span><span class="default">DateTime </span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Set now as DateTime object<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$now </span><span class="keyword">= </span><span class="default">date </span><span class="keyword">(</span><span class="string">'Y-m-d H:i:s'</span><span class="keyword">, </span><span class="default">time</span><span class="keyword">()); </span><span class="comment">// If you want to compare two dates you both provide just delete this line and add a $now to the function parameter (ie. function getTimeInterval($date, $now))<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$now </span><span class="keyword">= new </span><span class="default">DateTime </span><span class="keyword">(</span><span class="default">$now</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Check if date is in the past or future and calculate timedifference and set tense accordingly<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$now </span><span class="keyword">&gt;= </span><span class="default">$date</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$timeDifference </span><span class="keyword">= </span><span class="default">date_diff </span><span class="keyword">(</span><span class="default">$date </span><span class="keyword">, </span><span class="default">$now</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tense </span><span class="keyword">= </span><span class="string">" ago"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$timeDifference </span><span class="keyword">= </span><span class="default">date_diff </span><span class="keyword">(</span><span class="default">$now</span><span class="keyword">, </span><span class="default">$date</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tense </span><span class="keyword">= </span><span class="string">" until"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Set posible periods (lowest first as to end result with the highest value that isn't 0)<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$period </span><span class="keyword">= array (</span><span class="string">" second"</span><span class="keyword">, </span><span class="string">" minute"</span><span class="keyword">, </span><span class="string">" hour"</span><span class="keyword">, </span><span class="string">" day"</span><span class="keyword">, </span><span class="string">" month"</span><span class="keyword">, </span><span class="string">" year"</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Set values of the periods using the DateTime formats (matching the periods above)<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$periodValue</span><span class="keyword">= array (</span><span class="default">$timeDifference</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'%s'</span><span class="keyword">), </span><span class="default">$timeDifference</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'%i'</span><span class="keyword">), </span><span class="default">$timeDifference</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'%h'</span><span class="keyword">), </span><span class="default">$timeDifference</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'%d'</span><span class="keyword">), </span><span class="default">$timeDifference</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'%m'</span><span class="keyword">), </span><span class="default">$timeDifference</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'%y'</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Loop through the periods (ie. seconds to years)<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$periodValue</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If current value is different from 1 add 's' to the end of current period (ie. seconds)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$periodValue</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] != </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$period</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] .= </span><span class="string">"s"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If current value is larger than 0 set new interval overwriting the lower value that came before ensuring the result shows only the highest value that isn't 0<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$periodValue</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] &gt; </span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$interval </span><span class="keyword">= </span><span class="default">$periodValue</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="default">$period</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="default">$tense</span><span class="keyword">; </span><span class="comment">// ie.: 3 months ago<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If any values were larger than 0 (ie. timedifference is not 0 years, 0 months, 0 days, 0 hours, 0 minutes, 0 seconds ago) return interval<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (isset(</span><span class="default">$interval</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$interval</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Else if no values were larger than 0 (ie. timedifference is 0 years, 0 months, 0 days, 0 hours, 0 minites, 0 seconds ago) return 0 seconds ago<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">} else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">"0 seconds" </span><span class="keyword">. </span><span class="default">$tense</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="comment">// Ex. (time now = November 23 2017)<br>&nbsp; &nbsp; </span><span class="default">getTimeInterval</span><span class="keyword">(</span><span class="string">"2016-05-04 12:00:00"</span><span class="keyword">); </span><span class="comment">// Returns: 1 year ago<br>&nbsp; &nbsp; </span><span class="default">getTimeInterval</span><span class="keyword">(</span><span class="string">"2017-12-24 12:00:00"</span><span class="keyword">); </span><span class="comment">// Returns: 1 month until<br>&nbsp; &nbsp; <br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77506">  
  <a class="name">
  <strong class="user"><em>lsd25 at hotmail dot com</em></strong></a><div class="date" title="2007-09-01 07:53"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom77506">
<div class="phpcode"><code><span class="html">
I did an article on floating point time you can download from my website. Roun movements is the radial ounion movement and there is a quantum ounion movement as well, this code will generate the data for <a rel="nofollow" target="_blank">http://www.chronolabs.org.au/bin/roun-time-article.pdf</a> which is an article on floating point time, I have created the calendar system as well for this time. It is compatible with other time and other solar systems with different revolutions of the planets as well as different quantumy stuff.
<br>
<br>Thanks:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">if (</span><span class="default">$gmt</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$gmt</span><span class="keyword">=-</span><span class="default">$gmt</span><span class="keyword">;
<br>&nbsp; &nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$gmt</span><span class="keyword">=</span><span class="default">$gmt</span><span class="keyword">+</span><span class="default">$gmt</span><span class="keyword">+</span><span class="default">$gmt</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$ptime </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'2008-05-11 10:05 AM'</span><span class="keyword">)+(</span><span class="default">60</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">*</span><span class="default">gmt</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$weight </span><span class="keyword">= -</span><span class="default">20.22222222223</span><span class="keyword">+(</span><span class="default">1</span><span class="keyword">*</span><span class="default">gmt</span><span class="keyword">);
<br>
<br>&nbsp; &nbsp; </span><span class="default">$roun_xa </span><span class="keyword">= (</span><span class="default">$tme</span><span class="keyword">)/(</span><span class="default">24</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$roun_ya </span><span class="keyword">= </span><span class="default">$ptime</span><span class="keyword">/(</span><span class="default">24</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$roun </span><span class="keyword">= ((</span><span class="default">$roun_xa </span><span class="keyword">-</span><span class="default">$roun_ya</span><span class="keyword">) - </span><span class="default">$weight</span><span class="keyword">)+(</span><span class="default">microtime</span><span class="keyword">/</span><span class="default">999999</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$nonedeficient </span><span class="keyword">= array(</span><span class="string">"seq1" </span><span class="keyword">=&gt; array(</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">),
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"seq2" </span><span class="keyword">=&gt; array(</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">),&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"seq3" </span><span class="keyword">=&gt; array(</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">),
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"seq4" </span><span class="keyword">=&gt; array(</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">));
<br>
<br>&nbsp; &nbsp; </span><span class="default">$deficient </span><span class="keyword">=&nbsp; &nbsp;&nbsp; array(</span><span class="string">"seq1" </span><span class="keyword">=&gt; array(</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">),
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"seq2" </span><span class="keyword">=&gt; array(</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">),&nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"seq3" </span><span class="keyword">=&gt; array(</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">),
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"seq4" </span><span class="keyword">=&gt; array(</span><span class="default">30</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">,</span><span class="default">31</span><span class="keyword">,</span><span class="default">30</span><span class="keyword">));
<br>
<br>&nbsp; &nbsp; </span><span class="default">$monthusage </span><span class="keyword">= isset(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'deficienty'</span><span class="keyword">]) ? ${</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">'deficienty'</span><span class="keyword">]} : </span><span class="default">$deficient</span><span class="keyword">;
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; foreach(</span><span class="default">$monthusage </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$item</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$i</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$item </span><span class="keyword">as </span><span class="default">$numdays</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ttl_num</span><span class="keyword">=</span><span class="default">$ttl_num</span><span class="keyword">+</span><span class="default">$numdays</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$revolutionsperyear </span><span class="keyword">= </span><span class="default">$ttl_num </span><span class="keyword">/ </span><span class="default">$i</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$numyears </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">((</span><span class="default">round</span><span class="keyword">(</span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$roun</span><span class="keyword">)) / </span><span class="default">$revolutionsperyear</span><span class="keyword">),</span><span class="default">0</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$jtl </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$roun</span><span class="keyword">) - </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$revolutionsperyear</span><span class="keyword">*(</span><span class="default">$numyears</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">)));
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; while(</span><span class="default">$month</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$day</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$monthusage </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$item</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$t</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$u</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$item </span><span class="keyword">as </span><span class="default">$numdays</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$ii</span><span class="keyword">&lt;</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$roun</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$isbelow</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ii</span><span class="keyword">=</span><span class="default">$ii</span><span class="keyword">+</span><span class="default">$numdays</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$ii</span><span class="keyword">&gt;</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$roun</span><span class="keyword">)){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$isabove</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$isbelow</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">&amp;&amp;</span><span class="default">$isabove</span><span class="keyword">==</span><span class="default">true</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$daynum </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">((</span><span class="default">$ii</span><span class="keyword">-</span><span class="default">$numday</span><span class="keyword">)-</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$roun</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$month </span><span class="keyword">= </span><span class="default">$u</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$month</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$isbelow</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$isabove</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$nodaycount</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$nodaycount</span><span class="keyword">==</span><span class="default">false</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$day</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$u</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$timer </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$roun</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$roun</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">)+</span><span class="default">1</span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$roun</span><span class="keyword">)-</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$roun</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">);
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$roun_out</span><span class="keyword">= </span><span class="default">$numyears</span><span class="keyword">.</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$month</span><span class="keyword">.</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$daynum</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$day</span><span class="keyword">.</span><span class="string">".</span><span class="default">$timer</span><span class="string">"</span><span class="keyword">;
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="32487">  
  <a class="name">
  <strong class="user"><em>mayank_arya at hotmail dot com</em></strong></a><div class="date" title="2003-05-28 06:13"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom32487">
<div class="phpcode"><code><span class="html">
Here's one way to generate all intermediate dates (in mySQL format) between any 2 dates. 
<br>Get start and end dates from user input, you'd need to do the basic validations that :
<br>- start and end dates are valid dates 
<br>- start date &lt;= end date.
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">//start date 2001-02-23
<br></span><span class="default">$sm</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">;
<br></span><span class="default">$sd</span><span class="keyword">=</span><span class="default">23</span><span class="keyword">;
<br></span><span class="default">$sy</span><span class="keyword">=</span><span class="default">2001</span><span class="keyword">;
<br>
<br></span><span class="comment">//end date 2001-03-14
<br></span><span class="default">$em</span><span class="keyword">=</span><span class="default">3</span><span class="keyword">;
<br></span><span class="default">$ed</span><span class="keyword">=</span><span class="default">14</span><span class="keyword">;
<br></span><span class="default">$ey</span><span class="keyword">=</span><span class="default">2001</span><span class="keyword">;
<br>
<br></span><span class="comment">//utc of start and end dates
<br></span><span class="default">$s</span><span class="keyword">=</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$sm</span><span class="keyword">, </span><span class="default">$sd</span><span class="keyword">, </span><span class="default">$sy</span><span class="keyword">); 
<br></span><span class="default">$e</span><span class="keyword">=</span><span class="default">mktime</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$em</span><span class="keyword">, </span><span class="default">$ed</span><span class="keyword">, </span><span class="default">$ey</span><span class="keyword">); 
<br>
<br>while(</span><span class="default">$s</span><span class="keyword">&lt;=</span><span class="default">$e</span><span class="keyword">){
<br>print </span><span class="default">date</span><span class="keyword">(</span><span class="string">'Y-m-d'</span><span class="keyword">,</span><span class="default">$s</span><span class="keyword">).</span><span class="string">"&lt; br &gt;"</span><span class="keyword">; </span><span class="comment">//display date in&nbsp; mySQL format 
<br></span><span class="default">$s</span><span class="keyword">=</span><span class="default">$s</span><span class="keyword">+</span><span class="default">86400</span><span class="keyword">; </span><span class="comment">//increment date by 86400 seconds(1 day) 
<br></span><span class="keyword">}
<br>
<br></span><span class="default">Hope this helps </span><span class="keyword">:)
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102595">  
  <a class="name">
  <strong class="user"><em>Yi</em></strong></a><div class="date" title="2011-02-23 08:29"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom102595">
<div class="phpcode"><code><span class="html">
A method return GMT time (gmttime):
<br>
<br><span class="default">&lt;?php
<br>$gmtimenow </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">() - (int)</span><span class="default">substr</span><span class="keyword">(</span><span class="default">date</span><span class="keyword">(</span><span class="string">'O'</span><span class="keyword">),</span><span class="default">0</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">)*</span><span class="default">60</span><span class="keyword">*</span><span class="default">60</span><span class="keyword">;
<br>echo </span><span class="default">$gmtimenow </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>it convert current time to GMT based on time zone offset.
<br>
<br>by frank.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109516">  
  <a class="name">
  <strong class="user"><em>siegfried at anggit dot com</em></strong></a><div class="date" title="2012-07-24 11:03"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom109516">
<div class="phpcode"><code><span class="html">
elapsed time function with precision:
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">function </span><span class="default">elapsed_time</span><span class="keyword">(</span><span class="default">$timestamp</span><span class="keyword">, </span><span class="default">$precision </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">) {
<br>&nbsp; </span><span class="default">$time </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">() - </span><span class="default">$timestamp</span><span class="keyword">;
<br>&nbsp; </span><span class="default">$a </span><span class="keyword">= array(</span><span class="string">'decade' </span><span class="keyword">=&gt; </span><span class="default">315576000</span><span class="keyword">, </span><span class="string">'year' </span><span class="keyword">=&gt; </span><span class="default">31557600</span><span class="keyword">, </span><span class="string">'month' </span><span class="keyword">=&gt; </span><span class="default">2629800</span><span class="keyword">, </span><span class="string">'week' </span><span class="keyword">=&gt; </span><span class="default">604800</span><span class="keyword">, </span><span class="string">'day' </span><span class="keyword">=&gt; </span><span class="default">86400</span><span class="keyword">, </span><span class="string">'hour' </span><span class="keyword">=&gt; </span><span class="default">3600</span><span class="keyword">, </span><span class="string">'min' </span><span class="keyword">=&gt; </span><span class="default">60</span><span class="keyword">, </span><span class="string">'sec' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">);
<br>&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;
<br>&nbsp; &nbsp; foreach(</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; $</span><span class="default">$k </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$time</span><span class="keyword">/</span><span class="default">$v</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; if ($</span><span class="default">$k</span><span class="keyword">) </span><span class="default">$i</span><span class="keyword">++;
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$time </span><span class="keyword">= </span><span class="default">$i </span><span class="keyword">&gt;= </span><span class="default">$precision </span><span class="keyword">? </span><span class="default">0 </span><span class="keyword">: </span><span class="default">$time </span><span class="keyword">- $</span><span class="default">$k </span><span class="keyword">* </span><span class="default">$v</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$s </span><span class="keyword">= $</span><span class="default">$k </span><span class="keyword">&gt; </span><span class="default">1 </span><span class="keyword">? </span><span class="string">'s' </span><span class="keyword">: </span><span class="string">''</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; $</span><span class="default">$k </span><span class="keyword">= $</span><span class="default">$k </span><span class="keyword">? $</span><span class="default">$k</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">.</span><span class="default">$k</span><span class="keyword">.</span><span class="default">$s</span><span class="keyword">.</span><span class="string">' ' </span><span class="keyword">: </span><span class="string">''</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; @</span><span class="default">$result </span><span class="keyword">.= $</span><span class="default">$k</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; return </span><span class="default">$result </span><span class="keyword">? </span><span class="default">$result</span><span class="keyword">.</span><span class="string">'ago' </span><span class="keyword">: </span><span class="string">'1 sec to go'</span><span class="keyword">;
<br>}
<br>
<br>echo </span><span class="default">elapsed_time</span><span class="keyword">(</span><span class="string">'1234567890'</span><span class="keyword">).</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">; </span><span class="comment">// 3 years 5 months ago
<br></span><span class="keyword">echo </span><span class="default">elapsed_time</span><span class="keyword">(</span><span class="string">'1234567890'</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">); </span><span class="comment">// 3 years 5 months 1 week 2 days 57 mins 4 secs ago
<br>
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="96097">  
  <a class="name">
  <strong class="user"><em>nickr at visuality dot com</em></strong></a><div class="date" title="2010-02-08 01:54"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom96097">
<div class="phpcode"><code><span class="html">
Here is a version for the difference code that displays "ago" code.<br><br>It does use some precision after the time difference is longer than a day. ( ie days are more than 60 * 60 * 24 hours long )<br><br><span class="default">&lt;?php<br><br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">ago</span><span class="keyword">(</span><span class="default">$datefrom</span><span class="keyword">,</span><span class="default">$dateto</span><span class="keyword">=-</span><span class="default">1</span><span class="keyword">)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Defaults and assume if 0 is passed in that<br>&nbsp; &nbsp; &nbsp; &nbsp; // its an error rather than the epoch<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">$datefrom</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">) { return </span><span class="string">"A long time ago"</span><span class="keyword">; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$dateto</span><span class="keyword">==-</span><span class="default">1</span><span class="keyword">) { </span><span class="default">$dateto </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">(); }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Make the entered date into Unix timestamp from MySQL datetime field<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$datefrom </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$datefrom</span><span class="keyword">);<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Calculate the difference in seconds betweeen<br>&nbsp; &nbsp; &nbsp; &nbsp; // the two timestamps<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$difference </span><span class="keyword">= </span><span class="default">$dateto </span><span class="keyword">- </span><span class="default">$datefrom</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// Based on the interval, determine the<br>&nbsp; &nbsp; &nbsp; &nbsp; // number of units between the two dates<br>&nbsp; &nbsp; &nbsp; &nbsp; // From this point on, you would be hard<br>&nbsp; &nbsp; &nbsp; &nbsp; // pushed telling the difference between<br>&nbsp; &nbsp; &nbsp; &nbsp; // this function and DateDiff. If the $datediff<br>&nbsp; &nbsp; &nbsp; &nbsp; // returned is 1, be sure to return the singular<br>&nbsp; &nbsp; &nbsp; &nbsp; // of the unit, e.g. 'day' rather 'days'<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">switch(</span><span class="default">true</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If difference is less than 60 seconds,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // seconds is a good interval of choice<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">case(</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-1 min'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &lt; </span><span class="default">$datefrom</span><span class="keyword">):<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$datediff </span><span class="keyword">= </span><span class="default">$difference</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res </span><span class="keyword">= (</span><span class="default">$datediff</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) ? </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' second ago' </span><span class="keyword">: </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' seconds ago'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If difference is between 60 seconds and<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 60 minutes, minutes is a good interval<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">case(</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-1 hour'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &lt; </span><span class="default">$datefrom</span><span class="keyword">):<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$datediff </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$difference </span><span class="keyword">/ </span><span class="default">60</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res </span><span class="keyword">= (</span><span class="default">$datediff</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) ? </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' minute ago' </span><span class="keyword">: </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' minutes ago'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If difference is between 1 hour and 24 hours<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // hours is a good interval<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">case(</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-1 day'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &lt; </span><span class="default">$datefrom</span><span class="keyword">):<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$datediff </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$difference </span><span class="keyword">/ </span><span class="default">60 </span><span class="keyword">/ </span><span class="default">60</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res </span><span class="keyword">= (</span><span class="default">$datediff</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) ? </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' hour ago' </span><span class="keyword">: </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' hours ago'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If difference is between 1 day and 7 days<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // days is a good interval&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">case(</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-1 week'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &lt; </span><span class="default">$datefrom</span><span class="keyword">):<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$day_difference </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$day_difference</span><span class="keyword">.</span><span class="string">' day'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &gt;= </span><span class="default">$datefrom</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$day_difference</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$datediff </span><span class="keyword">= </span><span class="default">$day_difference</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res </span><span class="keyword">= (</span><span class="default">$datediff</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) ? </span><span class="string">'yesterday' </span><span class="keyword">: </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' days ago'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If difference is between 1 week and 30 days<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // weeks is a good interval&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">case(</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-1 month'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &lt; </span><span class="default">$datefrom</span><span class="keyword">):<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$week_difference </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$week_difference</span><span class="keyword">.</span><span class="string">' week'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &gt;= </span><span class="default">$datefrom</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$week_difference</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$datediff </span><span class="keyword">= </span><span class="default">$week_difference</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res </span><span class="keyword">= (</span><span class="default">$datediff</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) ? </span><span class="string">'last week' </span><span class="keyword">: </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' weeks ago'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If difference is between 30 days and 365 days<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // months is a good interval, again, the same thing<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // applies, if the 29th February happens to exist<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // between your 2 dates, the function will return<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // the 'incorrect' value for a day<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">case(</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-1 year'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &lt; </span><span class="default">$datefrom</span><span class="keyword">):<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$months_difference </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$months_difference</span><span class="keyword">.</span><span class="string">' month'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &gt;= </span><span class="default">$datefrom</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$months_difference</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$datediff </span><span class="keyword">= </span><span class="default">$months_difference</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res </span><span class="keyword">= (</span><span class="default">$datediff</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) ? </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' month ago' </span><span class="keyword">: </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' months ago'</span><span class="keyword">;<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// If difference is greater than or equal to 365<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // days, return year. This will be incorrect if<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // for example, you call the function on the 28th April<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 2008 passing in 29th April 2007. It will return<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 1 year ago when in actual fact (yawn!) not quite<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // a year has gone by<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">case(</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-1 year'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &gt;= </span><span class="default">$datefrom</span><span class="keyword">):<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$year_difference </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while (</span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">'-'</span><span class="keyword">.</span><span class="default">$year_difference</span><span class="keyword">.</span><span class="string">' year'</span><span class="keyword">, </span><span class="default">$dateto</span><span class="keyword">) &gt;= </span><span class="default">$datefrom</span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$year_difference</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$datediff </span><span class="keyword">= </span><span class="default">$year_difference</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$res </span><span class="keyword">= (</span><span class="default">$datediff</span><span class="keyword">==</span><span class="default">1</span><span class="keyword">) ? </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' year ago' </span><span class="keyword">: </span><span class="default">$datediff</span><span class="keyword">.</span><span class="string">' years ago'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$res</span><span class="keyword">;<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="85481">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2008-09-01 05:30"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom85481">
<div class="phpcode"><code><span class="html">
A cleaner example (half the comparisons) of distanceOfTimeInWords() function below:<br><br><span class="default">&lt;?php<br></span><span class="keyword">public static function </span><span class="default">distanceOfTimeInWords</span><span class="keyword">(</span><span class="default">$fromTime</span><span class="keyword">, </span><span class="default">$toTime </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$showLessThanAMinute </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$distanceInSeconds </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$toTime </span><span class="keyword">- </span><span class="default">$fromTime</span><span class="keyword">));<br>&nbsp; &nbsp; </span><span class="default">$distanceInMinutes </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$distanceInSeconds </span><span class="keyword">/ </span><span class="default">60</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInMinutes </span><span class="keyword">&lt;= </span><span class="default">1 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( !</span><span class="default">$showLessThanAMinute </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return (</span><span class="default">$distanceInMinutes </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) ? </span><span class="string">'less than a minute' </span><span class="keyword">: </span><span class="string">'1 minute'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInSeconds </span><span class="keyword">&lt; </span><span class="default">5 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'less than 5 seconds'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInSeconds </span><span class="keyword">&lt; </span><span class="default">10 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'less than 10 seconds'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInSeconds </span><span class="keyword">&lt; </span><span class="default">20 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'less than 20 seconds'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInSeconds </span><span class="keyword">&lt; </span><span class="default">40 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'about half a minute'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInSeconds </span><span class="keyword">&lt; </span><span class="default">60 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'less than a minute'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'1 minute'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInMinutes </span><span class="keyword">&lt; </span><span class="default">45 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$distanceInMinutes </span><span class="keyword">. </span><span class="string">' minutes'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInMinutes </span><span class="keyword">&lt; </span><span class="default">90 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'about 1 hour'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInMinutes </span><span class="keyword">&lt; </span><span class="default">1440 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'about ' </span><span class="keyword">. </span><span class="default">round</span><span class="keyword">(</span><span class="default">floatval</span><span class="keyword">(</span><span class="default">$distanceInMinutes</span><span class="keyword">) / </span><span class="default">60.0</span><span class="keyword">) . </span><span class="string">' hours'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInMinutes </span><span class="keyword">&lt; </span><span class="default">2880 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'1 day'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInMinutes </span><span class="keyword">&lt; </span><span class="default">43200 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'about ' </span><span class="keyword">. </span><span class="default">round</span><span class="keyword">(</span><span class="default">floatval</span><span class="keyword">(</span><span class="default">$distanceInMinutes</span><span class="keyword">) / </span><span class="default">1440</span><span class="keyword">) . </span><span class="string">' days'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInMinutes </span><span class="keyword">&lt; </span><span class="default">86400 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'about 1 month'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInMinutes </span><span class="keyword">&lt; </span><span class="default">525600 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">round</span><span class="keyword">(</span><span class="default">floatval</span><span class="keyword">(</span><span class="default">$distanceInMinutes</span><span class="keyword">) / </span><span class="default">43200</span><span class="keyword">) . </span><span class="string">' months'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( </span><span class="default">$distanceInMinutes </span><span class="keyword">&lt; </span><span class="default">1051199 </span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'about 1 year'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="string">'over ' </span><span class="keyword">. </span><span class="default">round</span><span class="keyword">(</span><span class="default">floatval</span><span class="keyword">(</span><span class="default">$distanceInMinutes</span><span class="keyword">) / </span><span class="default">525600</span><span class="keyword">) . </span><span class="string">' years'</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="125009">  
  <a class="name">
  <strong class="user"><em>derinus at gmail dot com</em></strong></a><div class="date" title="2020-05-14 11:30"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom125009">
<div class="phpcode"><code><span class="html">
Please do NOT use above code example to calculate $nextWeek.<br>In zones with daylight saving time it's wrong twice a year.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->

  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from www.php.net/manual/en/function.time.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:57:24 GMT -->

</body></html>