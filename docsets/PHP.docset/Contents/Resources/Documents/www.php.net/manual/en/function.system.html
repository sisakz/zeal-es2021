<html><!-- Mirrored from www.php.net/manual/en/function.system.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:56:30 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>system</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.system.html">
 <link rel="shorturl" href="https://www.php.net/system">
 <link rel="alternate" href="https://www.php.net/system" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.exec.html">
 <link rel="prev" href="function.shell-exec.html">
 <link rel="next" href="book.parallel.html">

 <link rel="alternate" href="function.system.html" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.system.php" hreflang="pt_BR">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.system.php" hreflang="zh">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.system.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/de/function.system.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.system.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/ro/function.system.php" hreflang="ro">
 <link rel="alternate" href="https://www.php.net/manual/ru/function.system.php" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/es/function.system.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.system.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached0aba.css?t=1539771603&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached2ecf.css?t=1539765004&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedba57.css?t=1606338002&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached3afa.css?t=1627831203&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script>
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script src="https://www.php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>


</head>
<body class="docs " style="">


<div class="headsup"><a href="https://www.php.net/conferences/index.php#id2021-09-08-1">Longhorn PHP 2021</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.errors.html">Errors</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.attributes.html">Attributes</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.sessions.html">Session Security</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
	<dd><a href="refs.ui.html">GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
    <div id="breadcrumbs-inner">
          
              
          <ul>
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.fileprocess.process.html">Process Control Extensions</a></li>      <li><a href="book.exec.html">Program execution</a></li>      <li><a href="ref.exec.html">Program execution Functions</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div id="function.system" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">system</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">system</span> â€” <span class="dc-title">Execute an external program and display the output</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.system-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>system</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$command</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter reference">&amp;$result_code</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>system()</strong></span> is just like the C version of the
   function in that it executes the given
   <code class="parameter">command</code> and outputs the result.
  </p>
  <p class="para">
   The <span class="function"><strong>system()</strong></span> call also tries to automatically
   flush the web server's output buffer after each line of output if
   PHP is running as a server module.
  </p>
  <p class="para">
   If you need to execute a command and have all the data from the
   command passed directly back without any interference, use the
   <span class="function"><a href="function.passthru.html" class="function">passthru()</a></span> function.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.system-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>
    
     <dt>
<code class="parameter">command</code></dt>

     <dd>

      <p class="para">
       The command that will be executed.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">result_code</code></dt>

     <dd>

      <p class="para">
       If the <code class="parameter">result_code</code> argument is present, then the
       return status of the executed command will be written to this
       variable.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.system-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the last line of the command output on success, and <strong><code>false</code></strong>
   on failure.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.system-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-3277">
    <p><strong>Example #1 <span class="function"><strong>system()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;pre&gt;'</span><span style="color: #007700">;<br><br></span><span style="color: #FF8000">//&nbsp;Outputs&nbsp;all&nbsp;the&nbsp;result&nbsp;of&nbsp;shellcommand&nbsp;"ls",&nbsp;and&nbsp;returns<br>//&nbsp;the&nbsp;last&nbsp;output&nbsp;line&nbsp;into&nbsp;$last_line.&nbsp;Stores&nbsp;the&nbsp;return&nbsp;value<br>//&nbsp;of&nbsp;the&nbsp;shell&nbsp;command&nbsp;in&nbsp;$retval.<br></span><span style="color: #0000BB">$last_line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">system</span><span style="color: #007700">(</span><span style="color: #DD0000">'ls'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$retval</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">//&nbsp;Printing&nbsp;additional&nbsp;info<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'<br>&lt;/pre&gt;<br>&lt;hr&nbsp;/&gt;Last&nbsp;line&nbsp;of&nbsp;the&nbsp;output:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$last_line&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'<br>&lt;hr&nbsp;/&gt;Return&nbsp;value:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$retval</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.system-notes">
  <h3 class="title">Notes</h3>
  <div class="warning"><strong class="warning">Warning</strong><p class="para">When allowing user-supplied data to be
passed to this function, use
<span class="function"><a href="function.escapeshellarg.html" class="function">escapeshellarg()</a></span> or <span class="function"><a href="function.escapeshellcmd.html" class="function">escapeshellcmd()</a></span>
to ensure that users cannot trick the system into executing arbitrary
commands.</p></div>
  <blockquote class="note"><p><strong class="note">Note</strong>: </p><p class="para">If a program is started with this function,
in order for it to continue running in the background, the output of the
program must be redirected to a file or another output stream. Failing to do so
will cause PHP to hang until the execution of the program ends.</p><p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.system-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.exec.html" class="function" rel="rdfs-seeAlso">exec()</a> - Execute an external program</span></li>
    <li class="member"><span class="function"><a href="function.passthru.html" class="function" rel="rdfs-seeAlso">passthru()</a> - Execute an external program and display raw output</span></li>
    <li class="member"><span class="function"><a href="function.popen.html" class="function" rel="rdfs-seeAlso">popen()</a> - Opens process file pointer</span></li>
    <li class="member"><span class="function"><a href="function.escapeshellcmd.html" class="function" rel="rdfs-seeAlso">escapeshellcmd()</a> - Escape shell metacharacters</span></li>
    <li class="member"><span class="function"><a href="function.pcntl-exec.html" class="function" rel="rdfs-seeAlso">pcntl_exec()</a> - Executes specified program in current process space</span></li>
    <li class="member"><a href="language.operators.execution.html" class="link">backtick operator</a></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="108713">  
  <a class="name">
  <strong class="user"><em>no at mail dot com</em></strong></a><div class="date" title="2012-05-19 10:06"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom108713">
<div class="phpcode"><code><span class="html">
This is for WINDOWS users. I am running apache and I have been trying for hours now to capture the output of a command. <br><br>I'd tried everything that is written here and then continued searching online with no luck at all. The output of the command was never captured. All I got was an empty array.<br><br>Finally, I found a comment in a blog by a certain amazing guy that solved my problems. <br><br>Adding the string ' 2&gt;&amp;1' to the command name finally returned the output!! This works in exec() as well as system() in PHP since it uses stream redirection to redirect the output to the correct place!<br><br>system("yourCommandName 2&gt;&amp;1",$output) ;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="66795">  
  <a class="name">
  <strong class="user"><em>dan at thecsl dot org</em></strong></a><div class="date" title="2006-05-29 08:45"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom66795">
<div class="phpcode"><code><span class="html">
You probably want to check your system calls for errors. The convention is to return 0&nbsp; for "no error" which is the same as FALSE which can be confusing. You need to do something like:<br><br><span class="default">&lt;?php<br>&nbsp; $cmd </span><span class="keyword">= </span><span class="string">"/usr/bin/pngtopnm </span><span class="default">$png_file</span><span class="string"> &gt; </span><span class="default">$pnm_file</span><span class="string">"</span><span class="keyword">;<br>&nbsp; </span><span class="default">system</span><span class="keyword">(</span><span class="default">$cmd</span><span class="keyword">,</span><span class="default">$return_value</span><span class="keyword">);<br>&nbsp; (</span><span class="default">$return_value </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) or die(</span><span class="string">"returned an error: </span><span class="default">$cmd</span><span class="string">"</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="40454">  
  <a class="name">
  <strong class="user"><em>mortoray at ecircle-ag dot com</em></strong></a><div class="date" title="2004-03-04 03:55"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom40454">
<div class="phpcode"><code><span class="html">
Do not use "system" if you use the "php.ini" option:<br>&nbsp; &nbsp; zlib.output_compression = On<br><br>Doing so will result in the browser receiving garbage (I'm guessing the headers/buffers get confused).<br><br>Use passthru in this case, it appears to work as intended.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="35842">  
  <a class="name">
  <strong class="user"><em>morris_hirsch at hotmail dot com</em></strong></a><div class="date" title="2003-09-16 02:49"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom35842">
<div class="phpcode"><code><span class="html">
another reason to use shell_exec instead of system is when the result is multiple lines such as grep or ls <br><br><span class="default">&lt;?php<br><br></span><span class="comment">// this correctly sets answer string to all lines found<br>//$answer = shell_exec ("grep 'set of color names' *.php ");<br>//echo "answer = $answer";<br><br>// this passes all lines to output (they&nbsp; show on page)<br>// and sets answer string to the final line<br> </span><span class="default">$sys </span><span class="keyword">= </span><span class="default">system </span><span class="keyword">(</span><span class="string">"grep 'set of color names' *.php "</span><span class="keyword">);<br> echo </span><span class="string">"sys =((</span><span class="default">$sys</span><span class="string">))"</span><span class="keyword">;<br><br></span><span class="default">?&gt;<br></span><br>here is view/source resulting from system call<br><br>setprefs.php:// The standard set of color names is:<br>setprefs.php:// Most browsers accept a wider set of color names<br>silly.php:&nbsp; //$answer = shell_exec ("grep 'set of color names' *.php ");<br>silly.php: $sys = system ("grep 'set of color names' *.php ");<br>sys =((silly.php: $sys = system ("grep 'set of color names' *.php ");))<br><br>and here is view source from using shell_exec instead<br><br>answer = setprefs.php:// The standard set of color names is:<br>setprefs.php:// Most browsers accept a wider set of color names<br>silly.php:&nbsp; $answer = shell_exec ("grep 'set of color names' *.php ");<br>silly.php:// $sys = system ("grep 'set of color names' *.php ");</span>
</code></div>
  </div>
 </div>
  <div class="note" id="30193">  
  <a class="name">
  <strong class="user"><em>d dot kraft at szo dot de</em></strong></a><div class="date" title="2003-03-10 02:18"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom30193">
<div class="phpcode"><code><span class="html">
For PHP running inside a Webserver:<br><br>When calling a process via<br>system("your_process &amp;");<br>to make it running in background, note that this process is killed when the webserver is restarted.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="94929">  
  <a class="name">
  <strong class="user"><em>kexianin at diyism dot com</em></strong></a><div class="date" title="2009-12-02 11:41"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom94929">
<div class="phpcode"><code><span class="html">
If you can't see any output or error from system(), shell_exec() etc, you could try this:
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">my_exec</span><span class="keyword">(</span><span class="default">$cmd</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {</span><span class="default">$proc</span><span class="keyword">=</span><span class="default">proc_open</span><span class="keyword">(</span><span class="default">$cmd</span><span class="keyword">, array(</span><span class="default">0</span><span class="keyword">=&gt;array(</span><span class="string">'pipe'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">), </span><span class="default">1</span><span class="keyword">=&gt;array(</span><span class="string">'pipe'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">=&gt;array(</span><span class="string">'pipe'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">)), </span><span class="default">$pipes</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$input</span><span class="keyword">);</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$stdout</span><span class="keyword">=</span><span class="default">stream_get_contents</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$stderr</span><span class="keyword">=</span><span class="default">stream_get_contents</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rtn</span><span class="keyword">=</span><span class="default">proc_close</span><span class="keyword">(</span><span class="default">$proc</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return array(</span><span class="string">'stdout'</span><span class="keyword">=&gt;</span><span class="default">$stdout</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'stderr'</span><span class="keyword">=&gt;</span><span class="default">$stderr</span><span class="keyword">,
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'return'</span><span class="keyword">=&gt;</span><span class="default">$rtn
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br></span><span class="default">var_export</span><span class="keyword">(</span><span class="default">my_exec</span><span class="keyword">(</span><span class="string">'echo -e $(&lt;/dev/stdin) | wc -l'</span><span class="keyword">, </span><span class="string">'h\\nel\\nlo'</span><span class="keyword">));
<br></span><span class="default">?&gt;
<br></span>
<br>For example, "echo shell_exec('ls');" will get nothing output,
<br>"my_exec('ls');" will get "sh: ls: command not found",
<br>"my_exec('/bin/ls');" will maybe get "sh: /bin/ls: Permission denied",
<br>and the permission may be caused by selinux.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82411">  
  <a class="name">
  <strong class="user"><em>vlad dot sharanhovich at gmail dot com</em></strong></a><div class="date" title="2008-04-09 12:33"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom82411">
<div class="phpcode"><code><span class="html">
The double quote problem on Windows platform discussed earlier here in comments still present in PHP 5.2.5. You can't execute system($command) if $command contains more than 2 " chars. system('"echo" A'); works, while system('"echo" "A"'); does not. Search comment, that was a solution posted to overhaul this issue via temporary .bat file.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="973">  
  <a class="name">
  <strong class="user"><em>ccurtis at aet-usa dot com</em></strong></a><div class="date" title="1999-06-14 11:07"><strong>22 years ago</strong></div>
  <div class="text" id="Hcom973">
<div class="phpcode"><code><span class="html">
If no headers have been printed, calling the system() function will flush the headers to the client and insert a newline; no further headers or cookies will be transferred to the browser.&nbsp; In version 3.0.7, you will not be warned that the Header() function failed, but will be warned if trying to set a cookie.&nbsp; If you want to continue to send headers after the function call, use exec() instead.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="42567">  
  <a class="name">
  <strong class="user"><em>eric_REMOVE at movementmovement_REMOVE dot com</em></strong></a><div class="date" title="2004-05-21 12:56"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom42567">
<div class="phpcode"><code><span class="html">
It's important to note that if you are running a series of system() commands in a loop, you need to include the second argument in order for them to run synchonously.<br><br>ie)<br><br>// this will execute process.php asynchronously; not waiting for completion before executing the next one.<br>$array = array('apple', 'banana', 'pear');<br>foreach($array as $i)<br>{<br>system("php process.php \"fruit=$i\"");<br>}<br><br>// this will execute process.php 3 times, waiting for the prior command to complete before starting a new one<br>$array = array('apple', 'banana', 'pear');<br>foreach($array as $i)<br>{<br>system("php process.php \"fruit=$i\"", $status);<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90664">  
  <a class="name">
  <strong class="user"><em>grytolle at gmail dot com</em></strong></a><div class="date" title="2009-05-03 10:12"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom90664">
<div class="phpcode"><code><span class="html">
This is a work-around that makes the program run in it's own directory instead of the script's.
<br>
<br>example usage:
<br><span class="default">&lt;?php runAsynchronously</span><span class="keyword">(</span><span class="string">"c:\games\jazz2\jazz2.exe"</span><span class="keyword">,</span><span class="string">"-connect 1.2.3.4"</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">runAsynchronously</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">,</span><span class="default">$arguments</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$WshShell </span><span class="keyword">= new </span><span class="default">COM</span><span class="keyword">(</span><span class="string">"WScript.Shell"</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$oShellLink </span><span class="keyword">= </span><span class="default">$WshShell</span><span class="keyword">-&gt;</span><span class="default">CreateShortcut</span><span class="keyword">(</span><span class="string">"temp.lnk"</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$oShellLink</span><span class="keyword">-&gt;</span><span class="default">TargetPath </span><span class="keyword">= </span><span class="default">$path</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$oShellLink</span><span class="keyword">-&gt;</span><span class="default">Arguments </span><span class="keyword">= </span><span class="default">$arguments</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$oShellLink</span><span class="keyword">-&gt;</span><span class="default">WorkingDirectory </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$oShellLink</span><span class="keyword">-&gt;</span><span class="default">WindowStyle </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;
<br>&nbsp; &nbsp; </span><span class="default">$oShellLink</span><span class="keyword">-&gt;</span><span class="default">Save</span><span class="keyword">();
<br>&nbsp; &nbsp; </span><span class="default">$oExec </span><span class="keyword">= </span><span class="default">$WshShell</span><span class="keyword">-&gt;</span><span class="default">Run</span><span class="keyword">(</span><span class="string">"temp.lnk"</span><span class="keyword">, </span><span class="default">7</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">);
<br>&nbsp; &nbsp; unset(</span><span class="default">$WshShell</span><span class="keyword">,</span><span class="default">$oShellLink</span><span class="keyword">,</span><span class="default">$oExec</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">unlink</span><span class="keyword">(</span><span class="string">"temp.lnk"</span><span class="keyword">);
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83572">  
  <a class="name">
  <strong class="user"><em>Daniel Morris (danielxmorris.com)</em></strong></a><div class="date" title="2008-06-02 06:34"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom83572">
<div class="phpcode"><code><span class="html">
How to produce a system beep with PHP.<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">beep </span><span class="keyword">(</span><span class="default">$int_beeps </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$int_beeps</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++): </span><span class="default">$string_beeps </span><span class="keyword">.= </span><span class="string">"\x07"</span><span class="keyword">; endfor;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; isset (</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SERVER_PROTOCOL'</span><span class="keyword">]) ? </span><span class="default">false </span><span class="keyword">: print </span><span class="default">$string_beeps</span><span class="keyword">; <br>&nbsp; &nbsp; &nbsp; &nbsp; }<br><br></span><span class="default">?&gt;<br></span><br>This will not do anything when running through a browser, if running through a shell it will produce an audible beep $int_beeps times.&nbsp; This should work on Windows, Unix, etc.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="35297">  
  <a class="name">
  <strong class="user"><em>Jim Belton</em></strong></a><div class="date" title="2003-08-26 01:58"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom35297">
<div class="phpcode"><code><span class="html">
To run a full screen program from a PHP CLI script, redirect input from and output to /dev/tty.&nbsp; For example:<br><br>system("timeconfig &gt; /dev/tty &lt; /dev/tty");<br><br>System will wait for the program to finish before continuing.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="6978">  
  <a class="name">
  <strong class="user"><em>nospam at php dot net</em></strong></a><div class="date" title="2000-07-24 05:57"><strong>21 years ago</strong></div>
  <div class="text" id="Hcom6978">
<div class="phpcode"><code><span class="html">
If you are trying to parse a CGI script to your webserver which needs arguments, take a look to the virtual() function .. it took me long before i found out it existed...
<br>It's used like this:
<br><span class="default">&lt;?php
<br>virtual</span><span class="keyword">(</span><span class="string">"/cgi-bin/lastuser.cgi?argument"</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>And that works excellent now for me</span>
</code></div>
  </div>
 </div>
  <div class="note" id="76561">  
  <a class="name">
  <strong class="user"><em>timgolding_10 at hotmail dot com</em></strong></a><div class="date" title="2007-07-20 07:19"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom76561">
<div class="phpcode"><code><span class="html">
An example of using the system to call the file command on a linux server. This script detects whether a user posted file is a jpeg, gif or png<br><br><span class="default">&lt;?PHP<br><br>$accepted_types</span><span class="keyword">=array(</span><span class="string">"JPEG" </span><span class="keyword">, </span><span class="string">"GIF"</span><span class="keyword">, </span><span class="string">"PNG"</span><span class="keyword">); <br><br>&nbsp; &nbsp; </span><span class="comment">// The temporary filename of the file in which the uploaded file was stored on the server. <br></span><span class="keyword">if(!empty(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"uploadedfile"</span><span class="keyword">]))<br>&nbsp; {<br>&nbsp; &nbsp; </span><span class="default">$uploaddir </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">].</span><span class="string">"/images/"</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$uploaddir</span><span class="keyword">.=</span><span class="default">basename</span><span class="keyword">( </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'uploadedfile'</span><span class="keyword">][</span><span class="string">'name'</span><span class="keyword">]);<br>&nbsp;&nbsp; <br> </span><span class="comment">//verfiy file using linux FILE command <br> </span><span class="default">$last_line </span><span class="keyword">= </span><span class="default">system</span><span class="keyword">(</span><span class="string">'file '</span><span class="keyword">.</span><span class="default">escapeshellarg</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'uploadedfile'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">]), </span><span class="default">$retval</span><span class="keyword">);<br><br> </span><span class="comment">//get the file extension returned through magic database<br> </span><span class="default">$splitvals</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">' image data' </span><span class="keyword">,&nbsp; </span><span class="default">$last_line</span><span class="keyword">);<br> </span><span class="default">$vals</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">':'</span><span class="keyword">, </span><span class="default">$splitvals</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br> </span><span class="default">$vals</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">, </span><span class="default">$vals</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]); <br><br> if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$vals</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$accepted_types</span><span class="keyword">))<br> {<br>&nbsp; &nbsp; echo </span><span class="default">$vals</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">].</span><span class="string">' was accepted &lt;br /&gt;'</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; if(!</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$uploaddir</span><span class="keyword">)){<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//Copy the file to some permanent location<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(</span><span class="default">move_uploaded_file</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"uploadedfile"</span><span class="keyword">][</span><span class="string">"tmp_name"</span><span class="keyword">], </span><span class="default">$uploaddir</span><span class="keyword">))<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">$uploaddir</span><span class="keyword">.</span><span class="string">" was uploaded! &lt;br /&gt;"</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="string">"There was a problem when uploding the new file, please contact admin about this."</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; else echo </span><span class="string">'This file already exists in DB please rename file before uploading'</span><span class="keyword">;<br>}<br>}else echo </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'uploadedfile'</span><span class="keyword">][</span><span class="string">'error'</span><span class="keyword">].</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55627">  
  <a class="name">
  <strong class="user"><em>vdweij at hotmail dot com</em></strong></a><div class="date" title="2005-08-09 02:41"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom55627">
<div class="phpcode"><code><span class="html">
It is possible to only capture the error stream (STERR). Here it goes...<br><br>(some_command par1 par2 &gt; /dev/null) 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3<br><br>-First STDOUT is redirected to /dev/null.<br>-By using parenthesis it is possible to gain control over STERR and STOUT again.<br>-Then switch STERR with STOUT. <br><br>The switch is using the standard variable switch method -- 3 variables (buckets) are required to swap 2 variables with each other. (you have 2 variables and you need to switch the contents - you must bring in a 3rd temporary variable to hold the contents of one value so you can properly swap them).<br><br>This link gave me this information:<br><a rel="nofollow" target="_blank">http://www.cpqlinux.com/redirect.html</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="35649">  
  <a class="name">
  <strong class="user"><em>lc at _REMOVE__THIS_lc dot yi dot org</em></strong></a><div class="date" title="2003-09-09 05:24"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom35649">
<div class="phpcode"><code><span class="html">
Re: cpmorris at hotmail dot com and WINNT.<br><br>I just spent some time learning to use the php system function.&nbsp; I managed to get long file names to work for me.&nbsp; It seems you need to take the same approach that batch files, WSH, and most other programming languages do under WinNT/2K/XP.&nbsp; Putting double quotes around the Path+Filename seems to work.&nbsp; So, something like this should have worked for you:<br><br>"c:\program files\apache group\apache2\bin\htpasswd"<br><br>Note that if you have parameters, they go OUTSIDE of the last quote.&nbsp; Oh, and don't forget to escape the slashes and quotes!&nbsp; <br><br>I don't know what htpasswd's params are, but let us pretend:<br><br>$cmd="\"c:\\program files\\apache group\\apache2\\bin\\htpasswd\" username password";<br>$str=system($cmd);<br><br>Hope this helps someone!<br><br>Leonard<br>http:\\www.lc.yi.org</span>
</code></div>
  </div>
 </div>
  <div class="note" id="30053">  
  <a class="name">
  <strong class="user"><em>cnoelker at softpearls dot de</em></strong></a><div class="date" title="2003-03-05 06:13"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom30053">
<div class="phpcode"><code><span class="html">
Hi,<br>some tips for using a system()-call for batch files on a windows computer:<br>* Write the path to the executable with double back-slashes, like so:<br>&nbsp;&nbsp; C:\\path\\to\\prog.exe<br>* If you are refering to other pathes, e.g. as a parameter, one back-slash works fine.<br>* Do not use SET for declaring parameters - this does not work! Example:<br>&nbsp;&nbsp; SET PATH="C:\path\to\lib"<br>&nbsp;&nbsp; echo path is %PATH%<br>This works fine when started from the comand line, but when called from PHP, the variable is just empty.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="123769">  
  <a class="name">
  <strong class="user"><em>Anonoymous</em></strong></a><div class="date" title="2019-04-11 11:06"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom123769">
<div class="phpcode"><code><span class="html">
Windows commands requiring a GUI.<br><br>Alot of the info on this topic is from the 2010-2012 time frame and referring to XP, and basically don't work.&nbsp; I am using apache/php/mysql in windows 7.<br><br>When requiring a system command in windows with a GUI - such as a labview executable, notepad, etc..., others have mentioned the psexec command from sysinternals, since cmd /c wont work, but the specific use was not real clearly defined.&nbsp; Here is what worked for me on windows 7:&nbsp; <br><br>system('C:/nttools/2019/psexec \\\\10.100.100.101 -i&nbsp; -u administrator -p password -accepteula -nobanner C:\\htdocs\\test\\test.bat');<br><br>The path to the psexec executable is with forward slashes, the remote PC network location (which was actually the local PC, not remote) was \\ip_address with an extra backslash for each backslash so that required the 4 \'s.<br><br>The path for the command to be executed by psexec required backslashes, which also requires double backslashes.<br><br>The -i option is for an interactive program, and is required for it to properly run, otherwise it show up in the taskmanager but not be visable or execute properly if given command line arguments.<br><br>The -accepteula -nobanner is to suppress the sysinternals message box about their license.<br><br>My command to execute is really long with multiple command line inputs with many surrounded in double quotes, so I thought it would be easiest to put that in a batch file and just call the bat file.&nbsp; Works great, remote users loading the webpage causes the executable to pop up on the web server, do its analysis and disappear.&nbsp; Labview can read native excel files with active-x functions and write to a mysql data base to store results etc, so thats a pretty powerful combination of functions.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="122010">  
  <a class="name">
  <strong class="user"><em>Alastair Irvine</em></strong></a><div class="date" title="2017-12-11 02:10"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom122010">
<div class="phpcode"><code><span class="html">
Note that system() returns FALSE on failure, but this does NOT happen when the command returned a non-zero exit code.&nbsp; system() won't even fail if the command isn't found.&nbsp; (bash returns exit code 127 in this case.)&nbsp; I assume system() only returns FALSE when something seriously bad happens, like not being able to run your shell.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->

  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from www.php.net/manual/en/function.system.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:56:30 GMT -->

</body></html>