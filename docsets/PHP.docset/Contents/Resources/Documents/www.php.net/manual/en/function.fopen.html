<html><!-- Mirrored from www.php.net/manual/en/function.fopen.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 02:39:05 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>fopen</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.fopen.html">
 <link rel="shorturl" href="https://www.php.net/fopen">
 <link rel="alternate" href="https://www.php.net/fopen" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.filesystem.html">
 <link rel="prev" href="function.fnmatch.html">
 <link rel="next" href="function.fpassthru.html">

 <link rel="alternate" href="function.fopen.html" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.fopen.php" hreflang="pt_BR">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.fopen.php" hreflang="zh">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.fopen.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/de/function.fopen.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.fopen.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/ro/function.fopen.php" hreflang="ro">
 <link rel="alternate" href="https://www.php.net/manual/ru/function.fopen.php" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/es/function.fopen.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.fopen.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached0aba.css?t=1539771603&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached2ecf.css?t=1539765004&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedba57.css?t=1606338002&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached3afa.css?t=1627831203&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script>
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script src="https://www.php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>


</head>
<body class="docs " style="">


<div class="headsup"><a href="https://www.php.net/conferences/index.php#id2021-09-08-1">Longhorn PHP 2021</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.errors.html">Errors</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.attributes.html">Attributes</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.sessions.html">Session Security</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
	<dd><a href="refs.ui.html">GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
    <div id="breadcrumbs-inner">
          
              
          <ul>
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.fileprocess.file.html">File System Related Extensions</a></li>      <li><a href="book.filesystem.html">Filesystem</a></li>      <li><a href="ref.filesystem.html">Filesystem Functions</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div id="function.fopen" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">fopen</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">fopen</span> â€” <span class="dc-title">Opens file or URL</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.fopen-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>fopen</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string</span> <code class="parameter">$mode</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">bool</span> <code class="parameter">$use_include_path</code><span class="initializer"> = <strong><code>false</code></strong></span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">resource</span> <code class="parameter">$context</code><span class="initializer"> = ?</span></span><br>): <span class="type">resource</span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>fopen()</strong></span> binds a named resource, specified by
   <code class="parameter">filename</code>, to a stream. 
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.fopen-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>
    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
       If <code class="parameter">filename</code> is of the form "scheme://...", it
       is assumed to be a URL and PHP will search for a protocol handler
       (also known as a wrapper) for that scheme. If no wrappers for that
       protocol are registered, PHP will emit a notice to help you track
       potential problems in your script and then continue as though
       <code class="parameter">filename</code> specifies a regular file.
      </p>
      <p class="para">
       If PHP has decided that <code class="parameter">filename</code> specifies
       a local file, then it will try to open a stream on that file.
       The file must be accessible to PHP, so you need to ensure that
       the file access permissions allow this access.
       If you have enabled
       <a href="ini.core.html#ini.open-basedir" class="link">open_basedir</a> further
       restrictions may apply.
      </p>
      <p class="para">
       If PHP has decided that <code class="parameter">filename</code> specifies
       a registered protocol, and that protocol is registered as a
       network URL, PHP will check to make sure that
       <a href="filesystem.configuration.html#ini.allow-url-fopen" class="link">allow_url_fopen</a> is
       enabled. If it is switched off, PHP will emit a warning and
       the fopen call will fail.
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       </p><p class="para">
        The list of supported protocols can be found in <a href="wrappers.html" class="xref">Supported Protocols and Wrappers</a>. Some protocols (also referred to as
        <code class="literal">wrappers</code>) support <code class="literal">context</code>
        and/or <var class="filename">php.ini</var> options. Refer to the specific page for the
        protocol in use for a list of options which can be set. (e.g.
        <var class="filename">php.ini</var> value <code class="literal">user_agent</code> used by the
        <code class="literal">http</code> wrapper).
       </p>
      <p></p></blockquote>
      <p class="para">
       On the Windows platform, be careful to escape any backslashes
       used in the path to the file, or use forward slashes.
       </p><div class="informalexample">
        <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"c:\\folder\\resource.txt"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"r"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
        </div>

       </div>
      <p></p>
     </dd>

    
    
     <dt>
<code class="parameter">mode</code></dt>

     <dd>

      <p class="para">
       The <code class="parameter">mode</code> parameter specifies the type of access
       you require to the stream.  It may be any of the following:
       </p><table class="doctable table">
        <caption><strong>
         A list of possible modes for <span class="function"><strong>fopen()</strong></span>
         using <code class="parameter">mode</code>
        </strong></caption>
        
         <thead>
          <tr>
           <th><code class="parameter">mode</code></th>
           <th>Description</th>
          </tr>

         </thead>

         <tbody class="tbody">
          <tr>
           <td><code class="literal">'r'</code></td>
           <td>
            Open for reading only; place the file pointer at the
            beginning of the file.
           </td>
          </tr>

          <tr>
           <td><code class="literal">'r+'</code></td>
           <td>
            Open for reading and writing; place the file pointer at
            the beginning of the file.
           </td>
          </tr>

          <tr>
           <td><code class="literal">'w'</code></td>
           <td>
            Open for writing only; place the file pointer at the
            beginning of the file and truncate the file to zero length.
            If the file does not exist, attempt to create it.
           </td>
          </tr>

          <tr>
           <td><code class="literal">'w+'</code></td>
           <td>
            Open for reading and writing; otherwise it has the
            same behavior as <code class="literal">'w'</code>.
           </td>
          </tr>

          <tr>
           <td><code class="literal">'a'</code></td>
           <td>
            Open for writing only; place the file pointer at the end of
            the file. If the file does not exist, attempt to create it.
            In this mode, <span class="function"><a href="function.fseek.html" class="function">fseek()</a></span> has no effect, writes are always appended.
           </td>
          </tr>

          <tr>
           <td><code class="literal">'a+'</code></td>
           <td>
            Open for reading and writing; place the file pointer at
            the end of the file. If the file does not exist, attempt to
            create it. In this mode, <span class="function"><a href="function.fseek.html" class="function">fseek()</a></span> only affects
            the reading position, writes are always appended.
           </td>
          </tr>

          <tr>
           <td><code class="literal">'x'</code></td>
           <td>
            Create and open for writing only; place the file pointer at the
            beginning of the file.  If the file already exists, the
            <span class="function"><strong>fopen()</strong></span> call will fail by returning <strong><code>false</code></strong> and
            generating an error of level <strong><code>E_WARNING</code></strong>.  If
            the file does not exist, attempt to create it.  This is equivalent
            to specifying <code class="literal">O_EXCL|O_CREAT</code> flags for the
            underlying <code class="literal">open(2)</code> system call. 
           </td>
          </tr>

          <tr>
           <td><code class="literal">'x+'</code></td>
           <td>
            Create and open for reading and writing; otherwise it has the
            same behavior as <code class="literal">'x'</code>.
           </td>
          </tr>

          <tr>
           <td><code class="literal">'c'</code></td>
           <td>
            Open the file for writing only. If the file does not exist, it is
            created. If it exists, it is neither truncated (as opposed to
            <code class="literal">'w'</code>), nor the call to this function fails (as is
            the case with <code class="literal">'x'</code>). The file pointer is
            positioned on the beginning of the file. This may be useful if it's
            desired to get an advisory lock (see <span class="function"><a href="function.flock.html" class="function">flock()</a></span>)
            before attempting to modify the file, as using
            <code class="literal">'w'</code> could truncate the file before the lock
            was obtained (if truncation is desired,
            <span class="function"><a href="function.ftruncate.html" class="function">ftruncate()</a></span> can be used after the lock is
            requested).
           </td>
          </tr>

          <tr>
           <td><code class="literal">'c+'</code></td>
           <td>
            Open the file for reading and writing; otherwise it has the same
            behavior as <code class="literal">'c'</code>.
           </td>
          </tr>

          <tr>
           <td><code class="literal">'e'</code></td>
           <td>
            Set close-on-exec flag on the opened file descriptor. Only
            available in PHP compiled on POSIX.1-2008 conform systems.
           </td>
          </tr>

         </tbody>
        
       </table>

      <p></p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       </p><p class="para">
        Different operating system families have different line-ending
        conventions.  When you write a text file and want to insert a line
        break, you need to use the correct line-ending character(s) for your
        operating system.  Unix based systems use <code class="literal">\n</code> as the
        line ending character, Windows based systems use <code class="literal">\r\n</code>
        as the line ending characters and Macintosh based systems (Mac OS Classic) used
        <code class="literal">\r</code> as the line ending character.
       </p>
       <p class="para">
        If you use the wrong line ending characters when writing your files, you
        might find that other applications that open those files will "look
        funny".
       </p>
       <p class="para">
        Windows offers a text-mode translation flag (<code class="literal">'t'</code>)
        which will transparently translate <code class="literal">\n</code> to
        <code class="literal">\r\n</code> when working with the file.  In contrast, you
        can also use <code class="literal">'b'</code> to force binary mode, which will not
        translate your data.  To use these flags, specify either
        <code class="literal">'b'</code> or <code class="literal">'t'</code> as the last character
        of the <code class="parameter">mode</code> parameter.
       </p>
       <p class="para">
        The default translation mode is <code class="literal">'b'</code>.
        You can use the <code class="literal">'t'</code>
        mode if you are working with plain-text files and you use
        <code class="literal">\n</code> to delimit your line endings in your script, but
        expect your files to be readable with applications such as old versions of notepad.  You
        should use the <code class="literal">'b'</code> in all other cases.
       </p>
       <p class="para">
        If you specify the 't' flag when working with binary files, you
        may experience strange problems with your data, including broken image
        files and strange problems with <code class="literal">\r\n</code> characters.
       </p>
      <p></p></blockquote>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       </p><p class="para">
        For portability, it is also strongly recommended that
        you re-write code that uses or relies upon the <code class="literal">'t'</code>
        mode so that it uses the correct line endings and
        <code class="literal">'b'</code> mode instead.
       </p>
      <p></p></blockquote>
     </dd>

    
    
     <dt>
<code class="parameter">use_include_path</code></dt>

     <dd>

      <p class="para">
       The optional third <code class="parameter">use_include_path</code> parameter
       can be set to '1' or <strong><code>true</code></strong> if you want to search for the file in the
       <a href="ini.core.html#ini.include-path" class="link">include_path</a>, too.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">context</code></dt>

     <dd>

      <p class="para">A <a href="stream.contexts.html" class="link">context stream</a>
<span class="type">resource</span>.</p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.fopen-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a file pointer resource on success,
    or <strong><code>false</code></strong> on failure
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.fopen-errors">
  <h3 class="title">Errors/Exceptions</h3>
  <p class="para">
Upon failure, an <strong><code>E_WARNING</code></strong> is emitted.
</p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.fopen-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.0.16, 7.1.2</td>
       <td>
        The <code class="literal">'e'</code> option was added.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.fopen-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-2118">
    <p><strong>Example #1 <span class="function"><strong>fopen()</strong></span> examples</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"/home/rasmus/file.txt"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"r"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"/home/rasmus/file.gif"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"wb"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"http://www.example.com/"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"r"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"ftp://user:password@example.com/somefile.txt"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"w"</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.fopen-notes">
  <h3 class="title">Notes</h3>
  <div class="warning"><strong class="warning">Warning</strong><p class="para">When using SSL, Microsoft IIS
will violate the protocol by closing the connection without sending a
<code class="literal">close_notify</code> indicator. PHP will report this as "SSL: Fatal
Protocol Error" when you reach the end of the data. To work around this, the
value of <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a> should be
lowered to a level that does not include warnings.
PHP can detect buggy IIS server software when you open
the stream using the <code class="literal">https://</code> wrapper and will suppress the
warning. When using <span class="function"><a href="function.fsockopen.html" class="function">fsockopen()</a></span> to create an
<code class="literal">ssl://</code> socket, the developer is responsible for detecting
and suppressing this warning.</p></div>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    If you are experiencing problems with reading and writing to files and
    you're using the server module version of PHP, remember to make sure that
    the files and directories you're using are accessible to the server
    process.
   </p>
  <p></p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    This function may also succeed when <code class="parameter">filename</code> is a
    directory. If you are unsure whether <code class="parameter">filename</code> is a
    file or a directory, you may need to use the <span class="function"><a href="function.is-dir.html" class="function">is_dir()</a></span>
    function before calling <span class="function"><strong>fopen()</strong></span>.
   </p>
  <p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.fopen-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><a href="wrappers.html" class="xref">Supported Protocols and Wrappers</a></li>
    <li class="member"><span class="function"><a href="function.fclose.html" class="function" rel="rdfs-seeAlso">fclose()</a> - Closes an open file pointer</span></li>
    <li class="member"><span class="function"><a href="function.fgets.html" class="function" rel="rdfs-seeAlso">fgets()</a> - Gets line from file pointer</span></li>
    <li class="member"><span class="function"><a href="function.fread.html" class="function" rel="rdfs-seeAlso">fread()</a> - Binary-safe file read</span></li>
    <li class="member"><span class="function"><a href="function.fwrite.html" class="function" rel="rdfs-seeAlso">fwrite()</a> - Binary-safe file write</span></li>
    <li class="member"><span class="function"><a href="function.fsockopen.html" class="function" rel="rdfs-seeAlso">fsockopen()</a> - Open Internet or Unix domain socket connection</span></li>
    <li class="member"><span class="function"><a href="function.file.html" class="function" rel="rdfs-seeAlso">file()</a> - Reads entire file into an array</span></li>
    <li class="member"><span class="function"><a href="function.file-exists.html" class="function" rel="rdfs-seeAlso">file_exists()</a> - Checks whether a file or directory exists</span></li>
    <li class="member"><span class="function"><a href="function.is-readable.html" class="function" rel="rdfs-seeAlso">is_readable()</a> - Tells whether a file exists and is readable</span></li>
    <li class="member"><span class="function"><a href="function.stream-set-timeout.html" class="function" rel="rdfs-seeAlso">stream_set_timeout()</a> - Set timeout period on a stream</span></li>
    <li class="member"><span class="function"><a href="function.popen.html" class="function" rel="rdfs-seeAlso">popen()</a> - Opens process file pointer</span></li>
    <li class="member"><span class="function"><a href="function.stream-context-create.html" class="function" rel="rdfs-seeAlso">stream_context_create()</a> - Creates a stream context</span></li>
    <li class="member"><span class="function"><a href="function.umask.html" class="function" rel="rdfs-seeAlso">umask()</a> - Changes the current umask</span></li>
    <li class="member"><span class="classname"><a href="class.splfileobject.html" class="classname">SplFileObject</a></span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="107851">  
  <a class="name">
  <strong class="user"><em>chapman at worldtakeoverindustries dot com</em></strong></a><div class="date" title="2012-03-09 07:25"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom107851">
<div class="phpcode"><code><span class="html">
Note - using fopen in 'w' mode will NOT update the modification time (filemtime) of a file like you may expect. You may want to issue a touch() after writing and closing the file which update its modification time. This may become critical in a caching situation, if you intend to keep your hair.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84028">  
  <a class="name">
  <strong class="user"><em>php at delhelsa dot com</em></strong></a><div class="date" title="2008-06-24 12:27"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom84028">
<div class="phpcode"><code><span class="html">
With php 5.2.5 on Apache 2.2.4, accessing files on an ftp server with fopen() or readfile() requires an extra forwardslash if an absolute path is needed.
<br>
<br>i.e., if a file called bullbes.txt is stored under /var/school/ on ftp server example.com and you're trying to access it with user blossom and password buttercup, the url would be:
<br>
<br><a rel="nofollow" target="_blank">ftp://blossom:buttercup@example.com//var/school/bubbles.txt</a>
<br>
<br>Note the two forwardslashes. It looks like the second one is needed so the server won't interpret the path as relative to blossom's home on townsville.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="120976">  
  <a class="name">
  <strong class="user"><em>petepostma-deletethis at gmail dot com</em></strong></a><div class="date" title="2017-04-12 03:40"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom120976">
<div class="phpcode"><code><span class="html">
The verbal descriptions take a while to read through to get a feel for the expected results for fopen modes. This csv table can help break it down for quicker understanding to find which mode you are looking for:<br><br>Mode,Creates,Reads,Writes,Pointer Starts,Truncates File,Notes,Purpose<br>r,,y,,beginning,,fails if file doesn't exist,basic read existing file<br>r+,,y,y,beginning,,fails if file doesn't exist,basic r/w existing file<br>w,y,,y,beginning+end,y,,"create, erase, write file"<br>w+,y,y,y,beginning+end,y,,"create, erase, write file with read option"<br>a,y,,y,end,,,"write from end of file, create if needed"<br>a+,y,y,y,end,,,"write from end of file, create if needed, with read options"<br>x,y,,y,beginning,,fails if file exists,"like w, but prevents over-writing an existing file"<br>x+,y,y,y,beginning,,fails if file exists,"like w+, but prevents over writing an existing file"<br>c,y,,y,beginning,,,open/create a file for writing without deleting current content<br>c+,y,y,y,beginning,,,"open/create a file that is read, and then written back down"</span>
</code></div>
  </div>
 </div>
  <div class="note" id="125030">  
  <a class="name">
  <strong class="user"><em>php-manual at merlindynamics dot com</em></strong></a><div class="date" title="2020-05-20 10:19"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom125030">
<div class="phpcode"><code><span class="html">
There is an undocumented mode for making fopen non-blocking (not working on windows). By adding 'n' to the mode parameter, fopen will not block, however if the pipe does not exist an error will be raised.<br><br>$fp = fopen("/tmp/debug", "a"); //blocks if pipe does not exist<br><br>$fp = fopen("/tmp/debug", "an"); //raises error on pipe not exist</span>
</code></div>
  </div>
 </div>
  <div class="note" id="125499">  
  <a class="name">
  <strong class="user"><em>Anon.</em></strong></a><div class="date" title="2020-11-07 10:31"><strong>10 months ago</strong></div>
  <div class="text" id="Hcom125499">
<div class="phpcode"><code><span class="html">
/***** GENTLE REMINDER *****/<br>Really important. Do NOT use the "w" flag unless you want to delete everything in the file.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="58099">  
  <a class="name">
  <strong class="user"><em>info at b1g dot de</em></strong></a><div class="date" title="2005-10-24 04:54"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom58099">
<div class="phpcode"><code><span class="html">
Simple class to fetch a HTTP URL. Supports "Location:"-redirections. Useful for servers with allow_url_fopen=false. Works with SSL-secured hosts.
<br>
<br><span class="default">&lt;?php
<br></span><span class="comment">#usage:
<br></span><span class="default">$r </span><span class="keyword">= new </span><span class="default">HTTPRequest</span><span class="keyword">(</span><span class="string">'<a rel="nofollow" target="_blank">http://www.example.com</a>'</span><span class="keyword">);
<br>echo </span><span class="default">$r</span><span class="keyword">-&gt;</span><span class="default">DownloadToString</span><span class="keyword">();
<br>
<br>class </span><span class="default">HTTPRequest
<br></span><span class="keyword">{
<br>&nbsp; &nbsp; var </span><span class="default">$_fp</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// HTTP socket
<br>&nbsp; &nbsp; </span><span class="keyword">var </span><span class="default">$_url</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// full URL
<br>&nbsp; &nbsp; </span><span class="keyword">var </span><span class="default">$_host</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// HTTP host
<br>&nbsp; &nbsp; </span><span class="keyword">var </span><span class="default">$_protocol</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// protocol (HTTP/HTTPS)
<br>&nbsp; &nbsp; </span><span class="keyword">var </span><span class="default">$_uri</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// request URI
<br>&nbsp; &nbsp; </span><span class="keyword">var </span><span class="default">$_port</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// port
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; // scan url
<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">_scan_url</span><span class="keyword">()
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$req </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_url</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$req</span><span class="keyword">, </span><span class="string">'://'</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_protocol </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$req</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$req </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$req</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">+</span><span class="default">3</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$req</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$pos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$req</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$host </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$req</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$host</span><span class="keyword">, </span><span class="string">':'</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_host</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_port</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">':'</span><span class="keyword">, </span><span class="default">$host</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; else 
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_host </span><span class="keyword">= </span><span class="default">$host</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_port </span><span class="keyword">= (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_protocol </span><span class="keyword">== </span><span class="string">'https'</span><span class="keyword">) ? </span><span class="default">443 </span><span class="keyword">: </span><span class="default">80</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_uri </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$req</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_uri </span><span class="keyword">== </span><span class="string">''</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_uri </span><span class="keyword">= </span><span class="string">'/'</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="comment">// constructor
<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">HTTPRequest</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">)
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_url </span><span class="keyword">= </span><span class="default">$url</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_scan_url</span><span class="keyword">();
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="comment">// download URL to string
<br>&nbsp; &nbsp; </span><span class="keyword">function </span><span class="default">DownloadToString</span><span class="keyword">()
<br>&nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$crlf </span><span class="keyword">= </span><span class="string">"\r\n"</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// generate request
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$req </span><span class="keyword">= </span><span class="string">'GET ' </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_uri </span><span class="keyword">. </span><span class="string">' HTTP/1.0' </span><span class="keyword">. </span><span class="default">$crlf
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">.&nbsp; &nbsp; </span><span class="string">'Host: ' </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_host </span><span class="keyword">. </span><span class="default">$crlf
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">.&nbsp; &nbsp; </span><span class="default">$crlf</span><span class="keyword">;
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// fetch
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_fp </span><span class="keyword">= </span><span class="default">fsockopen</span><span class="keyword">((</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_protocol </span><span class="keyword">== </span><span class="string">'https' </span><span class="keyword">? </span><span class="string">'ssl://' </span><span class="keyword">: </span><span class="string">''</span><span class="keyword">) . </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_host</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_port</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_fp</span><span class="keyword">, </span><span class="default">$req</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; while(</span><span class="default">is_resource</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_fp</span><span class="keyword">) &amp;&amp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_fp </span><span class="keyword">&amp;&amp; !</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_fp</span><span class="keyword">))
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$response </span><span class="keyword">.= </span><span class="default">fread</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_fp</span><span class="keyword">, </span><span class="default">1024</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_fp</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// split header and body
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$response</span><span class="keyword">, </span><span class="default">$crlf </span><span class="keyword">. </span><span class="default">$crlf</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$pos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return(</span><span class="default">$response</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$header </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$response</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$body </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$response</span><span class="keyword">, </span><span class="default">$pos </span><span class="keyword">+ </span><span class="default">2 </span><span class="keyword">* </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$crlf</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// parse headers
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$headers </span><span class="keyword">= array();
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$lines </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$crlf</span><span class="keyword">, </span><span class="default">$header</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; foreach(</span><span class="default">$lines </span><span class="keyword">as </span><span class="default">$line</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if((</span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">, </span><span class="string">':'</span><span class="keyword">)) !== </span><span class="default">false</span><span class="keyword">)
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$headers</span><span class="keyword">[</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">)))] = </span><span class="default">trim</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">, </span><span class="default">$pos</span><span class="keyword">+</span><span class="default">1</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// redirection?
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if(isset(</span><span class="default">$headers</span><span class="keyword">[</span><span class="string">'location'</span><span class="keyword">]))
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$http </span><span class="keyword">= new </span><span class="default">HTTPRequest</span><span class="keyword">(</span><span class="default">$headers</span><span class="keyword">[</span><span class="string">'location'</span><span class="keyword">]);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return(</span><span class="default">$http</span><span class="keyword">-&gt;</span><span class="default">DownloadToString</span><span class="keyword">(</span><span class="default">$http</span><span class="keyword">));
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; &nbsp; &nbsp; else 
<br>&nbsp; &nbsp; &nbsp; &nbsp; {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return(</span><span class="default">$body</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="124345">  
  <a class="name">
  <strong class="user"><em>k-gun  at  git  dot  io</em></strong></a><div class="date" title="2019-10-27 06:22"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom124345">
<div class="phpcode"><code><span class="html">
Seems not documented here but keep in mind, when $filename contains null byte (\0) then a TypeError will be thrown with message such;<br><br>TypeError: fopen() expects parameter 1 to be a valid path, string given in ...</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55434">  
  <a class="name">
  <strong class="user"><em>ideacode</em></strong></a><div class="date" title="2005-08-03 07:28"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom55434">
<div class="phpcode"><code><span class="html">
Note that whether you may open directories is operating system dependent. The following lines:<br><br><span class="default">&lt;?php<br></span><span class="comment">// Windows ($fh === false)<br></span><span class="default">$fh </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'c:\\Temp'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">);<br><br></span><span class="comment">// UNIX (is_resource($fh) === true)<br></span><span class="default">$fh </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'/tmp'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>demonstrate that on Windows (2000, probably XP) you may not open a directory (the error is "Permission Denied"), regardless of the security permissions on that directory.<br><br>On UNIX, you may happily read the directory format for the native filesystem.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="64262">  
  <a class="name">
  <strong class="user"><em>ceo at l-i-e dot com</em></strong></a><div class="date" title="2006-04-10 08:13"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom64262">
<div class="phpcode"><code><span class="html">
If you need fopen() on a URL to timeout, you can do like:<br><span class="default">&lt;?php<br>&nbsp; $timeout </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br>&nbsp; </span><span class="default">$old </span><span class="keyword">= </span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'default_socket_timeout'</span><span class="keyword">, </span><span class="default">$timeout</span><span class="keyword">);<br>&nbsp; </span><span class="default">$file </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'<a rel="nofollow" target="_blank">http://example.com</a>'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">);<br>&nbsp; </span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'default_socket_timeout'</span><span class="keyword">, </span><span class="default">$old</span><span class="keyword">);<br>&nbsp; </span><span class="default">stream_set_timeout</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">$timeout</span><span class="keyword">);<br>&nbsp; </span><span class="default">stream_set_blocking</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br>&nbsp; </span><span class="comment">//the rest is standard<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="56551">  
  <a class="name">
  <strong class="user"><em>durwood at speakeasy dot NOSPAM dot net</em></strong></a><div class="date" title="2005-09-06 11:43"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom56551">
<div class="phpcode"><code><span class="html">
I couldn't for the life of me get a certain php script working when i moved my server to a new Fedora 4 installation. The problem was that fopen() was failing when trying to access a file as a URL through apache -- even though it worked fine when run from the shell and even though the file was readily readable from any browser.&nbsp; After trying to place blame on Apache, RedHat, and even my cat and dog, I finally ran across this bug report on Redhat's website:<br><br><a rel="nofollow" target="_blank">https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=164700</a><br><br>Basically the problem was SELinux (which I knew nothing about) -- you have to run the following command in order for SELinux to allow php to open a web file:<br><br>/usr/sbin/setsebool httpd_can_network_connect=1<br><br>To make the change permanent, run it with the -P option:<br><br>/usr/sbin/setsebool -P httpd_can_network_connect=1<br><br>Hope this helps others out -- it sure took me a long time to track down the problem.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105180">  
  <a class="name">
  <strong class="user"><em>php at richardneill dot org</em></strong></a><div class="date" title="2011-08-01 09:39"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom105180">
<div class="phpcode"><code><span class="html">
fopen() will block if the file to be opened is a fifo. This is true whether it's opened in "r" or "w" mode.&nbsp; (See man 7 fifo: this is the correct, default behaviour; although Linux supports non-blocking fopen() of a fifo, PHP doesn't).<br>The consequence of this is that you can't discover whether an initial fifo read/write would block because to do that you need stream_select(), which in turn requires that fopen() has happened!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="104325">  
  <a class="name">
  <strong class="user"><em>splogamurugan at gmail dot com</em></strong></a><div class="date" title="2011-06-09 02:13"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom104325">
<div class="phpcode"><code><span class="html">
While opening a file with multibyte data (Ex: donnÃ©es multi-octets), faced some issues with the encoding. Got to know that it uses&nbsp; windows-1250. Used iconv to convert it to UTF-8 and it resolved the issue.&nbsp; 
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">utf8_fopen_read</span><span class="keyword">(</span><span class="default">$fileName</span><span class="keyword">) {
<br>&nbsp; &nbsp; </span><span class="default">$fc </span><span class="keyword">= </span><span class="default">iconv</span><span class="keyword">(</span><span class="string">'windows-1250'</span><span class="keyword">, </span><span class="string">'utf-8'</span><span class="keyword">, </span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$fileName</span><span class="keyword">)); 
<br>&nbsp; &nbsp; </span><span class="default">$handle</span><span class="keyword">=</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"php://memory"</span><span class="keyword">, </span><span class="string">"rw"</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">$fc</span><span class="keyword">); 
<br>&nbsp; &nbsp; </span><span class="default">fseek</span><span class="keyword">(</span><span class="default">$handle</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">); 
<br>&nbsp; &nbsp; return </span><span class="default">$handle</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>Example usage:
<br>
<br><span class="default">&lt;?php
<br>$fh </span><span class="keyword">= </span><span class="default">utf8_fopen_read</span><span class="keyword">(</span><span class="string">"./tpKpiBundle.csv"</span><span class="keyword">);
<br>while ((</span><span class="default">$data </span><span class="keyword">= </span><span class="default">fgetcsv</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">, </span><span class="default">1000</span><span class="keyword">, </span><span class="string">","</span><span class="keyword">)) !== </span><span class="default">false</span><span class="keyword">) {
<br>&nbsp; &nbsp; foreach (</span><span class="default">$data </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; echo </span><span class="default">$value </span><span class="keyword">. </span><span class="string">"&lt;br /&gt;\n"</span><span class="keyword">;
<br>&nbsp; &nbsp; }
<br>}
<br></span><span class="default">?&gt;
<br></span>
<br>Hope it helps.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="37553">  
  <a class="name">
  <strong class="user"><em>dan at cleandns dot com</em></strong></a><div class="date" title="2003-11-19 11:15"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom37553">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="comment">#going to update last users counter script since<br>#aborting a write because a file is locked is not correct.<br><br></span><span class="default">$counter_file </span><span class="keyword">= </span><span class="string">'/tmp/counter.txt'</span><span class="keyword">;<br></span><span class="default">clearstatcache</span><span class="keyword">();<br></span><span class="default">ignore_user_abort</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);&nbsp; &nbsp;&nbsp; </span><span class="comment">## prevent refresh from aborting file operations and hosing file<br></span><span class="keyword">if (</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$counter_file</span><span class="keyword">)) {<br>&nbsp;&nbsp; </span><span class="default">$fh </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$counter_file</span><span class="keyword">, </span><span class="string">'r+'</span><span class="keyword">);<br>&nbsp; &nbsp; while(</span><span class="default">1</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; if (</span><span class="default">flock</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">, </span><span class="default">LOCK_EX</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">#$buffer = chop(fgets($fh, 2));<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$buffer </span><span class="keyword">= </span><span class="default">chop</span><span class="keyword">(</span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">, </span><span class="default">filesize</span><span class="keyword">(</span><span class="default">$counter_file</span><span class="keyword">)));<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$buffer</span><span class="keyword">++;<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">rewind</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">, </span><span class="default">$buffer</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fflush</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">ftruncate</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">, </span><span class="default">ftell</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">));&nbsp; &nbsp;&nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">flock</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">, </span><span class="default">LOCK_UN</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp;&nbsp; }<br>}<br>else {<br>&nbsp;&nbsp; </span><span class="default">$fh </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$counter_file</span><span class="keyword">, </span><span class="string">'w+'</span><span class="keyword">);<br>&nbsp;&nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">, </span><span class="string">"1"</span><span class="keyword">);<br>&nbsp;&nbsp; </span><span class="default">$buffer</span><span class="keyword">=</span><span class="string">"1"</span><span class="keyword">;<br>}<br></span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fh</span><span class="keyword">);<br><br>print </span><span class="string">"Count is </span><span class="default">$buffer</span><span class="string">"</span><span class="keyword">;<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="109944">  
  <a class="name">
  <strong class="user"><em>apathetic012 at gmail dot com</em></strong></a><div class="date" title="2012-09-04 03:19"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom109944">
<div class="phpcode"><code><span class="html">
a variable $http_response_header is available when doing the fopen(). Which contains an array of the response header.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="37761">  
  <a class="name">
  <strong class="user"><em>ken dot gregg at rwre dot com</em></strong></a><div class="date" title="2003-11-25 03:03"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom37761">
<div class="phpcode"><code><span class="html">
PHP will open a directory if a path with no file name is supplied. This just bit me. I was not checking the filename part of a concatenated string.
<br>
<br>For example:
<br>
<br><span class="default">&lt;?php
<br>$fd </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'/home/mydir/' </span><span class="keyword">. </span><span class="default">$somefile</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>Will open the directory if $somefile = ''
<br>
<br>If you attempt to read using the file handle you will get the binary directory contents. I tried append mode and it errors out so does not seem to be dangerous.
<br>
<br>This is with FreeBSD 4.5 and PHP 4.3.1. Behaves the same on 4.1.1 and PHP 4.1.2. I have not tested other version/os combinations.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="14426">  
  <a class="name">
  <strong class="user"><em>keithm at aoeex dot NOSPAM dot com</em></strong></a><div class="date" title="2001-07-31 05:19"><strong>20 years ago</strong></div>
  <div class="text" id="Hcom14426">
<div class="phpcode"><code><span class="html">
I was working on a consol script for win32 and noticed a few things about it.&nbsp; On win32 it appears that you can't re-open the input stream for reading, but rather you have to open it once, and read from there on.&nbsp; Also, i don't know if this is a bug or what but it appears that fgets() reads until the new line anyway.&nbsp; The number of characters returned is ok, but it will not halt reading and return to the script.&nbsp; I don't know of a work around for this right now, but i'll keep working on it.
<br>
<br>This is some code to work around the close and re-open of stdin.
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">read</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">=</span><span class="string">'255'</span><span class="keyword">){
<br>&nbsp; &nbsp; if (!isset(</span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'StdinPointer'</span><span class="keyword">])){
<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'StdinPointer'</span><span class="keyword">]=</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">"php://stdin"</span><span class="keyword">,</span><span class="string">"r"</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; </span><span class="default">$line</span><span class="keyword">=</span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'StdinPointer'</span><span class="keyword">],</span><span class="default">$length</span><span class="keyword">);
<br>&nbsp; &nbsp; return </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$line</span><span class="keyword">);
<br>}
<br>echo </span><span class="string">"Enter your name: "</span><span class="keyword">;
<br></span><span class="default">$name</span><span class="keyword">=</span><span class="default">read</span><span class="keyword">();
<br>echo </span><span class="string">"Enter your age: "</span><span class="keyword">;
<br></span><span class="default">$age</span><span class="keyword">=</span><span class="default">read</span><span class="keyword">();
<br>echo </span><span class="string">"Hi </span><span class="default">$name</span><span class="string">, Isn't it Great to be </span><span class="default">$age</span><span class="string"> years old?"</span><span class="keyword">;
<br>@</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$StdinPointer</span><span class="keyword">);
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="60718">  
  <a class="name">
  <strong class="user"><em>flobee</em></strong></a><div class="date" title="2006-01-14 07:58"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom60718">
<div class="phpcode"><code><span class="html">
download: i need a function to simulate a "wget url" and do not buffer the data in the memory to avoid thouse problems on large files:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">download</span><span class="keyword">(</span><span class="default">$file_source</span><span class="keyword">, </span><span class="default">$file_target</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$rh </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$file_source</span><span class="keyword">, </span><span class="string">'rb'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$wh </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$file_target</span><span class="keyword">, </span><span class="string">'wb'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$rh</span><span class="keyword">===</span><span class="default">false </span><span class="keyword">|| </span><span class="default">$wh</span><span class="keyword">===</span><span class="default">false</span><span class="keyword">) {<br></span><span class="comment">// error reading or opening file<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; while (!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$rh</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$wh</span><span class="keyword">, </span><span class="default">fread</span><span class="keyword">(</span><span class="default">$rh</span><span class="keyword">, </span><span class="default">1024</span><span class="keyword">)) === </span><span class="default">FALSE</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// 'Download error: Cannot write to file ('.$file_target.')';<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">true</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$rh</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$wh</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// No error<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="122348">  
  <a class="name">
  <strong class="user"><em>etters dot ayoub at gmail dot com</em></strong></a><div class="date" title="2018-02-02 04:18"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom122348">
<div class="phpcode"><code><span class="html">
This functions check recursive permissions and recursive existence parent folders, before creating a folder. To avoid the generation of errors/warnings. <br><br>/**<br> * This functions check recursive permissions and recursive existence parent folders,<br> * before creating a folder. To avoid the generation of errors/warnings. <br> *<br> * @return bool<br> *&nbsp; &nbsp;&nbsp; true folder has been created or exist and writable. <br> *&nbsp; &nbsp;&nbsp; False folder not exist and cannot be created. <br> */<br>function createWritableFolder($folder)<br>{<br>&nbsp; &nbsp; if (file_exists($folder)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; // Folder exist.<br>&nbsp; &nbsp; &nbsp; &nbsp; return is_writable($folder);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; // Folder not exit, check parent folder.<br>&nbsp; &nbsp; $folderParent = dirname($folder);<br>&nbsp; &nbsp; if($folderParent != '.' &amp;&amp; $folderParent != '/' ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(!createWritableFolder(dirname($folder))) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Failed to create folder parent.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; // Folder parent created.<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; if ( is_writable($folderParent) ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; // Folder parent is writable.<br>&nbsp; &nbsp; &nbsp; &nbsp; if ( mkdir($folder, 0777, true) ) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Folder created.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return true;<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; // Failed to create folder.<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; // Folder parent is not writable.<br>&nbsp; &nbsp; return false;<br>}<br><br>/**<br> * This functions check recursive permissions and recursive existence parent folders,<br> * before creating a file/folder. To avoid the generation of errors/warnings. <br> *<br> * @return bool<br> *&nbsp; &nbsp;&nbsp; true has been created or file exist and writable. <br> *&nbsp; &nbsp;&nbsp; False file not exist and cannot be created. <br> */<br>function createWritableFile($file)<br>{<br>&nbsp; &nbsp; // Check if conf file exist.<br>&nbsp; &nbsp; if (file_exists($file)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; // check if conf file is writable.<br>&nbsp; &nbsp; &nbsp; &nbsp; return is_writable($file);<br>&nbsp; &nbsp; }<br><br>&nbsp; &nbsp; // Check if conf folder exist and try to create conf file.<br>&nbsp; &nbsp; if(createWritableFolder(dirname($file)) &amp;&amp; ($handle = fopen($file, 'a'))) {<br>&nbsp; &nbsp; &nbsp; &nbsp; fclose($handle);<br>&nbsp; &nbsp; &nbsp; &nbsp; return true; // File conf created.<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; // Inaccessible conf file.<br>&nbsp; &nbsp; return false;<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107468">  
  <a class="name">
  <strong class="user"><em>kasper at webmasteren dot eu</em></strong></a><div class="date" title="2012-02-10 08:36"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom107468">
<div class="phpcode"><code><span class="html">
"Do not use the following reserved device names for the name of a file:<br>CON, PRN, AUX, NUL, COM1, COM2, COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1, <br>LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, and LPT9. Also avoid these names <br>followed immediately by an extension; for example, NUL.txt is not recommended. <br>For more information, see Namespaces"<br>it is a windows limitation.<br>see:<br><a rel="nofollow" target="_blank">http://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85</a>).aspx</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80978">  
  <a class="name">
  <strong class="user"><em>sean downey</em></strong></a><div class="date" title="2008-02-09 12:23"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom80978">
<div class="phpcode"><code><span class="html">
when using ssl / https on windows i would get the error:
<br>"Warning: fopen(<a rel="nofollow" target="_blank">https://example.com</a>): failed to open stream: Invalid argument in someSpecialFile.php on line 4344534"
<br>
<br>This was because I did not have the extension "php_openssl.dll" enabled.
<br>
<br>So if you have the same problem, goto your php.ini file and enable it :)</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->

  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from www.php.net/manual/en/function.fopen.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 02:39:55 GMT -->

</body></html>