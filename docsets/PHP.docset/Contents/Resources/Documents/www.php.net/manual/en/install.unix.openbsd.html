<html><!-- Mirrored from www.php.net/manual/en/install.unix.openbsd.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 05:46:05 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>OpenBSD installation notes</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="install.unix.openbsd.html">
 <link rel="shorturl" href="install.unix.openbsd.html">
 <link rel="alternate" href="install.unix.openbsd.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="install.unix.html">
 <link rel="prev" href="install.unix.hpux.html">
 <link rel="next" href="install.unix.solaris.html">

 <link rel="alternate" href="install.unix.openbsd.html" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/install.unix.openbsd.php" hreflang="pt_BR">
 <link rel="alternate" href="https://www.php.net/manual/zh/install.unix.openbsd.php" hreflang="zh">
 <link rel="alternate" href="https://www.php.net/manual/fr/install.unix.openbsd.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/de/install.unix.openbsd.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/ja/install.unix.openbsd.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/ro/install.unix.openbsd.php" hreflang="ro">
 <link rel="alternate" href="https://www.php.net/manual/ru/install.unix.openbsd.php" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/es/install.unix.openbsd.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/tr/install.unix.openbsd.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached0aba.css?t=1539771603&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached2ecf.css?t=1539765004&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedba57.css?t=1606338002&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached3afa.css?t=1627831203&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script>
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script src="https://www.php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>


</head>
<body class="docs " style="">


<div class="headsup"><a href="https://www.php.net/conferences/index.php#id2021-09-08-1">Longhorn PHP 2021</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.errors.html">Errors</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.attributes.html">Attributes</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.sessions.html">Session Security</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
	<dd><a href="refs.ui.html">GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
    <div id="breadcrumbs-inner">
          
              
          <ul>
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="install.html">Installation and Configuration</a></li>      <li><a href="install.unix.html">Installation on Unix systems</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div id="install.unix.openbsd" class="sect1">
 <h2 class="title">OpenBSD installation notes</h2>
 <p class="para">
 This section contains notes and hints specific to installing
 PHP on <a href="http://www.openbsd.org/" class="link external">Â»&nbsp;OpenBSD 5.8</a>.
 </p>
 <div class="sect2" id="install.unix.openbsd.packages">
  <h3 class="title">Using Binary Packages</h3>
   <p class="simpara">
    Using binary packages to install PHP on OpenBSD is the recommended
    and simplest method.  The core package has been separated from the various
    modules, and each can be installed and removed independently from the others.
    The files you need can be found on your OpenBSD CD or on the FTP site.
   </p>
   <p class="simpara">
    The main package you need to install is <var class="filename">php</var>,
    which contains the basic engine (plus gettext and iconv).  Next, take a look
    at the module packages, such as <var class="filename">php-mysql</var>
    or <var class="filename">php-imap</var>.  You need to use the <strong class="command">phpxs</strong>
    command to activate and deactivate these modules in your <var class="filename">php.ini</var>.
   </p>
   <div class="example" id="install.unix.nginx.configure.ini">
    <p><strong>Example #1 OpenBSD Package Install Example</strong></p>
    <div class="example-contents">
<div class="shellcode"><pre class="shellcode"># pkg_add php
# pkg_add php-fpm
# pkg_add php-mysql
  (install the PEAR libraries)
# pkg_add pear

Follow the instructions shown with each package!

  (to remove packages)
# pkg_delete php
# pkg_delete php-fpm
# pkg_delete php-mysql
# pkg_delete pear</pre>
</div>
    </div>

   </div>
   <p class="simpara">
   Read the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=packages" class="link external">Â»&nbsp;packages(7)</a>
   manual page for more information about binary packages on OpenBSD.
   </p>
 </div>
 <div class="sect2" id="install.unix.openbsd.ports">
  <h3 class="title">Using Ports</h3>
  <p class="simpara">
   You can also compile up PHP from source using the <a href="http://www.openbsd.org/faq/ports/ports.html" class="link external">Â»&nbsp;ports tree</a>.
   However, this is only recommended for users familiar with OpenBSD.  The PHP 4 port
   is split into two sub-directories: core and extensions.  The
   extensions directory generates sub-packages for all of the supported
   PHP modules.  If you find you do not want to create some of these modules,
   use the <strong class="command">no_*</strong> FLAVOR.  For example, to skip building
   the imap module, set the FLAVOR to <strong class="command">no_imap</strong>.
  </p>
 </div>
 <div class="sect2" id="install.unix.openbsd.faq">
  <h3 class="title">Common Problems</h3>
  <ul class="itemizedlist">
   <li class="listitem">
     <span class="simpara">Apache and Nginx are no longer the default server on OpenBSD, but they can both be easily
      found in ports and packages. The new default server is also called 'httpd'.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">The default install of httpd runs inside a
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot" class="link external">Â»&nbsp;chroot(2) jail</a>, which will restrict PHP scripts to
    accessing files under <var class="filename">/var/www</var>.  You will therefore need to create a
    <var class="filename">/var/www/tmp</var> directory for PHP session files to be stored, or use an
    alternative session backend.  In addition, database sockets need to be placed inside the
    jail or listen on the <var class="filename">localhost</var> interface.  If you use network functions,
    some files from <var class="filename">/etc</var> such as <var class="filename">/etc/resolv.conf</var> and
    <var class="filename">/etc/services</var> will need to be moved into <var class="filename">/var/www/etc</var>.
    The OpenBSD PEAR package automatically installs into the correct chroot directories.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
    The OpenBSD 5.7+ package for the <a href="http://www.libgd.org/" class="link external">Â»&nbsp;gd</a> extension requires
     XFree86 to be installed. This can be added post-installation (See OpenBSD FAQ#4) by adding 
     the <var class="filename">xbase.tgz</var> file set.
    </span>
   </li>
  </ul>
 </div>
   
 <div class="sect2" id="install.unix.openbsd.older">
  <h3 class="title">Older Releases</h3>
  <p class="simpara">
   Older releases of OpenBSD used the FLAVORS system to compile up
   a statically linked PHP.  Since it is hard to generate binary packages using
   this method, it is now deprecated.  You can still use the old stable
   ports trees if you wish, but they are unsupported by the OpenBSD team.
   If you have any comments about this, the current maintainer for the port
   is Anil Madhavapeddy (avsm at openbsd dot org).
  </p>
 </div>
</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="117389">  
  <a class="name">
  <strong class="user"><em>pete att shitnami.net</em></strong></a><div class="date" title="2015-06-02 05:27"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom117389">
<div class="phpcode"><code><span class="html">
A brief update: As of OpenBSD 5.7 (2015) the installation process is extremely easy. Apache httpd was replaced by Nginx, which has since been further replaced by OpenBSD's own server, aptly named 'httpd'. <br><br>'httpd' is installed by default, everything else you can still get from packages, with a couple name changes (including Apache and Nginx.) You will be asked which version to install - at the time of writing, versions 5.3.29p1 thru 5.6.5 are available.<br><br>#pkg_add php<br>#pkg_add php-fpm<br>#pkg_add pear<br><br>----<br>OpenBSD disables most services by default; a blank '_flags' line overrides default 'NO' value. pkg_scripts are located in /etc/rc.d/<br>To start at boot, edit "/etc/rc.conf.local":<br><br>&nbsp; httpd_flags=<br>&nbsp; pkg_scripts=php_fpm<br><br>----<br>Example /etc/httpd.conf<br>#<br># paths are relative to chroot - e.g, '/var/www/run/php-fpm.sock'<br>server "default" {<br>&nbsp; &nbsp; &nbsp; listen on * port 80<br>&nbsp; &nbsp; &nbsp; location "*.php" {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fastcgi socket "/run/php-fpm.sock"<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; directory index index.php<br>&nbsp; &nbsp; &nbsp; root "/htdocs"<br>}<br><br>----<br>For date, timezone issues, copy /etc/localtime:<br>&nbsp; &nbsp; $cp /etc/localtime /var/www/etc/localtime<br><br>If 'localhost' DNS name fails to resolve, copy /etc/hosts<br>&nbsp; &nbsp; $cp /etc/hosts /var/www/etc/hosts</span>
</code></div>
  </div>
 </div>
  <div class="note" id="126298">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2021-08-01 04:20"><strong>1 month ago</strong></div>
  <div class="text" id="Hcom126298">
<div class="phpcode"><code><span class="html">
UPDATE: OpenBSD 6.9:<br><br>- The package "php-fpm" no longer exists. It's the default, so you can just install "php".<br>- The /var/www/tmp directory will be created automatically when you install PHP.<br>- PHP 8 is available :D as well as older versions. pkg_add will ask you which version to install.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52719">  
  <a class="name">
  <strong class="user"><em>openbsd-fanatic</em></strong></a><div class="date" title="2005-05-10 01:51"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom52719">
<div class="phpcode"><code><span class="html">
I am user that is just migrating to open source and thought I would take openbsd for a spin. This article, by Gregory L. Magnusson, really helped me to get a working apache-php-mysql server going on openbsd.<br><a rel="nofollow" target="_blank">http://www.devx.com/security/Article/28059/0/page/1</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="37094">  
  <a class="name">
  <strong class="user"><em>ameen(at)dausha(dot)net</em></strong></a><div class="date" title="2003-11-02 07:47"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom37094">
<div class="phpcode"><code><span class="html">
I just finished spinning my wheels with PHP/Apache on OpenBSD 3.3, and it took a Google to fix my problem. I followed the instructions by (0429196301 at netcabo dot pt) written on Sep 19, 2003 and kept being fed a segmentation fault when I tried to start httpd. <br><br>Then I read the page cited below that suggested playing with the order of the LoadModules, and put the PHP first. I followed that recommendation and httpd started without problems!<br><br>Page that saved me:<br><a rel="nofollow" target="_blank">http://archives.neohapsis.com/archives/openbsd/2002-04/3074.html</a><br><br>"Change around the order of the Apache modules, this is one of the<br>drawbacks to the module API for Apache 1.3 is that the order is very<br>important. I would try making the PHP 4 module first, Perl module second<br>and FP module last. "</span>
</code></div>
  </div>
 </div>
  <div class="note" id="31956">  
  <a class="name">
  <strong class="user"><em>sanchero [at] gvsu [dot] edu</em></strong></a><div class="date" title="2003-05-09 11:59"><strong>18 years ago</strong></div>
  <div class="text" id="Hcom31956">
<div class="phpcode"><code><span class="html">
On OpenBSD 3.2, given the steps outlined above using pre-built packages you will get a new "/var/www/conf/httpd.conf" that contains a section like this:<br><br>&lt;IfDefine SSL&gt;<br>AddModule mod_ssl.c<br>AddModule mod_php4.c<br>&lt;/IfDefine&gt;<br><br>This causes mod_php4 to load only when starting Apache w/SSL, so if this isn't what you want add the mod_php4 line again above (or below) this section, like so:<br><br>AddModule mod_php4.c&nbsp;&nbsp; &lt;&lt;------ SEE? - now should load normally.<br>&lt;IfDefine SSL&gt;<br>AddModule mod_ssl.c<br>AddModule mod_php4.c<br>&lt;/IfDefine&gt;<br><br>I also added this for good measure:<br><br>&lt;IfModule mod_php4.c&gt;<br>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; AddType application/x-httpd-php .php [blah blah]<br>&lt;/IfModule&gt;<br><br>Seems to work.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="52867">  
  <a class="name">
  <strong class="user"><em>hg at ostc dot de</em></strong></a><div class="date" title="2005-05-15 10:45"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom52867">
<div class="phpcode"><code><span class="html">
Also you should add "-a /var/www/dev/log" to the syslogd_flags<br>for propper logging of php-extensions like imap.so and create<br>a /var/www/etc/master.passwd with an www-user-entry and run<br>pwd_mkdb -d /var/www/etc /var/www/etc/master.passwd for propper<br>use of libc-client.a functions in imap.so.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->

  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from www.php.net/manual/en/install.unix.openbsd.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 05:46:05 GMT -->

</body></html>