<html><!-- Mirrored from www.php.net/manual/en/dateinterval.construct.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:34:23 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>DateInterval::__construct</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="dateinterval.construct.html">
 <link rel="shorturl" href="dateinterval.construct.html">
 <link rel="alternate" href="dateinterval.construct.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="class.dateinterval.html">
 <link rel="prev" href="class.dateinterval.html">
 <link rel="next" href="dateinterval.createfromdatestring.html">

 <link rel="alternate" href="dateinterval.construct.html" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/dateinterval.construct.php" hreflang="pt_BR">
 <link rel="alternate" href="https://www.php.net/manual/zh/dateinterval.construct.php" hreflang="zh">
 <link rel="alternate" href="https://www.php.net/manual/fr/dateinterval.construct.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/de/dateinterval.construct.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/ja/dateinterval.construct.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/ro/dateinterval.construct.php" hreflang="ro">
 <link rel="alternate" href="https://www.php.net/manual/ru/dateinterval.construct.php" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/es/dateinterval.construct.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/tr/dateinterval.construct.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached0aba.css?t=1539771603&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached2ecf.css?t=1539765004&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedba57.css?t=1606338002&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached3afa.css?t=1627831203&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script>
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script src="https://www.php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>


</head>
<body class="docs " style="">


<div class="headsup"><a href="https://www.php.net/conferences/index.php#id2021-09-08-1">Longhorn PHP 2021</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.errors.html">Errors</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.attributes.html">Attributes</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.sessions.html">Session Security</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
	<dd><a href="refs.ui.html">GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
    <div id="breadcrumbs-inner">
          
              
          <ul>
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.calendar.html">Date and Time Related Extensions</a></li>      <li><a href="book.datetime.html">Date/Time</a></li>      <li><a href="class.dateinterval.html">DateInterval</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div id="dateinterval.construct" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">DateInterval::__construct</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">DateInterval::__construct</span> — <span class="dc-title">Creates a new DateInterval object</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-dateinterval.construct-description">
  <h3 class="title">Description</h3>
  <div class="constructorsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>DateInterval::__construct</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$duration</code></span>)</div>

  <p class="para rdfs-comment">
   Creates a new DateInterval object.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-dateinterval.construct-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>
    
     <dt>
<code class="parameter">duration</code></dt>

     <dd>

      <p class="para">
       An interval specification.
      </p>
      <p class="para">
       The format starts with the letter <code class="literal">P</code>,
       for <q class="quote">period.</q>
       Each duration period is represented by an integer value
       followed by a period designator.
       If the duration contains time elements, that portion
       of the specification is preceded by the letter
       <code class="literal">T</code>.
      </p>
      <p class="para">
       </p><table class="doctable table">
        <caption><strong>
         <code class="parameter">duration</code> Period Designators
        </strong></caption>
        
         <thead>
          <tr>
           <th>Period Designator</th>
           <th>Description</th>
          </tr>

         </thead>

         <tbody class="tbody">
          <tr>
           <td><code class="literal">Y</code></td>
           <td>years</td>
          </tr>

          <tr>
           <td><code class="literal">M</code></td>
           <td>months</td>
          </tr>

          <tr>
           <td><code class="literal">D</code></td>
           <td>days</td>
          </tr>

          <tr>
           <td><code class="literal">W</code></td>
           <td>
            weeks. Converted into days.
            Prior to PHP 8.0.0, can not be combined with <code class="literal">D</code>.
           </td>
          </tr>

          <tr>
           <td><code class="literal">H</code></td>
           <td>hours</td>
          </tr>

          <tr>
           <td><code class="literal">M</code></td>
           <td>minutes</td>
          </tr>

          <tr>
           <td><code class="literal">S</code></td>
           <td>seconds</td>
          </tr>

         </tbody>
        
       </table>

      <p></p>
      <p class="para">
       Here are some simple examples.
       Two days is <code class="literal">P2D</code>.
       Two seconds is <code class="literal">PT2S</code>.
       Six years and five minutes is <code class="literal">P6YT5M</code>.
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       </p><p class="para">
        The unit types must be entered from the largest
        scale unit on the left to the smallest scale unit
        on the right.
        So years before months, months before days,
        days before minutes, etc.
        Thus one year and four days must be represented as
        <code class="literal">P1Y4D</code>, not <code class="literal">P4D1Y</code>.
       </p>
      <p></p></blockquote>
      <p class="para">
       The specification can also be represented as a date time.
       A sample of one year and four days would be
       <code class="literal">P0001-00-04T00:00:00</code>.
       But the values in this format can not exceed a given period's
       roll-over-point (e.g. <code class="literal">25</code> hours is invalid).
      </p>
      <p class="para">
       These formats are based on the <a href="http://en.wikipedia.org/wiki/Iso8601#Durations" class="link external">»&nbsp;ISO 8601 duration
       specification</a>.
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>


 <div class="refsect1 errors" id="refsect1-dateinterval.construct-errors">
  <h3 class="title">Errors/Exceptions</h3>
  <p class="para">
   Throws an <span class="classname"><a href="class.exception.html" class="classname">Exception</a></span> when the <code class="parameter">duration</code>
   cannot be parsed as an interval.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-dateinterval.construct-changelog">
  <h3 class="title">Changelog</h3>
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Version</th>
      <th>Description</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>8.0.0</td>
      <td>
       <code class="literal">W</code> can be combined with <code class="literal">D</code>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </div>


 <div class="refsect1 examples" id="refsect1-dateinterval.construct-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-2010">
    <p><strong>Example #1 <span class="classname"><a href="class.dateinterval.html" class="classname">DateInterval</a></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br>$interval&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateInterval</span><span style="color: #007700">(</span><span style="color: #DD0000">'P1W2D'</span><span style="color: #007700">);<br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$interval</span><span style="color: #007700">);<br><br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>Output of the above example in PHP 8:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>object(DateInterval)#1 (16) {
  ["y"]=&gt;
  int(0)
  ["m"]=&gt;
  int(0)
  ["d"]=&gt;
  int(9)
  ["h"]=&gt;
  int(0)
  ["i"]=&gt;
  int(0)
  ["s"]=&gt;
  int(0)
  ["f"]=&gt;
  float(0)
  ["weekday"]=&gt;
  int(0)
  ["weekday_behavior"]=&gt;
  int(0)
  ["first_last_day_of"]=&gt;
  int(0)
  ["invert"]=&gt;
  int(0)
  ["days"]=&gt;
  bool(false)
  ["special_type"]=&gt;
  int(0)
  ["special_amount"]=&gt;
  int(0)
  ["have_weekday_relative"]=&gt;
  int(0)
  ["have_special_relative"]=&gt;
  int(0)
}
</pre></div>
    </div>
    <div class="example-contents"><p>Output of the above example in PHP 7:</p></div>
    <div class="example-contents screen">
     <div class="cdata"><pre>object(DateInterval)#1 (16) {
  ["y"]=&gt;
  int(0)
  ["m"]=&gt;
  int(0)
  ["d"]=&gt;
  int(2)
  ["h"]=&gt;
  int(0)
  ["i"]=&gt;
  int(0)
  ["s"]=&gt;
  int(0)
  ["f"]=&gt;
  float(0)
  ["weekday"]=&gt;
  int(0)
  ["weekday_behavior"]=&gt;
  int(0)
  ["first_last_day_of"]=&gt;
  int(0)
  ["invert"]=&gt;
  int(0)
  ["days"]=&gt;
  bool(false)
  ["special_type"]=&gt;
  int(0)
  ["special_amount"]=&gt;
  int(0)
  ["have_weekday_relative"]=&gt;
  int(0)
  ["have_special_relative"]=&gt;
  int(0)
}
</pre></div>
    </div>
   </div>
  <p></p>
 </div>


 <div class="refsect1 seealso" id="refsect1-dateinterval.construct-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="dateinterval.format.html" class="function" rel="rdfs-seeAlso">DateInterval::format()</a> - Formats the interval</span></li>
    <li class="member"><span class="function"><a href="datetime.add.html" class="function" rel="rdfs-seeAlso">DateTime::add()</a> - Adds an amount of days, months, years, hours, minutes and seconds to a
   DateTime object</span></li>
    <li class="member"><span class="function"><a href="datetime.sub.html" class="function" rel="rdfs-seeAlso">DateTime::sub()</a> - Subtracts an amount of days, months, years, hours, minutes and seconds from
   a DateTime object</span></li>
    <li class="member"><span class="function"><a href="datetime.diff.html" class="function" rel="rdfs-seeAlso">DateTime::diff()</a> - Returns the difference between two DateTime objects</span></li>
   </ul>
  <p></p>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="112675">  
  <a class="name">
  <strong class="user"><em>owen at beliefs.com</em></strong></a><div class="date" title="2013-07-11 03:20"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom112675">
<div class="phpcode"><code><span class="html">
M is used to indicate both months and minutes.<br><br>As noted on the referenced wikipedia page for ISO 6801 <a rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Iso8601#Durations</a><br><br>To resolve ambiguity, "P1M" is a one-month duration and "PT1M" is a one-minute duration (note the time designator, T, that precedes the time value).<br><br>Using: PHP 5.3.2-1ubuntu4.19<br><br>// For 3 Months<br>$dateTime = new DateTime;echo $dateTime-&gt;format( DateTime::ISO8601 ), PHP_EOL;<br>$dateTime-&gt;add(new DateInterval("P3M"));<br>echo $dateTime-&gt;format( DateTime::ISO8601 ), PHP_EOL;<br>Results in:<br>2013-07-11T11:12:26-0400<br>2013-10-11T11:12:26-0400<br><br>// For 3 Minutes<br>$dateTime = new DateTime;echo $dateTime-&gt;format( DateTime::ISO8601 ), PHP_EOL;<br>$dateTime-&gt;add(new DateInterval("PT3M"));<br>echo $dateTime-&gt;format( DateTime::ISO8601 ), PHP_EOL;<br>Results in:<br>2013-07-11T11:12:42-0400<br>2013-07-11T11:15:42-0400<br><br>Insert a T after the P in the interval to add 3 minutes instead of 3 months.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="121672">  
  <a class="name">
  <strong class="user"><em>Hernanibus</em></strong></a><div class="date" title="2017-09-22 08:03"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom121672">
<div class="phpcode"><code><span class="html">
It is not stated, but you cannot create directly a negative interval, this is you cannot create a "-2 days" interval as:<br><br>&lt;?<br>$interval = new DateInterval("P-2D");//or<br>$interval = new DateInterval("-P2D");<br>?&gt;<br><br>Instead you have to create first the interval and then set its 'invert' property to 1, this is:<br><br>&lt;?<br>$interval = new DateInterval("P2D");<br>$interval-&gt;invert = 1;<br>?&gt;<br><br>Then you should keep in mind that this interval acts as a negative number, hence to subtract the interval from a given date you must 'add' it:<br><br>&lt;?<br>$interval = new DateInterval("P2D");<br>$interval-&gt;invert = 1;<br>$date&nbsp; &nbsp; &nbsp;&nbsp; = new DateTime ("1978-01-23 17:46:00");<br>$date-&gt;add($interval)-&gt;format("Y-m-d H:i:s");//this is "1978-01-21 17:46:00"<br>?&gt;</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102976">  
  <a class="name">
  <strong class="user"><em>kevinpeno at gmail dot com</em></strong></a><div class="date" title="2011-03-17 11:47"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom102976">
<div class="phpcode"><code><span class="html">
Note that, while a DateInterval object has an $invert property, you cannot supply a negative directly to the constructor similar to specifying a negative in XSD ("-P1Y"). You will get an exception through if you do this. <br><br>Instead you need to construct using a positive interval ("P1Y") and the specify the $invert property === 1.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107610">  
  <a class="name">
  <strong class="user"><em>jawzx01 at gmail dot com</em></strong></a><div class="date" title="2012-02-21 10:43"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom107610">
<div class="phpcode"><code><span class="html">
As previously mentioned, to do a negative DateInterval object, you'd code: 
<br>
<br><span class="default">&lt;?php
<br>$date1 </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">();
<br></span><span class="default">$eightynine_days_ago </span><span class="keyword">= new </span><span class="default">DateInterval</span><span class="keyword">( </span><span class="string">"P89D" </span><span class="keyword">);
<br></span><span class="default">$eightynine_days_ago</span><span class="keyword">-&gt;</span><span class="default">invert </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="comment">//Make it negative. 
<br></span><span class="default">$date1</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">( </span><span class="default">$eightynine_days_ago </span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>and then $date1 is now 89 days in the past.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="108228">  
  <a class="name">
  <strong class="user"><em>buvinghausen at gmail dot com</em></strong></a><div class="date" title="2012-04-09 06:50"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom108228">
<div class="phpcode"><code><span class="html">
I think it is easiest if you would just use the sub method on the DateTime class.<br><br><span class="default">&lt;?php<br>$date </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">();<br></span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">sub</span><span class="keyword">(new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">"P89D"</span><span class="keyword">));</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="102268">  
  <a class="name">
  <strong class="user"><em>kuzb</em></strong></a><div class="date" title="2011-02-04 04:42"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom102268">
<div class="phpcode"><code><span class="html">
It should be noted that this class will not calculate days/hours/minutes/seconds etc given a value in a single denomination of time.&nbsp; For example:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; $di </span><span class="keyword">= new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">'PT3600S'</span><span class="keyword">);<br>&nbsp; &nbsp; echo </span><span class="default">$di</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'%H:%i:%s'</span><span class="keyword">);<br>&nbsp; &nbsp; <br></span><span class="default">?&gt;<br></span><br>will yield 0:0:3600 instead of the expected 1:0:0</span>
</code></div>
  </div>
 </div>
  <div class="note" id="107999">  
  <a class="name">
  <strong class="user"><em>daniellehr at gmx dot de</em></strong></a><div class="date" title="2012-03-21 01:06"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom107999">
<div class="phpcode"><code><span class="html">
Alternatively you can use DateInterval::createFromDateString() for negative intervals:<br><br><span class="default">&lt;?php<br>$date </span><span class="keyword">= new </span><span class="default">DateTime</span><span class="keyword">();<br></span><span class="default">$date</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="default">DateInterval</span><span class="keyword">::</span><span class="default">createFromDateString</span><span class="keyword">(</span><span class="string">'-89 days'</span><span class="keyword">));</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="116750">  
  <a class="name">
  <strong class="user"><em>admin at torntech dot com</em></strong></a><div class="date" title="2015-02-22 09:22"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom116750">
<div class="phpcode"><code><span class="html">
Warning - despite the $interval_spec accepting the ISO 8601 specification format, it does not accept decimal fraction values with period or comma as stated in the specification.<br><br><a rel="nofollow" target="_blank">https://bugs.php.net/bug.php?id=53831</a><br><br><span class="default">&lt;?php<br></span><span class="comment">/* Example from ISO 8601 documentation */<br></span><span class="default">$interval </span><span class="keyword">= new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">'P0.5Y'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Will result in<br>Fatal error: Uncaught exception 'Exception' with message 'DateInterval::__construct(): Unknown or bad format (P0.5Y)'</span>
</code></div>
  </div>
 </div>
  <div class="note" id="118784">  
  <a class="name">
  <strong class="user"><em>userexamplecom at mailinator dot com</em></strong></a><div class="date" title="2016-02-05 01:49"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom118784">
<div class="phpcode"><code><span class="html">
Take care, if you have a DateTime Object on the 31h of January and add Da DateInterval of one Month, then you are in March instead of February.<br><br>For Example:<br>---<br>// given the actual date is 2017-01-31<br>$today = new DateTime('now', $timeZoneObject);<br>$today-&gt;add(new DateInterval('P1M'));<br>echo $today-&gt;format('m');<br>// output: 03<br>---</span>
</code></div>
  </div>
 </div>
  <div class="note" id="118973">  
  <a class="name">
  <strong class="user"><em>lsloan-php dot net at umich dot edu</em></strong></a><div class="date" title="2016-03-10 10:05"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom118973">
<div class="phpcode"><code><span class="html">
Although PHP refers to periods of time as "intervals", ISO 8601 refers to them as "durations".&nbsp; In ISO 8601, "intervals" are something else.<br><br>While ISO 8601 allows fractions for all parts of a duration (e.g., "P0.5Y"), DateInterval does not.&nbsp; Use caution when calculating durations.&nbsp; If the duration has a fractional part, it may be lost when storing it in a DateInterval object.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="125970">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2021-03-29 09:07"><strong>5 months ago</strong></div>
  <div class="text" id="Hcom125970">
<div class="phpcode"><code><span class="html">
Note that to add time you must enter P even though the period is empty.<br><br>To add 1 hour : <br><br><span class="default">&lt;?php<br><br>$plusOneHour </span><span class="keyword">= (new </span><span class="default">DateTime</span><span class="keyword">(</span><span class="string">'now'</span><span class="keyword">))-&gt;</span><span class="default">add</span><span class="keyword">(new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">"PT1H"</span><span class="keyword">));<br><br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$plusOneHour</span><span class="keyword">);<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="124885">  
  <a class="name">
  <strong class="user"><em>grzeniufication</em></strong></a><div class="date" title="2020-04-05 10:51"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom124885">
<div class="phpcode"><code><span class="html">
If you'd like to persist an interval object in a DB it could be handy to implement the __toString() method. A formatted interval value can be easier to read by a human than the output of serialize. Here's an example:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">namespace </span><span class="default">App</span><span class="keyword">;<br><br>class </span><span class="default">DateInterval </span><span class="keyword">extends \</span><span class="default">DateInterval<br></span><span class="keyword">{<br>&nbsp; &nbsp; public function </span><span class="default">__toString</span><span class="keyword">()<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">'P%yY%mM%dDT%hH%iM%sS'</span><span class="keyword">);<br>&nbsp; &nbsp; }<br>}<br><br></span><span class="default">$interval1 </span><span class="keyword">= new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">'P1Y'</span><span class="keyword">);<br></span><span class="default">$interval2 </span><span class="keyword">= new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="default">strval</span><span class="keyword">(</span><span class="default">$interval1</span><span class="keyword">));<br></span><span class="default">assert</span><span class="keyword">(</span><span class="default">$interval1 </span><span class="keyword">== </span><span class="default">$interval2</span><span class="keyword">);</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="121981">  
  <a class="name">
  <strong class="user"><em>sloanlance+php.net  gmail  com</em></strong></a><div class="date" title="2017-12-05 10:55"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom121981">
<div class="phpcode"><code><span class="html">
⚠️ It's important to remember the warning about DateInterval given by "admin at torntech dot com" in an earlier comment (<a rel="nofollow" target="_blank">http://php.net/manual/en/dateinterval.construct.php#116750</a>).&nbsp; To reiterate:<br><br>Some versions of PHP (e.g., 5.6.31) have a bug that disallows fractional parts in a ISO 8601 duration string given as the argument for the DateInterval constructor.&nbsp; That is, these examples will fail:<br><br><span class="default">&lt;?php<br></span><span class="comment">// 'P0.5Y' is valid according to ISO 8601<br></span><span class="default">$interval </span><span class="keyword">= new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">'P0.5Y'</span><span class="keyword">);&nbsp; </span><span class="comment">// Throws exception<br></span><span class="default">?&gt;<br></span><br><span class="default">&lt;?php<br></span><span class="comment">// 'PT585.829S' is valid according to ISO 8601<br></span><span class="default">$interval </span><span class="keyword">= new </span><span class="default">DateInterval</span><span class="keyword">(</span><span class="string">'PT585.829S'</span><span class="keyword">);&nbsp; </span><span class="comment">// Throws exception<br></span><span class="default">?&gt;<br></span><br>If this bug affects you, please go to the report for this bug in the PHP Bug Tracking System, and place a vote stating that it affects you:&nbsp; <a rel="nofollow" target="_blank">https://bugs.php.net/bug.php?id=53831</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="119260">  
  <a class="name">
  <strong class="user"><em>Ray.Paseur sometimes uses Gmail</em></strong></a><div class="date" title="2016-04-28 04:47"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom119260">
<div class="phpcode"><code><span class="html">
To recover the interval specification string:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">get_interval_spec</span><span class="keyword">(</span><span class="default">DateTime $alpha</span><span class="keyword">, </span><span class="default">DateTime $omega</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$intvl </span><span class="keyword">= </span><span class="default">$alpha</span><span class="keyword">-&gt;</span><span class="default">diff</span><span class="keyword">(</span><span class="default">$omega</span><span class="keyword">);<br><br>&nbsp; &nbsp; </span><span class="default">$date </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">y</span><span class="keyword">) </span><span class="default">$date </span><span class="keyword">.= </span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">y </span><span class="keyword">. </span><span class="string">'Y'</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">m</span><span class="keyword">) </span><span class="default">$date </span><span class="keyword">.= </span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">m </span><span class="keyword">. </span><span class="string">'M'</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">d</span><span class="keyword">) </span><span class="default">$date </span><span class="keyword">.= </span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">d </span><span class="keyword">. </span><span class="string">'D'</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$time </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">h</span><span class="keyword">) </span><span class="default">$time </span><span class="keyword">.= </span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">h </span><span class="keyword">. </span><span class="string">'H'</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">i</span><span class="keyword">) </span><span class="default">$time </span><span class="keyword">.= </span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">i </span><span class="keyword">. </span><span class="string">'M'</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">s</span><span class="keyword">) </span><span class="default">$time </span><span class="keyword">.= </span><span class="default">$intvl</span><span class="keyword">-&gt;</span><span class="default">s </span><span class="keyword">. </span><span class="string">'S'</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$time</span><span class="keyword">) </span><span class="default">$time </span><span class="keyword">= </span><span class="string">'T' </span><span class="keyword">. </span><span class="default">$time</span><span class="keyword">;<br><br>&nbsp; &nbsp; </span><span class="default">$text </span><span class="keyword">=</span><span class="string">'P' </span><span class="keyword">. </span><span class="default">$date </span><span class="keyword">. </span><span class="default">$time</span><span class="keyword">;<br>&nbsp; &nbsp; if (</span><span class="default">$text </span><span class="keyword">== </span><span class="string">'P'</span><span class="keyword">) return </span><span class="string">'PT0S'</span><span class="keyword">;<br>&nbsp; &nbsp; return </span><span class="default">$text</span><span class="keyword">;<br>}</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113950">  
  <a class="name">
  <strong class="user"><em>bkilinc at deyta dot net</em></strong></a><div class="date" title="2013-12-20 03:28"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom113950">
<div class="phpcode"><code><span class="html">
interval_spec Period Designators, has two 'M's for months and minutes.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->

  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from www.php.net/manual/en/dateinterval.construct.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:34:23 GMT -->

</body></html>