<html><!-- Mirrored from www.php.net/manual/en/function.mt-rand.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:45:44 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>mt_rand</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.mt-rand.html">
 <link rel="shorturl" href="https://www.php.net/mt-rand">
 <link rel="alternate" href="https://www.php.net/mt-rand" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.math.html">
 <link rel="prev" href="function.mt-getrandmax.html">
 <link rel="next" href="function.mt-srand.html">

 <link rel="alternate" href="function.mt-rand.html" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.mt-rand.php" hreflang="pt_BR">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.mt-rand.php" hreflang="zh">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.mt-rand.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/de/function.mt-rand.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.mt-rand.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/ro/function.mt-rand.php" hreflang="ro">
 <link rel="alternate" href="https://www.php.net/manual/ru/function.mt-rand.php" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/es/function.mt-rand.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.mt-rand.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached0aba.css?t=1539771603&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached2ecf.css?t=1539765004&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedba57.css?t=1606338002&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached3afa.css?t=1627831203&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script>
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script src="https://www.php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>


</head>
<body class="docs " style="">


<div class="headsup"><a href="https://www.php.net/conferences/index.php#id2021-09-08-1">Longhorn PHP 2021</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.errors.html">Errors</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.attributes.html">Attributes</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.sessions.html">Session Security</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
	<dd><a href="refs.ui.html">GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
    <div id="breadcrumbs-inner">
          
              
          <ul>
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.math.html">Mathematical Extensions</a></li>      <li><a href="book.math.html">Math</a></li>      <li><a href="ref.math.html">Math Functions</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div id="function.mt-rand" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mt_rand</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">mt_rand</span> â€” <span class="dc-title">Generate a random value via the Mersenne Twister Random Number Generator</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.mt-rand-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>mt_rand</strong></span>(): <span class="type">int</span></div>

  <div class="methodsynopsis dc-description"><span class="methodname"><strong>mt_rand</strong></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$min</code></span>, <span class="methodparam"><span class="type">int</span> <code class="parameter">$max</code></span>): <span class="type">int</span></div>

  <div class="caution"><strong class="caution">Caution</strong><p class="para">This function does not
generate cryptographically secure values, and should not be used for cryptographic purposes. If you need a
cryptographically secure value, consider using <span class="function"><a href="function.random-int.html" class="function">random_int()</a></span>, <span class="function"><a href="function.random-bytes.html" class="function">random_bytes()</a></span>, or
<span class="function"><a href="function.openssl-random-pseudo-bytes.html" class="function">openssl_random_pseudo_bytes()</a></span> instead.</p></div>
  <p class="simpara">
   Many random number generators of older libcs
   have dubious or unknown characteristics and are slow. 
   The <span class="function"><strong>mt_rand()</strong></span> function is a drop-in replacement
   for the older <span class="function"><a href="function.rand.html" class="function">rand()</a></span>. It uses a random
   number generator with known characteristics using the
   <a href="http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html" class="link external">Â»&nbsp;Mersenne Twister</a>, which
   will produce random numbers four times faster than what the average
   libc rand() provides.
  </p>
  <p class="simpara">
   If called without the optional <code class="parameter">min</code>,
   <code class="parameter">max</code> arguments <span class="function"><strong>mt_rand()</strong></span>
   returns a pseudo-random value between 0 and
   <span class="function"><a href="function.mt-getrandmax.html" class="function">mt_getrandmax()</a></span>.  If you want a random number
   between 5 and 15 (inclusive), for example, use <code class="literal">mt_rand(5,
   15)</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.mt-rand-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>
    
     <dt>
<code class="parameter">min</code></dt>

     <dd>

      <p class="para">
       Optional lowest value to be returned (default: 0)
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">max</code></dt>

     <dd>

      <p class="para">
       Optional highest value to be returned (default: <span class="function"><a href="function.mt-getrandmax.html" class="function">mt_getrandmax()</a></span>)
      </p>
     </dd>

    
   </dl>

  <p></p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.mt-rand-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   A random integer value between <code class="parameter">min</code> (or 0)
   and <code class="parameter">max</code> (or <span class="function"><a href="function.mt-getrandmax.html" class="function">mt_getrandmax()</a></span>, inclusive),
   or <strong><code>false</code></strong> if <code class="parameter">max</code> is less than <code class="parameter">min</code>.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.mt-rand-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   </p><table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.2.0</td>
       <td>
        <span class="function"><strong>mt_rand()</strong></span> <a href="migration72.incompatible.html#migration72.incompatible.rand-mt_rand-output" class="link">has received a bug fix</a> for a modulo bias bug. This means that sequences generated with a specific seed may differ from PHP 7.1 on 64-bit machines.
       </td>
      </tr>

      <tr>
       <td>7.1.0</td>
       <td>
        <span class="function"><a href="function.rand.html" class="function">rand()</a></span> <a href="migration71.incompatible.html#migration71.incompatible.rand-srand-aliases" class="link">has been made</a> an alias of <span class="function"><strong>mt_rand()</strong></span>.
       </td>
      </tr>

      <tr>
       <td>7.1.0</td>
       <td>
        <span class="function"><strong>mt_rand()</strong></span> <a href="migration71.incompatible.html#migration71.incompatible.fixes-to-mt_rand-algorithm" class="link">has been updated</a> to use the fixed, correct, version of
         the Mersenne Twister algorithm. To fall back to the old behaviour, use <span class="function"><a href="function.mt-srand.html" class="function">mt_srand()</a></span> with <strong><code>MT_RAND_PHP</code></strong> as the second parameter.
       </td>
      </tr>

     </tbody>
    
   </table>

  <p></p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.mt-rand-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-3074">
    <p><strong>Example #1 <span class="function"><strong>mt_rand()</strong></span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br>echo&nbsp;</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br><br>echo&nbsp;</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">15</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>1604716014
1478613278
6
</pre></div>
    </div>
   </div>
  <p></p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.mt-rand-notes">
  <h3 class="title">Notes</h3>
  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">
    <code class="parameter">min</code> <code class="parameter">max</code> range must
    be within the range <span class="function"><a href="function.mt-getrandmax.html" class="function">mt_getrandmax()</a></span>. i.e. (<code class="parameter">max</code> -
    <code class="parameter">min</code>) &lt;= <span class="function"><a href="function.mt-getrandmax.html" class="function">mt_getrandmax()</a></span>
    Otherwise, <span class="function"><strong>mt_rand()</strong></span> may return poorer random numbers
    than it should.
   </p>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.mt-rand-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   </p><ul class="simplelist">
    <li class="member"><span class="function"><a href="function.mt-srand.html" class="function" rel="rdfs-seeAlso">mt_srand()</a> - Seeds the Mersenne Twister Random Number Generator</span></li>
    <li class="member"><span class="function"><a href="function.mt-getrandmax.html" class="function" rel="rdfs-seeAlso">mt_getrandmax()</a> - Show largest possible random value</span></li>
    <li class="member"><span class="function"><a href="function.random-int.html" class="function" rel="rdfs-seeAlso">random_int()</a> - Generates cryptographically secure pseudo-random integers</span></li>
    <li class="member"><span class="function"><a href="function.random-bytes.html" class="function" rel="rdfs-seeAlso">random_bytes()</a> - Generates cryptographically secure pseudo-random bytes</span></li>
    <li class="member"><span class="function"><a href="function.openssl-random-pseudo-bytes.html" class="function" rel="rdfs-seeAlso">openssl_random_pseudo_bytes()</a> - Generate a pseudo-random string of bytes</span></li>
    <li class="member"><span class="function"><a href="function.rand.html" class="function" rel="rdfs-seeAlso">rand()</a> - Generate a random integer</span></li>
   </ul>
  <p></p>
 </div>

</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="107738">  
  <a class="name">
  <strong class="user"><em>cyrax21 at gmail dot com</em></strong></a><div class="date" title="2012-03-01 08:44"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom107738">
<div class="phpcode"><code><span class="html">
i wanted to spot out the big difference between rand and mt_rand when producing images using randomness as noise.
<br>
<br>for example this is a comparation between rand and mt_rand on a 400x400 pixel png: <a rel="nofollow" target="_blank">http://oi43.tinypic.com/vwtppl.jpg</a>
<br>
<br>code:
<br><span class="default">&lt;?php
<br>header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);
<br></span><span class="default">$sizex</span><span class="keyword">=</span><span class="default">800</span><span class="keyword">;
<br></span><span class="default">$sizey</span><span class="keyword">=</span><span class="default">400</span><span class="keyword">;
<br>
<br></span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$sizex</span><span class="keyword">,</span><span class="default">$sizey</span><span class="keyword">);
<br></span><span class="default">$ink </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);
<br>
<br>for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$sizex</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">$sizey</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++) {
<br>&nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$sizex</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">), </span><span class="default">rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$sizey</span><span class="keyword">), </span><span class="default">$ink</span><span class="keyword">);
<br>&nbsp; }
<br>}
<br> 
<br>for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">$sizex</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$sizex</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">$sizey</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++) {
<br>&nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">$sizex</span><span class="keyword">/</span><span class="default">2</span><span class="keyword">,</span><span class="default">$sizex</span><span class="keyword">), </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">$sizey</span><span class="keyword">), </span><span class="default">$ink</span><span class="keyword">);
<br>&nbsp; }
<br>}
<br>
<br></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);
<br></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>the differences reduce when reducing the pixels of the image.. infact for a 100x100 pixel image the noise produced from the rand function is much more realistic than how it is for a 400x400 image: <a rel="nofollow" target="_blank">http://oi39.tinypic.com/5k0row.jpg</a>
<br>
<br>(rand is on the left, mt_rand on the right)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="118873">  
  <a class="name">
  <strong class="user"><em>syouseki</em></strong></a><div class="date" title="2016-02-19 05:18"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom118873">
<div class="phpcode"><code><span class="html">
mt_rand is not calculated by Mersenne Twister.<br><br><a rel="nofollow" target="_blank">https://github.com/php/php-src/commit/a0724d30817600540946b41e40f4cfc2a0c30f80</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="124672">  
  <a class="name">
  <strong class="user"><em>Nikhil S.</em></strong></a><div class="date" title="2020-02-03 05:19"><strong>1 year ago</strong></div>
  <div class="text" id="Hcom124672">
<div class="phpcode"><code><span class="html">
A nifty function to generate pretty coupon codes. This will generate unique coupon codes and you don't have to do a database check whether the code already exists.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">giftCodes</span><span class="keyword">(){<br>&nbsp; &nbsp; </span><span class="default">$a</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br>&nbsp; &nbsp; for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">&lt;=</span><span class="default">4</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++){<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$j </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">) { </span><span class="default">$a </span><span class="keyword">.= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"d"</span><span class="keyword">); </span><span class="default">$c</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$j </span><span class="keyword">== </span><span class="default">3</span><span class="keyword">) { </span><span class="default">$a </span><span class="keyword">.= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"m"</span><span class="keyword">); </span><span class="default">$c</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">; }<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$j </span><span class="keyword">== </span><span class="default">4</span><span class="keyword">) { </span><span class="default">$a </span><span class="keyword">.= </span><span class="default">date</span><span class="keyword">(</span><span class="string">"y"</span><span class="keyword">); </span><span class="default">$c</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">; }<br>&nbsp; &nbsp; &nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;= </span><span class="default">$c</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$a </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(!</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)?</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">48</span><span class="keyword">,</span><span class="default">57</span><span class="keyword">):</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">));<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$a </span><span class="keyword">.=</span><span class="string">'-'</span><span class="keyword">;<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113611">  
  <a class="name">
  <strong class="user"><em>Pawe Krawczyk</em></strong></a><div class="date" title="2013-11-05 11:13"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom113611">
<div class="phpcode"><code><span class="html">
To reiterate the message about *not* using mt_rand() for anything security related, here's a new tool that has been just posted that recovers the seed value given a single mt_rand() output:<br><br><a rel="nofollow" target="_blank">http://www.openwall.com/php_mt_seed/README</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="73077">  
  <a class="name">
  <strong class="user"><em>zolaar at nothanks dot com</em></strong></a><div class="date" title="2007-02-07 10:44"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom73077">
<div class="phpcode"><code><span class="html">
a better (and likely faster) way to generate a random 6-digit hex string:<br><br><span class="default">&lt;?php<br>$num </span><span class="keyword">= </span><span class="default">mt_rand </span><span class="keyword">( </span><span class="default">0</span><span class="keyword">, </span><span class="default">0xffffff </span><span class="keyword">); </span><span class="comment">// trust the library, love the library...<br></span><span class="default">$output </span><span class="keyword">= </span><span class="default">sprintf </span><span class="keyword">( </span><span class="string">"%06x" </span><span class="keyword">, </span><span class="default">$num </span><span class="keyword">); </span><span class="comment">// muchas smoochas to you, PHP!<br></span><span class="keyword">return </span><span class="default">$output</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>The mt_rand function won't give you a number outside the bounds you asked for -- no need to and-off the top bits -- and the sprintf function has params for length-padding &amp; hexidecimal output.&nbsp; It's likely faster because most of the work is being done by the wicked fast C functions that PHP sits on top of, though YMMV in that dept.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111243">  
  <a class="name">
  <strong class="user"><em>Hayley Watson</em></strong></a><div class="date" title="2013-01-29 10:56"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom111243">
<div class="phpcode"><code><span class="html">
Another graphical comparison of rand() and mt_rand(). It effectively draws a graph showing how the last generated number affects the next by plotting the numbers in consecutive pairs against each other.<br><br><span class="default">&lt;?php<br>header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br></span><span class="default">$sizex</span><span class="keyword">=</span><span class="default">800</span><span class="keyword">;<br></span><span class="default">$sizey</span><span class="keyword">=</span><span class="default">800</span><span class="keyword">;<br><br></span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">2 </span><span class="keyword">* </span><span class="default">$sizex</span><span class="keyword">,</span><span class="default">$sizey</span><span class="keyword">);<br></span><span class="default">$black </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br></span><span class="default">imagefilledrectangle</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$sizex</span><span class="keyword">, </span><span class="default">$sizey</span><span class="keyword">, </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">));<br><br></span><span class="default">$p </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; </span><span class="default">$np </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$sizex</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$p</span><span class="keyword">, </span><span class="default">$np</span><span class="keyword">, </span><span class="default">$black</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$p </span><span class="keyword">= </span><span class="default">$np</span><span class="keyword">;<br>}<br><br></span><span class="default">$p </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&nbsp; &nbsp; </span><span class="default">$np </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$sizex</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$p </span><span class="keyword">+ </span><span class="default">$sizex</span><span class="keyword">, </span><span class="default">$np</span><span class="keyword">, </span><span class="default">$black</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$p </span><span class="keyword">= </span><span class="default">$np</span><span class="keyword">;<br>}<br><br></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br></span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115363">  
  <a class="name">
  <strong class="user"><em>falkartis at gmail dot com</em></strong></a><div class="date" title="2014-07-12 03:34"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom115363">
<div class="phpcode"><code><span class="html">
I wrote another function to get a random float, if its not precise enougth jut add some '0' to the $mul parameter.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">f_rand</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">,</span><span class="default">$mul</span><span class="keyword">=</span><span class="default">1000000</span><span class="keyword">){<br>&nbsp; &nbsp; if (</span><span class="default">$min</span><span class="keyword">&gt;</span><span class="default">$max</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br>&nbsp; &nbsp; return </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">*</span><span class="default">$mul</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">*</span><span class="default">$mul</span><span class="keyword">)/</span><span class="default">$mul</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span>I made following&nbsp; tests:<br><span class="default">&lt;?php<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">f_rand</span><span class="keyword">().</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//0.497153<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">f_rand</span><span class="keyword">(</span><span class="default">0.5</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//0.857822<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">f_rand</span><span class="keyword">(</span><span class="default">0.5</span><span class="keyword">,</span><span class="default">0.6</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//0.599956<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">f_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//5.801949<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">f_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//1.5<br>&nbsp; &nbsp; </span><span class="keyword">echo </span><span class="default">f_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">//1.7<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106645">  
  <a class="name">
  <strong class="user"><em>contact at sheyd dot fr</em></strong></a><div class="date" title="2011-11-24 04:43"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom106645">
<div class="phpcode"><code><span class="html">
To quickly build a human-readable random string for a captcha per example :<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">random</span><span class="keyword">(</span><span class="default">$length </span><span class="keyword">= </span><span class="default">8</span><span class="keyword">)<br>{&nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; </span><span class="default">$chars </span><span class="keyword">= </span><span class="string">'bcdfghjklmnprstvwxzaeiou'</span><span class="keyword">;<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; for (</span><span class="default">$p </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$p </span><span class="keyword">&lt; </span><span class="default">$length</span><span class="keyword">; </span><span class="default">$p</span><span class="keyword">++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$result </span><span class="keyword">.= (</span><span class="default">$p</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">) ? </span><span class="default">$chars</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">19</span><span class="keyword">, </span><span class="default">23</span><span class="keyword">)] : </span><span class="default">$chars</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">18</span><span class="keyword">)];<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; <br>&nbsp; &nbsp; return </span><span class="default">$result</span><span class="keyword">;<br>}<br><br></span><span class="default">?&gt;<br></span><br>Note that I have removed q and y from $chars to avoid readability problems.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="123458">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2018-12-20 08:24"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom123458">
<div class="phpcode"><code><span class="html">
The seed is the PID + LCG (<a rel="nofollow" target="_blank">https://github.com/php/php-src/search?q=GENERATE_SEED&amp;unscoped_q=GENERATE_SEED</a>)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="82156">  
  <a class="name">
  <strong class="user"><em>geompse at yopmail dot com</em></strong></a><div class="date" title="2008-03-29 04:01"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom82156">
<div class="phpcode"><code><span class="html">
mt_rand() is not faster than rand() !<br><br>Tested over 100'000 iterations, with none/various/random arguments, mt_rand is always 3% slower than rand().</span>
</code></div>
  </div>
 </div>
  <div class="note" id="112889">  
  <a class="name">
  <strong class="user"><em>Miller</em></strong></a><div class="date" title="2013-08-02 06:05"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom112889">
<div class="phpcode"><code><span class="html">
Another generic random string function, but very small and fast.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">mt_rand_str </span><span class="keyword">(</span><span class="default">$l</span><span class="keyword">, </span><span class="default">$c </span><span class="keyword">= </span><span class="string">'abcdefghijklmnopqrstuvwxyz1234567890'</span><span class="keyword">) {<br>&nbsp; &nbsp; for (</span><span class="default">$s </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">, </span><span class="default">$cl </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$c</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">, </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$l</span><span class="keyword">; </span><span class="default">$s </span><span class="keyword">.= </span><span class="default">$c</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$cl</span><span class="keyword">)], ++</span><span class="default">$i</span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">$s</span><span class="keyword">;<br>}<br><br>echo </span><span class="default">mt_rand_str</span><span class="keyword">(</span><span class="default">8</span><span class="keyword">); </span><span class="comment">// Something like mp2tmpsw<br></span><span class="keyword">echo </span><span class="default">mt_rand_str</span><span class="keyword">(</span><span class="default">6</span><span class="keyword">, </span><span class="string">'0123456789ABCDEF'</span><span class="keyword">); </span><span class="comment">// Something like B9CD0F<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="83655">  
  <a class="name">
  <strong class="user"><em>Mark Seecof</em></strong></a><div class="date" title="2008-06-05 11:31"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom83655">
<div class="phpcode"><code><span class="html">
If you need some pseudorandom bits for security or cryptographic purposes (e.g.g., random IV for block cipher, random salt for password hash) mt_rand() is a poor source.&nbsp; On most Unix/Linux and/or MS-Windows platforms you can get a better grade of pseudorandom bits from the OS or system library, like this:<br><br><span class="default">&lt;?php<br></span><span class="comment">// get 128 pseudorandom bits in a string of 16 bytes<br><br></span><span class="default">$pr_bits </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br><br></span><span class="comment">// Unix/Linux platform?<br></span><span class="default">$fp </span><span class="keyword">= @</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'/dev/urandom'</span><span class="keyword">,</span><span class="string">'rb'</span><span class="keyword">);<br>if (</span><span class="default">$fp </span><span class="keyword">!== </span><span class="default">FALSE</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="default">$pr_bits </span><span class="keyword">.= @</span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">16</span><span class="keyword">);<br>&nbsp; &nbsp; @</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br>}<br><br></span><span class="comment">// MS-Windows platform?<br></span><span class="keyword">if (@</span><span class="default">class_exists</span><span class="keyword">(</span><span class="string">'COM'</span><span class="keyword">)) {<br>&nbsp; &nbsp; </span><span class="comment">// <a rel="nofollow" target="_blank">http://msdn.microsoft.com/en-us/library/aa388176(VS.85</a>).aspx<br>&nbsp; &nbsp; </span><span class="keyword">try {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$CAPI_Util </span><span class="keyword">= new </span><span class="default">COM</span><span class="keyword">(</span><span class="string">'CAPICOM.Utilities.1'</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$pr_bits </span><span class="keyword">.= </span><span class="default">$CAPI_Util</span><span class="keyword">-&gt;</span><span class="default">GetRandom</span><span class="keyword">(</span><span class="default">16</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// if we ask for binary data PHP munges it, so we<br>&nbsp; &nbsp; &nbsp; &nbsp; // request base64 return value.&nbsp; We squeeze out the<br>&nbsp; &nbsp; &nbsp; &nbsp; // redundancy and useless ==CRLF by hashing...<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$pr_bits</span><span class="keyword">) { </span><span class="default">$pr_bits </span><span class="keyword">= </span><span class="default">md5</span><span class="keyword">(</span><span class="default">$pr_bits</span><span class="keyword">,</span><span class="default">TRUE</span><span class="keyword">); }<br>&nbsp; &nbsp; } catch (</span><span class="default">Exception $ex</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// echo 'Exception: ' . $ex-&gt;getMessage();<br>&nbsp; &nbsp; </span><span class="keyword">}<br>}<br><br>if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$pr_bits</span><span class="keyword">) &lt; </span><span class="default">16</span><span class="keyword">) {<br>&nbsp; &nbsp; </span><span class="comment">// do something to warn system owner that<br>&nbsp; &nbsp; // pseudorandom generator is missing<br></span><span class="keyword">}<br></span><span class="default">?&gt;<br></span><br>NB: it is generally safe to leave both the attempt to read /dev/urandom and the attempt to access CAPICOM in your code, though each will fail silently on the other's platform.&nbsp; Leave them both there so your code will be more portable.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="39805">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2004-02-11 05:27"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom39805">
<div class="phpcode"><code><span class="html">
Here is a example of a very small, compact, quite random-random string generator. It will make a string with uppercase &amp; lowercase letters, with numbers. You simply need to set $len in the for() structure, and then the string will be in $r.&nbsp; It has been designed for size, while it's still quite fast.&nbsp; Mind the wrapping, it should be 1 line.<br><br><span class="default">&lt;?php <br></span><span class="keyword">for(</span><span class="default">$len</span><span class="keyword">=</span><span class="default">8</span><span class="keyword">,</span><span class="default">$r</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$r</span><span class="keyword">)&lt;</span><span class="default">$len</span><span class="keyword">;</span><span class="default">$r</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(!</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)?<br></span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">48</span><span class="keyword">,</span><span class="default">57</span><span class="keyword">):(!</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)?</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">):</span><span class="default">mt_rand<br></span><span class="keyword">(</span><span class="default">97</span><span class="keyword">,</span><span class="default">122</span><span class="keyword">))));<br></span><span class="default">?&gt;<br></span><br>Armond Carroll</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89057">  
  <a class="name">
  <strong class="user"><em>mark omohundro, ajamyajax dot com</em></strong></a><div class="date" title="2009-02-19 09:13"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom89057">
<div class="phpcode"><code><span class="html">
just another example: both of these routines return a random decimal number between -1 and 1... since rand() only returns a max 'integer' value while mt_rand() return a max 'long' value -- at least on some platforms -- mt_rand() could be the better precision choice for some on any variation to this routine (but i don't think it matters here):<br><br><span class="default">&lt;?php<br></span><span class="keyword">echo </span><span class="string">"-1 to 1 rand() value: "</span><span class="keyword">. (</span><span class="default">rand</span><span class="keyword">(</span><span class="default">getrandmax</span><span class="keyword">()*-</span><span class="default">1</span><span class="keyword">,</span><span class="default">getrandmax</span><span class="keyword">())/</span><span class="default">getrandmax</span><span class="keyword">()). </span><span class="string">"\n&lt;br/&gt;"</span><span class="keyword">;<br>echo </span><span class="string">"-1 to 1 mt_rand() value: "</span><span class="keyword">. (</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">mt_getrandmax</span><span class="keyword">()*-</span><span class="default">1</span><span class="keyword">,</span><span class="default">mt_getrandmax</span><span class="keyword">())/</span><span class="default">mt_getrandmax</span><span class="keyword">()). </span><span class="string">"\n"</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="115724">  
  <a class="name">
  <strong class="user"><em>Jeff Cours</em></strong></a><div class="date" title="2014-09-12 10:12"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom115724">
<div class="phpcode"><code><span class="html">
With PHP 5.3.3, we're seeing odd behavior on 32 bit Linux.<br><br>This works fine on 64 bit Linux: <br><span class="default">&lt;?php<br>printf </span><span class="keyword">(</span><span class="string">"%08x\n"</span><span class="keyword">, </span><span class="default">mt_rand </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0xFFFFFFFF</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span>but on our 32 bit Linux development server, it's always yielding "00000000". <br><br>On that same machine, this: <br><span class="default">&lt;?php<br>printf </span><span class="keyword">(</span><span class="string">"%08x\n"</span><span class="keyword">, </span><span class="default">mt_rand </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0xFFFFFFF0</span><span class="keyword">));<br></span><span class="default">?&gt;</span> <br>seems to always yield either 00000000 or a number in the range fffffff2 to ffffffff. This: <br><span class="default">&lt;?php<br>printf </span><span class="keyword">(</span><span class="string">"%08x\n"</span><span class="keyword">, </span><span class="default">mt_rand </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0xFFFFFF00</span><span class="keyword">));<br></span><span class="default">?&gt;</span> <br>gives numbers where the last two digits vary, and so on through at least 0xF0000000. <br><br>However, this: <br><span class="default">&lt;?php<br>printf </span><span class="keyword">(</span><span class="string">"%08x\n"</span><span class="keyword">, </span><span class="default">mt_rand </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">0x7FFFFFFF</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span>seems to be well-behaved.<br><br>The moral? On 32 bit systems, be careful about crossing the signed number boundary, 0x7FFFFFFF.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="74036">  
  <a class="name">
  <strong class="user"><em>chagenbu at php dot net</em></strong></a><div class="date" title="2007-03-21 09:18"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom74036">
<div class="phpcode"><code><span class="html">
The algorithm used by mt_rand() changed in PHP 5.2.1. If you are relying on getting the same sequence from mt_rand() after calling mt_srand() with a known seed, upgrading to PHP 5.2.1 will break your code. See <a rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=40724</a> for something of an explanation; there is no workaround.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="51948">  
  <a class="name">
  <strong class="user"><em>nowhere at where dot net</em></strong></a><div class="date" title="2005-04-16 02:46"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom51948">
<div class="phpcode"><code><span class="html">
Allows characters 0-9, a-z<br>Weighted (and tested) ok.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">generate_string </span><span class="keyword">(</span><span class="default">$length </span><span class="keyword">= </span><span class="default">20</span><span class="keyword">)<br>{<br>&nbsp; &nbsp; </span><span class="default">$nps </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br>&nbsp; &nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$length</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br>&nbsp; &nbsp; {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$nps </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">( (</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">36</span><span class="keyword">) &lt;= </span><span class="default">26</span><span class="keyword">) ? </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">97</span><span class="keyword">, </span><span class="default">122</span><span class="keyword">) : </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">48</span><span class="keyword">, </span><span class="default">57 </span><span class="keyword">));<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; return </span><span class="default">$nps</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="19541">  
  <a class="name">
  <strong class="user"><em>demogracia at metropoliglobal dot com</em></strong></a><div class="date" title="2002-03-02 12:38"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom19541">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php
<br></span><span class="comment">//
<br>// Generates a random string with the specified length
<br>// Chars are chosen from the provided [optional] list
<br>//
<br></span><span class="keyword">function </span><span class="default">simpleRandString</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">=</span><span class="default">16</span><span class="keyword">, </span><span class="default">$list</span><span class="keyword">=</span><span class="string">"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span><span class="keyword">){
<br>&nbsp; &nbsp; </span><span class="default">mt_srand</span><span class="keyword">((double)</span><span class="default">microtime</span><span class="keyword">()*</span><span class="default">1000000</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$newstring</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; if(</span><span class="default">$length</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; while(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$newstring</span><span class="keyword">)&lt;</span><span class="default">$length</span><span class="keyword">){
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newstring</span><span class="keyword">.=</span><span class="default">$list</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$list</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">)];
<br>&nbsp; &nbsp; &nbsp; &nbsp; }
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; return </span><span class="default">$newstring</span><span class="keyword">;
<br>}
<br>
<br></span><span class="comment">//
<br>// Generates a random string with the specified length
<br>// Includes: a-z, A-Z y 0-9
<br>//
<br></span><span class="keyword">function </span><span class="default">randString</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">=</span><span class="default">16</span><span class="keyword">) {
<br>&nbsp;&nbsp; </span><span class="default">$newstring</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;
<br>&nbsp;&nbsp; if(</span><span class="default">$length</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$newstring</span><span class="keyword">)&lt;</span><span class="default">$length</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$randnum </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">61</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$randnum </span><span class="keyword">&lt; </span><span class="default">10</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newstring</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(</span><span class="default">$randnum</span><span class="keyword">+</span><span class="default">48</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } elseif (</span><span class="default">$randnum </span><span class="keyword">&lt; </span><span class="default">36</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newstring</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(</span><span class="default">$randnum</span><span class="keyword">+</span><span class="default">55</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newstring</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(</span><span class="default">$randnum</span><span class="keyword">+</span><span class="default">61</span><span class="keyword">);
<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }
<br>&nbsp; &nbsp; &nbsp;&nbsp; }
<br>&nbsp;&nbsp; }
<br>&nbsp;&nbsp; return </span><span class="default">$newstring</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="101564">  
  <a class="name">
  <strong class="user"><em>Robin Leffmann</em></strong></a><div class="date" title="2010-12-25 06:14"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom101564">
<div class="phpcode"><code><span class="html">
Fast, pseudo-random binary data generation using mt_rand():<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">rnd_bin</span><span class="keyword">( </span><span class="default">$length </span><span class="keyword">)<br>{<br>&nbsp; &nbsp; while( @</span><span class="default">$c</span><span class="keyword">++ * </span><span class="default">16 </span><span class="keyword">&lt; </span><span class="default">$length </span><span class="keyword">)<br>&nbsp; &nbsp; &nbsp; &nbsp; @</span><span class="default">$tmp </span><span class="keyword">.= </span><span class="default">md5</span><span class="keyword">( </span><span class="default">mt_rand</span><span class="keyword">(), </span><span class="default">true </span><span class="keyword">);<br>&nbsp; &nbsp; return </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$tmp</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$length </span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="119430">  
  <a class="name">
  <strong class="user"><em>nospamremove dot francois dot gannaz at silecs dot info</em></strong></a><div class="date" title="2016-06-03 10:49"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom119430">
<div class="phpcode"><code><span class="html">
rand() comes from the libc, and mt_rand() is internal to PHP. So the differences vary with their respective versions.<br><br>On a 64b Debian Stretch with PHP 5.6.21, there is no visible difference: <a rel="nofollow" target="_blank">http://oi64.tinypic.com/2nkqas6.jpg</a><br><br>This image compares the two functions. In the top half with random points, in the lower half with random intensity on each point. This is totally different from what was obtained 4 years ago in another note, with an unknown environment.<br><br>Here is the code for this visual comparison.<br><span class="default">&lt;?php<br>$sizex </span><span class="keyword">= </span><span class="default">400</span><span class="keyword">;<br></span><span class="default">$sizey </span><span class="keyword">= </span><span class="default">400</span><span class="keyword">;<br><br></span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">2 </span><span class="keyword">* </span><span class="default">$sizex</span><span class="keyword">, </span><span class="default">2 </span><span class="keyword">* </span><span class="default">$sizey</span><span class="keyword">);<br></span><span class="default">$white </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">);<br></span><span class="default">$inks </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(<br>&nbsp; &nbsp; function(</span><span class="default">$r</span><span class="keyword">) use(</span><span class="default">$img</span><span class="keyword">) { return </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">); },<br>&nbsp; &nbsp; </span><span class="default">range</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">)<br>);<br>for (</span><span class="default">$x </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">; </span><span class="default">$x </span><span class="keyword">&lt; </span><span class="default">$sizex </span><span class="keyword">; </span><span class="default">$x</span><span class="keyword">++) {<br>&nbsp; &nbsp; for (</span><span class="default">$y </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">; </span><span class="default">$y </span><span class="keyword">&lt; </span><span class="default">$sizey </span><span class="keyword">; </span><span class="default">$y</span><span class="keyword">++) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// placing ($sizex x $sizey) white points at random in the top half<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$sizex </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">), </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$sizey </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">), </span><span class="default">$white</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$sizex </span><span class="keyword">+ </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$sizex </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">), </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$sizey </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">), </span><span class="default">$white</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// random intensity for each point in the lower half<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$sizey </span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$inks</span><span class="keyword">[</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">)]);<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">$sizex </span><span class="keyword">+ </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$sizey </span><span class="keyword">+ </span><span class="default">$y</span><span class="keyword">, </span><span class="default">$inks</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">255</span><span class="keyword">)]);<br>&nbsp; &nbsp; }<br>}<br></span><span class="default">header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="97977">  
  <a class="name">
  <strong class="user"><em>nilesh at itech7 dot com</em></strong></a><div class="date" title="2010-05-19 12:20"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom97977">
<div class="phpcode"><code><span class="html">
A class to generate 99.5% unqiue strings. I found that there is only one or two characters common between two subsequent strings.
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="keyword">class </span><span class="default">Local_RandomString </span><span class="keyword">{
<br>&nbsp; 
<br>&nbsp; protected </span><span class="default">$_length</span><span class="keyword">;
<br>&nbsp; protected </span><span class="default">$_prevRand</span><span class="keyword">;
<br>
<br>&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$length </span><span class="keyword">= </span><span class="default">15</span><span class="keyword">) {
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length </span><span class="keyword">= </span><span class="default">$length</span><span class="keyword">;
<br>
<br>&nbsp; }
<br>
<br>&nbsp; public function </span><span class="default">getRand</span><span class="keyword">() {
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$randStr </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$args</span><span class="keyword">[] = </span><span class="string">'N' </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length</span><span class="keyword">;
<br>
<br>&nbsp; &nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {
<br>&nbsp; &nbsp; &nbsp; </span><span class="default">$args</span><span class="keyword">[] = </span><span class="default">mt_rand</span><span class="keyword">();&nbsp; &nbsp; &nbsp; 
<br>&nbsp; &nbsp; }
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$randStr </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">base64_encode</span><span class="keyword">((</span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'pack'</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">))), </span><span class="default">1</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length</span><span class="keyword">);
<br>&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_prevRand </span><span class="keyword">= </span><span class="default">$randStr</span><span class="keyword">;
<br>&nbsp; &nbsp; return </span><span class="default">$randStr</span><span class="keyword">;
<br>
<br>&nbsp; }
<br>
<br>&nbsp; public function </span><span class="default">setLength</span><span class="keyword">(</span><span class="default">$l</span><span class="keyword">) {
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length </span><span class="keyword">= (int) </span><span class="default">$l</span><span class="keyword">;
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">) {
<br>&nbsp; &nbsp; &nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Invalid random string length'</span><span class="keyword">);
<br>&nbsp; &nbsp; }
<br>
<br>&nbsp; }
<br>
<br>&nbsp; public function </span><span class="default">getPrevRand</span><span class="keyword">() {
<br>&nbsp; &nbsp; 
<br>&nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_prevRand</span><span class="keyword">;
<br>
<br>&nbsp; }
<br>
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105639">  
  <a class="name">
  <strong class="user"><em>j dot s dot shiuan at gmail dot com</em></strong></a><div class="date" title="2011-09-02 11:12"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom105639">
<div class="phpcode"><code><span class="html">
Another good way to get a random float is to divide the result of mt_rand.<br>Let's say we want a float between 0.75 and 1.25.<br><br><span class="default">&lt;?php<br><br>$i </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">75</span><span class="keyword">,</span><span class="default">125</span><span class="keyword">) / </span><span class="default">100</span><span class="keyword">;<br><br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75793">  
  <a class="name">
  <strong class="user"><em>rok dot kralj at gmail dot com</em></strong></a><div class="date" title="2007-06-16 12:42"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom75793">
<div class="phpcode"><code><span class="html">
mt_rand function returns just a whole numbers. If you want a random float, then here's an elegant way:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">random_float </span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">) {<br>&nbsp;&nbsp; return (</span><span class="default">$min</span><span class="keyword">+</span><span class="default">lcg_value</span><span class="keyword">()*(</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$max</span><span class="keyword">-</span><span class="default">$min</span><span class="keyword">)));<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="79141">  
  <a class="name">
  <strong class="user"><em>fabiovh on gmail</em></strong></a><div class="date" title="2007-11-13 06:42"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom79141">
<div class="phpcode"><code><span class="html">
performance: for a repetitive task, it's much faster not to use the limit parameters, as shown below. just use the % operator.<br><br>$t=microtime(true);<br>for($i=0;$i&lt;1000000;$i++)<br> mt_rand()%3;<br>echo microtime(true)-$t;<br><br>echo '|';<br><br>$t=microtime(true);<br>for($i=0;$i&lt;1000000;$i++)<br> mt_rand(0,2);<br>echo microtime(true)-$t;<br><br>echo '|';<br><br>$t=microtime(true);<br>for($i=0;$i&lt;1000000;$i++)<br> mt_rand();<br>echo microtime(true)-$t;<br><br>output: 0.316797971725|0.442242145538|0.253082036972</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->

  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from www.php.net/manual/en/function.mt-rand.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:45:44 GMT -->

</body></html>