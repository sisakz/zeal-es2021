<html><!-- Mirrored from www.php.net/manual/en/control-structures.match.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 02:30:48 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>match</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="control-structures.match.html">
 <link rel="shorturl" href="https://www.php.net/match">
 <link rel="alternate" href="https://www.php.net/match" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="language.control-structures.html">
 <link rel="prev" href="control-structures.switch.html">
 <link rel="next" href="control-structures.declare.html">

 <link rel="alternate" href="control-structures.match.html" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/control-structures.match.php" hreflang="pt_BR">
 <link rel="alternate" href="https://www.php.net/manual/zh/control-structures.match.php" hreflang="zh">
 <link rel="alternate" href="https://www.php.net/manual/fr/control-structures.match.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/de/control-structures.match.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/ja/control-structures.match.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/ro/control-structures.match.php" hreflang="ro">
 <link rel="alternate" href="https://www.php.net/manual/ru/control-structures.match.php" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/es/control-structures.match.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/tr/control-structures.match.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached0aba.css?t=1539771603&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached2ecf.css?t=1539765004&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedba57.css?t=1606338002&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached3afa.css?t=1627831203&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script>
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script src="https://www.php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>


</head>
<body class="docs " style="">


<div class="headsup"><a href="https://www.php.net/conferences/index.php#id2021-09-08-1">Longhorn PHP 2021</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.errors.html">Errors</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.attributes.html">Attributes</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.sessions.html">Session Security</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
	<dd><a href="refs.ui.html">GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
    <div id="breadcrumbs-inner">
          
              
          <ul>
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="langref.html">Language Reference</a></li>      <li><a href="language.control-structures.html">Control Structures</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div id="control-structures.match" class="sect1">
 <h2 class="title">match</h2>
 <p class="verinfo">(PHP 8)</p>
 <p class="para">
  The <code class="literal">match</code> expression branches evaluation based on an
  identity check of a value.
  Similarly to a <code class="literal">switch</code> statement, a
  <code class="literal">match</code> expression has a subject expression that is
  compared against multiple alternatives. Unlike <code class="literal">switch</code>,
  it will evaluate to a value much like ternary expressions.
  Unlike <code class="literal">switch</code>, the comparison is an identity check
  (<code class="code">===</code>) rather than a weak equality check (<code class="code">==</code>).
  Match expressions are available as of PHP 8.0.0.
 </p>

 <div class="example" id="example-118">
  <p><strong>Example #1 Structure of a <code class="literal">match</code> expression</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$return_value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">match&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">subject_expression</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">single_conditional_expression&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">return_expression</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">conditional_expression1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">conditional_expression2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">return_expression</span><span style="color: #007700">,<br>};<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>


  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    The result of a <code class="literal">match</code> expression does not need to be used.
   </span>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    A <code class="literal">match</code> expression <em class="emphasis">must</em> be
    terminated by a semicolon <code class="literal">;</code>.
   </span>
  </p></blockquote>
 </div>

 <p class="para">
  The <code class="literal">match</code> expression is similar to a
  <code class="literal">switch</code> statement but has some key differences:
  
  </p><ul class="itemizedlist">
   <li class="listitem">
    <span class="simpara">
     A <code class="literal">match</code> arm compares values strictly (<code class="code">===</code>) instead
     of loosely as the switch statement does.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     A <code class="literal">match</code> expression returns a value.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     <code class="literal">match</code> arms do not fall-through to later cases the way
     <code class="literal">switch</code> statements do.
    </span>
   </li>
   <li class="listitem">
    <span class="simpara">
     A <code class="literal">match</code> expression must be exhaustive.
    </span>
   </li>
  </ul>
 <p></p>

 <p class="para">
  As <code class="literal">switch</code> statements, <code class="literal">match</code>
  expressions are executed match arm by match arm.
  In the beginning, no code is executed.
  The conditional expressions are only evaluated if all previous conditional
  expressions failed to match the subject expression.
  Only the return expression corresponding to the matching conditional
  expression will be evaluated.
  For example:
  </p><div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">match&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;=&gt;&nbsp;...,<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()&nbsp;=&gt;&nbsp;...,&nbsp;</span><span style="color: #FF8000">//&nbsp;$this-&gt;bar()&nbsp;isn't&nbsp;called&nbsp;if&nbsp;foo()&nbsp;===&nbsp;$x<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">baz&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">beep</span><span style="color: #007700">(),&nbsp;</span><span style="color: #FF8000">//&nbsp;beep()&nbsp;isn't&nbsp;called&nbsp;unless&nbsp;$x&nbsp;===&nbsp;$this-&gt;baz<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;etc.<br></span><span style="color: #007700">};<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 <p></p>

 <p class="para">
  <code class="literal">match</code> expression arms may contain multiple expressions
  separated by a comma.  That is a logical OR, and is a short-hand for multiple
  match arms with the same right-hand side.
 </p>
 <p class="para">
  </p><div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">match&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;This&nbsp;match&nbsp;arm:<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Is&nbsp;equivalent&nbsp;to&nbsp;these&nbsp;three&nbsp;match&nbsp;arms:<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">,<br>};<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 <p></p>
 <p class="para">
  A special case is the <code class="literal">default</code> pattern.
  This pattern matches anything that wasn't previously matched.
  For example:
  </p><div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$expressionResult&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">match&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(),<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(),<br>&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">baz</span><span style="color: #007700">(),<br>};<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <span class="simpara">
    Multiple default patterns will raise a
    <strong><code>E_FATAL_ERROR</code></strong> error.
   </span>
  </p></blockquote>
 <p></p>

 <p class="para">
  A <code class="literal">match</code> expression must be exhaustive.  If the
  subject expression is not handled by any match arm an
  <span class="classname"><a href="class.unhandledmatcherror.html" class="classname">UnhandledMatchError</a></span> is thrown.
 </p>

 <div class="example" id="example-119">
  <p><strong>Example #2 Example of an unhandled match expression</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br>$condition&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br><br>try&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">match&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">$condition</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">4&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">(),<br>&nbsp;&nbsp;&nbsp;&nbsp;};<br>}&nbsp;catch&nbsp;(\</span><span style="color: #0000BB">UnhandledMatchError&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$e</span><span style="color: #007700">);<br>}<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>The above example will output:</p></div>
  <div class="example-contents screen">
<div class="cdata"><pre>object(UnhandledMatchError)#1 (7) {
  ["message":protected]=&gt;
  string(33) "Unhandled match value of type int"
  ["string":"Error":private]=&gt;
  string(0) ""
  ["code":protected]=&gt;
  int(0)
  ["file":protected]=&gt;
  string(9) "/in/ICgGK"
  ["line":protected]=&gt;
  int(6)
  ["trace":"Error":private]=&gt;
  array(0) {
  }
  ["previous":"Error":private]=&gt;
  NULL
}
</pre></div>
  </div>
 </div>

 <div class="sect2">
  <h3 class="title">Using match expressions to handle non identity checks</h3>
  <p class="para">
   It is possible to use a <code class="literal">match</code> expression to handle
   non-identity conditional cases by using <code class="code">true</code> as the subject
   expression.
  </p>

  <div class="example" id="example-120">
   <p><strong>Example #3 Using a generalized match expressions to branch on integer ranges</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br>$age&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">23</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">match&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$age&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">65&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'senior'</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$age&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">25&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'adult'</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$age&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">18&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'young&nbsp;adult'</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;default&nbsp;=&gt;&nbsp;</span><span style="color: #DD0000">'kid'</span><span style="color: #007700">,<br>};<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>The above example will output:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>string(11) "young adult"
</pre></div>
   </div>
  </div>

  <div class="example" id="example-121">
   <p><strong>Example #4 Using a generalized match expressions to branch on string content</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br><br>$text&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Bienvenue&nbsp;chez&nbsp;nous'</span><span style="color: #007700">;<br><br></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">match&nbsp;</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">str_contains</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Welcome'</span><span style="color: #007700">)&nbsp;||&nbsp;</span><span style="color: #0000BB">str_contains</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Hello'</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #DD0000">'en'</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">str_contains</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Bienvenue'</span><span style="color: #007700">)&nbsp;||&nbsp;</span><span style="color: #0000BB">str_contains</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Bonjour'</span><span style="color: #007700">)&nbsp;=&gt;&nbsp;</span><span style="color: #DD0000">'fr'</span><span style="color: #007700">,<br>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br></span><span style="color: #007700">};<br><br></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>The above example will output:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>string(2) "fr"
</pre></div>
   </div>
  </div>
 </div>
</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="125580">  
  <a class="name">
  <strong class="user"><em>Hayley Watson</em></strong></a><div class="date" title="2020-12-09 12:50"><strong>9 months ago</strong></div>
  <div class="text" id="Hcom125580">
<div class="phpcode"><code><span class="html">
As well as being similar to a switch, match expressions can be thought of as enhanced lookup tables — for when a simple array lookup isn't enough without extra handling of edge cases, but a full switch statement would be overweight.<br><br>For a familiar example, the following<br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">days_in_month</span><span class="keyword">(</span><span class="default">string $month</span><span class="keyword">): </span><span class="default">int<br></span><span class="keyword">{<br>&nbsp; &nbsp; static </span><span class="default">$lookup </span><span class="keyword">= [<br>&nbsp; &nbsp; </span><span class="string">'jan' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'feb' </span><span class="keyword">=&gt; </span><span class="default">0</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'mar' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'apr' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'may' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'jun' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'jul' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'aug' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'sep' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'oct' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'nov' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; </span><span class="string">'dec' </span><span class="keyword">=&gt; </span><span class="default">31<br>&nbsp; &nbsp; </span><span class="keyword">];<br><br>&nbsp; &nbsp; </span><span class="default">$name </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">));<br><br>&nbsp; &nbsp; if(isset(</span><span class="default">$lookup</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">])) {<br>&nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$name </span><span class="keyword">== </span><span class="string">'feb'</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">is_leap</span><span class="keyword">(</span><span class="default">$year</span><span class="keyword">) ? </span><span class="default">29 </span><span class="keyword">: </span><span class="default">28</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$lookup</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; throw new </span><span class="default">InvalidArgumentException</span><span class="keyword">(</span><span class="string">"Bogus month"</span><span class="keyword">);<br>}<br><br></span><span class="default">?&gt;<br></span><br>with the fiddly stuff at the end, can be replaced by<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">days_in_month</span><span class="keyword">(</span><span class="default">string $month</span><span class="keyword">): </span><span class="default">int<br></span><span class="keyword">{<br>&nbsp; &nbsp; return </span><span class="default">match</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">))) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'jan' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'feb' </span><span class="keyword">=&gt; </span><span class="default">is_leap</span><span class="keyword">(</span><span class="default">$year</span><span class="keyword">) ? </span><span class="default">29 </span><span class="keyword">: </span><span class="default">28</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'mar' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'apr' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'may' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'jun' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'jul' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'aug' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'sep' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'oct' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'nov' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'dec' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; default =&gt; throw new </span><span class="default">InvalidArgumentException</span><span class="keyword">(</span><span class="string">"Bogus month"</span><span class="keyword">),<br>&nbsp; &nbsp; };<br>}<br></span><span class="default">?&gt;<br></span><br>Which also takes advantage of "throw" being handled as of PHP 8.0 as an expression instead of a statement.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="125987">  
  <a class="name">
  <strong class="user"><em>darius dot restivan at gmail dot com</em></strong></a><div class="date" title="2021-04-05 09:43"><strong>5 months ago</strong></div>
  <div class="text" id="Hcom125987">
<div class="phpcode"><code><span class="html">
This will allow for a nicer FizzBuzz solution:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">fizzbuzz</span><span class="keyword">(</span><span class="default">$num</span><span class="keyword">) {<br>&nbsp; &nbsp; print </span><span class="default">match </span><span class="keyword">(</span><span class="default">0</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$num </span><span class="keyword">% </span><span class="default">15 </span><span class="keyword">=&gt; </span><span class="string">"FizzBuzz" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$num </span><span class="keyword">% </span><span class="default">3&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"Fizz" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$num </span><span class="keyword">% </span><span class="default">5&nbsp; </span><span class="keyword">=&gt; </span><span class="string">"Buzz" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; default&nbsp;&nbsp; =&gt; </span><span class="default">$num </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">,<br>&nbsp; &nbsp; };<br>}<br><br>for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;=</span><span class="default">100</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br>{<br>&nbsp; &nbsp; </span><span class="default">fizzbuzz</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br>}</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="125891">  
  <a class="name">
  <strong class="user"><em>webmaster at warkensoft dot com</em></strong></a><div class="date" title="2021-03-08 04:39"><strong>6 months ago</strong></div>
  <div class="text" id="Hcom125891">
<div class="phpcode"><code><span class="html">
In the "familiar example" presented by Hayley Watson the following code is incorrect:<br><br>strtolower(substr($name, 0, 3))<br><br>It should instead be written in both instances as:<br><br>strtolower(substr($month, 0, 3))</span>
</code></div>
  </div>
 </div>
  <div class="note" id="125962">  
  <a class="name">
  <strong class="user"><em>lewiscowles at me dot com</em></strong></a><div class="date" title="2021-03-26 03:55"><strong>5 months ago</strong></div>
  <div class="text" id="Hcom125962">
<div class="phpcode"><code><span class="html">
The comment correcting Hayley's example misses that year is also present in the example, but not a function argument.<br><br>Most code from PHP.net should not be copied without user care. It was nonetheless, a great example of using short syntax to reduce complexity.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="126392">  
  <a class="name">
  <strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2021-09-06 10:37"><strong>4 days ago</strong></div>
  <div class="text" id="Hcom126392">
<div class="phpcode"><code><span class="html">
<span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">days_in_month</span><span class="keyword">(</span><span class="default">string $month</span><span class="keyword">): </span><span class="default">int<br></span><span class="keyword">{<br>&nbsp; &nbsp; return </span><span class="default">match</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">))) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'jan' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'feb' </span><span class="keyword">=&gt; </span><span class="default">is_leap</span><span class="keyword">(</span><span class="default">$year</span><span class="keyword">) ? </span><span class="default">29 </span><span class="keyword">: </span><span class="default">28</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'mar' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'apr' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'may' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'jun' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'jul' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'aug' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'sep' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'oct' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'nov' </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'dec' </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; default =&gt; throw new </span><span class="default">InvalidArgumentException</span><span class="keyword">(</span><span class="string">"Bogus month"</span><span class="keyword">),<br>&nbsp; &nbsp; };<br>}<br></span><span class="default">?&gt;<br></span><br>can be more concisely written as<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">days_in_month</span><span class="keyword">(</span><span class="default">string $month</span><span class="keyword">): </span><span class="default">int<br></span><span class="keyword">{<br>&nbsp; &nbsp; return </span><span class="default">match</span><span class="keyword">(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">))) {<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'apr'</span><span class="keyword">, </span><span class="string">'jun'</span><span class="keyword">, </span><span class="string">'sep'</span><span class="keyword">,&nbsp; </span><span class="string">'nov'&nbsp; </span><span class="keyword">=&gt; </span><span class="default">30</span><span class="keyword">,&nbsp; &nbsp; &nbsp; &nbsp; <br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'jan'</span><span class="keyword">, </span><span class="string">'mar'</span><span class="keyword">, </span><span class="string">'may'</span><span class="keyword">, </span><span class="string">'jul'</span><span class="keyword">, </span><span class="string">'aug'</span><span class="keyword">,&nbsp; </span><span class="string">'oct'</span><span class="keyword">, </span><span class="string">'dec'&nbsp; </span><span class="keyword">=&gt; </span><span class="default">31</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'feb' </span><span class="keyword">=&gt; </span><span class="default">is_leap</span><span class="keyword">(</span><span class="default">$year</span><span class="keyword">) ? </span><span class="default">29 </span><span class="keyword">: </span><span class="default">28</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; default =&gt; throw new </span><span class="default">InvalidArgumentException</span><span class="keyword">(</span><span class="string">"Bogus month"</span><span class="keyword">),<br>&nbsp; &nbsp; };<br>}<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->

  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from www.php.net/manual/en/control-structures.match.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 02:30:48 GMT -->

</body></html>