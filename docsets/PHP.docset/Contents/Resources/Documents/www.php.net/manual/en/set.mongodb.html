<html><!-- Mirrored from www.php.net/manual/en/set.mongodb.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 05:13:21 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>MongoDB</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="set.mongodb.html">
 <link rel="shorturl" href="set.mongodb.html">
 <link rel="alternate" href="set.mongodb.html" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="refs.database.vendors.html">
 <link rel="prev" href="function.db2-tables.html">
 <link rel="next" href="mongodb.setup.html">

 <link rel="alternate" href="set.mongodb.html" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/set.mongodb.php" hreflang="pt_BR">
 <link rel="alternate" href="https://www.php.net/manual/zh/set.mongodb.php" hreflang="zh">
 <link rel="alternate" href="https://www.php.net/manual/fr/set.mongodb.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/de/set.mongodb.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/ja/set.mongodb.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/ro/set.mongodb.php" hreflang="ro">
 <link rel="alternate" href="https://www.php.net/manual/ru/set.mongodb.php" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/es/set.mongodb.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/tr/set.mongodb.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached0aba.css?t=1539771603&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached2ecf.css?t=1539765004&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedba57.css?t=1606338002&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached3afa.css?t=1627831203&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script>
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script src="https://www.php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>


</head>
<body class="docs " style="">


<div class="headsup"><a href="https://www.php.net/conferences/index.php#id2021-09-08-1">Longhorn PHP 2021</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.errors.html">Errors</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.attributes.html">Attributes</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.sessions.html">Session Security</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
	<dd><a href="refs.ui.html">GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
    <div id="breadcrumbs-inner">
          
              
          <ul>
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.database.html">Database Extensions</a></li>      <li><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div id="set.mongodb" class="set">
 <h1 class="title">MongoDB driver</h1>
 

 <div class="info">
  <div class="abstract">
   <p class="simpara">
    This extension is developed atop the
    <a href="https://github.com/mongodb/mongo-c-driver" class="link external">»&nbsp;libmongoc</a> and
    <a href="https://github.com/mongodb/libbson" class="link external">»&nbsp;libbson</a> libraries.
    It provides a minimal API for core driver functionality:
    <a href="class.mongodb-driver-command.html" class="link">commands</a>,
    <a href="class.mongodb-driver-query.html" class="link">queries</a>,
    <a href="class.mongodb-driver-bulkwrite.html" class="link">writes</a>,
    <a href="class.mongodb-driver-manager.html" class="link">connection management</a>,
    and <a href="book.bson.html" class="link">BSON serialization</a>.
   </p>
   <p class="simpara">
    Userland PHP libraries that depend on this extension may provide higher
    level APIs, such as query builders, individual command helper methods, and
    GridFS. Application developers should consider using this extension in
    conjunction with the
    <a href="https://github.com/mongodb/mongo-php-library" class="link external">»&nbsp;MongoDB PHP library</a>, which
    implements the same higher level APIs found in MongoDB drivers for other
    languages. This separation of concerns allows the driver to focus on
    essential features for which an extension implementation is paramount for
    performance.
   </p>
  </div>
 </div>

  






  


 




  






  








  


 


  


 


  


 


  


 

<ul class="chunklist chunklist_set"><li><a href="mongodb.setup.html">Installing/Configuring</a><ul class="chunklist chunklist_set chunklist_children"><li><a href="mongodb.requirements.html">Requirements</a></li><li><a href="mongodb.installation.html">Installation</a></li><li><a href="mongodb.configuration.html">Runtime Configuration</a></li><li><a href="mongodb.constants.html">Predefined Constants</a></li></ul></li><li><a href="mongodb.tutorial.html">Tutorials</a><ul class="chunklist chunklist_set chunklist_children"><li><a href="mongodb.tutorial.library.html">Using the PHP Library for MongoDB (PHPLIB)</a></li><li><a href="mongodb.tutorial.apm.html">Application Performance Monitoring (APM)</a></li></ul></li><li><a href="mongodb.architecture.html">Driver Architecture and Internals</a> — Explains the driver architecture, and special features<ul class="chunklist chunklist_set chunklist_children"><li><a href="mongodb.overview.html">Architecture</a> — Architecture Overview</li><li><a href="mongodb.connection-handling.html">Connections</a> — Connection handling and persistence</li><li><a href="mongodb.persistence.html">Persisting Data</a> — Serialization and deserialization of PHP variables into MongoDB</li></ul></li><li><a href="mongodb.security.html">Security</a><ul class="chunklist chunklist_set chunklist_children"><li><a href="mongodb.security.request_injection.html">Request Injection Attacks</a></li><li><a href="mongodb.security.script_injection.html">Script Injection Attacks</a></li></ul></li><li><a href="book.mongodb.html">MongoDB\Driver</a> — MongoDB driver classes<ul class="chunklist chunklist_set chunklist_children"><li><a href="class.mongodb-driver-manager.html">MongoDB\Driver\Manager</a> — The MongoDB\Driver\Manager class</li><li><a href="class.mongodb-driver-command.html">MongoDB\Driver\Command</a> — The MongoDB\Driver\Command class</li><li><a href="class.mongodb-driver-query.html">MongoDB\Driver\Query</a> — The MongoDB\Driver\Query class</li><li><a href="class.mongodb-driver-bulkwrite.html">MongoDB\Driver\BulkWrite</a> — The MongoDB\Driver\BulkWrite class</li><li><a href="class.mongodb-driver-session.html">MongoDB\Driver\Session</a> — The MongoDB\Driver\Session class</li><li><a href="class.mongodb-driver-clientencryption.html">MongoDB\Driver\ClientEncryption</a> — The MongoDB\Driver\ClientEncryption class</li><li><a href="class.mongodb-driver-serverapi.html">MongoDB\Driver\ServerApi</a> — The MongoDB\Driver\ServerApi class</li><li><a href="class.mongodb-driver-writeconcern.html">MongoDB\Driver\WriteConcern</a> — The MongoDB\Driver\WriteConcern class</li><li><a href="class.mongodb-driver-readpreference.html">MongoDB\Driver\ReadPreference</a> — The MongoDB\Driver\ReadPreference class</li><li><a href="class.mongodb-driver-readconcern.html">MongoDB\Driver\ReadConcern</a> — The MongoDB\Driver\ReadConcern class</li><li><a href="class.mongodb-driver-cursor.html">MongoDB\Driver\Cursor</a> — The MongoDB\Driver\Cursor class</li><li><a href="class.mongodb-driver-cursorid.html">MongoDB\Driver\CursorId</a> — The MongoDB\Driver\CursorId class</li><li><a href="class.mongodb-driver-cursorinterface.html">MongoDB\Driver\CursorInterface</a> — The MongoDB\Driver\CursorInterface interface</li><li><a href="class.mongodb-driver-server.html">MongoDB\Driver\Server</a> — The MongoDB\Driver\Server class</li><li><a href="class.mongodb-driver-writeconcernerror.html">MongoDB\Driver\WriteConcernError</a> — The MongoDB\Driver\WriteConcernError class</li><li><a href="class.mongodb-driver-writeerror.html">MongoDB\Driver\WriteError</a> — The MongoDB\Driver\WriteError class</li><li><a href="class.mongodb-driver-writeresult.html">MongoDB\Driver\WriteResult</a> — The MongoDB\Driver\WriteResult class</li></ul></li><li><a href="book.bson.html">MongoDB\BSON</a> — BSON type classes and serialization functions<ul class="chunklist chunklist_set chunklist_children"><li><a href="ref.bson.functions.html">Functions</a></li><li><a href="class.mongodb-bson-binary.html">MongoDB\BSON\Binary</a> — The MongoDB\BSON\Binary class</li><li><a href="class.mongodb-bson-decimal128.html">MongoDB\BSON\Decimal128</a> — The MongoDB\BSON\Decimal128 class</li><li><a href="class.mongodb-bson-javascript.html">MongoDB\BSON\Javascript</a> — The MongoDB\BSON\Javascript class</li><li><a href="class.mongodb-bson-maxkey.html">MongoDB\BSON\MaxKey</a> — The MongoDB\BSON\MaxKey class</li><li><a href="class.mongodb-bson-minkey.html">MongoDB\BSON\MinKey</a> — The MongoDB\BSON\MinKey class</li><li><a href="class.mongodb-bson-objectid.html">MongoDB\BSON\ObjectId</a> — The MongoDB\BSON\ObjectId class</li><li><a href="class.mongodb-bson-regex.html">MongoDB\BSON\Regex</a> — The MongoDB\BSON\Regex class</li><li><a href="class.mongodb-bson-timestamp.html">MongoDB\BSON\Timestamp</a> — The MongoDB\BSON\Timestamp class</li><li><a href="class.mongodb-bson-utcdatetime.html">MongoDB\BSON\UTCDateTime</a> — The MongoDB\BSON\UTCDateTime class</li><li><a href="class.mongodb-bson-type.html">MongoDB\BSON\Type</a> — The MongoDB\BSON\Type interface</li><li><a href="class.mongodb-bson-persistable.html">MongoDB\BSON\Persistable</a> — The MongoDB\BSON\Persistable interface</li><li><a href="class.mongodb-bson-serializable.html">MongoDB\BSON\Serializable</a> — The MongoDB\BSON\Serializable interface</li><li><a href="class.mongodb-bson-unserializable.html">MongoDB\BSON\Unserializable</a> — The MongoDB\BSON\Unserializable interface</li><li><a href="class.mongodb-bson-binaryinterface.html">MongoDB\BSON\BinaryInterface</a> — The MongoDB\BSON\BinaryInterface interface</li><li><a href="class.mongodb-bson-decimal128interface.html">MongoDB\BSON\Decimal128Interface</a> — The MongoDB\BSON\Decimal128Interface interface</li><li><a href="class.mongodb-bson-javascriptinterface.html">MongoDB\BSON\JavascriptInterface</a> — The MongoDB\BSON\JavascriptInterface interface</li><li><a href="class.mongodb-bson-maxkeyinterface.html">MongoDB\BSON\MaxKeyInterface</a> — The MongoDB\BSON\MaxKeyInterface interface</li><li><a href="class.mongodb-bson-minkeyinterface.html">MongoDB\BSON\MinKeyInterface</a> — The MongoDB\BSON\MinKeyInterface interface</li><li><a href="class.mongodb-bson-objectidinterface.html">MongoDB\BSON\ObjectIdInterface</a> — The MongoDB\BSON\ObjectIdInterface interface</li><li><a href="class.mongodb-bson-regexinterface.html">MongoDB\BSON\RegexInterface</a> — The MongoDB\BSON\RegexInterface interface</li><li><a href="class.mongodb-bson-timestampinterface.html">MongoDB\BSON\TimestampInterface</a> — The MongoDB\BSON\TimestampInterface interface</li><li><a href="class.mongodb-bson-utcdatetimeinterface.html">MongoDB\BSON\UTCDateTimeInterface</a> — The MongoDB\BSON\UTCDateTimeInterface interface</li><li><a href="class.mongodb-bson-dbpointer.html">MongoDB\BSON\DBPointer</a> — The MongoDB\BSON\DBPointer class (deprecated)</li><li><a href="class.mongodb-bson-int64.html">MongoDB\BSON\Int64</a> — The MongoDB\BSON\Int64 class</li><li><a href="class.mongodb-bson-symbol.html">MongoDB\BSON\Symbol</a> — The MongoDB\BSON\Symbol class (deprecated)</li><li><a href="class.mongodb-bson-undefined.html">MongoDB\BSON\Undefined</a> — The MongoDB\BSON\Undefined class (deprecated)</li></ul></li><li><a href="mongodb.monitoring.html">MongoDB\Driver\Monitoring</a> — Monitoring classes and subscriber functions<ul class="chunklist chunklist_set chunklist_children"><li><a href="ref.monitoring.functions.html">Functions</a></li><li><a href="class.mongodb-driver-monitoring-commandfailedevent.html">MongoDB\Driver\Monitoring\CommandFailedEvent</a> — The MongoDB\Driver\Monitoring\CommandFailedEvent class</li><li><a href="class.mongodb-driver-monitoring-commandstartedevent.html">MongoDB\Driver\Monitoring\CommandStartedEvent</a> — The MongoDB\Driver\Monitoring\CommandStartedEvent class</li><li><a href="class.mongodb-driver-monitoring-commandsucceededevent.html">MongoDB\Driver\Monitoring\CommandSucceededEvent</a> — The MongoDB\Driver\Monitoring\CommandSucceededEvent class</li><li><a href="class.mongodb-driver-monitoring-commandsubscriber.html">MongoDB\Driver\Monitoring\CommandSubscriber</a> — The MongoDB\Driver\Monitoring\CommandSubscriber interface</li><li><a href="class.mongodb-driver-monitoring-subscriber.html">MongoDB\Driver\Monitoring\Subscriber</a> — The MongoDB\Driver\Monitoring\Subscriber interface</li></ul></li><li><a href="mongodb.exceptions.html">MongoDB\Driver\Exception</a> — Exception classes<ul class="chunklist chunklist_set chunklist_children"><li><a href="class.mongodb-driver-exception-authenticationexception.html">MongoDB\Driver\Exception\AuthenticationException</a> — The MongoDB\Driver\Exception\AuthenticationException class</li><li><a href="class.mongodb-driver-exception-bulkwriteexception.html">MongoDB\Driver\Exception\BulkWriteException</a> — The MongoDB\Driver\Exception\BulkWriteException class</li><li><a href="class.mongodb-driver-exception-commandexception.html">MongoDB\Driver\Exception\CommandException</a> — The MongoDB\Driver\Exception\CommandException class</li><li><a href="class.mongodb-driver-exception-connectionexception.html">MongoDB\Driver\Exception\ConnectionException</a> — The MongoDB\Driver\Exception\ConnectionException class</li><li><a href="class.mongodb-driver-exception-connectiontimeoutexception.html">MongoDB\Driver\Exception\ConnectionTimeoutException</a> — The MongoDB\Driver\Exception\ConnectionTimeoutException class</li><li><a href="class.mongodb-driver-exception-encryptionexception.html">MongoDB\Driver\Exception\EncryptionException</a> — The MongoDB\Driver\Exception\EncryptionException class</li><li><a href="class.mongodb-driver-exception-exception.html">MongoDB\Driver\Exception\Exception</a> — The MongoDB\Driver\Exception\Exception interface</li><li><a href="class.mongodb-driver-exception-executiontimeoutexception.html">MongoDB\Driver\Exception\ExecutionTimeoutException</a> — The MongoDB\Driver\Exception\ExecutionTimeoutException class</li><li><a href="class.mongodb-driver-exception-invalidargumentexception.html">MongoDB\Driver\Exception\InvalidArgumentException</a> — The MongoDB\Driver\Exception\InvalidArgumentException class</li><li><a href="class.mongodb-driver-exception-logicexception.html">MongoDB\Driver\Exception\LogicException</a> — The MongoDB\Driver\Exception\LogicException class</li><li><a href="class.mongodb-driver-exception-runtimeexception.html">MongoDB\Driver\Exception\RuntimeException</a> — The MongoDB\Driver\Exception\RuntimeException class</li><li><a href="class.mongodb-driver-exception-serverexception.html">MongoDB\Driver\Exception\ServerException</a> — The MongoDB\Driver\Exception\ServerException class</li><li><a href="class.mongodb-driver-exception-sslconnectionexception.html">MongoDB\Driver\Exception\SSLConnectionException</a> — The MongoDB\Driver\Exception\SSLConnectionException class (deprecated)</li><li><a href="class.mongodb-driver-exception-unexpectedvalueexception.html">MongoDB\Driver\Exception\UnexpectedValueException</a> — The MongoDB\Driver\Exception\UnexpectedValueException class</li><li><a href="class.mongodb-driver-exception-writeexception.html">MongoDB\Driver\Exception\WriteException</a> — The MongoDB\Driver\Exception\WriteException class</li><li><a href="mongodb.exceptions.tree.html">Class Tree</a> — MongoDB Exception Class Tree</li></ul></li></ul></div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="120256">  
  <a class="name">
  <strong class="user"><em>n dot vandermeij at mycademy dot com</em></strong></a><div class="date" title="2016-12-01 04:02"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom120256">
<div class="phpcode"><code><span class="html">
*** ONLY FOR VERSIONS &gt;= 1.2.0 ***<br><br>If you encounter the following error:<br><br>"PHP Warning:&nbsp; PHP Startup: Unable to load dynamic library '/usr/lib64/php/modules/mongodb.so'<br> - /usr/lib64/php/modules/mongodb.so: undefined symbol: php_json_serializable_ce in Unknown on line 0"<br><br>For a detailed explanation, please visit: <br><br><a rel="nofollow" target="_blank">https://derickrethans.nl/undefined-symbol.html</a><br><br>TLDR: You need to load the mongodb.so extension after the json.so<br>extension<br><br>Special thanks to Derick Rethans for pointing this out!</span>
</code></div>
  </div>
 </div>
  <div class="note" id="121184">  
  <a class="name">
  <strong class="user"><em>mike at eastghost dot com</em></strong></a><div class="date" title="2017-06-04 05:11"><strong>4 years ago</strong></div>
  <div class="text" id="Hcom121184">
<div class="phpcode"><code><span class="html">
There is an adapter - so old MongoClient / MongoDB code will run on the new PHP7/Mongo mess<br><br><a rel="nofollow" target="_blank">https://github.com/alcaeus/mongo-php-adapter</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="122190">  
  <a class="name">
  <strong class="user"><em>mike at eastghost dot com</em></strong></a><div class="date" title="2017-12-27 06:10"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom122190">
<div class="phpcode"><code><span class="html">
PHP 'USERLAND' / HIGHER-LEVEL DRIVER IS HERE --&nbsp; [url]<a rel="nofollow" target="_blank">https://github.com/mongodb/mongo-php-driver[/url]</a><br><br>In new driver, these fail:<br><br>(A) $count = $collection-&gt;find( $criteria )-&gt;count();<br><br>(B1) $cursor = $collection-&gt;find( $criteria );<br>(B2) $count = $cursor-&gt;count();<br><br>In new driver, result counting has become its own separate action, to be applied to the collection, not the cursor:<br><br>$count = $collection-&gt;count( $criteria );<br>$cursor = $collection-&gt;find( $criteria );<br><br>From jmikola 6 Jan 2016 ([url]<a rel="nofollow" target="_blank">https://github.com/mongodb/mongo-php-driver/issues/195</a> here[/url]):<br><br>"In the new driver, a Cursor object now represents the actual results of an executed command or query, whereas cursors in the legacy driver had a dual-nature (pre- or post-executed). The legacy MongoCursor::count() method actually invoked a count command with the same criteria; however, this meant it was entirely possible for the count command's calculation to differ from the actual query results, since they were not necessarily operating on the same result data.<br><br>"The userland library implements a count() method on the collection, which also takes filter criteria, and we'd rather encourage that so users understand that the operations are separate. If we do end up making Cursor countable in the userland library, we would use iterator_count() to provide an exact count on the results; however, this will also require us to cache the results so that users can rewind the cursor and iterate again (this was most recently discussed in PHPLIB-81). While the legacy driver would re-execute the query on a rewind, that's also not an option given the nature of a Cursor in the new driver.<br><br>"I realize this may come across as an inconvenience, but I believe the explicit API is a ultimately a step forward from the legacy driver, where many users might have been oblivious to what was actually happening under the hood. Feel free to follow up if you have additional questions.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->

  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from www.php.net/manual/en/set.mongodb.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 05:14:58 GMT -->

</body></html>