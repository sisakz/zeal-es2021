<html><!-- Mirrored from www.php.net/manual/en/function.setlocale.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:47:43 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>setlocale</title>

 <link rel="shortcut icon" href="../../favicon.ico">
 <link rel="search" type="application/opensearchdescription+xml" href="http://php.net/phpnetimprovedsearch.src" title="Add PHP.net search">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/releases/feed.php" title="PHP Release feed">
 <link rel="alternate" type="application/atom+xml" href="https://www.php.net/feed.atom" title="PHP: Hypertext Preprocessor">

 <link rel="canonical" href="function.setlocale.html">
 <link rel="shorturl" href="https://www.php.net/setlocale">
 <link rel="alternate" href="https://www.php.net/setlocale" hreflang="x-default">

 <link rel="contents" href="index-2.html">
 <link rel="index" href="ref.strings.html">
 <link rel="prev" href="function.rtrim.html">
 <link rel="next" href="function.sha1-file.html">

 <link rel="alternate" href="function.setlocale.html" hreflang="en">
 <link rel="alternate" href="https://www.php.net/manual/pt_BR/function.setlocale.php" hreflang="pt_BR">
 <link rel="alternate" href="https://www.php.net/manual/zh/function.setlocale.php" hreflang="zh">
 <link rel="alternate" href="https://www.php.net/manual/fr/function.setlocale.php" hreflang="fr">
 <link rel="alternate" href="https://www.php.net/manual/de/function.setlocale.php" hreflang="de">
 <link rel="alternate" href="https://www.php.net/manual/ja/function.setlocale.php" hreflang="ja">
 <link rel="alternate" href="https://www.php.net/manual/ro/function.setlocale.php" hreflang="ro">
 <link rel="alternate" href="https://www.php.net/manual/ru/function.setlocale.php" hreflang="ru">
 <link rel="alternate" href="https://www.php.net/manual/es/function.setlocale.php" hreflang="es">
 <link rel="alternate" href="https://www.php.net/manual/tr/function.setlocale.php" hreflang="tr">

<link rel="stylesheet" type="text/css" href="../../cached0aba.css?t=1539771603&amp;f=/fonts/Fira/fira.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached2ecf.css?t=1539765004&amp;f=/fonts/Font-Awesome/css/fontello.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cachedba57.css?t=1606338002&amp;f=/styles/theme-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="../../cached3afa.css?t=1627831203&amp;f=/styles/theme-medium.css" media="screen">

 <!--[if lte IE 7]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie7.css" media="screen">
 <![endif]-->

 <!--[if lte IE 8]>
 <script>
  window.brokenIE = true;
 </script>
 <![endif]-->

 <!--[if lte IE 9]>
 <link rel="stylesheet" type="text/css" href="https://www.php.net/styles/workarounds.ie9.css" media="screen">
 <![endif]-->

 <!--[if IE]>
 <script src="https://www.php.net/js/ext/html5.js"></script>
 <![endif]-->

 <base>


</head>
<body class="docs " style="">


<div class="headsup"><a href="https://www.php.net/conferences/index.php#id2021-09-08-1">Longhorn PHP 2021</a></div>
<nav id="trick"><div><dl>
<dt><a href="getting-started.html">Getting Started</a></dt>
	<dd><a href="introduction.html">Introduction</a></dd>
	<dd><a href="tutorial.html">A simple tutorial</a></dd>
<dt><a href="langref.html">Language Reference</a></dt>
	<dd><a href="language.basic-syntax.html">Basic syntax</a></dd>
	<dd><a href="language.types.html">Types</a></dd>
	<dd><a href="language.variables.html">Variables</a></dd>
	<dd><a href="language.constants.html">Constants</a></dd>
	<dd><a href="language.expressions.html">Expressions</a></dd>
	<dd><a href="language.operators.html">Operators</a></dd>
	<dd><a href="language.control-structures.html">Control Structures</a></dd>
	<dd><a href="language.functions.html">Functions</a></dd>
	<dd><a href="language.oop5.html">Classes and Objects</a></dd>
	<dd><a href="language.namespaces.html">Namespaces</a></dd>
	<dd><a href="language.errors.html">Errors</a></dd>
	<dd><a href="language.exceptions.html">Exceptions</a></dd>
	<dd><a href="language.generators.html">Generators</a></dd>
	<dd><a href="language.attributes.html">Attributes</a></dd>
	<dd><a href="language.references.html">References Explained</a></dd>
	<dd><a href="reserved.variables.html">Predefined Variables</a></dd>
	<dd><a href="reserved.exceptions.html">Predefined Exceptions</a></dd>
	<dd><a href="reserved.interfaces.html">Predefined Interfaces and Classes</a></dd>
	<dd><a href="context.html">Context options and parameters</a></dd>
	<dd><a href="wrappers.html">Supported Protocols and Wrappers</a></dd>
</dl>
<dl>
<dt><a href="security.html">Security</a></dt>
	<dd><a href="security.intro.html">Introduction</a></dd>
	<dd><a href="security.general.html">General considerations</a></dd>
	<dd><a href="security.cgi-bin.html">Installed as CGI binary</a></dd>
	<dd><a href="security.apache.html">Installed as an Apache module</a></dd>
	<dd><a href="security.sessions.html">Session Security</a></dd>
	<dd><a href="security.filesystem.html">Filesystem Security</a></dd>
	<dd><a href="security.database.html">Database Security</a></dd>
	<dd><a href="security.errors.html">Error Reporting</a></dd>
	<dd><a href="security.variables.html">User Submitted Data</a></dd>
	<dd><a href="security.hiding.html">Hiding PHP</a></dd>
	<dd><a href="security.current.html">Keeping Current</a></dd>
<dt><a href="features.html">Features</a></dt>
	<dd><a href="features.http-auth.html">HTTP authentication with PHP</a></dd>
	<dd><a href="features.cookies.html">Cookies</a></dd>
	<dd><a href="features.sessions.html">Sessions</a></dd>
	<dd><a href="features.xforms.html">Dealing with XForms</a></dd>
	<dd><a href="features.file-upload.html">Handling file uploads</a></dd>
	<dd><a href="features.remote-files.html">Using remote files</a></dd>
	<dd><a href="features.connection-handling.html">Connection handling</a></dd>
	<dd><a href="features.persistent-connections.html">Persistent Database Connections</a></dd>
	<dd><a href="features.commandline.html">Command line usage</a></dd>
	<dd><a href="features.gc.html">Garbage Collection</a></dd>
	<dd><a href="features.dtrace.html">DTrace Dynamic Tracing</a></dd>
</dl>
<dl>
<dt><a href="funcref.html">Function Reference</a></dt>
	<dd><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></dd>
	<dd><a href="refs.utilspec.audio.html">Audio Formats Manipulation</a></dd>
	<dd><a href="refs.remote.auth.html">Authentication Services</a></dd>
	<dd><a href="refs.utilspec.cmdline.html">Command Line Specific Extensions</a></dd>
	<dd><a href="refs.compression.html">Compression and Archive Extensions</a></dd>
	<dd><a href="refs.crypto.html">Cryptography Extensions</a></dd>
	<dd><a href="refs.database.html">Database Extensions</a></dd>
	<dd><a href="refs.calendar.html">Date and Time Related Extensions</a></dd>
	<dd><a href="refs.fileprocess.file.html">File System Related Extensions</a></dd>
	<dd><a href="refs.international.html">Human Language and Character Encoding Support</a></dd>
	<dd><a href="refs.utilspec.image.html">Image Processing and Generation</a></dd>
	<dd><a href="refs.remote.mail.html">Mail Related Extensions</a></dd>
	<dd><a href="refs.math.html">Mathematical Extensions</a></dd>
	<dd><a href="refs.utilspec.nontext.html">Non-Text MIME Output</a></dd>
	<dd><a href="refs.fileprocess.process.html">Process Control Extensions</a></dd>
	<dd><a href="refs.basic.other.html">Other Basic Extensions</a></dd>
	<dd><a href="refs.remote.other.html">Other Services</a></dd>
	<dd><a href="refs.search.html">Search Engine Extensions</a></dd>
	<dd><a href="refs.utilspec.server.html">Server Specific Extensions</a></dd>
	<dd><a href="refs.basic.session.html">Session Extensions</a></dd>
	<dd><a href="refs.basic.text.html">Text Processing</a></dd>
	<dd><a href="refs.basic.vartype.html">Variable and Type Related Extensions</a></dd>
	<dd><a href="refs.webservice.html">Web Services</a></dd>
	<dd><a href="refs.utilspec.windows.html">Windows Only Extensions</a></dd>
	<dd><a href="refs.xml.html">XML Manipulation</a></dd>
	<dd><a href="refs.ui.html">GUI Extensions</a></dd>
</dl>
<dl>
<dt>Keyboard Shortcuts</dt><dt>?</dt>
<dd>This help</dd>
<dt>j</dt>
<dd>Next menu item</dd>
<dt>k</dt>
<dd>Previous menu item</dd>
<dt>g p</dt>
<dd>Previous man page</dd>
<dt>g n</dt>
<dd>Next man page</dd>
<dt>G</dt>
<dd>Scroll to bottom</dd>
<dt>g g</dt>
<dd>Scroll to top</dd>
<dt>g h</dt>
<dd>Goto homepage</dd>
<dt>g s</dt>
<dd>Goto search<br>(current page)</dd>
<dt>/</dt>
<dd>Focus search box</dd>
</dl></div></nav>
<div id="goto">
    <div class="search">
         <div class="text"></div>
         <div class="results"><ul></ul></div>
   </div>
</div>

  <div id="breadcrumbs" class="row-fluid">
    <div id="breadcrumbs-inner">
          
              
          <ul>
            <li><a href="index-2.html">PHP Manual</a></li>      <li><a href="funcref.html">Function Reference</a></li>      <li><a href="refs.basic.text.html">Text Processing</a></li>      <li><a href="book.strings.html">Strings</a></li>      <li><a href="ref.strings.html">String Functions</a></li>      </ul>
    </div>
  </div>




<div id="layout" class="clearfix">
  <section id="layout-content">
  <div id="function.setlocale" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">setlocale</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">setlocale</span> â€” <span class="dc-title">Set locale information</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.setlocale-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>setlocale</strong></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$category</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">$locales</code></span>, <span class="methodparam"><span class="type">string</span> <code class="parameter">...$rest</code></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="simpara">Alternative signature (not supported with named arguments):</p>
  <div class="methodsynopsis dc-description"><span class="methodname"><strong>setlocale</strong></span>(<span class="methodparam"><span class="type">int</span> <code class="parameter">$category</code></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter">$locale_array</code></span>): <span class="type"><span class="type">string</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   Sets locale information.
  </p>
  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">
    The locale information is maintained per process, not per thread. If you
    are running PHP on a multithreaded server API
    , you may experience sudden changes in locale settings while a
    script is running, though the script itself never called 
    <span class="function"><strong>setlocale()</strong></span>. This happens due to other scripts
    running in different threads of the same process at the same time,
    changing the process-wide locale using <span class="function"><strong>setlocale()</strong></span>.
    On Windows, locale information is maintained per thread as of PHP 7.0.5.
   </p>
  </div>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.setlocale-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   </p><dl>
    
     <dt>
<code class="parameter">category</code></dt>

     <dd>

      <p class="para">
       <code class="parameter">category</code> is a named constant specifying the
       category of the functions affected by the locale setting:
       </p><ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          <strong><code>LC_ALL</code></strong> for all of the below
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>LC_COLLATE</code></strong> for string comparison, see
          <span class="function"><a href="function.strcoll.html" class="function">strcoll()</a></span>
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>LC_CTYPE</code></strong> for character classification and conversion, for
          example <span class="function"><a href="function.strtoupper.html" class="function">strtoupper()</a></span>
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>LC_MONETARY</code></strong> for <span class="function"><a href="function.localeconv.html" class="function">localeconv()</a></span>
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>LC_NUMERIC</code></strong> for decimal separator (See also
          <span class="function"><a href="function.localeconv.html" class="function">localeconv()</a></span>)
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>LC_TIME</code></strong> for date and time formatting with
          <span class="function"><a href="function.strftime.html" class="function">strftime()</a></span>
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong><code>LC_MESSAGES</code></strong> for system responses (available if PHP was compiled with
          <code class="literal">libintl</code>)
         </span>
        </li>
       </ul>
      <p></p>
     </dd>

    
    
     <dt>
<code class="parameter">locales</code></dt>

     <dd>

      <p class="para">
       If <code class="parameter">locales</code> is the empty string
       <code class="literal">""</code>, the locale names will be set from the
       values of environment variables with the same names as the above
       categories, or from "LANG".
      </p>
      <p class="para">
       If <code class="parameter">locales</code> is <code class="literal">"0"</code>,
       the locale setting is not affected, only the current setting is returned.
      </p>
      <p class="para">
       If <code class="parameter">locales</code> is followed by additional
       parameters then each parameter is tried to be set as
       new locale until success. This is useful if a locale is known under
       different names on different systems or for providing a fallback
       for a possibly not available locale.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">rest</code></dt>

     <dd>

      <p class="para">
       Optional string parameters to try as locale settings until
       success.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">locale_array</code></dt>

     <dd>

      <p class="para">
       Each array element is tried to be set as
       new locale until success. This is useful if a locale is known under
       different names on different systems or for providing a fallback
       for a possibly not available locale.
      </p>
     </dd>

    
   </dl>

   <blockquote class="note"><p><strong class="note">Note</strong>: 
    </p><p class="para">
     On Windows, setlocale(LC_ALL, '') sets the locale names from the
     system's regional/language settings (accessible via Control Panel).
    </p>
   <p></p></blockquote>
  <p></p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.setlocale-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the new current locale, or <strong><code>false</code></strong> if the locale functionality is
   not implemented on your platform, the specified locale does not exist or
   the category name is invalid.
  </p>
  <p class="para">
   An invalid category name also causes a warning message. Category/locale
   names can be found in <a href="http://www.faqs.org/rfcs/rfc1766" class="link external">Â»&nbsp;RFC 1766</a>
   and <a href="http://www.loc.gov/standards/iso639-2/php/code_list.php" class="link external">Â»&nbsp;ISO 639</a>.
   Different systems have different naming schemes for locales.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   </p><p class="para">
    The return value of <span class="function"><strong>setlocale()</strong></span> depends
    on the system that PHP is running.  It returns exactly
    what the system <code class="literal">setlocale</code> function returns.
   </p>
  <p></p></blockquote>
 </div>


 <div class="refsect1 examples" id="refsect1-function.setlocale-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   </p><div class="example" id="example-4776">
    <p><strong>Example #1 <span class="function"><strong>setlocale()</strong></span> Examples</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&nbsp;Set&nbsp;locale&nbsp;to&nbsp;Dutch&nbsp;*/<br></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_ALL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'nl_NL'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;Output:&nbsp;vrijdag&nbsp;22&nbsp;december&nbsp;1978&nbsp;*/<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">strftime</span><span style="color: #007700">(</span><span style="color: #DD0000">"%A&nbsp;%e&nbsp;%B&nbsp;%Y"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">22</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1978</span><span style="color: #007700">));<br><br></span><span style="color: #FF8000">/*&nbsp;try&nbsp;different&nbsp;possible&nbsp;locale&nbsp;names&nbsp;for&nbsp;german&nbsp;*/<br></span><span style="color: #0000BB">$loc_de&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_ALL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'de_DE@euro'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'de_DE'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'de'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'ge'</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #DD0000">"Preferred&nbsp;locale&nbsp;for&nbsp;german&nbsp;on&nbsp;this&nbsp;system&nbsp;is&nbsp;'</span><span style="color: #0000BB">$loc_de</span><span style="color: #DD0000">'"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
  <p class="para">
   </p><div class="example" id="example-4777">
    <p><strong>Example #2 <span class="function"><strong>setlocale()</strong></span> Examples for Windows</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br></span><span style="color: #FF8000">/*&nbsp;Set&nbsp;locale&nbsp;to&nbsp;Dutch&nbsp;*/<br></span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_ALL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'nld_nld'</span><span style="color: #007700">);<br><br></span><span style="color: #FF8000">/*&nbsp;Output:&nbsp;vrijdag&nbsp;22&nbsp;december&nbsp;1978&nbsp;*/<br></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">strftime</span><span style="color: #007700">(</span><span style="color: #DD0000">"%A&nbsp;%d&nbsp;%B&nbsp;%Y"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">mktime</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">12</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">22</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1978</span><span style="color: #007700">));<br><br></span><span style="color: #FF8000">/*&nbsp;try&nbsp;different&nbsp;possible&nbsp;locale&nbsp;names&nbsp;for&nbsp;german&nbsp;*/<br></span><span style="color: #0000BB">$loc_de&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">setlocale</span><span style="color: #007700">(</span><span style="color: #0000BB">LC_ALL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'de_DE@euro'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'de_DE'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'deu_deu'</span><span style="color: #007700">);<br>echo&nbsp;</span><span style="color: #DD0000">"Preferred&nbsp;locale&nbsp;for&nbsp;german&nbsp;on&nbsp;this&nbsp;system&nbsp;is&nbsp;'</span><span style="color: #0000BB">$loc_de</span><span style="color: #DD0000">'"</span><span style="color: #007700">;<br></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  <p></p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.setlocale-notes">
  <h3 class="title">Notes</h3>
  <div class="tip"><strong class="tip">Tip</strong>
   <p class="para">
    Windows users will find useful information about
    <code class="parameter">locales</code> strings at Microsoft's
    <acronym title="Microsoft Developer Network">MSDN</acronym> website. Supported language strings can be found
    in the
    <a href="http://msdn.microsoft.com/en-us/library/39cwe7zf(v=vs.90).aspx" class="link external">Â»&nbsp;language strings documentation</a>
    and supported country/region strings in the
    <a href="http://msdn.microsoft.com/en-us/library/cdax410z(v=vs.90).aspx" class="link external">Â»&nbsp;country/region strings documentation</a>.
   </p>
  </div>
 </div>


</div>
<section id="usernotes">
 <div class="head"><h3 class="title">User Contributed Notes</h3></div><div id="allnotes">
  <div class="note" id="25041">  
  <a class="name">
  <strong class="user"><em>r dot nospam dot velseboer at quicknet dot nospam dot nl</em></strong></a><div class="date" title="2002-09-08 07:02"><strong>19 years ago</strong></div>
  <div class="text" id="Hcom25041">
<div class="phpcode"><code><span class="html">
be careful with the LC_ALL setting, as it may introduce some unwanted conversions. For example, I used <br><br>setlocale (LC_ALL, "Dutch");<br><br>to get my weekdays in dutch on the page. From that moment on (as I found out many hours later) my floating point values from MYSQL where interpreted as integers because the Dutch locale wants a comma (,) instead of a point (.) before the decimals. I tried printf, number_format, floatval.... all to no avail. 1.50 was always printed as 1.00 :(<br><br>When I set my locale to :<br><br> setlocale (LC_TIME, "Dutch");<br><br>my weekdays are good now and my floating point values too. <br><br>I hope I can save some people the trouble of figuring this out by themselves.<br><br>Rob</span>
</code></div>
  </div>
 </div>
  <div class="note" id="106811">  
  <a class="name">
  <strong class="user"><em>russ at eatmymonkeydust dot com</em></strong></a><div class="date" title="2011-12-08 03:45"><strong>9 years ago</strong></div>
  <div class="text" id="Hcom106811">
<div class="phpcode"><code><span class="html">
If you are looking for a getlocale() function simply pass 0 (zero) as the second parameter to setlocale().<br><br>Beware though if you use the category LC_ALL and some of the locales differ as a string containing all the locales is returned:<br><br><span class="default">&lt;?php<br></span><span class="keyword">echo </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br><br></span><span class="comment">// LC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=C;LC_COLLATE=C;LC_MONETARY=C;LC_MESSAGES=C;LC_PAPER=C;LC_NAME=C;<br>// LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=C;LC_IDENTIFICATION=C<br><br></span><span class="keyword">echo </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_CTYPE</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br><br></span><span class="comment">// en_US.UTF-8<br><br></span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="string">"en_US.UTF-8"</span><span class="keyword">);<br>echo </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br><br></span><span class="comment">// en_US.UTF-8<br><br></span><span class="default">?&gt;<br></span><br>If you are looking to store and reset the locales you could do something like this:<br><br><span class="default">&lt;?php<br><br>$originalLocales </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">";"</span><span class="keyword">, </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">));<br></span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="string">"nb_NO.utf8"</span><span class="keyword">);<br><br></span><span class="comment">// Do something<br><br></span><span class="keyword">foreach (</span><span class="default">$originalLocales </span><span class="keyword">as </span><span class="default">$localeSetting</span><span class="keyword">) {<br>&nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$localeSetting</span><span class="keyword">, </span><span class="string">"="</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; list (</span><span class="default">$category</span><span class="keyword">, </span><span class="default">$locale</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"="</span><span class="keyword">, </span><span class="default">$localeSetting</span><span class="keyword">);<br>&nbsp; }<br>&nbsp; else {<br>&nbsp; &nbsp; </span><span class="default">$category </span><span class="keyword">= </span><span class="default">LC_ALL</span><span class="keyword">;<br>&nbsp; &nbsp; </span><span class="default">$locale&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$localeSetting</span><span class="keyword">;<br>&nbsp; }<br>&nbsp; </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">$category</span><span class="keyword">, </span><span class="default">$locale</span><span class="keyword">); <br>}<br><br></span><span class="default">?&gt;<br></span><br>The above works here (Ubuntu Linux) but as the setlocale() function is just wrapping the equivalent system calls, your mileage may vary on the result.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="90919">  
  <a class="name">
  <strong class="user"><em>Kari Sderholm aka Haprog</em></strong></a><div class="date" title="2009-05-16 04:28"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom90919">
<div class="phpcode"><code><span class="html">
It took me a while to figure out how to get a Finnish locale correctly set on Ubuntu Server with Apache2 and PHP5.<br><br>At first the output for "locale -a" was this:<br>C<br>en_US.utf8<br>POSIX<br><br>I had to install a finnish language pack with<br>"sudo apt-get install language-pack-fi-base"<br><br>Now the output for "locale -a" is:<br>C<br>en_US.utf8<br>fi_FI.utf8<br>POSIX<br><br>The last thing you need to do after installing the correct language pack is restart Apache with "sudo apache2ctl restart". The locale "fi_FI.utf8" can then be used in PHP5 after restarting Apache.<br><br>For setting Finnish timezone and locale in PHP use:<br><span class="default">&lt;?php<br>date_default_timezone_set</span><span class="keyword">(</span><span class="string">'Europe/Helsinki'</span><span class="keyword">);<br></span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, array(</span><span class="string">'fi_FI.UTF-8'</span><span class="keyword">,</span><span class="string">'fi_FI@euro'</span><span class="keyword">,</span><span class="string">'fi_FI'</span><span class="keyword">,</span><span class="string">'finnish'</span><span class="keyword">));<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="124185">  
  <a class="name">
  <strong class="user"><em>epistomai at gmail dot com</em></strong></a><div class="date" title="2019-09-10 07:39"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom124185">
<div class="phpcode"><code><span class="html">
setlocale(LC_MONETARY, 'en_US') doesn't work anymore (at least in PHP Version 7.3.8).<br><br>I've used 'en_US.UTF-8' instead</span>
</code></div>
  </div>
 </div>
  <div class="note" id="118076">  
  <a class="name">
  <strong class="user"><em>Shashakhmetov Talgat</em></strong></a><div class="date" title="2015-09-29 04:41"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom118076">
<div class="phpcode"><code><span class="html">
//Fix encoding for russian locale on windows<br>$locale = setlocale(LC_ALL, 'ru_RU.CP1251', 'rus_RUS.CP1251', 'Russian_Russia.1251');<br><br>function strftime_fix($format, $locale, $timestamp = time()){<br>&nbsp; &nbsp; // Fix %e for windows<br>&nbsp; &nbsp; if (strtoupper(substr(PHP_OS, 0, 3)) == 'WIN') {<br>&nbsp; &nbsp; &nbsp; &nbsp; $format = preg_replace('#(?&lt;!%)((?:%%)*)%e#', '\1%#d', $format);<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; // convert<br>&nbsp; &nbsp; $date_str = strftime($format, $timestamp);<br>&nbsp; &nbsp; if (stripos($locale, "1251") !== false) {<br>&nbsp; &nbsp; &nbsp; return iconv("windows-1251","utf-8", $date_str);<br>&nbsp; &nbsp; } elseif (stripos($locale, "1252") !== false) {<br>&nbsp; &nbsp; &nbsp; return iconv("windows-1252","utf-8", $date_str);<br>&nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; return $date_str;<br>&nbsp; &nbsp; }<br>}</span>
</code></div>
  </div>
 </div>
  <div class="note" id="89076">  
  <a class="name">
  <strong class="user"><em>brice/axice/be</em></strong></a><div class="date" title="2009-02-20 05:19"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom89076">
<div class="phpcode"><code><span class="html">
Pay attention to the syntax.
<br>- UTF8 without dash ('-')
<br>- locale.codeset and not locale-codeset.
<br>
<br>Stupid newbie error but worth knowing them when starting with gettext.
<br>
<br><span class="default">&lt;?php
<br>$codeset </span><span class="keyword">= </span><span class="string">"UTF8"</span><span class="keyword">;&nbsp; </span><span class="comment">// warning ! not UTF-8 with dash '-'
<br>&nbsp; &nbsp; &nbsp; &nbsp; 
<br>// for windows compatibility (e.g. xampp) : theses 3 lines are useless for linux systems 
<br>
<br></span><span class="default">putenv</span><span class="keyword">(</span><span class="string">'LANG='</span><span class="keyword">.</span><span class="default">$lang</span><span class="keyword">.</span><span class="string">'.'</span><span class="keyword">.</span><span class="default">$codeset</span><span class="keyword">);
<br></span><span class="default">putenv</span><span class="keyword">(</span><span class="string">'LANGUAGE='</span><span class="keyword">.</span><span class="default">$lang</span><span class="keyword">.</span><span class="string">'.'</span><span class="keyword">.</span><span class="default">$codeset</span><span class="keyword">);
<br></span><span class="default">bind_textdomain_codeset</span><span class="keyword">(</span><span class="string">'mydomain'</span><span class="keyword">, </span><span class="default">$codeset</span><span class="keyword">);
<br>
<br></span><span class="comment">// set locale
<br></span><span class="default">bindtextdomain</span><span class="keyword">(</span><span class="string">'mydomain'</span><span class="keyword">, </span><span class="default">ABSPATH</span><span class="keyword">.</span><span class="string">'/locale/'</span><span class="keyword">);
<br></span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="default">$lang</span><span class="keyword">.</span><span class="string">'.'</span><span class="keyword">.</span><span class="default">$codeset</span><span class="keyword">);
<br></span><span class="default">textdomain</span><span class="keyword">(</span><span class="string">'mydomain'</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>
<br>where directory structure of locale is (for example) :
<br>locale/fr_FR/LC_MESSAGES/mydomain.mo
<br>locale/en_US/LC_MESSAGES/mydomain.mo
<br>
<br>and ABSPATH is the absolute path to the locale dir
<br>
<br>further note, under linux systems, it seems to be necessary to create the locale at os level using 'locale-gen'.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="46640">  
  <a class="name">
  <strong class="user"><em>pigmeu at pigmeu dot net</em></strong></a><div class="date" title="2004-10-18 01:42"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom46640">
<div class="phpcode"><code><span class="html">
!!WARNING!!<br><br>The "locale" always depend on the server configuration.<br><br>i.e.:<br>When trying to use "pt_BR" on some servers you will ALWAYS get false. Even with other languages.<br><br>The locale string need to be supported by the server. Sometimes there are diferents charsets for a language, like "pt_BR.utf-8" and "pt_BR.iso-8859-1", but there is no support for a _standard_ "pt_BR".<br><br>This problem occours in Windows platform too. Here you need to call "portuguese" or "spanish" or "german" or...<br><br>Maybe the only way to try to get success calling the function setlocale() is:<br>setlocale(LC_ALL, "pt_BR", "pt_BR.iso-8859-1", "pt_BR.utf-8", "portuguese", ...);<br><br>But NEVER trust on that when making functions like date conversions or number formating. The best way to make sure you are doing the right thing, is using the default "en_US" or "en_UK", by not calling the setlocale() function. Or, make sure that your server support the lang you want to use, with some tests.<br><br>Remember that: Using the default locale setings is the best way to "talk" with other applications, like dbs or rpc servers, too.<br><br>[]s<br><br>Pigmeu</span>
</code></div>
  </div>
 </div>
  <div class="note" id="117529">  
  <a class="name">
  <strong class="user"><em>jose dot nobile at gmail dot com</em></strong></a><div class="date" title="2015-06-25 01:05"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom117529">
<div class="phpcode"><code><span class="html">
For Windows users complaining about setlocale. <br><br>The locale argument to the setlocale function takes the following form:<br>setlocale( LC_ALL, "&lt;language&gt;_&lt;country&gt;.&lt;code_page&gt;" );<br><br>in short, if you&nbsp; want use for example: es_CO.UTF-8 it must be in Windows: Spanish_Colombia.1252<br><br>The code page 1252 is ISO-8859-1 (windows-1252&nbsp; &nbsp; ANSI Latin 1; Western European (Windows)<br><br>Windows use different languages code from Unix, for example, es_CO becomes es-CO or Spanish_Colombia, also it doesn't support UTF-8 charset as is shown in their website: <a rel="nofollow" target="_blank">https://msdn.microsoft.com/en-us/library/x99tb11d(v=vs.140</a>).aspx<br><br>"The set of available locale names, languages, country/region codes, and code pages includes all those supported by the Windows NLS API except code pages that require more than two bytes per character, such as UTF-7 and UTF-8. If you provide a code page value of UTF-7 or UTF-8, setlocale will fail, returning NULL."<br><br>Please check the updated website of language and code pages:<br><br><a rel="nofollow" target="_blank">https://msdn.microsoft.com/en-us/library/39cwe7zf(v=vs.140</a>).aspx<br>and<br><a rel="nofollow" target="_blank">https://msdn.microsoft.com/en-us//goglobal/bb895996</a><br><br>Here a copy paste in case the link is removed:<br><br>Afrikaans<br>Albanian<br>Arabic_Saudi_Arabia<br>Arabic_Iraq<br>Arabic_Egypt<br>Arabic_Libya<br>Arabic_Algeria<br>Arabic_Morocco<br>Arabic_Tunisia<br>Arabic_Oman<br>Arabic_Yemen<br>Arabic_Syria<br>Arabic_Jordan<br>Arabic_Lebanon<br>Arabic_Kuwait<br>Arabic_UAE<br>Arabic_Bahrain<br>Arabic_Qatar<br>Armenian<br>Azeri_Latin<br>Azeri_Cyrillic<br>Basque<br>Belarusian<br>Bengali_India<br>Bosnian_Latin<br>Bulgarian<br>Catalan<br>Chinese_Taiwan<br>Chinese_PRC<br>Chinese_Hong_Kong<br>Chinese_Singapore<br>Chinese_Macau<br>Croatian<br>Croatian_Bosnia_Herzegovina<br>Czech<br>Danish<br>Divehi<br>Dutch_Standard<br>Dutch_Belgian<br>English_United_States<br>English_United_Kingdom<br>English_Australian<br>English_Canadian<br>English_New_Zealand<br>English_Ireland<br>English_South_Africa<br>English_Jamaica<br>English_Caribbean<br>English_Belize<br>English_Trinidad<br>English_Zimbabwe<br>English_Philippines<br>Estonian<br>Faeroese<br>Farsi<br>Finnish<br>French_Standard<br>French_Belgian<br>French_Canadian<br>French_Swiss<br>French_Luxembourg<br>French_Monaco<br>Georgian<br>Galician<br>German_Standard<br>German_Swiss<br>German_Austrian<br>German_Luxembourg<br>German_Liechtenstein<br>Greek<br>Gujarati<br>Hebrew<br>Hindi<br>Hungarian<br>Icelandic<br>Indonesian<br>Italian_Standard<br>Italian_Swiss<br>Japanese<br>Kannada<br>Kazakh<br>Konkani<br>Korean<br>Kyrgyz<br>Latvian<br>Lithuanian<br>Macedonian<br>Malay_Malaysia<br>Malay_Brunei_Darussalam<br>Malayalam<br>Maltese<br>Maori<br>Marathi<br>Mongolian<br>Norwegian_Bokmal<br>Norwegian_Nynorsk<br>Polish<br>Portuguese_Brazilian<br>Portuguese_Standard<br>Punjabi<br>Quechua_Bolivia<br>Quechua_Ecuador<br>Quechua_Peru<br>Romanian<br>Russian<br>Sami_Inari<br>Sami_Lule_Norway<br>Sami_Lule_Sweden<br>Sami_Northern_Finland<br>Sami_Northern_Norway<br>Sami_Northern_Sweden<br>Sami_Skolt<br>Sami_Southern_Norway<br>Sami_Southern_Sweden<br>Sanskrit<br>Serbian_Latin<br>Serbian_Latin_Bosnia_Herzegovina<br>Serbian_Cyrillic<br>Serbian_Cyrillic_Bosnia_Herzegovina<br>Slovak<br>Slovenian<br>Spanish_Traditional_Sort<br>Spanish_Mexican<br>Spanish_Modern_Sort<br>Spanish_Guatemala<br>Spanish_Costa_Rica<br>Spanish_Panama<br>Spanish_Dominican_Republic<br>Spanish_Venezuela<br>Spanish_Colombia<br>Spanish_Peru<br>Spanish_Argentina<br>Spanish_Ecuador<br>Spanish_Chile<br>Spanish_Uruguay<br>Spanish_Paraguay<br>Spanish_Bolivia<br>Spanish_El_Salvador<br>Spanish_Honduras<br>Spanish_Nicaragua<br>Spanish_Puerto_Rico<br>Swahili<br>Swedish<br>Swedish_Finland<br>Syriac<br>Tamil<br>Tatar<br>Telugu<br>Thai<br>Tswana<br>Ukrainian<br>Turkish<br>Ukrainian<br>Urdu<br>Uzbek_Latin<br>Uzbek_Cyrillic<br>Vietnamese<br>Welsh<br>Xhosa<br>Zulu<br><br>The code pages identifiers:<br><br><a rel="nofollow" target="_blank">https://msdn.microsoft.com/en-us/library/windows/desktop/dd317756(v=vs.85</a>).aspx</span>
</code></div>
  </div>
 </div>
  <div class="note" id="111150">  
  <a class="name">
  <strong class="user"><em>data dot ocean dot italia at gmail dot com</em></strong></a><div class="date" title="2013-01-20 07:42"><strong>8 years ago</strong></div>
  <div class="text" id="Hcom111150">
<div class="phpcode"><code><span class="html">
Instead, using php with IIS, I had to use this line for Italian language...<br><br><span class="default">&lt;?php setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="string">'Italian_Italy.1250'</span><span class="keyword">); </span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="86078">  
  <a class="name">
  <strong class="user"><em>Leigh Morresi</em></strong></a><div class="date" title="2008-10-01 11:27"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom86078">
<div class="phpcode"><code><span class="html">
Setting locale that is not supported by your system will result in some string operations returning a question mark "?" in your strings where it needs to perform transliteration.<br><br>1) Always check the return of setlocale() to ensure it has set to something supported<br><br>2) on Linux you can use the "locale -a" command to find a list of supported locales</span>
</code></div>
  </div>
 </div>
  <div class="note" id="105074">  
  <a class="name">
  <strong class="user"><em>phcorp</em></strong></a><div class="date" title="2011-07-26 06:16"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom105074">
<div class="phpcode"><code><span class="html">
To find the locale of a Unix system:<br><span class="default">&lt;?php system</span><span class="keyword">(</span><span class="string">'locale -a'</span><span class="keyword">) </span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="77795">  
  <a class="name">
  <strong class="user"><em>Periklis</em></strong></a><div class="date" title="2007-09-13 02:33"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom77795">
<div class="phpcode"><code><span class="html">
In *some* Windows systems, setting LC_TIME only will not work, you must either set LC_ALL or both LC_CTYPE and LC_TIME. BUT if you have already set LC_TIME using setlocale earlier in the script, dates will not be affected! For example:<br><span class="default">&lt;?php<br>setlocale</span><span class="keyword">(</span><span class="default">LC_TIME</span><span class="keyword">, </span><span class="string">'greek'</span><span class="keyword">);<br></span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_CTYPE</span><span class="keyword">, </span><span class="string">'greek'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>will not work, while <br><span class="default">&lt;?php<br>setlocale</span><span class="keyword">(</span><span class="default">LC_CTYPE</span><span class="keyword">, </span><span class="string">'greek'</span><span class="keyword">);<br></span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_TIME</span><span class="keyword">, </span><span class="string">'greek'</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>will do the job.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="62748">  
  <a class="name"><strong class="user"><em>Anonymous</em></strong></a><div class="date" title="2006-03-08 12:17"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom62748">
<div class="phpcode"><code><span class="html">
The example from bruno dot cenou at revues dot org below shows the possibility, but I want to spell it out: you can add charset info to setlocale.<br><br>Example:<br><br>Into my utf-8-encoded page I want to insert the name of the current month, which happens to be March, in German "MÃ¤rz" - with umlaut. If you use<br><br>&nbsp;&nbsp; setlocale(LC_TIME, 'de_DE');<br>&nbsp;&nbsp; echo strftime("%B");<br><br>this will return "M&amp;auml;rz", but that html-entity will look like this on a utf-8 page: "M?rz". Not what I want.<br><br>But if you use<br><br>&nbsp;&nbsp; setlocale(LC_TIME, 'de_DE.UTF8');&nbsp; // note the charset info !<br>&nbsp;&nbsp; echo strftime("%B");<br><br>this returns "MâˆšÂ§rz", which, on utf-8, looks like it should: "MÃ¤rz".</span>
</code></div>
  </div>
 </div>
  <div class="note" id="67436">  
  <a class="name">
  <strong class="user"><em>Sven K</em></strong></a><div class="date" title="2006-06-07 03:08"><strong>15 years ago</strong></div>
  <div class="text" id="Hcom67436">
<div class="phpcode"><code><span class="html">
If your system doesn't show any installed locales by "locale -a", try installing them by "dpkg-reconfigure locales" (on debian).</span>
</code></div>
  </div>
 </div>
  <div class="note" id="87038">  
  <a class="name">
  <strong class="user"><em>Un_passant</em></strong></a><div class="date" title="2008-11-16 03:56"><strong>12 years ago</strong></div>
  <div class="text" id="Hcom87038">
<div class="phpcode"><code><span class="html">
For debian/ubuntu, don't forget the charset UFT8. <br><br>// Works on Ubuntu 8.04 Server<br>setlocale(LC_TIME, 'fr_FR.UTF8', 'fr.UTF8', 'fr_FR.UTF-8', 'fr.UTF-8');</span>
</code></div>
  </div>
 </div>
  <div class="note" id="39370">  
  <a class="name">
  <strong class="user"><em>mk at totu dot com</em></strong></a><div class="date" title="2004-01-26 04:59"><strong>17 years ago</strong></div>
  <div class="text" id="Hcom39370">
<div class="phpcode"><code><span class="html">
Be carefull - setting a locale which uses commas instead of dots in numbers may cause a mysql db not to understand the query:
<br><span class="default">&lt;?php
<br>setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">,</span><span class="string">"pl"</span><span class="keyword">);
<br></span><span class="default">$price </span><span class="keyword">= </span><span class="default">1234 </span><span class="keyword">/ </span><span class="default">100</span><span class="keyword">; </span><span class="comment">// now the price looks like 12,34
<br></span><span class="default">$query </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="string">"SELECT Id FROM table WHERE price='"</span><span class="keyword">.</span><span class="default">$price</span><span class="keyword">.</span><span class="string">"'"</span><span class="keyword">);
<br></span><span class="default">?&gt;
<br></span>Even if there is a price 12.34 - nothing will be found</span>
</code></div>
  </div>
 </div>
  <div class="note" id="122317">  
  <a class="name">
  <strong class="user"><em>stepdate at gmail dot com</em></strong></a><div class="date" title="2018-01-27 05:03"><strong>3 years ago</strong></div>
  <div class="text" id="Hcom122317">
<div class="phpcode"><code><span class="html">
If you have Locales installed and things won't work check the spelling: for German all the comments suggested "setlocale(LC_TIME, "de_DE.utf8")", but it has to be "setlocale(LC_TIME, "de_DE.UTF-8")"-&gt; UTF-8 instead of utf8.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="113764">  
  <a class="name">
  <strong class="user"><em>RobQuist</em></strong></a><div class="date" title="2013-11-28 02:51"><strong>7 years ago</strong></div>
  <div class="text" id="Hcom113764">
<div class="phpcode"><code><span class="html">
In addition to russ, about getting / backing up the locale:<br>I'm using this in unit-tests. I wanted to test something based on locale, and reset the locale after the tests were done.<br><br>Yet there were some errors;<br>* setlocale doesn't like strings anymore. You need to use constants.<br>* Some contants don't exist anymore. <br><br>Here's an updated piece of code:<br><br><span class="default">&lt;?php<br>$originalLocales </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">";"</span><span class="keyword">, </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">));<br></span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="string">'nl_NL.UTF-8'</span><span class="keyword">);<br><br></span><span class="comment">//Do something here<br><br>//Recover to the default setting<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$skipConstants </span><span class="keyword">= array( </span><span class="comment">//these will be returned by setlocale(LC_ALL, 0), but don't exist anymore.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'LC_PAPER'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'LC_NAME'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'LC_ADDRESS'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'LC_TELEPHONE'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'LC_MEASUREMENT'</span><span class="keyword">,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'LC_IDENTIFICATION'<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">);<br><br>&nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$originalLocales </span><span class="keyword">as </span><span class="default">$localeSetting</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$localeSetting</span><span class="keyword">, </span><span class="string">"="</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; list (</span><span class="default">$category</span><span class="keyword">, </span><span class="default">$locale</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"="</span><span class="keyword">, </span><span class="default">$localeSetting</span><span class="keyword">);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$category </span><span class="keyword">= </span><span class="default">LC_ALL</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$locale&nbsp;&nbsp; </span><span class="keyword">= </span><span class="default">$localeSetting</span><span class="keyword">;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$category</span><span class="keyword">, </span><span class="default">$skipConstants</span><span class="keyword">)) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">constant</span><span class="keyword">(</span><span class="default">$category</span><span class="keyword">), </span><span class="default">$locale</span><span class="keyword">); </span><span class="comment">//Using strings is deprecated.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80540">  
  <a class="name">
  <strong class="user"><em>bryn AT lunarvis DOT com</em></strong></a><div class="date" title="2008-01-21 05:04"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom80540">
<div class="phpcode"><code><span class="html">
Posting this in the hope it might be useful to others, as I could find very little info anywhere. If you want to use a Welsh locale and have the suitable language support installed, you pass 'cym' (abbreviated form of Cymraeg) to setlocale:<br><br><span class="default">&lt;?php<br>setlocale</span><span class="keyword">(</span><span class="default">LC_TIME</span><span class="keyword">, </span><span class="string">'cym'</span><span class="keyword">);<br></span><span class="default">$welsh</span><span class="keyword">= </span><span class="default">gmstrftime</span><span class="keyword">(</span><span class="string">"%A, %B %Y - %H:%M"</span><span class="keyword">,</span><span class="default">time</span><span class="keyword">());<br>echo </span><span class="default">$welsh</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>The above certainly applies to Windows systems, but should also apply to Unix if the required support is installed.<br><br>Cheers,<br><br>Bryn.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="75032">  
  <a class="name">
  <strong class="user"><em>mvanbaak</em></strong></a><div class="date" title="2007-05-09 05:03"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom75032">
<div class="phpcode"><code><span class="html">
To complement Sven K's tip about debian:<br><br>You can also install the package locales-all<br>That one holds all the locales there are in compiled form.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="73347">  
  <a class="name">
  <strong class="user"><em>szepeshazi at gmail dot com</em></strong></a><div class="date" title="2007-02-18 07:11"><strong>14 years ago</strong></div>
  <div class="text" id="Hcom73347">
<div class="phpcode"><code><span class="html">
For those of you who are unfortunate enough (like me) to work in Windows environment, and try to set the locale to a language _and_ to UTF-8 charset, and were unable to do it, here is a workaround.<br><br>For example to output the date in hungarian with UTF-8 charset, this will work:<br><br>&nbsp; &nbsp; $dateString = "%B %d., %A";<br>&nbsp; &nbsp; setlocale(LC_ALL,'hungarian');<br>&nbsp; &nbsp; $res=strftime($dateString);<br>&nbsp; &nbsp; echo(iconv('ISO-8859-1', 'UTF-8', $res));<br><br>If anybody knows how to set the locale on Windows to the equivalent of "hu_HU.UTF-8" on unix, please do tell me.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="103627">  
  <a class="name">
  <strong class="user"><em>tomas dot hampl at gmail dot com</em></strong></a><div class="date" title="2011-04-23 01:35"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom103627">
<div class="phpcode"><code><span class="html">
On Linux, setlocale() depends on the installed locales. To see which locales are available to PHP, run this from the terminal:<br><br>"locale -a"<br><br>Provided list are all locales that are available on your server for PHP to use. To add a new one, run<br><br>locale-gen &lt;locale name&gt; (this may need sudo / root permissions), for example to add a Czech locale, run something like this:<br><br>"sudo locale-gen cs_CZ.utf8"<br><br>Then you can use this locale declaration:<br><br>setlocale(LC_ALL, 'cs_CZ.utf8');</span>
</code></div>
  </div>
 </div>
  <div class="note" id="118200">  
  <a class="name">
  <strong class="user"><em>internationalist</em></strong></a><div class="date" title="2015-10-25 02:14"><strong>5 years ago</strong></div>
  <div class="text" id="Hcom118200">
<div class="phpcode"><code><span class="html">
My script runs a loop that changes the locale (multilingual application). I've noticed that on some random occasion the locale still hasn't changed despite the setlocale() function being executed a step earlier. I had to add wait time for this condition. Interestingly enough, this was the case only with the 'nl_NL.UTF8' locale.<br><br><span class="default">&lt;?php<br></span><span class="comment">//some code<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">counter </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br></span><span class="comment">// some code<br></span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">locale </span><span class="keyword">= </span><span class="string">'nl_NL.UTF8'</span><span class="keyword">;<br></span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">locale</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">counter</span><span class="keyword">++;<br>&nbsp; &nbsp; if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">locale </span><span class="keyword">!== </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_CTYPE</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">)) { </span><span class="comment">// Locale not changed yet.<br>&nbsp; &nbsp; &nbsp; </span><span class="keyword">if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">counter </span><span class="keyword">&gt; </span><span class="default">10</span><span class="keyword">) {<br>&nbsp; &nbsp; &nbsp; &nbsp; return;<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; </span><span class="default">sleep</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);<br>&nbsp; &nbsp; }<br></span><span class="comment">// some code<br></span><span class="default">?&gt;</span>
</span>
</code></div>
  </div>
 </div>
  <div class="note" id="55834">  
  <a class="name">
  <strong class="user"><em>birkholz at web dot de</em></strong></a><div class="date" title="2005-08-14 08:42"><strong>16 years ago</strong></div>
  <div class="text" id="Hcom55834">
<div class="phpcode"><code><span class="html">
When i tried to get the current locale (e.g. after i set the lang to german with setlocale(LC_ALL, 'de_DE'); ), the following did not work on my suse linux 9.0-box:<br>$currentLocale = setlocale(LC_ALL, NULL);<br>This code did a reset to the server-setting.<br><br>$currentLocale = setlocale(LC_ALL, 0); works perfectly for me, but the manual says NULL and 0 are equal in this case, but NULL seems to act like "".</span>
</code></div>
  </div>
 </div>
  <div class="note" id="80054">  
  <a class="name">
  <strong class="user"><em>ostapk</em></strong></a><div class="date" title="2007-12-27 02:39"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom80054">
<div class="phpcode"><code><span class="html">
There is a new PECL extension under development called intl (it will be available in PHP5.3). Meanwhile all who rely on the setlocale() and friends should be aware about the limitations of them as covered in this post on the onPHP5.com blog: <a rel="nofollow" target="_blank">http://www.onphp5.com/article/22</a></span>
</code></div>
  </div>
 </div>
  <div class="note" id="104441">  
  <a class="name">
  <strong class="user"><em>flavioacvalverde at gmail dot com</em></strong></a><div class="date" title="2011-06-15 09:28"><strong>10 years ago</strong></div>
  <div class="text" id="Hcom104441">
<div class="phpcode"><code><span class="html">
For Portugal I had to use
<br>
<br><span class="default">&lt;?php setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="string">'Portuguese_Portugal.1252'</span><span class="keyword">); </span><span class="default">?&gt;
<br></span>
<br>using php with IIS on Windows server.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="99415">  
  <a class="name">
  <strong class="user"><em>leif at neland dot dk</em></strong></a><div class="date" title="2010-08-16 04:38"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom99415">
<div class="phpcode"><code><span class="html">
Regarding dash'es in locale, it appears they should be omitted entirely.<br><br>In /etc/locale.gen I have<br><br>da_DK.ISO-8859-15 ISO-8859-15<br><br>but locale -a gives <br><br>da_DK.iso885915<br><br>which is the format setlocale()&nbsp; wants.<br><br>(Debian)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="98649">  
  <a class="name">
  <strong class="user"><em>garygendron at yahoo dot com</em></strong></a><div class="date" title="2010-06-28 08:04"><strong>11 years ago</strong></div>
  <div class="text" id="Hcom98649">
<div class="phpcode"><code><span class="html">
For a php Mysql query, you could also use, for french canadian, in this example :<br><br>$query = 'SET lc_time_names = "fr_CA"';<br>$result = mysql_query($query) or die("Query failed");<br><br>$query = 'SELECT @@lc_time_names';<br>$result = mysql_query($query) or die("Query failed");<br><br>$query = 'SELECT id, created, YEAR(created) as year, MONTH(created) as month,' .<br>' CONCAT_WS(" ", MONTHNAME(created), YEAR(created)) as archive' .&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br>' FROM #__TABLE as e' .<br>' GROUP BY archive' .<br>' ORDER BY id DESC'; <br><br>Your data will be displayed in any locale setting you want. You may even $_GET[lc_time_name] from your multilanguage website.</span>
</code></div>
  </div>
 </div>
  <div class="note" id="84719">  
  <a class="name">
  <strong class="user"><em>michal dot kocarek at brainbox dot cz</em></strong></a><div class="date" title="2008-07-27 08:33"><strong>13 years ago</strong></div>
  <div class="text" id="Hcom84719">
<div class="phpcode"><code><span class="html">
Note about using UTF-8 locale charset on Windows systems:
<br>
<br>According to MSDN, Windows setlocale()'s implementation does not support UTF-8 encoding.
<br>
<br>Citation from "MSDN setlocale, _wsetlocale" page (<a rel="nofollow" target="_blank">http://msdn.microsoft.com/en-us/library/x99tb11d.aspx</a>):
<br>The set of available languages, country/region codes, and code pages includes all those supported by the Win32 NLS API except code pages that require more than two bytes per character, such as UTF-7 and UTF-8. If you provide a code page like UTF-7 or UTF-8, setlocale will fail, returning NULL.
<br>
<br>So basically, code like
<br><span class="default">&lt;?php setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="string">'Czech_Czech Republic.65001'</span><span class="keyword">); </span><span class="comment">// 65001 is UTF-8 codepage </span><span class="default">?&gt;
<br></span>does not work on Windows at all.
<br>
<br>(written in time of PHP 5.2.4)</span>
</code></div>
  </div>
 </div>
  <div class="note" id="123811">  
  <a class="name">
  <strong class="user"><em>tim dot peters at live dot com</em></strong></a><div class="date" title="2019-05-01 09:18"><strong>2 years ago</strong></div>
  <div class="text" id="Hcom123811">
<div class="phpcode"><code><span class="html">
Maybe obvious, but I would expect that setlocale constantes (LC_*) would be bitwise, but they're not.<br><br>In example, doing this:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; setlocale</span><span class="keyword">(</span><span class="default">LC_TIME </span><span class="keyword">+ </span><span class="default">LC_COLLATE</span><span class="keyword">, </span><span class="string">'nl'</span><span class="keyword">);<br><br>&nbsp; &nbsp; echo </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>would cause the following result:<br><br>LC_CTYPE=C;LC_NUMERIC=C;LC_TIME=C;LC_COLLATE=C;LC_MONETARY=C;LC_MESSAGES=nl;LC_PAPER=C;<br>LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=C;LC_IDENTIFICATION=C<br><br>Note that LC_MESSAGES has changed, instead of LC_TIME and LC_COLLATE. (Because LC_TIME + LC_COLLATE = LC_MESSAGES).<br><br>Instead you would need to specify them individually, if you don't wish to use LC_ALL:<br><br><span class="default">&lt;?php<br>&nbsp; &nbsp; setlocale</span><span class="keyword">(</span><span class="default">LC_TIME</span><span class="keyword">, </span><span class="string">'nl'</span><span class="keyword">);<br>&nbsp; &nbsp; </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_COLLATE</span><span class="keyword">, </span><span class="string">'nl'</span><span class="keyword">);<br><br>&nbsp; &nbsp; echo </span><span class="default">setlocale</span><span class="keyword">(</span><span class="default">LC_ALL</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">);<br></span><span class="default">?&gt;</span> LC_CTYPE=C;LC_NUMERIC=C;LC_TIME=nl;LC_COLLATE=nl;LC_MONETARY=C;LC_MESSAGES=C;LC_PAPER=C;<br>LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=C;LC_IDENTIFICATION=C</span>
</code></div>
  </div>
 </div>
  <div class="note" id="116796">  
  <a class="name">
  <strong class="user"><em>aaaaa976 at gmail dot com</em></strong></a><div class="date" title="2015-03-02 08:36"><strong>6 years ago</strong></div>
  <div class="text" id="Hcom116796">
<div class="phpcode"><code><span class="html">
In Windows some times setlocale don't work, it return a empty array, buts the locale is set. I found that apache start before windows "load" locales, you must restart apache to solve this.</span>
</code></div>
  </div>
 </div></div>

 
</section>    </section><!-- layout-content -->
        


  </div><!-- layout -->

  

    
 <!-- External and third party libraries. -->
 







<a id="toTop" href="javascript:;"><span id="toTopHover"></span><img width="40" height="40" alt="To Top" src="../../images/to-top%402x.png"></a>



<!-- Mirrored from www.php.net/manual/en/function.setlocale.php by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 11 Sep 2021 06:47:43 GMT -->

</body></html>